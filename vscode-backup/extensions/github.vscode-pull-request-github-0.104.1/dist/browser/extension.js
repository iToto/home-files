var eR=Object.defineProperty;var tR=(Ya,sa,ni)=>sa in Ya?eR(Ya,sa,{enumerable:!0,configurable:!0,writable:!0,value:ni}):Ya[sa]=ni;var Kt=(Ya,sa,ni)=>tR(Ya,typeof sa!="symbol"?sa+"":sa,ni);(()=>{var Ya={14523:(s,G,T)=>{"use strict";T.r(G),T.d(G,{AppInsightsCore:()=>F,BaseCore:()=>U,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>R.jS,DiagnosticLogger:()=>k.wq,ESPromise:()=>re,ESPromiseScheduler:()=>j,EventHelper:()=>pe.fs,EventLatency:()=>c,EventPersistence:()=>h,EventPropertyType:()=>f,EventsDiscardedReason:()=>Le.x,FullVersionString:()=>R.xE,InternalAppInsightsCore:()=>p._,InternalBaseCore:()=>z.F,LoggingSeverity:()=>S.b,MinChannelPriorty:()=>ee,NotificationManager:()=>ie.h,PerfEvent:()=>m.Q6,PerfManager:()=>m.NS,ProcessTelemetryContext:()=>ne.W0,TraceLevel:()=>_,Undefined:()=>J.bA,Utils:()=>R.Aq,ValueKind:()=>d,ValueSanitizer:()=>H,Version:()=>R.Rx,_ExtendedInternalMessageId:()=>b,_InternalLogMessage:()=>k.WD,_InternalMessageId:()=>S.$,__getRegisteredEvents:()=>Me.El,_logInternalMessage:()=>k.Oc,_throwInternal:()=>k.ZP,_warnToConsole:()=>k.OG,addEventHandler:()=>Me.So,addEventListeners:()=>Me.lQ,addPageHideEventListener:()=>Me.Fc,addPageShowEventListener:()=>Me.oS,addPageUnloadEventListener:()=>Me.ee,areCookiesSupported:()=>te.gi,arrForEach:()=>M.Iu,arrIndexOf:()=>M.rD,arrMap:()=>M.W$,arrReduce:()=>M.KT,attachEvent:()=>Me.Q3,cookieAvailable:()=>te.gi,createCookieMgr:()=>te.xN,createEnumStyle:()=>A.Hj,createGuid:()=>R.gj,createProcessTelemetryContext:()=>ne.i8,createTraceParent:()=>Se.wk,createUniqueNamespace:()=>fe.Z,createUnloadHandlerContainer:()=>ve.P,dateNow:()=>M.x3,deleteCookie:()=>R.Yj,detachEvent:()=>Me.Ym,disableCookies:()=>R.WD,disallowsSameSiteNone:()=>te.It,doPerf:()=>m.r2,dumpObj:()=>v.mm,eventOff:()=>Me.ML,eventOn:()=>Me.mB,extend:()=>R.X$,findW3cTraceParent:()=>Se.ef,formatTraceParent:()=>Se.L0,generateW3CId:()=>pe.cL,getCommonSchemaMetaData:()=>R.Go,getConsole:()=>v.U5,getCookie:()=>R.Ri,getCookieValue:()=>R.UM,getCrypto:()=>v.MY,getDocument:()=>v.YE,getExceptionName:()=>M.lL,getFieldValueType:()=>R.cq,getGlobal:()=>X.mS,getGlobalInst:()=>v.EH,getHistory:()=>v.JK,getIEVersion:()=>v.L0,getISOString:()=>M._u,getJSON:()=>v.hm,getLocation:()=>v.g$,getMsCrypto:()=>v.iN,getNavigator:()=>v.w3,getPerformance:()=>v.FJ,getSetValue:()=>M.c2,getTenantId:()=>R.EO,getTime:()=>R.WB,getWindow:()=>v.zk,hasDocument:()=>v.Wt,hasHistory:()=>v.tw,hasJSON:()=>v.Z,hasNavigator:()=>v.w9,hasOwnProperty:()=>M.mQ,hasWindow:()=>v.Vd,isArray:()=>M.cy,isArrayValid:()=>R.wJ,isBeaconsSupported:()=>v.Uf,isBoolean:()=>M.Lm,isChromium:()=>R.F2,isDate:()=>M.$P,isDocumentObjectAvailable:()=>R.g8,isError:()=>M.bJ,isFetchSupported:()=>v.R7,isFunction:()=>M.Tn,isIE:()=>v.lT,isLatency:()=>R.Hh,isNotTruthy:()=>M.wo,isNullOrUndefined:()=>M.hX,isNumber:()=>M.Et,isObject:()=>M.Gv,isReactNative:()=>v.lV,isSampledFlag:()=>Se.N7,isString:()=>M.Kg,isTruthy:()=>M.zz,isTypeof:()=>M.Ed,isUint8ArrayAvailable:()=>R.h3,isUndefined:()=>M.b0,isValidSpanId:()=>Se.wN,isValidTraceId:()=>Se.hX,isValidTraceParent:()=>Se.mJ,isValueAssigned:()=>R.yD,isValueKind:()=>R.m0,isWindowObjectAvailable:()=>R.P$,isXhrSupported:()=>v.xk,mergeEvtNamespace:()=>Me.Hm,newGuid:()=>pe.aq,newId:()=>Pe.Si,normalizeJsName:()=>M.cH,objCreate:()=>X.AQ,objDefineAccessors:()=>M.r,objForEachKey:()=>M.z,objFreeze:()=>M.N6,objKeys:()=>M.cG,objSeal:()=>M.js,openXhr:()=>R.H$,optimizeObject:()=>M.hW,parseTraceParent:()=>Se.ZI,perfNow:()=>pe.UU,proxyAssign:()=>M.qz,proxyFunctionAs:()=>M.RF,proxyFunctions:()=>M.o$,random32:()=>Pe.VN,randomValue:()=>Pe.Z1,removeEventHandler:()=>Me.zh,removeEventListeners:()=>Me.Wg,removePageHideEventListener:()=>Me.sq,removePageShowEventListener:()=>Me.vF,removePageUnloadEventListener:()=>Me.Ds,safeGetCookieMgr:()=>te.um,safeGetLogger:()=>k.y0,sanitizeProperty:()=>R.TC,setCookie:()=>R.TV,setEnableEnvMocks:()=>v.cU,setProcessTelemetryTimings:()=>R.u9,setValue:()=>M.KY,strContains:()=>M.Ju,strEndsWith:()=>M.Cv,strFunction:()=>J.hW,strObject:()=>J._1,strPrototype:()=>J.vR,strStartsWith:()=>M.tG,strTrim:()=>M.EH,strUndefined:()=>J.bA,throwError:()=>M.$8,toISOString:()=>M._u,useXDomainRequest:()=>v.PV});var E=T(8747),A=T(96434),M=T(12497),S=T(83897),d=(0,A.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),c=(0,A.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,A.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),h=(0,A.Hj)({Normal:1,Critical:2}),_=(0,A.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),b=(0,M.N6)((0,E.Im)((0,E.Im)({},S.$),(0,A.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),u=T(92457),k=T(99015),m=T(5204),v=T(44180),p=T(12235),C=T(52976),R=T(59091),D=function(L){(0,E.qU)(O,L);function O(){var oe=L.call(this)||this;return oe.pluginVersionStringArr=[],(0,u.A)(O,oe,function(be,ke){(!be.logger||!be.logger.queue)&&(be.logger=new k.wq({loggingLevelConsole:1})),be.initialize=function(ge,De,Ge,We){(0,m.r2)(be,function(){return"AppInsightsCore.initialize"},function(){var Nt=be.pluginVersionStringArr;if(ge){ge.endpointUrl||(ge.endpointUrl=C.S);var Ze=ge.propertyStorageOverride;Ze&&(!Ze.getProperty||!Ze.setProperty)&&(0,M.$8)("Invalid property storage override passed."),ge.channels&&(0,M.Iu)(ge.channels,function(ce){ce&&(0,M.Iu)(ce,function(Q){if(Q.identifier&&Q.version){var se=Q.identifier+"="+Q.version;Nt.push(se)}})})}be.getWParam=function(){return typeof document!="undefined"||ge.enableWParam?0:-1},De&&(0,M.Iu)(De,function(ce){if(ce&&ce.identifier&&ce.version){var Q=ce.identifier+"="+ce.version;Nt.push(Q)}}),be.pluginVersionString=Nt.join(";"),be.pluginVersionStringArr=Nt;try{ke.initialize(ge,De,Ge,We),be.pollInternalLogs("InternalLog")}catch(ce){var it=be.logger,Et=(0,v.mm)(ce);Et.indexOf("channels")!==-1&&(Et+=`
 - Channels must be provided through config.channels only!`),(0,k.ZP)(it,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Et)}},function(){return{config:ge,extensions:De,logger:Ge,notificationManager:We}})},be.track=function(ge){(0,m.r2)(be,function(){return"AppInsightsCore.track"},function(){var De=ge;if(De){De.timings=De.timings||{},De.timings.trackStart=(0,R.WB)(),(0,R.Hh)(De.latency)||(De.latency=1);var Ge=De.ext=De.ext||{};Ge.sdk=Ge.sdk||{},Ge.sdk.ver=R.xE;var We=De.baseData=De.baseData||{};We[C._0]=We[C._0]||{};var Nt=We[C._0];Nt[C.hj]=Nt[C.hj]||be.pluginVersionString||C.m5}ke.track(De)},function(){return{item:ge}},!ge.sync)}}),oe}return O.__ieDyn=1,O}(p._);const F=D;var z=T(34082),y=function(L){(0,E.qU)(O,L);function O(){var oe=L.call(this)||this;return(0,u.A)(O,oe,function(be,ke){be.initialize=function(ge,De,Ge,We){ge&&!ge.endpointUrl&&(ge.endpointUrl=C.S),be.getWParam=function(){return R.g8||ge.enableWParam?0:-1};try{ke.initialize(ge,De,Ge,We)}catch(Nt){(0,k.ZP)(be.logger,1,514,"Initialization Failed: "+(0,v.mm)(Nt)+`
 - Note: Channels must be provided through config.channels only`)}},be.track=function(ge){var De=ge;if(De){var Ge=De.ext=De.ext||{};Ge.sdk=Ge.sdk||{},Ge.sdk.ver=R.xE}ke.track(De)}}),oe}return O.__ieDyn=1,O}(z.F);const U=y;var W=M.Tn;function K(L,O,oe){return function(be){L[O]=be,oe()}}var Z=function(){function L(O){var oe=0,be=null,ke=[];(0,u.A)(L,this,function(Nt){Nt.then=function(Ze,it){return new L(function(Et,ce){ge(Ze,it,Et,ce)})},Nt.catch=function(Ze){return Nt.then(null,Ze)}});function ge(Nt,Ze,it,Et){ke.push(function(){var ce;try{oe===1?ce=W(Nt)?Nt(be):be:ce=W(Ze)?Ze(be):be,ce instanceof L?ce.then(it,Et):oe===2&&!W(Ze)?Et(ce):it(ce)}catch(Q){Et(Q);return}}),oe!==0&&De()}function De(){if(ke.length>0){var Nt=ke.slice();ke=[],setTimeout(function(){for(var Ze=0,it=Nt.length;Ze<it;++Ze)try{Nt[Ze]()}catch{}},0)}}function Ge(Nt){oe===0&&(be=Nt,oe=1,De())}function We(Nt){oe===0&&(be=Nt,oe=2,De())}(function(){if(!W(O))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{O(Ge,We)}catch(Ze){We(Ze)}})()}return L.resolve=function(O){return O instanceof L?O:O&&W(O.then)?new L(function(oe,be){try{O.then(oe,be)}catch(ke){be(ke)}}):new L(function(oe){oe(O)})},L.reject=function(O){return new L(function(oe,be){be(O)})},L.all=function(O){if(!(!O||!O.length))return new L(function(oe,be){try{for(var ke=[],ge=0,De=0;De<O.length;De++){var Ge=O[De];Ge&&W(Ge.then)?(ge++,Ge.then(K(ke,De,function(){--ge===0&&oe(ke)}),be)):ke[De]=Ge}ge===0&&setTimeout(function(){oe(ke)},0)}catch(We){be(We)}})},L.race=function(O){return new L(function(oe,be){if(!(!O||!O.length))try{for(var ke=function(De){var Ge=O[De];Ge&&W(Ge.then)?Ge.then(oe,be):setTimeout(function(){oe(Ge)},0)},ge=0;ge<O.length;ge++)ke(ge)}catch(De){be(De)}})},L}();const re=Z;var X=T(75148),P=6e5,$=0,N=[],o=[],w=[];function I(){return new Date().getTime()}var q=function(){function L(O,oe){var be=0,ke=(O||"<unnamed>")+"."+$;$++,(0,u.A)(L,this,function(Ge){var We=null,Nt=0;Ge.scheduleEvent=function(it,Et,ce){var Q=ke+"."+Nt;Nt++,Et&&(Q+="-("+Et+")");var se=Q+"{"+be+"}";be++;var ye={evt:null,tm:I(),id:se,isRunning:!1,isAborted:!1};return We?ye.evt=ct(ye,We):ye.evt=at(ye),We=ye,We.evt._schId=se,ye.evt;function Fe(pt){for(var St=I(),Rt=St-P,pi=pt.length,kt=0;kt<pi;){var Ut=pt[kt];if(Ut&&Ut.tm<Rt){var Ki=null;Ut.abort?(Ki="Aborting ["+Ut.id+"] due to Excessive runtime ("+(St-Ut.tm)+" ms)",Ut.abort(Ki)):Ki="Removing ["+Ut.id+"] due to Excessive runtime ("+(St-Ut.tm)+" ms)",De(Ki),pt.splice(kt,1),pi--}else kt++}}function Ye(pt,St){var Rt=!1,pi=Ze(N,pt);if(pi||(pi=Ze(w,pt),Rt=!0),pi){pi.to&&(clearTimeout(pi.to),pi.to=null);var kt=I()-pi.tm;St?Rt?De("Timed out event ["+pt+"] finally complete -- "+kt+" ms"):ge("Promise ["+pt+"] Complete -- "+kt+" ms"):(w.push(pi),De("Event ["+pt+"] Timed out and removed -- "+kt+" ms"))}else ge("Failed to remove ["+pt+"] from running queue");We&&We.id===pt&&(We=null),Fe(N),Fe(o),Fe(w)}function Ue(pt,St){return function(Rt){return Ye(pt,!0),St&&St(Rt),Rt}}function et(pt,St,Rt,pi){St.then(function(kt){return kt instanceof re?(ge("Event ["+pt+"] returned a promise -- waiting"),et(pt,kt,Rt,pi),kt):Ue(pt,Rt)(kt)},Ue(pt,pi))}function It(pt,St){var Rt=pt.id;return new re(function(pi,kt){ge("Event ["+Rt+"] Starting -- waited for "+(pt.wTm||"--")+" ms"),pt.isRunning=!0,pt.abort=function(Ki){pt.abort=null,pt.isAborted=!0,Ye(Rt,!1),kt(new Error(Ki))};var Ut=St(Rt);Ut instanceof re?(ce&&(pt.to=setTimeout(function(){Ye(Rt,!1),kt(new Error("Timed out after ["+ce+"] ms"))},ce)),et(Rt,Ut,function(Ki){ge("Event ["+Rt+"] Resolving after "+(I()-pt.tm)+" ms"),pi(Ki)},kt)):(ge("Promise ["+Rt+"] Auto completed as the start action did not return a promise"),pi())})}function at(pt){var St=I();return pt.wTm=St-pt.tm,pt.tm=St,pt.isAborted?re.reject(new Error("["+Q+"] was aborted")):(N.push(pt),It(pt,it))}function ct(pt,St){var Rt=new re(function(pi,kt){var Ut=I()-St.tm,Ki=St.id;ge("["+Q+"] is waiting for ["+Ki+":"+Ut+" ms] to complete before starting -- ["+o.length+"] waiting and ["+N.length+"] running"),pt.abort=function(Pt){pt.abort=null,Ze(o,Q),pt.isAborted=!0,kt(new Error(Pt))},St.evt.then(function(Pt){Ze(o,Q),at(pt).then(pi,kt)},function(Pt){Ze(o,Q),at(pt).then(pi,kt)})});return o.push(pt),Rt}};function Ze(it,Et){for(var ce=0;ce<it.length;ce++)if(it[ce].id===Et)return it.splice(ce,1)[0];return null}});function ge(Ge){var We=(0,X.mS)();We&&We.QUnit&&console&&console.log("ESPromiseScheduler["+ke+"] "+Ge)}function De(Ge){(0,k.OG)(oe,"ESPromiseScheduler["+ke+"] "+Ge)}}return L.incomplete=function(){return N},L.waitingToStart=function(){return o},L}();const j=q;var H=function(){function L(O){var oe=this,be={},ke=[],ge=[];O&&ge.push(O);function De(Ze,it){var Et,ce=be[Ze];if(ce&&(Et=ce[it]),!Et&&Et!==null){if((0,M.Kg)(Ze)&&(0,M.Kg)(it))if(ge.length>0){for(var Q=0;Q<ge.length;Q++)if(ge[Q].handleField(Ze,it)){Et={canHandle:!0,fieldHandler:ge[Q]};break}}else ke.length===0&&(Et={canHandle:!0});if(!Et&&Et!==null){Et=null;for(var Q=0;Q<ke.length;Q++)if(ke[Q].handleField(Ze,it)){Et={canHandle:!0,handler:ke[Q],fieldHandler:null};break}}ce||(ce=be[Ze]={}),ce[it]=Et}return Et}oe.addSanitizer=function(Ze){Ze&&(ke.push(Ze),be={})},oe.addFieldSanitizer=function(Ze){Ze&&(ge.push(Ze),be={})},oe.handleField=function(Ze,it){var Et=De(Ze,it);return Et?Et.canHandle:!1},oe.value=function(Ze,it,Et,ce){var Q=De(Ze,it);if(Q&&Q.canHandle){if(!Q||!Q.canHandle)return null;if(Q.handler)return Q.handler.value(Ze,it,Et,ce);if(!(0,M.Kg)(it)||(0,M.hX)(Et)||Et===C.m5)return null;var se=null,ye=(0,R.cq)(Et);if((ye&8192)===8192){var Fe=ye&-8193;if(se=Et,!(0,R.yD)(se.value)||Fe!==1&&Fe!==2&&Fe!==3&&(Fe&4096)!==4096)return null}else ye===1||ye===2||ye===3||(ye&4096)===4096?se=We(Ze,it,Et):ye===4&&(se=We(Ze,it,ce?JSON.stringify(Et):Et));if(se)return Ge(Q,Ze,it,ye,se,ce)}return null},oe.property=function(Ze,it,Et,ce){var Q=De(Ze,it);if(!Q||!Q.canHandle||!(0,M.Kg)(it)||(0,M.hX)(Et)||!(0,R.yD)(Et.value))return null;var se=(0,R.cq)(Et.value);return se===0?null:Ge(Q,Ze,it,se,Et,ce)};function Ge(Ze,it,Et,ce,Q,se){if(Ze.handler)return Ze.handler.property(it,Et,Q,se);if(!(0,M.hX)(Q.kind)){if((ce&4096)===4096||!(0,R.m0)(Q.kind))return null;Q.value=Q.value.toString()}return Nt(Ze.fieldHandler,it,Et,ce,Q)}function We(Ze,it,Et){return(0,R.yD)(Et)?{value:Et}:null}function Nt(Ze,it,Et,ce,Q){if(Q&&Ze){var se=Ze.getSanitizer(it,Et,ce,Q.kind,Q.propertyType);if(se)if(ce===4){var ye={},Fe=Q.value;(0,M.z)(Fe,function(Ue,et){var It=it+"."+Et;if((0,R.yD)(et)){var at=We(It,Ue,et);at=Nt(Ze,It,Ue,(0,R.cq)(et),at),at&&(ye[Ue]=at.value)}}),Q.value=ye}else{var Ye={path:it,name:Et,type:ce,prop:Q,sanitizer:oe};Q=se.call(oe,Ye)}}return Q}}return L.getFieldType=R.cq,L}(),ee=100,ie=T(54660),B=T(56489),ne=T(8997),Le=T(31590),pe=T(32578),Me=T(18413),Pe=T(57679),J=T(47672),te=T(91698),fe=T(64252),ve=T(49388),Se=T(68560)},52976:(s,G,T)=>{"use strict";T.d(G,{S:()=>A,_0:()=>c,hj:()=>d,m5:()=>E});var E="",A="https://browser.events.data.microsoft.com/OneCollector/1.0/",M="pluginVersionString",S=M+"Arr",d="version",c="properties"},59091:(s,G,T)=>{"use strict";T.d(G,{Aq:()=>ne,EO:()=>y,F2:()=>pe,Go:()=>Z,H$:()=>Me,Hh:()=>W,P$:()=>F,Ri:()=>$,Rx:()=>u,TC:()=>K,TV:()=>X,UM:()=>N,WB:()=>I,WD:()=>re,X$:()=>w,Yj:()=>P,cq:()=>B,g8:()=>D,gj:()=>o,h3:()=>U,jS:()=>Le,m0:()=>q,u9:()=>ie,wJ:()=>ee,xE:()=>k,yD:()=>z});var E=T(44180),A=T(12497),M=T(91698),S=T(32578),d=T(47672),c=T(18413),f=T(57679),h=T(75148),_=T(52976),b,u="3.2.9",k="1DS-Web-JS-"+u,m="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",v="withCredentials",p="timeout",C=(b={},b[0]=0,b[2]=6,b[1]=1,b[3]=7,b[4098]=6,b[4097]=1,b[4099]=7,b),R=null,D=!!(0,E.YE)(),F=!!(0,E.zk)();function z(Pe){return!(Pe===_.m5||(0,A.hX)(Pe))}function y(Pe){if(Pe){var J=Pe.indexOf("-");if(J>-1)return Pe.substring(0,J)}return _.m5}function U(){return R===null&&(R=!(0,A.b0)(Uint8Array)&&!H()&&!(0,E.lV)()),R}function W(Pe){return!!(Pe&&(0,A.Et)(Pe)&&Pe>=1&&Pe<=4)}function K(Pe,J,te){if(!J&&!z(J)||typeof Pe!="string")return null;var fe=typeof J;if(fe==="string"||fe==="number"||fe==="boolean"||(0,A.cy)(J))J={value:J};else if(fe==="object"&&!d.J$.call(J,"value"))J={value:te?JSON.stringify(J):J};else if((0,A.hX)(J.value)||J.value===_.m5||!(0,A.Kg)(J.value)&&!(0,A.Et)(J.value)&&!(0,A.Lm)(J.value)&&!(0,A.cy)(J.value))return null;if((0,A.cy)(J.value)&&!ee(J.value))return null;if(!(0,A.hX)(J.kind)){if((0,A.cy)(J.value)||!q(J.kind))return null;J.value=J.value.toString()}return J}function Z(Pe,J,te){var fe=-1;if(!(0,A.b0)(Pe))if(J>0&&(J===32?fe=8192:J<=13&&(fe=J<<5)),j(te))fe===-1&&(fe=0),fe|=te;else{var ve=C[B(Pe)]||-1;fe!==-1&&ve!==-1?fe|=ve:ve===6&&(fe=ve)}return fe}function re(){(0,M.um)(null).setEnabled(!1)}function X(Pe,J,te){(0,M.gi)(null)&&(0,M.um)(null).set(Pe,J,te*86400,null,"/")}function P(Pe){(0,M.gi)(null)&&(0,M.um)(null).del(Pe)}function $(Pe){return(0,M.gi)(null)?N((0,M.um)(null),Pe):_.m5}function N(Pe,J,te){te===void 0&&(te=!0);var fe;return Pe&&(fe=Pe.get(J),te&&fe&&decodeURIComponent&&(fe=decodeURIComponent(fe))),fe||_.m5}function o(Pe){Pe===void 0&&(Pe="D");var J=(0,S.aq)();return Pe==="B"?J="{"+J+"}":Pe==="P"?J="("+J+")":Pe==="N"&&(J=J.replace(/-/g,_.m5)),J}function w(Pe,J,te,fe,ve){var Se={},L=!1,O=0,oe=arguments.length,be=Object[d.vR],ke=arguments;for(be.toString.call(ke[0])==="[object Boolean]"&&(L=ke[0],O++);O<oe;O++){var Pe=ke[O];(0,A.z)(Pe,function(De,Ge){L&&Ge&&(0,A.Gv)(Ge)?(0,A.cy)(Ge)?(Se[De]=Se[De]||[],(0,A.Iu)(Ge,function(We,Nt){We&&(0,A.Gv)(We)?Se[De][Nt]=w(!0,Se[De][Nt],We):Se[De][Nt]=We})):Se[De]=w(!0,Se[De],Ge):Se[De]=Ge})}return Se}var I=S.UU;function q(Pe){return Pe===0||Pe>0&&Pe<=13||Pe===32}function j(Pe){return Pe>=0&&Pe<=9}function H(){var Pe=(0,E.w3)();if(!(0,A.b0)(Pe)&&Pe.userAgent){var J=Pe.userAgent.toLowerCase();if((J.indexOf("safari")>=0||J.indexOf("firefox")>=0)&&J.indexOf("chrome")<0)return!0}return!1}function ee(Pe){return Pe.length>0}function ie(Pe,J){var te=Pe;te.timings=te.timings||{},te.timings.processTelemetryStart=te.timings.processTelemetryStart||{},te.timings.processTelemetryStart[J]=I()}function B(Pe){var J=0;if(Pe!=null){var te=typeof Pe;te==="string"?J=1:te==="number"?J=2:te==="boolean"?J=3:te===d._1&&(J=4,(0,A.cy)(Pe)?(J=4096,Pe.length>0&&(J|=B(Pe[0]))):d.J$.call(Pe,"value")&&(J=8192|B(Pe.value)))}return J}var ne={Version:u,FullVersionString:k,strUndefined:d.bA,strObject:d._1,Undefined:d.bA,arrForEach:A.Iu,arrIndexOf:A.rD,arrMap:A.W$,arrReduce:A.KT,objKeys:A.cG,toISOString:A._u,isReactNative:E.lV,isString:A.Kg,isNumber:A.Et,isBoolean:A.Lm,isFunction:A.Tn,isArray:A.cy,isObject:A.Gv,strTrim:A.EH,isDocumentObjectAvailable:D,isWindowObjectAvailable:F,isValueAssigned:z,getTenantId:y,isBeaconsSupported:E.Uf,isUint8ArrayAvailable:U,isLatency:W,sanitizeProperty:K,getISOString:A._u,useXDomainRequest:E.PV,getCommonSchemaMetaData:Z,cookieAvailable:M.gi,disallowsSameSiteNone:M.It,setCookie:X,deleteCookie:P,getCookie:$,createGuid:o,extend:w,getTime:I,isValueKind:q,isArrayValid:ee,objDefineAccessors:A.r,addPageUnloadEventListener:c.ee,setProcessTelemetryTimings:ie,addEventHandler:c.So,getFieldValueType:B,strEndsWith:A.Cv,objForEachKey:A.z},Le={_canUseCookies:void 0,isTypeof:A.Ed,isUndefined:A.b0,isNullOrUndefined:A.hX,hasOwnProperty:A.mQ,isFunction:A.Tn,isObject:A.Gv,isDate:A.$P,isArray:A.cy,isError:A.bJ,isString:A.Kg,isNumber:A.Et,isBoolean:A.Lm,toISOString:A._u,arrForEach:A.Iu,arrIndexOf:A.rD,arrMap:A.W$,arrReduce:A.KT,strTrim:A.EH,objCreate:h.AQ,objKeys:A.cG,objDefineAccessors:A.r,addEventHandler:c.So,dateNow:A.x3,isIE:E.lT,disableCookies:re,newGuid:S.aq,perfNow:S.UU,newId:f.Si,randomValue:f.Z1,random32:f.VN,mwcRandomSeed:f.yc,mwcRandom32:f.k5,generateW3CId:S.cL};function pe(){return!!(0,E.EH)("chrome")}function Me(Pe,J,te,fe,ve,Se){fe===void 0&&(fe=!1),ve===void 0&&(ve=!1);function L(oe,be,ke){try{oe[be]=ke}catch{}}var O=new XMLHttpRequest;return fe&&L(O,m,fe),te&&L(O,v,te),O.open(Pe,J,!ve),te&&L(O,v,te),!ve&&Se&&L(O,p,Se),O}},28643:(s,G,T)=>{"use strict";T.r(G),T.d(G,{BE_PROFILE:()=>v,NRT_PROFILE:()=>m,PostChannel:()=>jt,RT_PROFILE:()=>k});var E=T(8747),A=T(92457),M=T(5204),S=T(18413),d=T(64252),c=T(59091),f=T(12497),h=T(44180),_=T(31590),b=T(99015),u=T(56489),k="REAL_TIME",m="NEAR_REAL_TIME",v="BEST_EFFORT",p="",C="POST",R="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",D="drop",F="send",z="requeue",y="rspFail",U="oth",W="no-cache, no-store",K="application/x-json-stream",Z="cache-control",re="content-type",X="kill-tokens",P="kill-duration",$="kill-duration-seconds",N="time-delta-millis",o="client-version",w="client-id",I="time-delta-to-apply-millis",q="upload-time",j="apikey",H="AuthMsaDeviceTicket",ee="AuthXToken",ie="sdk-version",B="NoResponseBody",ne="msfpc",Le="trace",pe="user";function Me(qt){var ut=(qt.ext||{}).intweb;return ut&&(0,c.yD)(ut[ne])?ut[ne]:null}function Pe(qt){for(var ut=null,Tt=0;ut===null&&Tt<qt.length;Tt++)ut=Me(qt[Tt]);return ut}var J=function(){function qt(ut,Tt){var Mt=Tt?[].concat(Tt):[],vi=this,li=Pe(Mt);vi.iKey=function(){return ut},vi.Msfpc=function(){return li||p},vi.count=function(){return Mt.length},vi.events=function(){return Mt},vi.addEvent=function($t){return $t?(Mt.push($t),li||(li=Me($t)),!0):!1},vi.split=function($t,Ti){var mi;if($t<Mt.length){var Mi=Mt.length-$t;(0,f.hX)(Ti)||(Mi=Ti<Mi?Ti:Mi),mi=Mt.splice($t,Mi),li=Pe(Mt)}return new qt(ut,mi)}}return qt.create=function(ut,Tt){return new qt(ut,Tt)},qt}(),te=function(){function qt(){var ut=!0,Tt=!0,Mt=!0,vi="use-collector-delta",li=!1;(0,A.A)(qt,this,function($t){$t.allowRequestSending=function(){return ut},$t.firstRequestSent=function(){Mt&&(Mt=!1,li||(ut=!1))},$t.shouldAddClockSkewHeaders=function(){return Tt},$t.getClockSkewHeaderValue=function(){return vi},$t.setClockSkew=function(Ti){li||(Ti?(vi=Ti,Tt=!0,li=!0):Tt=!1,ut=!0)}})}return qt.__ieDyn=1,qt}();const fe=te;var ve=1e3,Se=function(){function qt(){var ut={};function Tt(Mt){var vi=[];return Mt&&(0,f.Iu)(Mt,function(li){vi.push((0,f.EH)(li))}),vi}(0,A.A)(qt,this,function(Mt){Mt.setKillSwitchTenants=function(vi,li){if(vi&&li)try{var $t=Tt(vi.split(","));if(li==="this-request-only")return $t;for(var Ti=parseInt(li,10)*ve,mi=0;mi<$t.length;++mi)ut[$t[mi]]=(0,f.x3)()+Ti}catch{return[]}return[]},Mt.isTenantKilled=function(vi){var li=ut,$t=(0,f.EH)(vi);return li[$t]!==void 0&&li[$t]>(0,f.x3)()?!0:(delete li[$t],!1)}})}return qt.__ieDyn=1,qt}();const L=Se;var O=T(47672),oe=.8,be=1.2,ke=3e3,ge=6e5;function De(qt){return!(qt>=300&&qt<500&&qt!=408&&qt!=429||qt==501||qt==505)}function Ge(qt){var ut=0,Tt=ke*oe,Mt=ke*be,vi=Math.floor(Math.random()*(Mt-Tt))+Tt;return ut=Math.pow(2,qt)*vi,Math.min(ut,ge)}var We=20,Nt=3984588,Ze=65e3,it=2e6,Et=Math.min(it,Ze),ce="metadata",Q="f",se=/\./,ye=function(){function qt(ut,Tt,Mt,vi){var li="data",$t="baseData",Ti="ext",mi=!!vi,Mi=!0,Ii=Tt,Qi={};(0,A.A)(qt,this,function(Di){Di.createPayload=function(Yt,ui,ai,zi,gi,xi){return{apiKeys:[],payloadBlob:p,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Yt,isTeardown:ui,isSync:ai,isBeacon:zi,sendType:xi,sendReason:gi}},Di.appendPayload=function(Yt,ui,ai){var zi=Yt&&ui&&!Yt.overflow;return zi&&(0,M.r2)(ut,function(){return"Serializer:appendPayload"},function(){for(var gi=ui.events(),xi=Yt.payloadBlob,$i=Yt.numEvents,sr=!1,Gi=[],gr=[],Sr=Yt.isBeacon,nr=Sr?Ze:Nt,Rr=Sr?Et:it,br=0,fr=0;br<gi.length;){var ki=gi[br];if(ki){if($i>=ai){Yt.overflow=ui.split(br);break}var bi=Di.getEventBlob(ki);if(bi&&bi.length<=Rr){var Cr=bi.length,Tn=xi.length;if(Tn+Cr>nr){Yt.overflow=ui.split(br);break}xi&&(xi+=`
`),xi+=bi,fr++,fr>We&&(xi.substr(0,1),fr=0),sr=!0,$i++}else bi?Gi.push(ki):gr.push(ki),gi.splice(br,1),br--}br++}if(Gi&&Gi.length>0&&Yt.sizeExceed.push(J.create(ui.iKey(),Gi)),gr&&gr.length>0&&Yt.failedEvts.push(J.create(ui.iKey(),gr)),sr){Yt.batches.push(ui),Yt.payloadBlob=xi,Yt.numEvents=$i;var Nr=ui.iKey();(0,f.rD)(Yt.apiKeys,Nr)===-1&&Yt.apiKeys.push(Nr)}},function(){return{payload:Yt,theBatch:{iKey:ui.iKey(),evts:ui.events()},max:ai}}),zi},Di.getEventBlob=function(Yt){try{return(0,M.r2)(ut,function(){return"Serializer.getEventBlob"},function(){var ui={};ui.name=Yt.name,ui.time=Yt.time,ui.ver=Yt.ver,ui.iKey="o:"+(0,c.EO)(Yt.iKey);var ai={},zi=Yt[Ti];zi&&(ui[Ti]=ai,(0,f.z)(zi,function($i,sr){var Gi=ai[$i]={};Bi(sr,Gi,"ext."+$i,!0,null,null,!0)}));var gi=ui[li]={};gi.baseType=Yt.baseType;var xi=gi[$t]={};return Bi(Yt.baseData,xi,$t,!1,[$t],function($i,sr,Gi){Fe(ai,$i,sr,Gi)},Mi),Bi(Yt.data,gi,li,!1,[],function($i,sr,Gi){Fe(ai,$i,sr,Gi)},Mi),JSON.stringify(ui)},function(){return{item:Yt}})}catch{return null}};function Ci(Yt,ui){var ai=Qi[Yt];return ai===void 0&&(Yt.length>=7&&(ai=(0,f.tG)(Yt,"ext.metadata")||(0,f.tG)(Yt,"ext.web")),Qi[Yt]=ai),ai}function Bi(Yt,ui,ai,zi,gi,xi,$i){(0,f.z)(Yt,function(sr,Gi){var gr=null;if(Gi||(0,c.yD)(Gi)){var Sr=ai,nr=sr,Rr=gi,br=ui;if(mi&&!zi&&se.test(sr)){var fr=sr.split("."),ki=fr.length;if(ki>1){Rr&&(Rr=Rr.slice());for(var bi=0;bi<ki-1;bi++){var Cr=fr[bi];br=br[Cr]=br[Cr]||{},Sr+="."+Cr,Rr&&Rr.push(Cr)}nr=fr[ki-1]}}var Tn=zi&&Ci(Sr,nr);if(!Tn&&Ii&&Ii.handleField(Sr,nr)?gr=Ii.value(Sr,nr,Gi,Mt):gr=(0,c.TC)(nr,Gi,Mt),gr){var Nr=gr.value;if(br[nr]=Nr,xi&&xi(Rr,nr,gr),$i&&typeof Nr=="object"&&!(0,f.cy)(Nr)){var vn=Rr;vn&&(vn=vn.slice(),vn.push(nr)),Bi(Gi,Nr,Sr+"."+nr,zi,vn,xi,$i)}}}})}})}return qt.__ieDyn=1,qt}();function Fe(qt,ut,Tt,Mt){if(Mt&&qt){var vi=(0,c.Go)(Mt.value,Mt.kind,Mt.propertyType);if(vi>-1){var li=qt[ce];li||(li=qt[ce]={f:{}});var $t=li[Q];if($t||($t=li[Q]={}),ut)for(var Ti=0;Ti<ut.length;Ti++){var mi=ut[Ti];$t[mi]||($t[mi]={f:{}});var Mi=$t[mi][Q];Mi||(Mi=$t[mi][Q]={}),$t=Mi}$t=$t[Tt]={},(0,f.cy)(Mt.value)?$t.a={t:vi}:$t.t=vi}}}var Ye,Ue="sendAttempt",et="&"+B+"=true",It=(Ye={},Ye[1]=z,Ye[100]=z,Ye[200]="sent",Ye[8004]=D,Ye[8003]=D,Ye),at={},ct={};function pt(qt,ut,Tt){at[qt]=ut,Tt!==!1&&(ct[ut]=qt)}pt(H,H,!1),pt(o,o),pt(w,"Client-Id"),pt(j,j),pt(I,I),pt(q,q),pt(ee,ee);function St(qt){try{return qt.responseText}catch{}return p}function Rt(qt,ut){var Tt=!1;if(qt&&ut){var Mt=(0,f.cG)(qt);if(Mt&&Mt.length>0)for(var vi=ut.toLowerCase(),li=0;li<Mt.length;li++){var $t=Mt[li];if($t&&(0,f.mQ)(ut,$t)&&$t.toLowerCase()===vi){Tt=!0;break}}}return Tt}function pi(qt,ut,Tt,Mt){ut&&Tt&&Tt.length>0&&(Mt&&at[ut]?(qt.hdrs[at[ut]]=Tt,qt.useHdrs=!0):qt.url+="&"+ut+"="+Tt)}function kt(qt,ut){return ut&&((0,f.Et)(ut)?qt=[ut].concat(qt):(0,f.cy)(ut)&&(qt=ut.concat(qt))),qt}var Ut=function(){function qt(ut,Tt,Mt,vi,li){this._responseHandlers=[];var $t="?cors=true&"+re.toLowerCase()+"="+K,Ti=new L,mi=!1,Mi=new fe,Ii=!1,Qi=0,Di,Ci,Bi,Yt,ui=!0,ai=[],zi={},gi=[],xi=null,$i=!1,sr,Gi=!1,gr=!1,Sr,nr,Rr,br,fr;(0,A.A)(qt,this,function(ki){var bi=!0;ki.initialize=function($e,_t,yt,Ct,Ft){var wi;Ft||(Ft={}),$t=$e+$t,gr=(0,f.b0)(Ft.avoidOptions)?!0:!Ft.avoidOptions,Yt=_t,sr=_t.getCookieMgr(),$i=!Yt.config.disableEventTimings;var hi=!!Yt.config.enableCompoundKey;Di=yt,Ci=Di.diagLog();var je=Ft.valueSanitizer,ht=Ft.stringifyObjects;(0,f.b0)(Ft.enableCompoundKey)||(hi=!!Ft.enableCompoundKey),Sr=Ft.xhrTimeout,nr=!!Ft.disableXhrSync,Rr=!!Ft.disableFetchKeepAlive,fr=Ft.addNoResponse!==!1,Ii=!(0,h.lV)(),xi=new ye(Yt,je,ht,hi),(0,f.hX)(Ft.useSendBeacon)||(Ii=!!Ft.useSendBeacon);var rt=Ct,Bt=Ft.alwaysUseXhrOverride?Ct:null,ei=Ft.alwaysUseXhrOverride?Ct:null,Gt=[3,2];if(!Ct){ui=!1;var zt=(0,h.g$)();zt&&zt.protocol&&zt.protocol.toLowerCase()==="file:"&&(bi=!1);var de=[];(0,h.lV)()?(de=[2,1],Gt=[2,1,3]):de=[1,2,3],de=kt(de,Ft.transports),Ct=Cr(de,!1),Ct||(0,b.OG)(Ci,"No available transport to send events"),rt=Cr(de,!0)}Bt||(Gt=kt(Gt,Ft.unloadTransports),Bt=Cr(Gt,!0)),br=!ui&&(Ii&&(0,h.Uf)()||!Rr&&(0,h.R7)(!0)),Bi=(wi={},wi[0]=Ct,wi[1]=rt||Cr([1,2,3],!0),wi[2]=Bt||rt||Cr([1],!0),wi[3]=ei||Cr([2,3],!0)||rt||Cr([1],!0),wi)};function Cr($e,_t){for(var yt=0,Ct=null,Ft=0;Ct==null&&Ft<$e.length;)yt=$e[Ft],yt===1?(0,h.PV)()?Ct=Tn:(0,h.xk)()&&(Ct=vn):yt===2&&(0,h.R7)(_t)&&(!_t||_t&&!Rr)?Ct=Nr:Ii&&yt===3&&(0,h.Uf)()&&(Ct=Cn),Ft++;return Ct?{_transport:yt,_isSync:_t,sendPOST:Ct}:null}ki._getDbgPlgTargets=function(){return[Bi[0],Ti,xi,Bi]};function Tn($e,_t,yt){var Ct=new XDomainRequest;Ct.open(C,$e.urlString),$e.timeout&&(Ct.timeout=$e.timeout),Ct.onload=function(){var Ft=St(Ct);Lr(_t,200,{},Ft),Yi(Ft)},Ct.onerror=function(){Lr(_t,400,{})},Ct.ontimeout=function(){Lr(_t,500,{})},Ct.onprogress=function(){},yt?Ct.send($e.data):li.set(function(){Ct.send($e.data)},0)}function Nr($e,_t,yt){var Ct,Ft=$e.urlString,wi=!1,hi=!1,je=(Ct={body:$e.data,method:C},Ct[R]=!0,Ct);yt&&(je.keepalive=!0,$e._sendReason===2&&(wi=!0,fr&&(Ft+=et))),bi&&(je.credentials="include"),$e.headers&&(0,f.cG)($e.headers).length>0&&(je.headers=$e.headers),fetch(Ft,je).then(function(ht){var rt={},Bt=p,ei=ht.headers;ei&&ei.forEach(function(Gt,zt){rt[zt]=Gt}),ht.body&&ht.text().then(function(Gt){Bt=Gt}),hi||(hi=!0,Lr(_t,ht.status,rt,Bt),Yi(Bt))}).catch(function(ht){hi||(hi=!0,Lr(_t,0,{}))}),wi&&!hi&&(hi=!0,Lr(_t,200,{})),!hi&&$e.timeout>0&&li.set(function(){hi||(hi=!0,Lr(_t,500,{}))},$e.timeout)}function vn($e,_t,yt){var Ct=$e.urlString;function Ft(ht,rt,Bt){if(!ht[Bt]&&rt&&rt.getResponseHeader){var ei=rt.getResponseHeader(Bt);ei&&(ht[Bt]=(0,f.EH)(ei))}return ht}function wi(ht){var rt={};return ht.getAllResponseHeaders?rt=ka(ht.getAllResponseHeaders()):(rt=Ft(rt,ht,N),rt=Ft(rt,ht,P),rt=Ft(rt,ht,$)),rt}function hi(ht,rt){Lr(_t,ht.status,wi(ht),rt)}yt&&$e.disableXhrSync&&(yt=!1);var je=(0,c.H$)(C,Ct,bi,!0,yt,$e.timeout);(0,f.z)($e.headers,function(ht,rt){je.setRequestHeader(ht,rt)}),je.onload=function(){var ht=St(je);hi(je,ht),Yi(ht)},je.onerror=function(){hi(je)},je.ontimeout=function(){hi(je)},je.send($e.data)}function Lr($e,_t,yt,Ct){try{$e(_t,yt,Ct)}catch(Ft){(0,b.ZP)(Ci,2,518,(0,h.mm)(Ft))}}function Cn($e,_t,yt){var Ct=$e,Ft=200,wi=Ct._thePayload,hi=$e.urlString+(fr?et:p);try{var je=(0,h.w3)();if(!je.sendBeacon(hi,$e.data))if(wi){var ht=[];(0,f.Iu)(wi.batches,function(rt){if(ht&&rt&&rt.count()>0){for(var Bt=rt.events(),ei=0;ei<Bt.length;ei++)if(!je.sendBeacon(hi,xi.getEventBlob(Bt[ei]))){ht.push(rt.split(ei));break}}else ht.push(rt.split(0))}),ir(ht,8003,wi.sendType,!0)}else Ft=0}catch(rt){(0,b.OG)(Ci,"Failed to send telemetry using sendBeacon API. Ex:"+(0,h.mm)(rt)),Ft=0}finally{Lr(_t,Ft,{},p)}}function ln($e){return $e===2||$e===3}function tr($e){return Gi&&ln($e)&&($e=2),$e}ki.addQueryStringParameter=function($e,_t){for(var yt=0;yt<ai.length;yt++)if(ai[yt].name===$e){ai[yt].value=_t;return}ai.push({name:$e,value:_t})},ki.addHeader=function($e,_t){zi[$e]=_t},ki.canSendRequest=function(){return Dn()&&Mi.allowRequestSending()},ki.sendQueuedRequests=function($e,_t){(0,f.b0)($e)&&($e=0),Gi&&($e=tr($e),_t=2),Zr(gi,$e,0)&&gn(Ir(),0,!1,$e,_t||0)},ki.isCompletelyIdle=function(){return!mi&&Qi===0&&gi.length===0},ki.setUnloading=function($e){Gi=$e},ki.addBatch=function($e){if($e&&$e.count()>0){if(Ti.isTenantKilled($e.iKey()))return!1;gi.push($e)}return!0},ki.teardown=function(){gi.length>0&&gn(Ir(),0,!0,2,2)},ki.pause=function(){mi=!0},ki.resume=function(){mi=!1,ki.sendQueuedRequests(0,4)},ki.sendSynchronousBatch=function($e,_t,yt){$e&&$e.count()>0&&((0,f.hX)(_t)&&(_t=1),Gi&&(_t=tr(_t),yt=2),gn([$e],0,!1,_t,yt||0))};function Dn(){return!mi&&Qi<Tt}function Ir(){var $e=gi;return gi=[],$e}function Zr($e,_t,yt){var Ct=!1;return $e&&$e.length>0&&!mi&&Bi[_t]&&xi&&(Ct=_t!==0||Dn()&&(yt>0||Mi.allowRequestSending())),Ct}function Fn($e){var _t={};return $e&&(0,f.Iu)($e,function(yt,Ct){_t[Ct]={iKey:yt.iKey(),evts:yt.events()}}),_t}function gn($e,_t,yt,Ct,Ft){if(!(!$e||$e.length===0)){if(mi){ir($e,1,Ct);return}Ct=tr(Ct);try{var wi=$e,hi=Ct!==0;(0,M.r2)(Yt,function(){return"HttpManager:_sendBatches"},function(je){je&&($e=$e.slice(0));for(var ht=[],rt=null,Bt=(0,c.WB)(),ei=Bi[Ct]||(hi?Bi[1]:Bi[0]),Gt=ei&&ei._transport,zt=br&&(Gi||ln(Ct)||Gt===3||ei._isSync&&Gt===2);Zr($e,Ct,_t);){var de=$e.shift();de&&de.count()>0&&(Ti.isTenantKilled(de.iKey())?ht.push(de):(rt=rt||xi.createPayload(_t,yt,hi,zt,Ft,Ct),xi.appendPayload(rt,de,ut)?rt.overflow!==null&&($e=[rt.overflow].concat($e),rt.overflow=null,Kn(rt,Bt,(0,c.WB)(),Ft),Bt=(0,c.WB)(),rt=null):(Kn(rt,Bt,(0,c.WB)(),Ft),Bt=(0,c.WB)(),$e=[de].concat($e),rt=null)))}rt&&Kn(rt,Bt,(0,c.WB)(),Ft),$e.length>0&&(gi=$e.concat(gi)),ir(ht,8004,Ct)},function(){return{batches:Fn(wi),retryCount:_t,isTeardown:yt,isSynchronous:hi,sendReason:Ft,useSendBeacon:ln(Ct),sendType:Ct}},!hi)}catch(je){(0,b.ZP)(Ci,2,48,"Unexpected Exception sending batch: "+(0,h.mm)(je))}}}function Nn($e,_t){var yt={url:$t,hdrs:{},useHdrs:!1};_t?(yt.hdrs=(0,c.X$)(yt.hdrs,zi),yt.useHdrs=(0,f.cG)(yt.hdrs).length>0):(0,f.z)(zi,function(je,ht){ct[je]?pi(yt,ct[je],ht,!1):(yt.hdrs[je]=ht,yt.useHdrs=!0)}),pi(yt,w,"NO_AUTH",_t),pi(yt,o,c.xE,_t);var Ct=p;(0,f.Iu)($e.apiKeys,function(je){Ct.length>0&&(Ct+=","),Ct+=je}),pi(yt,j,Ct,_t),pi(yt,q,(0,f.x3)().toString(),_t);var Ft=Wr($e);if((0,c.yD)(Ft)&&(yt.url+="&ext.intweb.msfpc="+Ft),Mi.shouldAddClockSkewHeaders()&&pi(yt,I,Mi.getClockSkewHeaderValue(),_t),Yt.getWParam){var wi=Yt.getWParam();wi>=0&&(yt.url+="&w="+wi)}for(var hi=0;hi<ai.length;hi++)yt.url+="&"+ai[hi].name+"="+ai[hi].value;return yt}function bn($e,_t,yt){$e[_t]=$e[_t]||{},$e[_t][Di.identifier]=yt}function Kn($e,_t,yt,Ct){if($e&&$e.payloadBlob&&$e.payloadBlob.length>0){var Ft=!!ki.sendHook,wi=Bi[$e.sendType];!ln($e.sendType)&&$e.isBeacon&&$e.sendReason===2&&(wi=Bi[2]||Bi[3]||wi);var hi=gr;($e.isBeacon||wi._transport===3)&&(hi=!1);var je=Nn($e,hi);hi=hi||je.useHdrs;var ht=(0,c.WB)();(0,M.r2)(Yt,function(){return"HttpManager:_doPayloadSend"},function(){for(var rt=0;rt<$e.batches.length;rt++)for(var Bt=$e.batches[rt],ei=Bt.events(),Gt=0;Gt<ei.length;Gt++){var zt=ei[Gt];if($i){var de=zt.timings=zt.timings||{};bn(de,"sendEventStart",ht),bn(de,"serializationStart",_t),bn(de,"serializationCompleted",yt)}zt[Ue]>0?zt[Ue]++:zt[Ue]=1}ir($e.batches,1e3+(Ct||0),$e.sendType,!0);var me={data:$e.payloadBlob,urlString:je.url,headers:je.hdrs,_thePayload:$e,_sendReason:Ct,timeout:Sr,disableXhrSync:nr,disableFetchKeepAlive:Rr};hi&&(Rt(me.headers,Z)||(me.headers[Z]=W),Rt(me.headers,re)||(me.headers[re]=K));var we=null;wi&&(we=function(Ae){Mi.firstRequestSent();var qe=function(Je,wt){_a(Je,wt,$e,Ct)},ze=$e.isTeardown||$e.isSync;try{wi.sendPOST(Ae,qe,ze),ki.sendListener&&ki.sendListener(me,Ae,ze,$e.isBeacon)}catch(Je){(0,b.OG)(Ci,"Unexpected exception sending payload. Ex:"+(0,h.mm)(Je)),Lr(qe,0,{})}}),(0,M.r2)(Yt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(we)if($e.sendType===0&&Qi++,Ft&&!$e.isBeacon&&wi._transport!==3){var Ae={data:me.data,urlString:me.urlString,headers:(0,c.X$)({},me.headers),timeout:me.timeout,disableXhrSync:me.disableXhrSync,disableFetchKeepAlive:me.disableFetchKeepAlive},qe=!1;(0,M.r2)(Yt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{ki.sendHook(Ae,function(ze){qe=!0,!ui&&!ze._thePayload&&(ze._thePayload=ze._thePayload||me._thePayload,ze._sendReason=ze._sendReason||me._sendReason),we(ze)},$e.isSync||$e.isTeardown)}catch{qe||we(me)}})}else we(me)})},function(){return{thePayload:$e,serializationStart:_t,serializationCompleted:yt,sendReason:Ct}},$e.isSync)}$e.sizeExceed&&$e.sizeExceed.length>0&&ir($e.sizeExceed,8003,$e.sendType),$e.failedEvts&&$e.failedEvts.length>0&&ir($e.failedEvts,8002,$e.sendType)}function Oa($e,_t){$i&&(0,f.Iu)($e,function(yt){var Ct=yt.timings=yt.timings||{};bn(Ct,"sendEventCompleted",_t)})}function _a($e,_t,yt,Ct){var Ft=9e3,wi=null,hi=!1,je=!1;try{var ht=!0;if(typeof $e!==O.bA){if(_t){Mi.setClockSkew(_t[N]);var rt=_t[P]||_t["kill-duration-seconds"];(0,f.Iu)(Ti.setKillSwitchTenants(_t[X],rt),function(ei){(0,f.Iu)(yt.batches,function(Gt){if(Gt.iKey()===ei){wi=wi||[];var zt=Gt.split(0);yt.numEvents-=zt.count(),wi.push(zt)}})})}if($e==200||$e==204){Ft=200;return}(!De($e)||yt.numEvents<=0)&&(ht=!1),Ft=9e3+$e%1e3}if(ht){Ft=100;var Bt=yt.retryCnt;yt.sendType===0&&(Bt<Mt?(hi=!0,Ur(function(){yt.sendType===0&&Qi--,gn(yt.batches,Bt+1,yt.isTeardown,Gi?2:yt.sendType,5)},Gi,Ge(Bt))):(je=!0,Gi&&(Ft=8001)))}}finally{hi||(Mi.setClockSkew(),un(yt,Ft,Ct,je)),ir(wi,8004,yt.sendType)}}function un($e,_t,yt,Ct){try{Ct&&Di._backOffTransmission(),_t===200&&(!Ct&&!$e.isSync&&Di._clearBackOff(),oa($e.batches)),ir($e.batches,_t,$e.sendType,!0)}finally{$e.sendType===0&&(Qi--,yt!==5&&ki.sendQueuedRequests($e.sendType,yt))}}function oa($e){if($i){var _t=(0,c.WB)();(0,f.Iu)($e,function(yt){yt&&yt.count()>0&&Oa(yt.events(),_t)})}}function Ur($e,_t,yt){_t?$e():li.set($e,yt)}function ka($e){var _t={};if((0,f.Kg)($e)){var yt=(0,f.EH)($e).split(/[\r\n]+/);(0,f.Iu)(yt,function(Ct){if(Ct){var Ft=Ct.indexOf(": ");if(Ft!==-1){var wi=(0,f.EH)(Ct.substring(0,Ft)).toLowerCase(),hi=(0,f.EH)(Ct.substring(Ft+1));_t[wi]=hi}else _t[(0,f.EH)(Ct)]=1}})}return _t}function Wr($e){for(var _t=0;_t<$e.batches.length;_t++){var yt=$e.batches[_t].Msfpc();if(yt)return encodeURIComponent(yt)}return p}function Yi($e){var _t=ki._responseHandlers;try{for(var yt=0;yt<_t.length;yt++)try{_t[yt]($e)}catch(Ft){(0,b.ZP)(Ci,1,519,"Response handler failed: "+Ft)}if($e){var Ct=JSON.parse($e);(0,c.yD)(Ct.webResult)&&(0,c.yD)(Ct.webResult[ne])&&sr.set("MSFPC",Ct.webResult[ne],365*86400)}}catch{}}function ir($e,_t,yt,Ct){if($e&&$e.length>0&&vi){var Ft=vi[Hi(_t)];if(Ft){var wi=yt!==0;(0,M.r2)(Yt,function(){return"HttpManager:_sendBatchesNotification"},function(){Ur(function(){try{Ft.call(vi,$e,_t,wi,yt)}catch(hi){(0,b.ZP)(Ci,1,74,"send request notification failed: "+hi)}},Ct||wi,0)},function(){return{batches:Fn($e),reason:_t,isSync:wi,sendSync:Ct,sendType:yt}},!wi)}}}function Hi($e){var _t=It[$e];return(0,c.yD)(_t)||(_t=U,$e>=9e3&&$e<=9999?_t=y:$e>=8e3&&$e<=8999?_t=D:$e>=1e3&&$e<=1999&&(_t=F)),_t}})}return qt.__ieDyn=1,qt}();function Ki(qt,ut){for(var Tt=[],Mt=2;Mt<arguments.length;Mt++)Tt[Mt-2]=arguments[Mt];return setTimeout(qt,ut,Tt)}function Pt(qt){clearTimeout(qt)}function Qt(qt,ut){return{set:qt||Ki,clear:ut||Pt}}var qi=.25,vt=500,lt=20,Tr=6,Jt=2,ri=4,dr=2,Oe=1,Qe="eventsDiscarded",bt="overrideInstrumentationKey",dt="maxEventRetryAttempts",gt="maxUnloadEventRetryAttempts",oi="addUnloadCb",Dt=function(qt){(0,E.qU)(ut,qt);function ut(){var Tt=qt.call(this)||this;Tt.identifier="PostChannel",Tt.priority=1011,Tt.version="3.2.9";var Mt,vi=!1,li=[],$t=null,Ti=!1,mi=0,Mi=500,Ii=0,Qi=1e4,Di={},Ci=k,Bi=null,Yt=null,ui=0,ai=0,zi,gi,xi={},$i,sr,Gi=-1,gr,Sr=!0,nr=!1,Rr=Tr,br=Jt,fr,ki;return(0,A.A)(ut,Tt,function(bi,Cr){Dn(),bi._getDbgPlgTargets=function(){return[gi]},bi.initialize=function(je,ht,rt){(0,M.r2)(ht,function(){return"PostChannel:initialize"},function(){var Bt=ht;Cr.initialize(je,ht,rt);try{var ei=!!ht[oi];fr=(0,S.Hm)((0,d.Z)(bi.identifier),ht.evtNamespace&&ht.evtNamespace());var Gt=bi._getTelCtx();je.extensionConfig[bi.identifier]=je.extensionConfig[bi.identifier]||{},Mt=Gt.getExtCfg(bi.identifier),ki=Qt(Mt.setTimeoutOverride,Mt.clearTimeoutOverride),Sr=!Mt.disableOptimizeObj&&(0,c.F2)(),Tn(Bt),Mt.eventsLimitInMem>0&&(Qi=Mt.eventsLimitInMem),Mt.immediateEventLimit>0&&(Mi=Mt.immediateEventLimit),Mt.autoFlushEventsLimit>0&&($i=Mt.autoFlushEventsLimit),(0,f.Et)(Mt[dt])&&(Rr=Mt[dt]),(0,f.Et)(Mt[gt])&&(br=Mt[gt]),hi(),Mt.httpXHROverride&&Mt.httpXHROverride.sendPOST&&(zi=Mt.httpXHROverride),(0,c.yD)(je.anonCookieName)&&gi.addQueryStringParameter("anoncknm",je.anonCookieName),gi.sendHook=Mt.payloadPreprocessor,gi.sendListener=Mt.payloadListener;var zt=Mt.overrideEndpointUrl?Mt.overrideEndpointUrl:je.endpointUrl;bi._notificationManager=ht.getNotifyMgr(),gi.initialize(zt,bi.core,bi,zi,Mt);var de=je.disablePageUnloadEvents||[];(0,S.ee)(Nr,de,fr),(0,S.Fc)(Nr,de,fr),(0,S.oS)(vn,je.disablePageShowEvents,fr)}catch(me){throw bi.setInitialized(!1),me}},function(){return{coreConfig:je,core:ht,extensions:rt}})},bi.processTelemetry=function(je,ht){(0,c.u9)(je,bi.identifier),ht=bi._getTelCtx(ht);var rt=ht.getExtCfg(bi.identifier),Bt=!!Mt.disableTelemetry;rt&&(Bt=Bt||!!rt.disableTelemetry);var ei=je;!Bt&&!vi&&(Mt[bt]&&(ei.iKey=Mt[bt]),rt&&rt[bt]&&(ei.iKey=rt[bt]),Lr(ei,!0),nr?Fn(2,2):tr()),bi.processNext(ei,ht)},bi._doTeardown=function(je,ht){Fn(2,2),vi=!0,gi.teardown(),(0,S.Ds)(null,fr),(0,S.sq)(null,fr),(0,S.vF)(null,fr),Dn()};function Tn(je){var ht=je.getWParam;je.getWParam=function(){var rt=0;return Mt.ignoreMc1Ms0CookieProcessing&&(rt=rt|2),rt|ht()}}function Nr(je){var ht=je||(0,h.zk)().event;ht.type!=="beforeunload"&&(nr=!0,gi.setUnloading(nr)),Fn(2,2)}function vn(je){nr=!1,gi.setUnloading(nr)}function Lr(je,ht){if(je.sendAttempt||(je.sendAttempt=0),je.latency||(je.latency=1),je.ext&&je.ext[Le]&&delete je.ext[Le],je.ext&&je.ext[pe]&&je.ext[pe].id&&delete je.ext[pe].id,Sr&&(c.u9,je.ext=(0,f.hW)(je.ext),je.baseData&&(je.baseData=(0,f.hW)(je.baseData)),je.data&&(je.data=(0,f.hW)(je.data))),je.sync){if(ui||Ti)je.latency=3,je.sync=!1;else if(gi){Sr&&(je=(0,f.hW)(je)),gi.sendSynchronousBatch(J.create(je.iKey,[je]),je.sync===!0?1:je.sync,3);return}}var rt=je.latency,Bt=Ii,ei=Qi;rt===4&&(Bt=mi,ei=Mi);var Gt=!1;if(Bt<ei)Gt=!Kn(je,ht);else{var zt=1,de=lt;rt===4&&(zt=4,de=1),Gt=!0,Oa(je.iKey,je.latency,zt,de)&&(Gt=!Kn(je,ht))}Gt&&Hi(Qe,[je],_.x.QueueFull)}bi.setEventQueueLimits=function(je,ht){Qi=je>0?je:1e4,$i=ht>0?ht:0,hi();var rt=Ii>je;if(!rt&&sr>0)for(var Bt=1;!rt&&Bt<=3;Bt++){var ei=xi[Bt];ei&&ei.batches&&(0,f.Iu)(ei.batches,function(Gt){Gt&&Gt.count()>=sr&&(rt=!0)})}bn(!0,rt)},bi.pause=function(){Zr(),Ti=!0,gi.pause()},bi.resume=function(){Ti=!1,gi.resume(),tr()},bi.addResponseHandler=function(je){gi._responseHandlers.push(je)},bi._loadTransmitProfiles=function(je){ka(),(0,f.z)(je,function(ht,rt){var Bt=rt.length;if(Bt>=2){var ei=Bt>2?rt[2]:0;if(rt.splice(0,Bt-2),rt[1]<0&&(rt[0]=-1),rt[1]>0&&rt[0]>0){var Gt=rt[0]/rt[1];rt[0]=Math.ceil(Gt)*rt[1]}ei>=0&&rt[1]>=0&&ei>rt[1]&&(ei=rt[1]),rt.push(ei),Di[ht]=rt}})},bi.flush=function(je,ht,rt){if(je===void 0&&(je=!0),!Ti)if(rt=rt||1,je)$t==null?(Zr(),un(1,0,rt),$t=Ir(function(){$t=null,oa(ht,rt)},0)):li.push(ht);else{var Bt=Zr();Cn(1,1,rt),ht!=null&&ht(),Bt&&tr()}},bi.setMsaAuthTicket=function(je){gi.addHeader(H,je)},bi.hasEvents=ln,bi._setTransmitProfile=function(je){Ci!==je&&Di[je]!==void 0&&(Zr(),Ci=je,tr())};function Cn(je,ht,rt){var Bt=un(je,ht,rt);return gi.sendQueuedRequests(ht,rt),Bt}function ln(){return Ii>0}function tr(){if(Gi>=0&&un(Gi,0,gr)&&gi.sendQueuedRequests(0,gr),mi>0&&!Yt&&!Ti){var je=Di[Ci][2];je>=0&&(Yt=Ir(function(){Yt=null,Cn(4,0,1),tr()},je))}var ht=Di[Ci][1];!Bi&&!$t&&ht>=0&&!Ti&&(ln()?Bi=Ir(function(){Bi=null,Cn(ai===0?3:1,0,1),ai++,ai%=2,tr()},ht):ai=0)}bi._backOffTransmission=function(){ui<ri&&(ui++,Zr(),tr())},bi._clearBackOff=function(){ui&&(ui=0,Zr(),tr())};function Dn(){Mt=null,vi=!1,li=[],$t=null,Ti=!1,mi=0,Mi=500,Ii=0,Qi=1e4,Di={},Ci=k,Bi=null,Yt=null,ui=0,ai=0,zi=null,xi={},$i=void 0,sr=0,Gi=-1,gr=null,Sr=!0,nr=!1,Rr=Tr,br=Jt,fr=null,ki=Qt(),gi=new Ut(vt,dr,Oe,{requeue:Yi,send:_t,sent:yt,drop:Ct,rspFail:Ft,oth:wi},ki),Wr(),gn(),hi()}function Ir(je,ht){ht===0&&ui&&(ht=1);var rt=1e3;return ui&&(rt=Ge(ui-1)),ki.set(je,ht*rt)}function Zr(){return Bi!==null?(ki.clear(Bi),Bi=null,ai=0,!0):!1}function Fn(je,ht){Zr(),$t&&(ki.clear($t),$t=null),Ti||Cn(1,je,ht)}function gn(){xi[4]={batches:[],iKeyMap:{}},xi[3]={batches:[],iKeyMap:{}},xi[2]={batches:[],iKeyMap:{}},xi[1]={batches:[],iKeyMap:{}}}function Nn(je,ht,rt){var Bt=xi[ht];Bt||(ht=1,Bt=xi[ht]);var ei=Bt.iKeyMap[je];return!ei&&rt&&(ei=J.create(je),Bt.batches.push(ei),Bt.iKeyMap[je]=ei),ei}function bn(je,ht){gi.canSendRequest()&&!ui&&($i>0&&Ii>$i&&(ht=!0),ht&&$t==null&&bi.flush(je,null,20))}function Kn(je,ht){Sr&&(je=(0,f.hW)(je));var rt=je.latency,Bt=Nn(je.iKey,rt,!0);return Bt.addEvent(je)?(rt!==4?(Ii++,ht&&je.sendAttempt===0&&bn(!je.sync,sr>0&&Bt.count()>=sr)):mi++,!0):!1}function Oa(je,ht,rt,Bt){for(;rt<=ht;){var ei=Nn(je,ht,!0);if(ei&&ei.count()>0){var Gt=ei.split(0,Bt),zt=Gt.count();if(zt>0)return rt===4?mi-=zt:Ii-=zt,$e(Qe,[Gt],_.x.QueueFull),!0}rt++}return _a(),!1}function _a(){for(var je=0,ht=0,rt=function(ei){var Gt=xi[ei];Gt&&Gt.batches&&(0,f.Iu)(Gt.batches,function(zt){ei===4?je+=zt.count():ht+=zt.count()})},Bt=1;Bt<=4;Bt++)rt(Bt);Ii=ht,mi=je}function un(je,ht,rt){var Bt=!1,ei=ht===0;return!ei||gi.canSendRequest()?(0,M.r2)(bi.core,function(){return"PostChannel._queueBatches"},function(){for(var Gt=[],zt=4;zt>=je;){var de=xi[zt];de&&de.batches&&de.batches.length>0&&((0,f.Iu)(de.batches,function(me){gi.addBatch(me)?Bt=Bt||me&&me.count()>0:Gt=Gt.concat(me.events()),zt===4?mi-=me.count():Ii-=me.count()}),de.batches=[],de.iKeyMap={}),zt--}Gt.length>0&&Hi(Qe,Gt,_.x.KillSwitch),Bt&&Gi>=je&&(Gi=-1,gr=0)},function(){return{latency:je,sendType:ht,sendReason:rt}},!ei):(Gi=Gi>=0?Math.min(Gi,je):je,gr=Math.max(gr,rt)),Bt}function oa(je,ht){Cn(1,0,ht),_a(),Ur(function(){je&&je(),li.length>0?$t=Ir(function(){$t=null,oa(li.shift(),ht)},0):($t=null,tr())})}function Ur(je){gi.isCompletelyIdle()?je():$t=Ir(function(){$t=null,Ur(je)},qi)}function ka(){Zr(),Wr(),Ci=k,tr()}function Wr(){Di={},Di[k]=[2,1,0],Di[m]=[6,3,0],Di[v]=[18,9,0]}function Yi(je,ht){var rt=[],Bt=Rr;nr&&(Bt=br),(0,f.Iu)(je,function(ei){ei&&ei.count()>0&&(0,f.Iu)(ei.events(),function(Gt){Gt&&(Gt.sync&&(Gt.latency=4,Gt.sync=!1),Gt.sendAttempt<Bt?((0,c.u9)(Gt,bi.identifier),Lr(Gt,!1)):rt.push(Gt))})}),rt.length>0&&Hi(Qe,rt,_.x.NonRetryableStatus),nr&&Fn(2,2)}function ir(je,ht){var rt=bi._notificationManager||{},Bt=rt[je];if(Bt)try{Bt.apply(rt,ht)}catch(ei){(0,b.ZP)(bi.diagLog(),1,74,je+" notification failed: "+ei)}}function Hi(je,ht){for(var rt=[],Bt=2;Bt<arguments.length;Bt++)rt[Bt-2]=arguments[Bt];ht&&ht.length>0&&ir(je,[ht].concat(rt))}function $e(je,ht){for(var rt=[],Bt=2;Bt<arguments.length;Bt++)rt[Bt-2]=arguments[Bt];ht&&ht.length>0&&(0,f.Iu)(ht,function(ei){ei&&ei.count()>0&&ir(je,[ei.events()].concat(rt))})}function _t(je,ht,rt){je&&je.length>0&&ir("eventsSendRequest",[ht>=1e3&&ht<=1999?ht-1e3:0,rt!==!0])}function yt(je,ht){$e("eventsSent",je,ht),tr()}function Ct(je,ht){$e(Qe,je,ht>=8e3&&ht<=8999?ht-8e3:_.x.Unknown)}function Ft(je){$e(Qe,je,_.x.NonRetryableStatus),tr()}function wi(je,ht){$e(Qe,je,_.x.Unknown),tr()}function hi(){!Mt||!Mt.disableAutoBatchFlushLimit?sr=Math.max(vt*(dr+1),Qi/6):sr=0}(0,f.r)(bi,"_setTimeoutOverride",function(){return ki.set},function(je){ki=Qt(je,ki.clear)}),(0,f.r)(bi,"_clearTimeoutOverride",function(){return ki.clear},function(je){ki=Qt(ki.set,je)})}),Tt}return ut.__ieDyn=1,ut}(u.s);const jt=Dt},96434:(s,G,T)=>{"use strict";T.d(G,{Hj:()=>A,oP:()=>S});var E=T(12497);function A(d){var c={};return(0,E.z)(d,function(f,h){c[f]=h,c[h]=f}),(0,E.ol)(c)}function M(d){var c={};return objForEachKey(d,function(f,h){c[f]=f,c[h]=f}),deepFreeze(c)}function S(d){var c={};return(0,E.z)(d,function(f,h){c[f]=h[1],c[h[0]]=h[1]}),(0,E.ol)(c)}},31590:(s,G,T)=>{"use strict";T.d(G,{x:()=>A});var E=T(96434),A=(0,E.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,G,T)=>{"use strict";T.d(G,{$:()=>F,b:()=>D});var E=T(96434),A,M="Failed",S=M+"MonitorAjax",d="Track",c="Start",f="Stop",h="Event",_="AuthContext",b="Exception",u="Local",k="Session",m="Storage",v="Browser",p="Cannot",C="Buffer",R="InstrumentationKey",D=(0,E.Hj)({CRITICAL:1,WARNING:2}),F=(0,E.Hj)((A={},A[v+"DoesNotSupport"+u+m]=0,A[v+p+"Read"+u+m]=1,A[v+p+"Read"+k+m]=2,A[v+p+"Write"+u+m]=3,A[v+p+"Write"+k+m]=4,A[v+M+"RemovalFrom"+u+m]=5,A[v+M+"RemovalFrom"+k+m]=6,A[p+"SendEmptyTelemetry"]=7,A.ClientPerformanceMathError=8,A["ErrorParsingAI"+k+"Cookie"]=9,A.ErrorPVCalc=10,A[b+"WhileLoggingError"]=11,A[M+"AddingTelemetryTo"+C]=12,A[S+"Abort"]=13,A[S+"Dur"]=14,A[S+"Open"]=15,A[S+"RSC"]=16,A[S+"Send"]=17,A[S+"GetCorrelationHeader"]=18,A[M+"ToAddHandlerForOnBeforeUnload"]=19,A[M+"ToSendQueuedTelemetry"]=20,A[M+"ToReportDataLoss"]=21,A["Flush"+M]=22,A.MessageLimitPerPVExceeded=23,A.MissingRequiredFieldSpecification=24,A.NavigationTimingNotSupported=25,A.OnError=26,A[k+"RenewalDateIsZero"]=27,A.SenderNotInitialized=28,A[c+d+h+M]=29,A[f+d+h+M]=30,A[c+d+M]=31,A[f+d+M]=32,A.TelemetrySampledAndNotSent=33,A[d+h+M]=34,A[d+b+M]=35,A[d+"Metric"+M]=36,A[d+"PV"+M]=37,A[d+"PV"+M+"Calc"]=38,A[d+"Trace"+M]=39,A["Transmission"+M]=40,A[M+"ToSet"+m+C]=41,A[M+"ToRestore"+m+C]=42,A.InvalidBackendResponse=43,A[M+"ToFixDepricatedValues"]=44,A.InvalidDurationValue=45,A.TelemetryEnvelopeInvalid=46,A.CreateEnvelopeError=47,A[p+"SerializeObject"]=48,A[p+"SerializeObjectNonSerializable"]=49,A.CircularReferenceDetected=50,A["Clear"+_+M]=51,A[b+"Truncated"]=52,A.IllegalCharsInName=53,A.ItemNotInArray=54,A.MaxAjaxPerPVExceeded=55,A.MessageTruncated=56,A.NameTooLong=57,A.SampleRateOutOfRange=58,A["Set"+_+M]=59,A["Set"+_+M+"AccountName"]=60,A.StringValueTooLong=61,A.StartCalledMoreThanOnce=62,A.StopCalledWithoutStart=63,A["TelemetryInitializer"+M]=64,A.TrackArgumentsNotSpecified=65,A.UrlTooLong=66,A[k+m+C+"Full"]=67,A[p+"AccessCookie"]=68,A.IdTooLong=69,A.InvalidEvent=70,A[S+"SetRequestHeader"]=71,A["Send"+v+"InfoOnUserInit"]=72,A["Plugin"+b]=73,A["Notification"+b]=74,A.SnippetScriptLoadFailure=99,A["Invalid"+R]=100,A[p+"ParseAiBlobValue"]=101,A.InvalidContentBlob=102,A[d+"PageAction"+h+M]=103,A[M+"AddingCustomDefinedRequestContext"]=104,A["InMemory"+m+C+"Full"]=105,A[R+"Deprecation"]=106,A))},12235:(s,G,T)=>{"use strict";T.d(G,{_:()=>b});var E=T(8747),A=T(92457),M=T(60830),S=T(34082),d=T(99015),c=T(12497),f=T(1972),h=T(54660),_=T(5204),b=function(u){(0,E.qU)(k,u);function k(){var m=u.call(this)||this;return(0,A.A)(k,m,function(v,p){v[M.mE]=function(D,F,z,y){p[M.mE](D,F,z||new d.wq(D),y||new h.h(D))},v.track=function(D){(0,_.r2)(v[f.kI](),function(){return"AppInsightsCore:track"},function(){D===null&&(R(D),(0,c.$8)("Invalid telemetry item")),C(D),p.track(D)},function(){return{item:D}},!D.sync)};function C(D){(0,c.hX)(D[M.RS])&&(R(D),(0,c.$8)("telemetry name required"))}function R(D){var F=v[M.RF]();F&&F[f.Yp]([D],2)}}),m}return k.__ieDyn=1,k}(S.F)},34082:(s,G,T)=>{"use strict";T.d(G,{F:()=>w});var E=T(8747),A=T(92457),M=T(75148),S=T(60830),d=T(12497),c=T(1972),f=T(8997),h=T(33540),_=500,b="Channel has invalid priority - ";function u(I,q,j){q&&(0,d.cy)(q)&&q[S.oI]>0&&(q=q.sort(function(H,ee){return H[c.Vo]-ee[c.Vo]}),(0,d.Iu)(q,function(H){H[c.Vo]<_&&(0,d.$8)(b+H[S.Ju])}),I[S.y5]({queue:(0,d.N6)(q),chain:(0,f.PV)(q,j[S.GA],j)}))}function k(I,q){function j(){return(0,f.i8)(null,q[S.GA],q,null)}function H(pe,Me,Pe,J){var te=pe?pe[S.oI]+1:1;function fe(){te--,te===0&&(J&&J(),J=null)}te>0&&(0,d.Iu)(pe,function(ve){if(ve&&ve.queue[S.oI]>0){var Se=ve.chain,L=Me[S.$o](Se);L[S.by](fe),Pe(L)}else te--}),fe()}function ee(pe,Me){var Pe=Me||{reason:0};return H(I,pe,function(J){J[S.$5](Pe)},function(){pe[S.$5](Pe)}),!0}function ie(pe,Me){var Pe=Me||{reason:0,isAsync:!1};return H(I,pe,function(J){J[S.$5](Pe)},function(){pe[S.$5](Pe),ne=!1}),!0}function B(pe){var Me=null;return I&&I[S.oI]>0&&(0,d.Iu)(I,function(Pe){if(Pe&&Pe.queue[S.oI]>0&&((0,d.Iu)(Pe.queue,function(J){if(J[S.Ju]===pe)return Me=J,-1}),Me))return-1}),Me}var ne=!1,Le={identifier:"ChannelControllerPlugin",priority:_,initialize:function(pe,Me,Pe,J){ne=!0,(0,d.Iu)(I,function(te){te&&te.queue[S.oI]>0&&(0,h.pI)((0,f.i8)(te.chain,pe,Me),Pe)})},isInitialized:function(){return ne},processTelemetry:function(pe,Me){H(I,Me||j(),function(Pe){Pe[S.$5](pe)},function(){Me[S.$5](pe)})},update:ee,pause:function(){H(I,j(),function(pe){pe.iterate(function(Me){Me.pause&&Me.pause()})},null)},resume:function(){H(I,j(),function(pe){pe.iterate(function(Me){Me.resume&&Me.resume()})},null)},teardown:ie,getChannel:B,flush:function(pe,Me,Pe,J){var te=1,fe=!1,ve=null;J=J||5e3;function Se(){te--,fe&&te===0&&(ve&&(clearTimeout(ve),ve=null),Me&&Me(fe),Me=null)}return H(I,j(),function(L){L.iterate(function(O){if(O[S.EX]){te++;var oe=!1;O[S.EX](pe,function(){oe=!0,Se()},Pe)||oe||(pe&&ve==null?ve=setTimeout(function(){ve=null,Se()},J):Se())}})},function(){fe=!0,Se()}),!0},_setQueue:function(pe){I=pe}};return Le}function m(I,q,j){var H=[];if(I&&(0,d.Iu)(I,function(ie){return u(H,ie,j)}),q){var ee=[];(0,d.Iu)(q,function(ie){ie[c.Vo]>_&&ee[S.y5](ie)}),u(H,ee,j)}return H}var v=T(91698),p=T(64252),C=T(95331),R=T(99015),D=T(5204),F=T(56489),z=T(44180),y=function(I){(0,E.qU)(q,I);function q(){var j=I.call(this)||this;j.identifier="TelemetryInitializerPlugin",j.priority=199;var H,ee;ie(),(0,A.A)(q,j,function(B,ne){B.addTelemetryInitializer=function(Le){var pe={id:H++,fn:Le};ee[S.y5](pe);var Me={remove:function(){(0,d.Iu)(ee,function(Pe,J){if(Pe.id===pe.id)return ee[S.Ic](J,1),-1})}};return Me},B[c.qT]=function(Le,pe){for(var Me=!1,Pe=ee[S.oI],J=0;J<Pe;++J){var te=ee[J];if(te)try{if(te.fn[S.y9](null,[Le])===!1){Me=!0;break}}catch(fe){(0,R.ZP)(pe[S.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,d.lL)(fe),{exception:(0,z.mm)(fe)},!0)}}Me||B[S.$5](Le,pe)},B[S.tn]=function(){ie()}});function ie(){H=0,ee=[]}return j}return q.__ieDyn=1,q}(F.s),U=T(49388),W="Plugins must provide initialize method",K="_notificationManager",Z="SDK is still unloading...",re="SDK is not initialized",X={loggingLevelConsole:1};function P(I,q){return new D.NS(q)}function $(I,q,j){var H,ee=[],ie={};return(0,d.Iu)(j,function(B){((0,d.hX)(B)||(0,d.hX)(B[S.mE]))&&(0,d.$8)(W);var ne=B[c.Vo],Le=B[S.Ju];B&&ne&&((0,d.hX)(ie[ne])?ie[ne]=Le:(0,R.OG)(I,"Two extensions have same priority #"+ne+" - "+ie[ne]+", "+Le)),(!ne||ne<q)&&ee[S.y5](B)}),H={all:j},H[c.eT]=ee,H}function N(I,q){var j=!1;return(0,d.Iu)(q,function(H){if(H===I)return j=!0,-1}),j}function o(){var I;return(0,M.AQ)((I={},I[S.vR]=function(q){},I[S.TP]=function(q){},I[c.fc]=function(q){},I[c.Yp]=function(q,j){},I[c.dI]=function(q,j){},I))}var w=function(){function I(){var q,j,H,ee,ie,B,ne,Le,pe,Me,Pe,J,te,fe,ve,Se,L,O,oe,be,ke=0;(0,A.A)(I,this,function(ge){De(),ge[S.tZ]=function(){return j},ge[S.mE]=function(Ue,et,It,at){fe&&(0,d.$8)(Z),ge[S.tZ]()&&(0,d.$8)("Core should not be initialized more than once"),q=Ue||{},ge[S.GA]=q,(0,d.hX)(Ue[S.sl])&&(0,d.$8)("Please provide instrumentation key"),ee=at,ge[K]=at,Q(),se(),ye(),It&&(ge[S.Uw]=It);var ct=(0,d.c2)(q,c.jy,[]);pe=[],pe[S.y5].apply(pe,(0,E.vz)((0,E.vz)([],et,!1),ct,!1)),J=(0,d.c2)(q,c.LZ,[]),We(null),(!te||te[S.oI]===0)&&(0,d.$8)("No "+c.LZ+" available"),j=!0,ge.releaseQueue()},ge.getTransmissionControls=function(){var Ue=[];return te&&(0,d.Iu)(te,function(et){Ue[S.y5](et.queue)}),(0,d.N6)(Ue)},ge.track=function(Ue){Ue.iKey=Ue.iKey||q[S.sl],Ue[S.fA]=Ue[S.fA]||(0,d._u)(new Date),Ue.ver=Ue.ver||"4.0",!fe&&ge[S.tZ]()?Ge()[S.$5](Ue):H[S.y5](Ue)},ge[S.ps]=Ge,ge[S.RF]=function(){return ee||(ee=o(),ge[K]=ee),ee},ge[S.vR]=function(Ue){ee&&ee[S.vR](Ue)},ge[S.TP]=function(Ue){ee&&ee[S.TP](Ue)},ge.getCookieMgr=function(){return ne||(ne=(0,v.xN)(q,ge[S.Uw])),ne},ge.setCookieMgr=function(Ue){ne=Ue},ge[c.kI]=function(){if(!ie&&!B&&(0,d.SA)(q.enablePerfMgr)){var Ue=(0,d.SA)(q[c.Yd]);(0,d.Tn)(Ue)&&(B=Ue(ge,ge[S.RF]()))}return ie||B||(0,D.Z4)()},ge.setPerfMgr=function(Ue){ie=Ue},ge.eventCnt=function(){return H[S.oI]},ge.releaseQueue=function(){if(j&&H[S.oI]>0){var Ue=H;H=[],(0,d.Iu)(Ue,function(et){Ge()[S.$5](et)})}},ge.pollInternalLogs=function(Ue){Se=Ue||null;var et=(0,d.SA)(q.diagnosticLogInterval);return(!et||!(et>0))&&(et=1e4),ke&&clearInterval(ke),ke=setInterval(function(){Et()},et),ke},ge[S.Di]=function(){ke&&(clearInterval(ke),ke=0,Et())},(0,d.o$)(ge,function(){return ve},["addTelemetryInitializer"]),ge.unload=function(Ue,et,It){var at;Ue===void 0&&(Ue=!0),j||(0,d.$8)(re),fe&&(0,d.$8)(Z);var ct=(at={reason:50},at[S.tI]=Ue,at.flushComplete=!1,at),pt=(0,f.tS)(Ze(),ge);pt[S.by](function(){De(),et&&et(ct)},ge);function St(Rt){ct.flushComplete=Rt,fe=!0,O.run(pt,ct),ge[S.Di](),pt[S.$5](ct)}ce(Ue,St,6,It)||St(!1)},ge[S.AP]=Nt,ge.addPlugin=function(Ue,et,It,at){if(!Ue){at&&at(!1),Ye(W);return}var ct=Nt(Ue[S.Ju]);if(ct&&!et){at&&at(!1),Ye("Plugin ["+Ue[S.Ju]+"] is already loaded!");return}var pt={reason:16};function St(kt){pe[S.y5](Ue),pt.added=[Ue],We(pt),at&&at(!0)}if(ct){var Rt=[ct.plugin],pi={reason:2,isAsync:!!It};it(Rt,pi,function(kt){kt?(pt.removed=Rt,pt.reason|=32,St(!0)):at&&at(!1)})}else St(!1)},ge.evtNamespace=function(){return L},ge[S.EX]=ce,ge.getTraceCtx=function(Ue){return be||(be=(0,h.u7)()),be},ge.setTraceCtx=function(Ue){be=Ue||null},(0,d.RF)(ge,"addUnloadCb",function(){return O},"add");function De(){j=!1,q=(0,d.CP)(!0,{},X),ge[S.GA]=q,ge[S.Uw]=new R.wq(q),ge[S.H7]=[],ve=new y,H=[],ee=null,ie=null,B=null,ne=null,Le=null,Me=null,pe=[],Pe=null,J=null,te=null,fe=!1,Se=null,L=(0,p.Z)("AIBaseCore",!0),O=(0,U.P)(),be=null}function Ge(){return(0,f.i8)(Ze(),q,ge)}function We(Ue){var et=$(ge[S.Uw],_,pe);Me=et[c.eT],Le=null;var It=et.all;if(te=(0,d.N6)(m(J,It,ge)),Pe){var at=(0,d.rD)(It,Pe);at!==-1&&It[S.Ic](at,1),at=(0,d.rD)(Me,Pe),at!==-1&&Me[S.Ic](at,1),Pe._setQueue(te)}else Pe=k(te,ge);It[S.y5](Pe),Me[S.y5](Pe),ge[S.H7]=(0,h.Xc)(It),Pe[S.mE](q,ge,It),(0,h.pI)(Ge(),It),ge[S.H7]=(0,d.N6)((0,h.Xc)(Me||[])).slice(),Ue&&Fe(Ue)}function Nt(Ue){var et,It=null,at=null;return(0,d.Iu)(ge[S.H7],function(ct){if(ct[S.Ju]===Ue&&ct!==Pe&&ct!==ve)return at=ct,-1}),!at&&Pe&&(at=Pe.getChannel(Ue)),at&&(It=(et={plugin:at},et[S.kt]=function(ct){(0,h.Cr)(at)[c.Hr]=!ct},et.isEnabled=function(){var ct=(0,h.Cr)(at);return!ct[S.Ik]&&!ct[c.Hr]},et.remove=function(ct,pt){var St;ct===void 0&&(ct=!0);var Rt=[at],pi=(St={reason:1},St[S.tI]=ct,St);it(Rt,pi,function(kt){kt&&We({reason:32,removed:Rt}),pt&&pt(kt)})},et)),It}function Ze(){if(!Le){var Ue=(Me||[]).slice();(0,d.rD)(Ue,ve)===-1&&Ue[S.y5](ve),Le=(0,f.PV)((0,h.Xc)(Ue),q,ge)}return Le}function it(Ue,et,It){if(Ue&&Ue[S.oI]>0){var at=(0,f.PV)(Ue,q,ge),ct=(0,f.tS)(at,ge);ct[S.by](function(){var pt=!1,St=[];(0,d.Iu)(pe,function(pi,kt){N(pi,Ue)?pt=!0:St[S.y5](pi)}),pe=St;var Rt=[];J&&((0,d.Iu)(J,function(pi,kt){var Ut=[];(0,d.Iu)(pi,function(Ki){N(Ki,Ue)?pt=!0:Ut[S.y5](Ki)}),Rt[S.y5](Ut)}),J=Rt),It&&It(pt)}),ct[S.$5](et)}else It(!1)}function Et(){var Ue=ge[S.Uw]?ge[S.Uw].queue:[];Ue&&((0,d.Iu)(Ue,function(et){var It,at=(It={},It[S.RS]=Se||"InternalMessageId: "+et[S.JR],It.iKey=(0,d.SA)(q[S.sl]),It.time=(0,d._u)(new Date),It.baseType=R.WD.dataType,It.baseData={message:et[S.pM]},It);ge.track(at)}),Ue[S.oI]=0)}function ce(Ue,et,It,at){return Pe?Pe[S.EX](Ue,et,It||6,at):(et&&et(!1),!0)}function Q(){var Ue=(0,d.SA)(q.disableDbgExt);Ue===!0&&oe&&(ee[S.TP](oe),oe=null),ee&&!oe&&Ue!==!0&&(oe=(0,C.M)(q),ee[S.vR](oe))}function se(){var Ue=(0,d.SA)(q.enablePerfMgr);!Ue&&B&&(B=null),Ue&&(0,d.c2)(q,c.Yd,P)}function ye(){var Ue=(0,d.c2)(q,c.Bw,{});Ue.NotificationManager=ee}function Fe(Ue){var et=(0,f.nU)(Ze(),ge);(!ge._updateHook||ge._updateHook(et,Ue)!==!0)&&et[S.$5](Ue)}function Ye(Ue){var et=ge[S.Uw];et?(0,R.ZP)(et,2,73,Ue):(0,d.$8)(Ue)}})}return I.__ieDyn=1,I}()},56489:(s,G,T)=>{"use strict";T.d(G,{s:()=>h});var E=T(92457),A=T(60830),M=T(12497),S=T(1972),d=T(8997),c=T(49388),f="getPlugin",h=function(){function _(){var b=this,u,k,m,v,p;D(),(0,E.A)(_,b,function(F){F[A.mE]=function(z,y,U,W){R(z,y,W),u=!0},F[A.Ik]=function(z,y){var U,W=F[S.eT];if(!W||z&&W!==z[S.eT]())return;var K,Z=!1,re=z||(0,d.tS)(null,W,m&&m[f]?m[f]():m),X=y||(U={reason:0},U[A.tI]=!1,U);function P(){if(!Z){Z=!0,v.run(re,y);var $=p;p=[],(0,M.Iu)($,function(N){N.rm()}),K===!0&&re[A.$5](X),D()}}return!F[A.tn]||F[A.tn](re,X,P)!==!0?P():K=!0,K},F[A.HC]=function(z,y){var U=F[S.eT];if(!U||z&&U!==z[S.eT]())return;var W,K=!1,Z=z||(0,d.nU)(null,U,m&&m[f]?m[f]():m),re=y||{reason:0};function X(){K||(K=!0,R(Z.getCfg(),Z.core(),Z[A.uR]()))}return!F._doUpdate||F._doUpdate(Z,re,X)!==!0?X():W=!0,W},F._addHook=function(z){z&&((0,M.cy)(z)?p=p.concat(z):p[A.y5](z))},(0,M.RF)(F,"_addUnloadCb",function(){return v},"add")}),b[A.e4]=function(F){return C(F)[A.e4]()},b[A.tZ]=function(){return u},b.setInitialized=function(F){u=F},b[A.YH]=function(F){m=F},b[A.$5]=function(F,z){z?z[A.$5](F):m&&(0,M.Tn)(m[S.qT])&&m[S.qT](F,null)},b._getTelCtx=C;function C(F){F===void 0&&(F=null);var z=F;if(!z){var y=k||(0,d.i8)(null,{},b[S.eT]);m&&m[f]?z=y[A.$o](null,m[f]):z=y[A.$o](null,m)}return z}function R(F,z,y){F&&(0,M.KY)(F,S.Bw,[],null,M.hX),!y&&z&&(y=z[A.ps]()[A.uR]());var U=m;m&&m[f]&&(U=m[f]()),b[S.eT]=z,k=(0,d.i8)(y,F,z,U)}function D(){u=!1,b[S.eT]=null,k=null,m=null,p=[],v=(0,c.P)()}}return _.__ieDyn=1,_}()},91698:(s,G,T)=>{"use strict";T.d(G,{It:()=>I,d5:()=>z,gi:()=>X,um:()=>Z,xN:()=>re});var E=T(60830),A=T(99015),M=T(44180),S=T(12497),d=T(1972),c="toGMTString",f="toUTCString",h="cookie",_="expires",b="enabled",u="isCookieUseDisabled",k="disableCookiesUsage",m="_ckMgr",v=null,p=null,C=null,R=(0,M.YE)(),D={},F={};function z(q,j){var H=re[m]||F[m];return H||(H=re[m]=re(q,j),F[m]=H),H}function y(q){return q?q.isEnabled():!0}function U(q){var j=q[E.lK]=q[E.lK]||{};if((0,S.KY)(j,"domain",q.cookieDomain,S.Gh,S.hX),(0,S.KY)(j,"path",q.cookiePath||"/",null,S.hX),(0,S.hX)(j[b])){var H=void 0;(0,S.b0)(q[u])||(H=!q[u]),(0,S.b0)(q[k])||(H=!q[k]),j[b]=H}return j}function W(q,j){return j&&q&&(0,S.cy)(q.ignoreCookies)?q.ignoreCookies[E.Sj](j)!==-1:!1}function K(q,j){return j&&q&&(0,S.cy)(q.blockedCookies)&&q.blockedCookies[E.Sj](j)!==-1?!0:W(q,j)}function Z(q,j){var H;if(q)H=q.getCookieMgr();else if(j){var ee=j[E.lK];ee[m]?H=ee[m]:H=re(j)}return H||(H=z(j,(q||{})[E.Uw])),H}function re(q,j){var H,ee=U(q||F),ie=ee.path||"/",B=ee.domain,ne=ee[b]!==!1,Le=(H={isEnabled:function(){var pe=ne&&X(j),Me=F[m];return pe&&Me&&Le!==Me&&(pe=y(Me)),pe}},H[E.kt]=function(pe){ne=pe!==!1},H.set=function(pe,Me,Pe,J,te){var fe=!1;if(y(Le)&&!K(ee,pe)){var ve={},Se=(0,S.EH)(Me||d.m5),L=Se[E.Sj](";");if(L!==-1&&(Se=(0,S.EH)(Me[E.Re](0,L)),ve=P(Me[E.Re](L+1))),(0,S.KY)(ve,"domain",J||B,S.zz,S.b0),!(0,S.hX)(Pe)){var O=(0,M.lT)();if((0,S.b0)(ve[_])){var oe=(0,S.x3)(),be=oe+Pe*1e3;if(be>0){var ke=new Date;ke.setTime(be),(0,S.KY)(ve,_,$(ke,O?c:f)||$(ke,O?c:f)||d.m5,S.zz)}}O||(0,S.KY)(ve,"max-age",d.m5+Pe,null,S.b0)}var ge=(0,M.g$)();ge&&ge.protocol==="https:"&&((0,S.KY)(ve,"secure",null,null,S.b0),p===null&&(p=!I(((0,M.w3)()||{})[E.tX])),p&&(0,S.KY)(ve,"SameSite","None",null,S.b0)),(0,S.KY)(ve,"path",te||ie,null,S.b0);var De=ee.setCookie||w;De(pe,N(Se,ve)),fe=!0}return fe},H.get=function(pe){var Me=d.m5;return y(Le)&&!W(ee,pe)&&(Me=(ee.getCookie||o)(pe)),Me},H.del=function(pe,Me){var Pe=!1;return y(Le)&&(Pe=Le.purge(pe,Me)),Pe},H.purge=function(pe,Me){var Pe,J=!1;if(X(j)){var te=(Pe={},Pe.path=Me||"/",Pe[_]="Thu, 01 Jan 1970 00:00:01 GMT",Pe);(0,M.lT)()||(te["max-age"]="0");var fe=ee.delCookie||w;fe(pe,N(d.m5,te)),J=!0}return J},H);return Le[m]=Le,Le}function X(q){if(v===null){v=!1;try{var j=R||{};v=j[h]!==void 0}catch(H){(0,A.ZP)(q,2,68,"Cannot access document.cookie - "+(0,S.lL)(H),{exception:(0,M.mm)(H)})}}return v}function P(q){var j={};if(q&&q[E.oI]){var H=(0,S.EH)(q)[E.sY](";");(0,S.Iu)(H,function(ee){if(ee=(0,S.EH)(ee||d.m5),ee){var ie=ee[E.Sj]("=");ie===-1?j[ee]=null:j[(0,S.EH)(ee[E.Re](0,ie))]=(0,S.EH)(ee[E.Re](ie+1))}})}return j}function $(q,j){return(0,S.Tn)(q[j])?q[j]():null}function N(q,j){var H=q||d.m5;return(0,S.z)(j,function(ee,ie){H+="; "+ee+((0,S.hX)(ie)?d.m5:"="+ie)}),H}function o(q){var j=d.m5;if(R){var H=R[h]||d.m5;C!==H&&(D=P(H),C=H),j=(0,S.EH)(D[q]||d.m5)}return j}function w(q,j){R&&(R[h]=q+"="+j)}function I(q){return(0,S.Kg)(q)?!!((0,S.Ju)(q,"CPU iPhone OS 12")||(0,S.Ju)(q,"iPad; CPU OS 12")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Ju)(q,"Version/")&&(0,S.Ju)(q,"Safari")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Cv)(q,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,S.Ju)(q,"Chrome/5")||(0,S.Ju)(q,"Chrome/6")||(0,S.Ju)(q,"UnrealEngine")&&!(0,S.Ju)(q,"Chrome")||(0,S.Ju)(q,"UCBrowser/12")||(0,S.Ju)(q,"UCBrowser/11")):!1}},32578:(s,G,T)=>{"use strict";T.d(G,{Ri:()=>U,TV:()=>W,UU:()=>m,WD:()=>z,Yj:()=>K,aq:()=>k,cL:()=>p,fs:()=>D,ht:()=>y,jS:()=>C});var E=T(75148),A=T(60830),M=T(91698),S=T(44180),d=T(18413),c=T(12497),f=T(1972),h=T(57679),_=null,b,u=null;function k(){var Z=p();return Z[A.Re](0,8)+"-"+Z[A.Re](8,12)+"-"+Z[A.Re](12,16)+"-"+Z[A.Re](16,20)+"-"+Z[A.Re](20)}function m(){var Z=(0,S.FJ)();return Z&&Z.now?Z.now():(0,c.x3)()}function v(Z,re){if(Z&&re){var X=Z[_DYN_LENGTH],P=X-re[_DYN_LENGTH];return Z[_DYN_SUBSTRING](P>=0?P:0,X)===re}return!1}function p(){for(var Z=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],re=f.m5,X,P=0;P<4;P++)X=(0,h.VN)(),re+=Z[X&15]+Z[X>>4&15]+Z[X>>8&15]+Z[X>>12&15]+Z[X>>16&15]+Z[X>>20&15]+Z[X>>24&15]+Z[X>>28&15];var $=Z[8+((0,h.VN)()&3)|0];return re[A.$4](0,8)+re[A.$4](9,4)+"4"+re[A.$4](13,3)+$+re[A.$4](16,3)+re[A.$4](19,12)}var C={_canUseCookies:void 0,isTypeof:c.Ed,isUndefined:c.b0,isNullOrUndefined:c.hX,hasOwnProperty:c.mQ,isFunction:c.Tn,isObject:c.Gv,isDate:c.$P,isArray:c.cy,isError:c.bJ,isString:c.Kg,isNumber:c.Et,isBoolean:c.Lm,toISOString:c._u,arrForEach:c.Iu,arrIndexOf:c.rD,arrMap:c.W$,arrReduce:c.KT,strTrim:c.EH,objCreate:E.AQ,objKeys:c.cG,objDefineAccessors:c.r,addEventHandler:d.So,dateNow:c.x3,isIE:S.lT,disableCookies:z,newGuid:k,perfNow:m,newId:h.Si,randomValue:h.Z1,random32:h.VN,mwcRandomSeed:h.yc,mwcRandom32:h.k5,generateW3CId:p},R=/[xy]/g,D={Attach:d.Q3,AttachEvent:d.Q3,Detach:d.Ym,DetachEvent:d.Ym};function F(Z,re){var X=(0,M.d5)(Z,re),P=C._canUseCookies;return _===null&&(_=[],b=P,(0,c.r)(C,"_canUseCookies",function(){return b},function($){b=$,(0,c.Iu)(_,function(N){N[A.kt]($)})})),(0,c.rD)(_,X)===-1&&_[A.y5](X),(0,c.Lm)(P)&&X[A.kt](P),(0,c.Lm)(b)&&X[A.kt](b),X}function z(){F()[A.kt](!1)}function y(Z){return F(null,Z).isEnabled()}function U(Z,re){return F(null,Z).get(re)}function W(Z,re,X,P){F(null,Z).set(re,X,null,P)}function K(Z,re){return F(null,Z).del(re)}},64252:(s,G,T)=>{"use strict";T.d(G,{T:()=>v,Z:()=>m});var E=T(47672),A=T(60830),M=T(12497),S=T(1972),d=T(57679),c=E.KU,f="2.8.10",h="."+(0,d.Si)(6),_=0;function b(p,C,R){if(c)try{return c(p,C,{value:R,enumerable:!1,configurable:!0}),!0}catch{}return!1}function u(p){return p[A.re]===1||p[A.re]===9||!+p[A.re]}function k(p,C){var R=C[p.id];if(!R){R={};try{u(C)&&(b(C,p.id,R)||(C[p.id]=R))}catch{}}return R}function m(p,C){return C===void 0&&(C=!1),(0,M.cH)(p+_+++(C?"."+f:S.m5)+h)}function v(p){var C={id:m("_aiData-"+(p||S.m5)+"."+f),accept:function(R){return u(R)},get:function(R,D,F,z){var y=R[C.id];return y?y[(0,M.cH)(D)]:(z&&(y=k(C,R),y[(0,M.cH)(D)]=F),F)},kill:function(R,D){if(R&&R[D])try{delete R[D]}catch{}}};return C}},95331:(s,G,T)=>{"use strict";T.d(G,{$:()=>h,M:()=>_});var E=T(60830),A=T(44180),M=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],S=null,d;function c(b,u){return function(){var k=arguments,m=h(u);if(m){var v=m.listener;v&&v[b]&&v[b][E.y9](v,k)}}}function f(){var b=(0,A.EH)("Microsoft");return b&&(S=b.ApplicationInsights),S}function h(b){var u=S;return!u&&b.disableDbgExt!==!0&&(u=S||f()),u?u.ChromeDbgExt:null}function _(b){if(!d){d={};for(var u=0;u<M[E.oI];u++)d[M[u]]=c(M[u],b)}return d}},99015:(s,G,T)=>{"use strict";T.d(G,{OG:()=>R,Oc:()=>D,WD:()=>k,ZP:()=>C,wq:()=>v,y0:()=>m});var E=T(92457),A=T(60830),M=T(95331),S=T(44180),d=T(12497),c=T(1972),f="AI (Internal): ",h="AI: ",_="AITR_";function b(F){return F?'"'+F[A.W7](/\"/g,c.m5)+'"':c.m5}function u(F,z){var y=(0,S.U5)();if(y){var U="log";y[F]&&(U=F),(0,d.Tn)(y[U])&&y[U](z)}}var k=function(){function F(z,y,U,W){U===void 0&&(U=!1);var K=this;K[A.JR]=z,K[A.pM]=(U?h:f)+z;var Z=c.m5;(0,S.Z)()&&(Z=(0,S.hm)().stringify(W));var re=(y?" message:"+b(y):c.m5)+(W?" props:"+b(Z):c.m5);K[A.pM]+=re}return F.dataType="MessageData",F}();function m(F,z){return(F||{})[A.Uw]||new v(z)}var v=function(){function F(z){this.identifier="DiagnosticLogger",this.queue=[];var y=0,U={},W,K,Z,re;(0,E.A)(F,this,function(X){$(z||{}),X.consoleLoggingLevel=function(){return W},X.telemetryLoggingLevel=function(){return K},X.maxInternalMessageLimit=function(){return Z},X[A.a$]=function(){return re},X.throwInternal=function(w,I,q,j,H){H===void 0&&(H=!1);var ee=new k(I,q,H,j);if(re)throw(0,S.mm)(ee);var ie=w===1?c.Zi:c.Tj;if((0,d.b0)(ee[A.pM]))o("throw"+(w===1?"Critical":"Warning"),ee);else{if(H){var B=+ee[A.JR];!U[B]&&W>=w&&(X[ie](ee[A.pM]),U[B]=!0)}else W>=w&&X[ie](ee[A.pM]);P(w,ee)}},X[c.Tj]=function(w){u("warn",w),o("warning",w)},X[c.Zi]=function(w){u("error",w),o("error",w)},X.resetInternalMessageCount=function(){y=0,U={}},X[A.sx]=P;function P(w,I){if(!N()){var q=!0,j=_+I[A.JR];if(U[j]?q=!1:U[j]=!0,q&&(w<=K&&(X.queue[A.y5](I),y++,o(w===1?"error":"warn",I)),y===Z)){var H="Internal events throttle limit per PageView reached for this app.",ee=new k(23,H,!1);X.queue[A.y5](ee),w===1?X[c.Zi](H):X[c.Tj](H)}}}function $(w){W=(0,d.SA)(w.loggingLevelConsole,0),K=(0,d.SA)(w.loggingLevelTelemetry,1),Z=(0,d.SA)(w.maxMessageLimit,25),re=(0,d.SA)(w[A.a$],!1)}function N(){return y>=Z}function o(w,I){var q=(0,M.$)(z||{});q&&q[A.e4]&&q[A.e4](w,I)}})}return F.__ieDyn=1,F}();function p(F){return F||new v}function C(F,z,y,U,W,K){K===void 0&&(K=!1),p(F).throwInternal(z,y,U,W,K)}function R(F,z){p(F)[c.Tj](z)}function D(F,z,y){p(F)[A.sx](z,y)}},44180:(s,G,T)=>{"use strict";T.d(G,{$Z:()=>ke,EH:()=>P,FJ:()=>B,Iu:()=>ge,JK:()=>H,L0:()=>te,MY:()=>pe,PV:()=>O,R7:()=>L,U5:()=>ie,Uf:()=>Se,Vd:()=>$,Wt:()=>o,YE:()=>w,Z:()=>ne,cU:()=>X,g$:()=>ee,hm:()=>Le,iN:()=>Me,lT:()=>J,lV:()=>Pe,mm:()=>fe,tw:()=>j,w3:()=>q,w9:()=>I,xk:()=>oe,zk:()=>N});var E=T(47672),A=T(75148),M=T(60830),S=T(12497),d=T(1972),c="window",f="document",h="documentMode",_="navigator",b="history",u="location",k="console",m="performance",v="JSON",p="crypto",C="msCrypto",R="ReactNative",D="msie",F="trident/",z="XMLHttpRequest",y=null,U=null,W=!1,K=null,Z=null;function re(De,Ge){var We=!1;if(De){try{if(We=Ge in De,!We){var Nt=De[E.vR];Nt&&(We=Ge in Nt)}}catch{}if(!We)try{var Ze=new De;We=!(0,S.b0)(Ze[Ge])}catch{}}return We}function X(De){W=De}function P(De){var Ge=(0,A.mS)();return Ge&&Ge[De]?Ge[De]:De===c&&$()?window:null}function $(){return!!(typeof window===E._1&&window)}function N(){return $()?window:P(c)}function o(){return!!(typeof document===E._1&&document)}function w(){return o()?document:P(f)}function I(){return!!(typeof navigator===E._1&&navigator)}function q(){return I()?navigator:P(_)}function j(){return!!(typeof history===E._1&&history)}function H(){return j()?history:P(b)}function ee(De){if(De&&W){var Ge=P("__mockLocation");if(Ge)return Ge}return typeof location===E._1&&location?location:P(u)}function ie(){return typeof console!==E.bA?console:P(k)}function B(){return P(m)}function ne(){return!!(typeof JSON===E._1&&JSON||P(v)!==null)}function Le(){return ne()?JSON||P(v):null}function pe(){return P(p)}function Me(){return P(C)}function Pe(){var De=q();return De&&De.product?De.product===R:!1}function J(){var De=q();if(De&&(De[M.tX]!==U||y===null)){U=De[M.tX];var Ge=(U||d.m5)[M.OL]();y=(0,S.Ju)(Ge,D)||(0,S.Ju)(Ge,F)}return y}function te(De){if(De===void 0&&(De=null),!De){var Ge=q()||{};De=Ge?(Ge[M.tX]||d.m5)[M.OL]():d.m5}var We=(De||d.m5)[M.OL]();if((0,S.Ju)(We,D)){var Nt=w()||{};return Math.max(parseInt(We[M.sY](D)[1]),Nt[h]||0)}else if((0,S.Ju)(We,F)){var Ze=parseInt(We[M.sY](F)[1]);if(Ze)return Ze+4}return null}function fe(De){var Ge=Object[E.vR].toString[M.Ek](De),We=d.m5;return Ge==="[object Error]"?We="{ stack: '"+De.stack+"', message: '"+De.message+"', name: '"+De[M.RS]+"'":ne()&&(We=Le().stringify(De)),Ge+We}function ve(De){if(!De||!isString(De)){var Ge=q()||{};De=Ge?(Ge[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var We=(De||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return We[_DYN_INDEX_OF]("safari")>=0}function Se(){return Z===null&&(Z=I()&&!!q().sendBeacon),Z}function L(De){var Ge=!1;try{Ge=!!P("fetch");var We=P("Request");Ge&&De&&We&&(Ge=re(We,"keepalive"))}catch{}return Ge}function O(){return K===null&&(K=typeof XDomainRequest!==E.bA,K&&oe()&&(K=K&&!re(P(z),"withCredentials"))),K}function oe(){var De=!1;try{var Ge=P(z);De=!!Ge}catch{}return De}function be(De,Ge){if(De)for(var We=0;We<De[M.oI];We++){var Nt=De[We];if(Nt[M.RS]&&Nt[M.RS]===Ge)return Nt}return{}}function ke(De){var Ge=w();return Ge&&De?be(Ge.querySelectorAll("meta"),De).content:null}function ge(De){var Ge,We=B();if(We){var Nt=We.getEntriesByType("navigation")||[];Ge=be((Nt[M.oI]>0?Nt[0]:{}).serverTiming,De).description}return Ge}},18413:(s,G,T)=>{"use strict";T.d(G,{Ds:()=>Me,El:()=>re,Fc:()=>Pe,Hm:()=>w,ML:()=>q,Q3:()=>j,So:()=>ee,Wg:()=>Le,Ym:()=>H,ee:()=>pe,lQ:()=>ne,mB:()=>I,oS:()=>te,sq:()=>J,vF:()=>fe,zh:()=>ie});var E=T(60830),A=T(64252),M=T(44180),S=T(12497),d=T(1972),c="on",f="attachEvent",h="addEventListener",_="detachEvent",b="removeEventListener",u="events",k="visibilitychange",m="pagehide",v="pageshow",p="unload",C="beforeunload",R=(0,A.Z)("aiEvtPageHide"),D=(0,A.Z)("aiEvtPageShow"),F=/\.[\.]+/g,z=/[\.]+$/,y=1,U=(0,A.T)("events"),W=/^([^.]*)(?:\.(.+)|)/;function K(ve){return ve&&ve[E.W7]?ve[E.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,d.m5):ve}function Z(ve,Se){var L;if(Se){var O=d.m5;(0,S.cy)(Se)?(O=d.m5,(0,S.Iu)(Se,function(be){be=K(be),be&&(be[0]!=="."&&(be="."+be),O+=be)})):O=K(Se),O&&(O[0]!=="."&&(O="."+O),ve=(ve||d.m5)+O)}var oe=W.exec(ve||d.m5)||[];return L={},L[E.QM]=oe[1],L.ns=(oe[2]||d.m5).replace(F,".").replace(z,d.m5)[E.sY](".").sort().join("."),L}function re(ve,Se,L){var O=[],oe=U.get(ve,u,{},!1),be=Z(Se,L);return(0,S.z)(oe,function(ke,ge){(0,S.Iu)(ge,function(De){var Ge;(!be[E.QM]||be[E.QM]===De.evtName[E.QM])&&(!be.ns||be.ns===be.ns)&&O[E.y5]((Ge={},Ge[E.RS]=De.evtName[E.QM]+(De.evtName.ns?"."+De.evtName.ns:d.m5),Ge.handler=De[E.Yo],Ge))})}),O}function X(ve,Se,L){L===void 0&&(L=!0);var O=U.get(ve,u,{},L),oe=O[Se];return oe||(oe=O[Se]=[]),oe}function P(ve,Se,L,O){ve&&Se&&Se[E.QM]&&(ve[b]?ve[b](Se[E.QM],L,O):ve[_]&&ve[_](c+Se[E.QM],L))}function $(ve,Se,L,O){var oe=!1;return ve&&Se&&Se[E.QM]&&L&&(ve[h]?(ve[h](Se[E.QM],L,O),oe=!0):ve[f]&&(ve[f](c+Se[E.QM],L),oe=!0)),oe}function N(ve,Se,L,O){for(var oe=Se[E.oI];oe--;){var be=Se[oe];be&&(!L.ns||L.ns===be.evtName.ns)&&(!O||O(be))&&(P(ve,be.evtName,be[E.Yo],be.capture),Se[E.Ic](oe,1))}}function o(ve,Se,L){if(Se[E.QM])N(ve,X(ve,Se[E.QM]),Se,L);else{var O=U.get(ve,u,{});(0,S.z)(O,function(oe,be){N(ve,be,Se,L)}),(0,S.cG)(O)[E.oI]===0&&U.kill(ve,u)}}function w(ve,Se){var L;return Se?((0,S.cy)(Se)?L=[ve].concat(Se):L=[ve,Se],L=Z("xx",L).ns[E.sY](".")):L=ve,L}function I(ve,Se,L,O,oe){var be;oe===void 0&&(oe=!1);var ke=!1;if(ve)try{var ge=Z(Se,O);if(ke=$(ve,ge,L,oe),ke&&U.accept(ve)){var De=(be={guid:y++,evtName:ge},be[E.Yo]=L,be.capture=oe,be);X(ve,ge.type)[E.y5](De)}}catch{}return ke}function q(ve,Se,L,O,oe){if(oe===void 0&&(oe=!1),ve)try{var be=Z(Se,O),ke=!1;o(ve,be,function(ge){return be.ns&&!L||ge[E.Yo]===L?(ke=!0,!0):!1}),ke||P(ve,be,L,oe)}catch{}}function j(ve,Se,L,O){return O===void 0&&(O=!1),I(ve,Se,L,null,O)}function H(ve,Se,L,O){O===void 0&&(O=!1),q(ve,Se,L,null,O)}function ee(ve,Se,L){var O=!1,oe=(0,M.zk)();oe&&(O=I(oe,ve,Se,L),O=I(oe.body,ve,Se,L)||O);var be=(0,M.YE)();return be&&(O=I(be,ve,Se,L)||O),O}function ie(ve,Se,L){var O=(0,M.zk)();O&&(q(O,ve,Se,L),q(O.body,ve,Se,L));var oe=(0,M.YE)();oe&&q(oe,ve,Se,L)}function B(ve,Se,L,O){var oe=!1;return Se&&ve&&ve[E.oI]>0&&(0,S.Iu)(ve,function(be){be&&(!L||(0,S.rD)(L,be)===-1)&&(oe=ee(be,Se,O)||oe)}),oe}function ne(ve,Se,L,O){var oe=!1;return Se&&ve&&(0,S.cy)(ve)&&(oe=B(ve,Se,L,O),!oe&&L&&L[E.oI]>0&&(oe=B(ve,Se,null,O))),oe}function Le(ve,Se,L){ve&&(0,S.cy)(ve)&&(0,S.Iu)(ve,function(O){O&&ie(O,Se,L)})}function pe(ve,Se,L){return ne([C,p,m],ve,Se,L)}function Me(ve,Se){Le([C,p,m],ve,Se)}function Pe(ve,Se,L){function O(ke){var ge=(0,M.YE)();ve&&ge&&ge.visibilityState==="hidden"&&ve(ke)}var oe=w(R,L),be=B([m],ve,Se,oe);return(!Se||(0,S.rD)(Se,k)===-1)&&(be=B([k],O,Se,oe)||be),!be&&Se&&(be=Pe(ve,null,L)),be}function J(ve,Se){var L=w(R,Se);Le([m],ve,L),Le([k],null,L)}function te(ve,Se,L){function O(ke){var ge=(0,M.YE)();ve&&ge&&ge.visibilityState==="visible"&&ve(ke)}var oe=w(D,L),be=B([v],ve,Se,oe);return be=B([k],O,Se,oe)||be,!be&&Se&&(be=te(ve,null,L)),be}function fe(ve,Se){var L=w(D,Se);Le([v],ve,L),Le([k],null,L)}},12497:(s,G,T)=>{"use strict";T.d(G,{$8:()=>Qt,$P:()=>O,CP:()=>dr,Cv:()=>te,EH:()=>ye,Ed:()=>j,Et:()=>De,Gh:()=>B,Gv:()=>Le,Iu:()=>Et,Ju:()=>L,KT:()=>se,KY:()=>pi,Kg:()=>ge,Lm:()=>Ge,N6:()=>ct,RF:()=>lt,SA:()=>Ut,SZ:()=>Jt,Tn:()=>pe,W$:()=>Q,_u:()=>Ze,b0:()=>H,bJ:()=>ke,c2:()=>kt,cG:()=>Ue,cH:()=>Pe,cy:()=>oe,hW:()=>ri,hX:()=>ie,js:()=>pt,lL:()=>Rt,mQ:()=>ne,o$:()=>Tr,ol:()=>at,qz:()=>vt,r:()=>et,rD:()=>ce,tG:()=>ve,wo:()=>Ki,x3:()=>St,z:()=>J,zz:()=>Pt});var E=T(47672),A=T(75148),M=T(60830),S=T(1972),d="toISOString",c="endsWith",f="startsWith",h="indexOf",_="map",b="reduce",u="trim",k="toString",m="__proto__",v="constructor",p=E.KU,C=E.s6.freeze,R=E.s6.seal,D=E.s6.keys,F=String[E.vR],z=F[u],y=F[c],U=F[f],W=Date[E.vR],K=W[d],Z=Array.isArray,re=E.Wy[k],X=E.J$[k],P=X[M.Ek](E.s6),$=/-([a-z])/g,N=/([^\w\d_$])/g,o=/^(\d+[\w\d_$])/,w=Object.getPrototypeOf;function I(Oe){if(Oe){if(w)return w(Oe);var Qe=Oe[m]||Oe[E.vR]||Oe[v];if(Qe)return Qe}return null}function q(Oe){return re[_DYN_CALL](Oe)}function j(Oe,Qe){return typeof Oe===Qe}function H(Oe){return Oe===void 0||typeof Oe===E.bA}function ee(Oe){return!H(Oe)}function ie(Oe){return Oe===null||H(Oe)}function B(Oe){return!ie(Oe)}function ne(Oe,Qe){return!!(Oe&&E.J$[M.Ek](Oe,Qe))}function Le(Oe){return!!(Oe&&typeof Oe===E._1)}function pe(Oe){return!!(Oe&&typeof Oe===E.hW)}function Me(Oe){return Oe&&pe(Oe.then)}function Pe(Oe){var Qe=Oe;return Qe&&ge(Qe)&&(Qe=Qe[M.W7]($,function(bt,dt){return dt.toUpperCase()}),Qe=Qe[M.W7](N,"_"),Qe=Qe[M.W7](o,function(bt,dt){return"_"+dt})),Qe}function J(Oe,Qe){if(Oe)for(var bt in Oe)E.J$[M.Ek](Oe,bt)&&Qe[M.Ek](Oe,bt,Oe[bt])}function te(Oe,Qe){var bt=!1;return Oe&&Qe&&!(bt=Oe===Qe)&&(bt=y?Oe[c](Qe):fe(Oe,Qe)),bt}function fe(Oe,Qe){var bt=!1,dt=Qe?Qe[M.oI]:0,gt=Oe?Oe[M.oI]:0;if(dt&&gt&&gt>=dt&&!(bt=Oe===Qe)){for(var oi=gt-1,Dt=dt-1;Dt>=0;Dt--){if(Oe[oi]!=Qe[Dt])return!1;oi--}bt=!0}return bt}function ve(Oe,Qe){var bt=!1;return Oe&&Qe&&!(bt=Oe===Qe)&&(bt=U?Oe[f](Qe):Se(Oe,Qe)),bt}function Se(Oe,Qe){var bt=!1,dt=Qe?Qe[M.oI]:0;if(Oe&&dt&&Oe[M.oI]>=dt&&!(bt=Oe===Qe)){for(var gt=0;gt<dt;gt++)if(Oe[gt]!==Qe[gt])return!1;bt=!0}return bt}function L(Oe,Qe){return Oe&&Qe?Oe[M.Sj](Qe)!==-1:!1}function O(Oe){return!!(Oe&&re[M.Ek](Oe)==="[object Date]")}var oe=Z||be;function be(Oe){return!!(Oe&&re[M.Ek](Oe)==="[object Array]")}function ke(Oe){return!!(Oe&&re[M.Ek](Oe)==="[object Error]")}function ge(Oe){return typeof Oe=="string"}function De(Oe){return typeof Oe=="number"}function Ge(Oe){return typeof Oe=="boolean"}function We(Oe){return typeof Oe=="symbol"}function Nt(Oe){var Qe=!1;if(Oe&&typeof Oe=="object"){var bt=w?w(Oe):I(Oe);bt?(bt[v]&&E.J$[M.Ek](bt,v)&&(bt=bt[v]),Qe=typeof bt===E.hW&&X[M.Ek](bt)===P):Qe=!0}return Qe}function Ze(Oe){if(Oe)return K?Oe[d]():it(Oe)}function it(Oe){if(Oe&&Oe.getUTCFullYear){var Qe=function(bt){var dt=String(bt);return dt[M.oI]===1&&(dt="0"+dt),dt};return Oe.getUTCFullYear()+"-"+Qe(Oe.getUTCMonth()+1)+"-"+Qe(Oe.getUTCDate())+"T"+Qe(Oe.getUTCHours())+":"+Qe(Oe.getUTCMinutes())+":"+Qe(Oe.getUTCSeconds())+"."+String((Oe.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Et(Oe,Qe,bt){var dt=Oe[M.oI];try{for(var gt=0;gt<dt&&!(gt in Oe&&Qe[M.Ek](bt||Oe,Oe[gt],gt,Oe)===-1);gt++);}catch{}}function ce(Oe,Qe,bt){if(Oe){if(Oe[h])return Oe[h](Qe,bt);var dt=Oe[M.oI],gt=bt||0;try{for(var oi=Math.max(gt>=0?gt:dt-Math.abs(gt),0);oi<dt;oi++)if(oi in Oe&&Oe[oi]===Qe)return oi}catch{}}return-1}function Q(Oe,Qe,bt){var dt;if(Oe){if(Oe[_])return Oe[_](Qe,bt);var gt=Oe[M.oI],oi=bt||Oe;dt=new Array(gt);try{for(var Dt=0;Dt<gt;Dt++)Dt in Oe&&(dt[Dt]=Qe[M.Ek](oi,Oe[Dt],Oe))}catch{}}return dt}function se(Oe,Qe,bt){var dt;if(Oe){if(Oe[b])return Oe[b](Qe,bt);var gt=Oe[M.oI],oi=0;if(arguments[M.oI]>=3)dt=arguments[2];else{for(;oi<gt&&!(oi in Oe);)oi++;dt=Oe[oi++]}for(;oi<gt;)oi in Oe&&(dt=Qe(dt,Oe[oi],oi,Oe)),oi++}return dt}function ye(Oe){return Oe&&(Oe=z&&Oe[u]?Oe[u]():Oe[M.W7]?Oe[M.W7](/^\s+|(?=\s)\s+$/g,S.m5):Oe),Oe}var Fe=!{toString:null}.propertyIsEnumerable("toString"),Ye=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ue(Oe){var Qe=typeof Oe;if(Qe!==E.hW&&(Qe!==E._1||Oe===null)&&(0,A.zk)("objKeys called on non-object"),!Fe&&D)return D(Oe);var bt=[];for(var dt in Oe)Oe&&E.J$[M.Ek](Oe,dt)&&bt[M.y5](dt);if(Fe)for(var gt=Ye[M.oI],oi=0;oi<gt;oi++)Oe&&E.J$[M.Ek](Oe,Ye[oi])&&bt[M.y5](Ye[oi]);return bt}function et(Oe,Qe,bt,dt){if(p)try{var gt={enumerable:!0,configurable:!0};return bt&&(gt.get=bt),dt&&(gt.set=dt),p(Oe,Qe,gt),!0}catch{}return!1}function It(Oe){return Oe}function at(Oe){return C&&J(Oe,function(Qe,bt){(oe(bt)||Le(bt))&&C(bt)}),ct(Oe)}var ct=C||It,pt=R||It;function St(){var Oe=Date;return Oe.now?Oe.now():new Oe().getTime()}function Rt(Oe){return ke(Oe)?Oe[M.RS]:S.m5}function pi(Oe,Qe,bt,dt,gt){var oi=bt;return Oe&&(oi=Oe[Qe],oi!==bt&&(!gt||gt(oi))&&(!dt||dt(bt))&&(oi=bt,Oe[Qe]=oi)),oi}function kt(Oe,Qe,bt){var dt;return Oe?(dt=Oe[Qe],!dt&&ie(dt)&&(dt=H(bt)?{}:bt,Oe[Qe]=dt)):dt=H(bt)?{}:bt,dt}function Ut(Oe,Qe){return ie(Oe)?Qe:Oe}function Ki(Oe){return!Oe}function Pt(Oe){return!!Oe}function Qt(Oe){throw new Error(Oe)}function qi(Oe,Qe){var bt=null,dt=null;return pe(Oe)?bt=Oe:dt=Oe,function(){var gt=arguments;if(bt&&(dt=bt()),dt)return dt[Qe][M.y9](dt,gt)}}function vt(Oe,Qe,bt){if(Oe&&Qe&&Le(Oe)&&Le(Qe)){var dt=function(oi){if(ge(oi)){var Dt=Qe[oi];pe(Dt)?(!bt||bt(oi,!0,Qe,Oe))&&(Oe[oi]=qi(Qe,oi)):(!bt||bt(oi,!1,Qe,Oe))&&(ne(Oe,oi)&&delete Oe[oi],et(Oe,oi,function(){return Qe[oi]},function(jt){Qe[oi]=jt})||(Oe[oi]=Dt))}};for(var gt in Qe)dt(gt)}return Oe}function lt(Oe,Qe,bt,dt,gt){Oe&&Qe&&bt&&(gt!==!1||H(Oe[Qe]))&&(Oe[Qe]=qi(bt,dt))}function Tr(Oe,Qe,bt,dt){return Oe&&Qe&&Le(Oe)&&oe(bt)&&Et(bt,function(gt){ge(gt)&&lt(Oe,gt,Qe,gt,dt)}),Oe}function Jt(Oe){return function(){function Qe(){var bt=this;Oe&&J(Oe,function(dt,gt){bt[dt]=gt})}return Qe}()}function ri(Oe){return Oe&&E.zi&&(Oe=(0,E.s6)((0,E.zi)({},Oe))),Oe}function dr(Oe,Qe,bt,dt,gt,oi){var Dt=arguments,jt=Dt[0]||{},qt=Dt[M.oI],ut=!1,Tt=1;for(qt>0&&Ge(jt)&&(ut=jt,jt=Dt[Tt]||{},Tt++),Le(jt)||(jt={});Tt<qt;Tt++){var Mt=Dt[Tt],vi=oe(Mt),li=Le(Mt);for(var $t in Mt){var Ti=vi&&$t in Mt||li&&E.J$[M.Ek](Mt,$t);if(Ti){var mi=Mt[$t],Mi=void 0;if(ut&&mi&&((Mi=oe(mi))||Nt(mi))){var Ii=jt[$t];Mi?oe(Ii)||(Ii=[]):Nt(Ii)||(Ii={}),mi=dr(ut,Ii,mi)}mi!==void 0&&(jt[$t]=mi)}}}return jt}},1972:(s,G,T)=>{"use strict";T.d(G,{Bw:()=>c,Hr:()=>d,LZ:()=>A,Tj:()=>p,Vo:()=>_,Yd:()=>S,Yp:()=>u,Zi:()=>v,dI:()=>k,eT:()=>M,fc:()=>b,jy:()=>f,kI:()=>C,l0:()=>m,m5:()=>E,qT:()=>h});var E="",A="channels",M="core",S="createPerfMgr",d="disabled",c="extensionConfig",f="extensions",h="processTelemetry",_="priority",b="eventsSent",u="eventsDiscarded",k="eventsSendRequest",m="perfEvent",v="errorToConsole",p="warnToConsole",C="getPerfMgr"},54660:(s,G,T)=>{"use strict";T.d(G,{h:()=>c});var E=T(92457),A=T(60830),M=T(12497),S=T(1972);function d(f,h,_,b){(0,M.Iu)(f,function(u){if(u&&u[h])if(_)setTimeout(function(){return b(u)},0);else try{b(u)}catch{}})}var c=function(){function f(h){this.listeners=[];var _=!!(h||{}).perfEvtsSendAll;(0,E.A)(f,this,function(b){b[A.vR]=function(u){b.listeners[A.y5](u)},b[A.TP]=function(u){for(var k=(0,M.rD)(b[A.lJ],u);k>-1;)b.listeners[A.Ic](k,1),k=(0,M.rD)(b[A.lJ],u)},b[S.fc]=function(u){d(b[A.lJ],S.fc,!0,function(k){k[S.fc](u)})},b[S.Yp]=function(u,k){d(b[A.lJ],S.Yp,!0,function(m){m[S.Yp](u,k)})},b[S.dI]=function(u,k){d(b[A.lJ],S.dI,k,function(m){m[S.dI](u,k)})},b[S.l0]=function(u){u&&(_||!u[A.Zu]())&&d(b[A.lJ],S.l0,!1,function(k){u[A.tI]?setTimeout(function(){return k[S.l0](u)},0):k[S.l0](u)})}})}return f.__ieDyn=1,f}()},5204:(s,G,T)=>{"use strict";T.d(G,{NS:()=>b,Q6:()=>_,Z4:()=>v,r2:()=>k});var E=T(92457),A=T(60830),M=T(12497),S=T(1972),d="ctx",c="ParentContextKey",f="ChildrenContextKey",h=null,_=function(){function p(C,R,D){var F=this,z=!1;if(F.start=(0,M.x3)(),F[A.RS]=C,F[A.tI]=D,F[A.Zu]=function(){return!1},(0,M.Tn)(R)){var y;z=(0,M.r)(F,"payload",function(){return!y&&(0,M.Tn)(R)&&(y=R(),R=null),y})}F[A.O_]=function(U){return U?U===p[c]||U===p[f]?F[U]:(F[d]||{})[U]:null},F[A.e_]=function(U,W){if(U)if(U===p[c])F[U]||(F[A.Zu]=function(){return!0}),F[U]=W;else if(U===p[f])F[U]=W;else{var K=F[d]=F[d]||{};K[U]=W}},F[A.Ru]=function(){var U=0,W=F[A.O_](p[f]);if((0,M.cy)(W))for(var K=0;K<W[A.oI];K++){var Z=W[K];Z&&(U+=Z[A.fA])}F[A.fA]=(0,M.x3)()-F.start,F.exTime=F[A.fA]-U,F[A.Ru]=function(){},!z&&(0,M.Tn)(R)&&(F.payload=R())}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),b=function(){function p(C){this.ctx={},(0,E.A)(p,this,function(R){R.create=function(D,F,z){return new _(D,F,z)},R.fire=function(D){D&&(D[A.Ru](),C&&(0,M.Tn)(C[S.l0])&&C[S.l0](D))},R[A.e_]=function(D,F){if(D){var z=R[d]=R[d]||{};z[D]=F}},R[A.O_]=function(D){return(R[d]||{})[D]}})}return p.__ieDyn=1,p}(),u="CoreUtils.doPerf";function k(p,C,R,D,F){if(p){var z=p;if(z[S.kI]&&(z=z[S.kI]()),z){var y=void 0,U=z[A.O_](u);try{if(y=z.create(C(),D,F),y){if(U&&y[A.e_]&&(y[A.e_](_[c],U),U[A.O_]&&U[A.e_])){var W=U[A.O_](_[f]);W||(W=[],U[A.e_](_[f],W)),W[A.y5](y)}return z[A.e_](u,y),R(y)}}catch(K){y&&y[A.e_]&&y[A.e_]("exception",K)}finally{y&&z.fire(y),z[A.e_](u,U)}}}return R()}function m(p){h=p}function v(){return h}},8997:(s,G,T)=>{"use strict";T.d(G,{PV:()=>R,W0:()=>F,i8:()=>v,nU:()=>C,tS:()=>p});var E=T(60830),A=T(99015),M=T(44180),S=T(12497),d=T(1972),c=T(5204),f=T(33540),h="TelemetryPluginChain",_="_hasRun",b="_getTelCtx",u=0;function k(z,y,U){for(;z;){if(z[E.AP]()===U)return z;z=z[E.uR]()}return R([U],y[E.GA]||{},y)}function m(z,y,U,W){var K=null,Z=[];W!==null&&(K=W?k(z,U,W):z);var re={_next:P,ctx:{core:function(){return U},diagLog:function(){return(0,A.y0)(U,y)},getCfg:function(){return y},getExtCfg:$,getConfig:N,hasNext:function(){return!!K},getNext:function(){return K},setNext:function(w){K=w},iterate:o,onComplete:X}};function X(w,I){for(var q=[],j=2;j<arguments.length;j++)q[j-2]=arguments[j];w&&Z[E.y5]({func:w,self:(0,S.b0)(I)?re.ctx:I,args:q})}function P(){var w=K;if(K=w?w[E.uR]():null,!w){var I=Z;I&&I[E.oI]>0&&((0,S.Iu)(I,function(q){try{q.func[E.Ek](q.self,q.args)}catch(j){(0,A.ZP)(U[E.Uw],2,73,"Unexpected Exception during onComplete - "+(0,M.mm)(j))}}),Z=[])}return w}function $(w,I,q){I===void 0&&(I={}),q===void 0&&(q=0);var j;if(y){var H=y[d.Bw];H&&w&&(j=H[w])}if(!j)j=I;else if((0,S.Gv)(I)&&q!==0){var ee=(0,S.CP)(!0,I,j);y&&q===2&&(0,S.z)(I,function(ie){if((0,S.hX)(ee[ie])){var B=y[ie];(0,S.hX)(B)||(ee[ie]=B)}}),j=ee}return j}function N(w,I,q){q===void 0&&(q=!1);var j,H=$(w,null);return H&&!(0,S.hX)(H[I])?j=H[I]:y&&!(0,S.hX)(y[I])&&(j=y[I]),(0,S.hX)(j)?q:j}function o(w){for(var I;I=re._next();){var q=I[E.AP]();q&&w(q)}}return re}function v(z,y,U,W){var K=m(z,y,U,W),Z=K.ctx;function re(P){var $=K._next();return $&&$[d.qT](P,Z),!$}function X(P,$){return P===void 0&&(P=null),(0,S.cy)(P)&&(P=R(P,y,U,$)),v(P||Z[E.uR](),y,U,$)}return Z[E.$5]=re,Z[E.$o]=X,Z}function p(z,y,U){var W=y[E.GA]||{},K=m(z,W,y,U),Z=K.ctx;function re(P){var $=K._next();return $&&$.unload(Z,P),!$}function X(P,$){return P===void 0&&(P=null),(0,S.cy)(P)&&(P=R(P,W,y,$)),p(P||Z[E.uR](),y,$)}return Z[E.$5]=re,Z[E.$o]=X,Z}function C(z,y,U){var W=y[E.GA]||{},K=m(z,W,y,U),Z=K.ctx;function re(P){return Z.iterate(function($){(0,S.Tn)($[E.HC])&&$[E.HC](Z,P)})}function X(P,$){return P===void 0&&(P=null),(0,S.cy)(P)&&(P=R(P,W,y,$)),C(P||Z[E.uR](),y,$)}return Z[E.$5]=re,Z[E.$o]=X,Z}function R(z,y,U,W){var K=null,Z=!W;if((0,S.cy)(z)&&z[E.oI]>0){var re=null;(0,S.Iu)(z,function(X){if(!Z&&W===X&&(Z=!0),Z&&X&&(0,S.Tn)(X[d.qT])){var P=D(X,y,U);K||(K=P),re&&re._setNext(P),re=P}})}return W&&!K?R([W],y,U):K}function D(z,y,U){var W=null,K=(0,S.Tn)(z[d.qT]),Z=(0,S.Tn)(z[E.YH]),re;z?re=z[E.Ju]+"-"+z[d.Vo]+"-"+u++:re="Unknown-0-"+u++;var X={getPlugin:function(){return z},getNext:function(){return W},processTelemetry:N,unload:o,update:w,_id:re,_setNext:function(I){W=I}};function P(){var I;return z&&(0,S.Tn)(z[b])&&(I=z[b]()),I||(I=v(X,y,U)),I}function $(I,q,j,H,ee){var ie=!1,B=z?z[E.Ju]:h,ne=I[_];return ne||(ne=I[_]={}),I.setNext(W),z&&(0,c.r2)(I[d.eT](),function(){return B+":"+j},function(){ne[re]=!0;try{var Le=W?W._id:d.m5;Le&&(ne[Le]=!1),ie=q(I)}catch(Me){var pe=W?ne[W._id]:!0;pe&&(ie=!0),(!W||!pe)&&(0,A.ZP)(I[E.e4](),1,73,"Plugin ["+B+"] failed during "+j+" - "+(0,M.mm)(Me)+", run flags: "+(0,M.mm)(ne))}},H,ee),ie}function N(I,q){q=q||P();function j(H){if(!z||!K)return!1;var ee=(0,f.Cr)(z);return ee[E.Ik]||ee[d.Hr]?!1:(Z&&z[E.YH](W),z[d.qT](I,H),!0)}$(q,j,"processTelemetry",function(){return{item:I}},!I.sync)||q[E.$5](I)}function o(I,q){function j(){var H=!1;if(z){var ee=(0,f.Cr)(z),ie=z[d.eT]||ee[d.eT];z&&(!ie||ie===I.core())&&!ee[E.Ik]&&(ee[d.eT]=null,ee[E.Ik]=!0,ee[E.tZ]=!1,z[E.Ik]&&z[E.Ik](I,q)===!0&&(H=!0))}return H}$(I,j,"unload",function(){},q[E.tI])||I[E.$5](q)}function w(I,q){function j(){var H=!1;if(z){var ee=(0,f.Cr)(z),ie=z[d.eT]||ee[d.eT];z&&(!ie||ie===I.core())&&!ee[E.Ik]&&z[E.HC]&&z[E.HC](I,q)===!0&&(H=!0)}return H}$(I,j,"update",function(){},!1)||I[E.$5](q)}return(0,S.N6)(X)}var F=function(){function z(y,U,W,K){var Z=this,re=v(y,U,W,K);(0,S.o$)(Z,re,(0,S.cG)(re))}return z}()},57679:(s,G,T)=>{"use strict";T.d(G,{Si:()=>C,VN:()=>m,Z1:()=>k,k5:()=>p,yc:()=>v});var E=T(60830),A=T(44180),M=T(12497),S=T(1972),d=4294967296,c=4294967295,f=!1,h=123456789,_=987654321;function b(R){R<0&&(R>>>=0),h=123456789+R&c,_=987654321-R&c,f=!0}function u(){try{var R=(0,M.x3)()&2147483647;b((Math.random()*d^R)+R)}catch{}}function k(R){return R>0?Math.floor(m()/c*(R+1))>>>0:0}function m(R){var D=0,F=(0,A.MY)()||(0,A.iN)();return F&&F.getRandomValues&&(D=F.getRandomValues(new Uint32Array(1))[0]&c),D===0&&(0,A.lT)()&&(f||u(),D=p()&c),D===0&&(D=Math.floor(d*Math.random()|0)),R||(D>>>=0),D}function v(R){R?b(R):u()}function p(R){_=36969*(_&65535)+(_>>16)&c,h=18e3*(h&65535)+(h>>16)&c;var D=(_<<16)+(h&65535)>>>0&c|0;return R||(D>>>=0),D}function C(R){R===void 0&&(R=22);for(var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=m()>>>0,z=0,y=S.m5;y[E.oI]<R;)z++,y+=D.charAt(F&63),F>>>=6,z===5&&(F=(m()<<2&4294967295|F&3)>>>0,z=0);return y}},33540:(s,G,T)=>{"use strict";T.d(G,{Cr:()=>f,Xc:()=>_,pI:()=>h,u7:()=>u});var E=T(60830),A=T(64252),M=T(12497),S=T(1972),d=T(68560),c=(0,A.T)("plugin");function f(k){return c.get(k,"state",{},!0)}function h(k,m){for(var v=[],p=null,C=k[E.uR](),R;C;){var D=C[E.AP]();if(D){p&&(0,M.Tn)(p[E.YH])&&(0,M.Tn)(D[S.qT])&&p[E.YH](D);var F=!1;(0,M.Tn)(D[E.tZ])?F=D[E.tZ]():(R=f(D),F=R[E.tZ]),F||v[E.y5](D),p=D,C=C[E.uR]()}}(0,M.Iu)(v,function(z){var y=k[S.eT]();z[E.mE](k.getCfg(),y,m,k[E.uR]()),R=f(z),!z[S.eT]&&!R[S.eT]&&(R[S.eT]=y),R[E.tZ]=!0,delete R[E.Ik]})}function _(k){return k.sort(function(m,v){var p=0;if(v){var C=(0,M.Tn)(v[S.qT]);(0,M.Tn)(m[S.qT])?p=C?m[S.Vo]-v[S.Vo]:1:C&&(p=-1)}else p=m?1:-1;return p})}function b(k,m,v,p){var C=0;function R(){for(;C<k[_DYN_LENGTH];){var D=k[C++];if(D){var F=D._doUnload||D[_DYN__DO_TEARDOWN];if(isFunction(F)&&F[_DYN_CALL](D,m,v,R)===!0)return!0}}}return R()}function u(k){var m={};return{getName:function(){return m[E.RS]},setName:function(v){k&&k.setName(v),m[E.RS]=v},getTraceId:function(){return m[E.P5]},setTraceId:function(v){k&&k.setTraceId(v),(0,d.hX)(v)&&(m[E.P5]=v)},getSpanId:function(){return m[E.wi]},setSpanId:function(v){k&&k.setSpanId(v),(0,d.wN)(v)&&(m[E.wi]=v)},getTraceFlags:function(){return m[E.Rr]},setTraceFlags:function(v){k&&k.setTraceFlags(v),m[E.Rr]=v}}}},49388:(s,G,T)=>{"use strict";T.d(G,{P:()=>d});var E=T(60830),A=T(99015),M=T(44180),S=T(12497);function d(){var c=[];function f(_){_&&c[E.y5](_)}function h(_,b){(0,S.Iu)(c,function(u){try{u(_,b)}catch(k){(0,A.ZP)(_[E.e4](),2,73,"Unexpected error calling unload handler - "+(0,M.mm)(k))}}),c=[]}return{add:f,run:h}}},68560:(s,G,T)=>{"use strict";T.d(G,{L0:()=>z,N7:()=>F,ZI:()=>p,ef:()=>y,hX:()=>C,mJ:()=>D,wN:()=>R,wk:()=>v});var E=T(60830),A=T(32578),M=T(44180),S=T(12497),d=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,c="00",f="ff",h="00000000000000000000000000000000",_="0000000000000000",b=1;function u(U,W,K){return U&&U[E.oI]===W&&U!==K?!!U.match(/^[\da-f]*$/):!1}function k(U,W,K){return u(U,W)?U:K}function m(U){(isNaN(U)||U<0||U>255)&&(U=1);for(var W=U.toString(16);W[E.oI]<2;)W="0"+W;return W}function v(U,W,K,Z){var re;return re={},re[E.s]=u(Z,2,f)?Z:c,re[E.P5]=C(U)?U:(0,A.cL)(),re.spanId=R(W)?W:(0,A.cL)()[E.$4](0,16),re.traceFlags=K>=0&&K<=255?K:1,re}function p(U){var W;if(!U||((0,S.cy)(U)&&(U=U[0]||""),!U||!(0,S.Kg)(U)||U[E.oI]>8192))return null;var K=d.exec((0,S.EH)(U));return!K||K[1]===f||K[2]===h||K[3]===_?null:(W={},W[E.s]=K[1],W[E.P5]=K[2],W[E.wi]=K[3],W[E.Rr]=parseInt(K[4],16),W)}function C(U){return u(U,32,h)}function R(U){return u(U,16,_)}function D(U){return!(!U||!u(U[E.s],2,f)||!u(U[E.P5],32,h)||!u(U[E.wi],16,_)||!u(m(U[E.Rr]),2))}function F(U){return D(U)?(U[E.Rr]&b)===b:!1}function z(U){if(U){var W=m(U[E.Rr]);u(W,2)||(W="01");var K=U[E.s]||c;return K!=="00"&&K!=="ff"&&(K=c),"".concat(K,"-").concat(k(U.traceId,32,h),"-").concat(k(U.spanId,16,_),"-").concat(W)}return""}function y(){var U="traceparent",W=p((0,M.$Z)(U));return W||(W=p((0,M.Iu)(U))),W}},60830:(s,G,T)=>{"use strict";T.d(G,{$4:()=>ie,$5:()=>k,$o:()=>o,AP:()=>D,Di:()=>C,EX:()=>F,Ek:()=>J,GA:()=>f,H7:()=>z,HC:()=>X,Ic:()=>y,Ik:()=>U,JR:()=>W,Ju:()=>S,OL:()=>Pe,O_:()=>L,P5:()=>be,QM:()=>te,RF:()=>M,RS:()=>A,Re:()=>q,Rr:()=>ge,Ru:()=>oe,Sj:()=>I,TP:()=>p,Uw:()=>_,W7:()=>Le,YH:()=>N,Yo:()=>fe,Zu:()=>Se,a$:()=>pe,by:()=>R,e4:()=>$,e_:()=>O,fA:()=>u,kt:()=>ee,lJ:()=>ve,lK:()=>w,mE:()=>E,oI:()=>b,pM:()=>K,ps:()=>m,re:()=>B,s:()=>De,sY:()=>H,sl:()=>h,sx:()=>Me,tI:()=>Z,tX:()=>j,tZ:()=>c,tn:()=>re,uR:()=>P,vR:()=>v,wi:()=>ke,y5:()=>d,y9:()=>ne});var E="initialize",A="name",M="getNotifyMgr",S="identifier",d="push",c="isInitialized",f="config",h="instrumentationKey",_="logger",b="length",u="time",k="processNext",m="getProcessTelContext",v="addNotificationListener",p="removeNotificationListener",C="stopPollingInternalLogs",R="onComplete",D="getPlugin",F="flush",z="_extensions",y="splice",U="teardown",W="messageId",K="message",Z="isAsync",re="_doTeardown",X="update",P="getNext",$="diagLog",N="setNextPlugin",o="createNew",w="cookieCfg",I="indexOf",q="substring",j="userAgent",H="split",ee="setEnabled",ie="substr",B="nodeType",ne="apply",Le="replace",pe="enableDebugExceptions",Me="logInternalMessage",Pe="toLowerCase",J="call",te="type",fe="handler",ve="listeners",Se="isChildEvt",L="getCtx",O="setCtx",oe="complete",be="traceId",ke="spanId",ge="traceFlags",De="version"},47672:(s,G,T)=>{"use strict";T.d(G,{J$:()=>k,KU:()=>u,OR:()=>b,QV:()=>d,Wy:()=>h,_1:()=>A,bA:()=>M,hW:()=>E,s6:()=>f,vR:()=>S,zi:()=>_});var E="function",A="object",M="undefined",S="prototype",d="hasOwnProperty",c="default",f=Object,h=f[S],_=f.assign,b=f.create,u=f.defineProperty,k=h[d]},75148:(s,G,T)=>{"use strict";T.d(G,{AQ:()=>d,mS:()=>M,zk:()=>S});var E=T(47672),A=null;function M(c){c===void 0&&(c=!0);var f=c===!1?null:A;return f||(typeof globalThis!==E.bA&&(f=globalThis),!f&&typeof self!==E.bA&&(f=self),!f&&typeof window!==E.bA&&(f=window),!f&&typeof T.g!==E.bA&&(f=T.g),A=f),f}function S(c){throw new TypeError(c)}function d(c){var f=E.OR;if(f)return f(c);if(c==null)return{};var h=typeof c;h!==E._1&&h!==E.hW&&S("Object prototype may only be an Object:"+c);function _(){}return _[E.vR]=c,new _}},8747:(s,G,T)=>{"use strict";T.d(G,{Im:()=>k,qU:()=>v,vz:()=>K});var E=T(47672),A=T(75148),M=((0,A.mS)()||{}).Symbol,S=((0,A.mS)()||{}).Reflect,d=!!M,c=!!S,f="decorate",h="metadata",_="getOwnPropertySymbols",b="iterator",u=function(P){for(var $,N=1,o=arguments.length;N<o;N++){$=arguments[N];for(var w in $)E.Wy[E.QV].call($,w)&&(P[w]=$[w])}return P},k=E.zi||u,m=function(P,$){return m=E.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,o){N.__proto__=o}||function(N,o){for(var w in o)o[E.QV](w)&&(N[w]=o[w])},m(P,$)};function v(P,$){typeof $!==E.hW&&$!==null&&(0,A.zk)("Class extends value "+String($)+" is not a constructor or null"),m(P,$);function N(){this.constructor=P}P[E.vR]=$===null?(0,A.AQ)($):(N[E.vR]=$[E.vR],new N)}function p(P,$){var N={};for(var o in P)ObjHasOwnProperty.call(P,o)&&$.indexOf(o)<0&&(N[o]=P[o]);if(P!=null&&typeof ObjClass[_]===strShimFunction)for(var w=0,I=ObjClass[_](P);w<I.length;w++)$.indexOf(I[w])<0&&ObjProto.propertyIsEnumerable.call(P,I[w])&&(N[I[w]]=P[I[w]]);return N}function C(P,$,N,o){var w=arguments.length,I=w<3?$:o===null?o=ObjClass.getOwnPropertyDescriptor($,N):o,q;if(c&&typeof S[f]===strShimFunction)I=S[f](P,$,N,o);else for(var j=P.length-1;j>=0;j--)(q=P[j])&&(I=(w<3?q(I):w>3?q($,N,I):q($,N))||I);return w>3&&I&&ObjDefineProperty($,N,I),I}function R(P,$){return function(N,o){$(N,o,P)}}function D(P,$){if(c&&S[h]===strShimFunction)return S[h](P,$)}function F(P,$){for(var N in P)N!==strDefault&&!ObjHasOwnProperty.call($,N)&&z($,P,N)}function z(P,$,N,o){o===void 0&&(o=N),ObjCreate?ObjDefineProperty(P,o,{enumerable:!0,get:function(){return $[N]}}):P[o]=$[N]}function y(P){var $=typeof M===strShimFunction&&M[b],N=$&&P[$],o=0;if(N)return N.call(P);if(P&&typeof P.length=="number")return{next:function(){return P&&o>=P.length&&(P=void 0),{value:P&&P[o++],done:!P}}};throwTypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(P,$){var N=typeof M===strShimFunction&&P[M[b]];if(!N)return P;var o=N.call(P),w,I=[],q;try{for(;($===void 0||$-- >0)&&!(w=o.next()).done;)I.push(w.value)}catch(j){q={error:j}}finally{try{w&&!w.done&&(N=o.return)&&N.call(o)}finally{if(q)throw q.error}}return I}function W(){for(var P=arguments,$=0,N=0,o=P.length;N<o;N++)$+=P[N].length;for(var w=Array($),I=0,N=0;N<o;N++)for(var q=P[N],j=0,H=q.length;j<H;j++,I++)w[I]=q[j];return w}function K(P,$){for(var N=0,o=$.length,w=P.length;N<o;N++,w++)P[w]=$[N];return P}function Z(P,$){return ObjDefineProperty?ObjDefineProperty(P,"raw",{value:$}):P.raw=$,P}function re(P){if(P&&P.__esModule)return P;var $={};if(P!=null)for(var N in P)N!==strDefault&&Object.prototype.hasOwnProperty.call(P,N)&&z($,P,N);return ObjCreate?ObjDefineProperty($,strDefault,{enumerable:!0,value:P}):$[strDefault]=P,$}function X(P){return P&&P.__esModule?P:{strDefault:P}}},94731:(s,G,T)=>{"use strict";T.r(G),T.d(G,{AppInsightsCore:()=>Ns._,ApplicationInsights:()=>Fu,CoreUtils:()=>li.jS,Sender:()=>Ro,SeverityLevel:()=>Ud,_InternalMessageId:()=>Ld.$,arrForEach:()=>ke.Iu,isNullOrUndefined:()=>ke.hX,proxyFunctions:()=>ke.o$,throwError:()=>ke.$8});var E=T(92457),A=T(8747),M="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",S="sampleRate",d="ProcessLegacy",c="http.method",f="https://dc.services.visualstudio.com",h="/v2/track",_="not_specified",b="iKey",u="split",k="length",m="toLowerCase",v="ingestionendpoint",p="toString",C="removeItem",R="name",D="message",F="count",z="preTriggerDate",y="disabled",U="interval",W="daysOfMonth",K="date",Z="getUTCDate",re="stringify",X="pathname",P="correlationHeaderExcludePatterns",$="indexOf",N="extensionConfig",o="exceptions",w="parsedStack",I="properties",q="measurements",j="sizeInBytes",H="typeName",ee="severityLevel",ie="problemGroup",B="isManual",ne="CreateFromInterface",Le="hasFullStack",pe="level",Me="method",Pe="assembly",J="fileName",te="line",fe="duration",ve="receivedResponse",Se="substring",L="sanitizeKeyAndAddUniqueness",O="sanitizeException",oe="sanitizeProperties",be="sanitizeMeasurements",ke=T(12497),ge=T(99015),De=T(44180),Ge;function We(Te,he,Ne){var xe=he[k],Ve=Nt(Te,he);if(Ve[k]!==xe){for(var Xe=0,nt=Ve;Ne[nt]!==void 0;)Xe++,nt=Ve[Se](0,147)+Ye(Xe);Ve=nt}return Ve}function Nt(Te,he){var Ne;return he&&(he=(0,ke.EH)(he[p]()),he[k]>150&&(Ne=he[Se](0,150),(0,ge.ZP)(Te,2,57,"name is too long.  It has been truncated to 150 characters.",{name:he},!0))),Ne||he}function Ze(Te,he,Ne){Ne===void 0&&(Ne=1024);var xe;return he&&(Ne=Ne||1024,he=(0,ke.EH)(he),he.toString()[k]>Ne&&(xe=he[p]()[Se](0,Ne),(0,ge.ZP)(Te,2,61,"string value is too long. It has been truncated to "+Ne+" characters.",{value:he},!0))),xe||he}function it(Te,he){return Fe(Te,he,2048,66)}function Et(Te,he){var Ne;return he&&he[k]>32768&&(Ne=he[Se](0,32768),(0,ge.ZP)(Te,2,56,"message is too long, it has been truncated to 32768 characters.",{message:he},!0)),Ne||he}function ce(Te,he){var Ne;if(he){var xe=""+he;xe[k]>32768&&(Ne=xe[Se](0,32768),(0,ge.ZP)(Te,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:he},!0))}return Ne||he}function Q(Te,he){if(he){var Ne={};(0,ke.z)(he,function(xe,Ve){if((0,ke.Gv)(Ve)&&(0,De.Z)())try{Ve=(0,De.hm)()[re](Ve)}catch(Xe){(0,ge.ZP)(Te,2,49,"custom property is not valid",{exception:Xe},!0)}Ve=Ze(Te,Ve,8192),xe=We(Te,xe,Ne),Ne[xe]=Ve}),he=Ne}return he}function se(Te,he){if(he){var Ne={};(0,ke.z)(he,function(xe,Ve){xe=We(Te,xe,Ne),Ne[xe]=Ve}),he=Ne}return he}function ye(Te,he){return he&&Fe(Te,he,128,69)[p]()}function Fe(Te,he,Ne,xe){var Ve;return he&&(he=(0,ke.EH)(he),he[k]>Ne&&(Ve=he[Se](0,Ne),(0,ge.ZP)(Te,2,xe,"input is too long, it has been truncated to "+Ne+" characters.",{data:he},!0))),Ve||he}function Ye(Te){var he="00"+Te;return he.substr(he[k]-3)}var Ue=(Ge={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Ge[L]=We,Ge.sanitizeKey=Nt,Ge.sanitizeString=Ze,Ge.sanitizeUrl=it,Ge.sanitizeMessage=Et,Ge[O]=ce,Ge[oe]=Q,Ge[be]=se,Ge.sanitizeId=ye,Ge.sanitizeInput=Fe,Ge.padNumber=Ye,Ge.trim=ke.EH,Ge),et=function(){function Te(he,Ne,xe,Ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Xe=this;Xe.ver=2,Xe[R]=Ze(he,Ne)||_,Xe[I]=Q(he,xe),Xe[q]=se(he,Ve)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Te.dataType="EventData",Te}(),It=function(){function Te(he,Ne,xe,Ve,Xe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var nt=this;nt.ver=2,Ne=Ne||_,nt[D]=Et(he,Ne),nt[I]=Q(he,Ve),nt[q]=se(he,Xe),xe&&(nt[ee]=xe)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Te.dataType="MessageData",Te}(),at="";function ct(Te,he){return he===void 0&&(he=!1),Te==null?he:Te.toString()[m]()==="true"}function pt(Te){(isNaN(Te)||Te<0)&&(Te=0),Te=Math.round(Te);var he=at+Te%1e3,Ne=at+Math.floor(Te/1e3)%60,xe=at+Math.floor(Te/(1e3*60))%60,Ve=at+Math.floor(Te/(1e3*60*60))%24,Xe=Math.floor(Te/(1e3*60*60*24));return he=he[k]===1?"00"+he:he[k]===2?"0"+he:he,Ne=Ne[k]<2?"0"+Ne:Ne,xe=xe[k]<2?"0"+xe:xe,Ve=Ve[k]<2?"0"+Ve:Ve,(Xe>0?Xe+".":at)+Ve+":"+xe+":"+Ne+"."+he}function St(Te,he){var Ne=null;return(0,ke.Iu)(Te,function(xe){if(xe.identifier===he)return Ne=xe,-1}),Ne}function Rt(Te,he,Ne,xe,Ve){return!Ve&&(0,ke.Kg)(Te)&&(Te==="Script error."||Te==="Script error")}var pi=function(){function Te(he,Ne,xe,Ve,Xe,nt,mt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Wt=this;Wt.ver=2,Wt.id=ye(he,mt),Wt.url=it(he,xe),Wt[R]=Ze(he,Ne)||_,isNaN(Ve)||(Wt[fe]=pt(Ve)),Wt[I]=Q(he,Xe),Wt[q]=se(he,nt)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Te.dataType="PageviewData",Te}(),kt=function(){function Te(he,Ne,xe,Ve,Xe,nt,mt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Wt=this;Wt.ver=2,Wt.url=it(he,xe),Wt[R]=Ze(he,Ne)||_,Wt[I]=Q(he,Xe),Wt[q]=se(he,nt),mt&&(Wt.domProcessing=mt.domProcessing,Wt[fe]=mt[fe],Wt.networkConnect=mt.networkConnect,Wt.perfTotal=mt.perfTotal,Wt[ve]=mt[ve],Wt.sentRequest=mt.sentRequest)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Te.dataType="PageviewPerformanceData",Te}(),Ut="<no_method>",Ki="error",Pt="stack",Qt="stackDetails",qi="errorSrc",vt="message",lt="description";function Tr(Te,he){var Ne=Te;return Ne&&!(0,ke.Kg)(Ne)&&(JSON&&JSON[re]?(Ne=JSON[re](Te),he&&(!Ne||Ne==="{}")&&((0,ke.Tn)(Te[p])?Ne=Te[p]():Ne=""+Te)):Ne=""+Te+" - (Missing JSON.stringify)"),Ne||""}function Jt(Te,he){var Ne=Te;return Te&&(Ne&&!(0,ke.Kg)(Ne)&&(Ne=Te[vt]||Te[lt]||Ne),Ne&&!(0,ke.Kg)(Ne)&&(Ne=Tr(Ne,!0)),Te.filename&&(Ne=Ne+" @"+(Te.filename||"")+":"+(Te.lineno||"?")+":"+(Te.colno||"?"))),he&&he!=="String"&&he!=="Object"&&he!=="Error"&&(Ne||"")[$](he)===-1&&(Ne=he+": "+Ne),Ne||""}function ri(Te){try{if((0,ke.Gv)(Te))return"hasFullStack"in Te&&"typeName"in Te}catch{}return!1}function dr(Te){try{if((0,ke.Gv)(Te))return"ver"in Te&&"exceptions"in Te&&"properties"in Te}catch{}return!1}function Oe(Te){return Te&&Te.src&&(0,ke.Kg)(Te.src)&&Te.obj&&(0,ke.cy)(Te.obj)}function Qe(Te){var he=Te||"";(0,ke.Kg)(he)||((0,ke.Kg)(he[Pt])?he=he[Pt]:he=""+he);var Ne=he[u](`
`);return{src:he,obj:Ne}}function bt(Te){for(var he=[],Ne=Te[u](`
`),xe=0;xe<Ne[k];xe++){var Ve=Ne[xe];Ne[xe+1]&&(Ve+="@"+Ne[xe+1],xe++),he.push(Ve)}return{src:Te,obj:he}}function dt(Te){var he=null;if(Te)try{if(Te[Pt])he=Qe(Te[Pt]);else if(Te[Ki]&&Te[Ki][Pt])he=Qe(Te[Ki][Pt]);else if(Te.exception&&Te.exception[Pt])he=Qe(Te.exception[Pt]);else if(Oe(Te))he=Te;else if(Oe(Te[Qt]))he=Te[Qt];else if(window&&window.opera&&Te[vt])he=bt(Te[D]);else if(Te.reason&&Te.reason[Pt])he=Qe(Te.reason[Pt]);else if((0,ke.Kg)(Te))he=Qe(Te);else{var Ne=Te[vt]||Te[lt]||"";(0,ke.Kg)(Te[qi])&&(Ne&&(Ne+=`
`),Ne+=" from "+Te[qi]),Ne&&(he=Qe(Ne))}}catch(xe){he=Qe(xe)}return he||{src:"",obj:null}}function gt(Te){var he="";return Te&&(Te.obj?(0,ke.Iu)(Te.obj,function(Ne){he+=Ne+`
`}):he=Te.src||""),he}function oi(Te){var he,Ne=Te.obj;if(Ne&&Ne[k]>0){he=[];var xe=0,Ve=0;(0,ke.Iu)(Ne,function(Fi){var Vi=Fi[p]();if(Tt.regex.test(Vi)){var st=new Tt(Vi,xe++);Ve+=st[j],he.push(st)}});var Xe=32*1024;if(Ve>Xe)for(var nt=0,mt=he[k]-1,Wt=0,Zt=nt,si=mt;nt<mt;){var Ni=he[nt][j],Li=he[mt][j];if(Wt+=Ni+Li,Wt>Xe){var Ri=si-Zt+1;he.splice(Zt,Ri);break}Zt=nt,si=mt,nt++,mt--}}return he}function Dt(Te){var he="";if(Te&&(he=Te.typeName||Te[R]||"",!he))try{var Ne=/function (.{1,200})\(/,xe=Ne.exec(Te.constructor[p]());he=xe&&xe[k]>1?xe[1]:""}catch{}return he}function jt(Te){if(Te)try{if(!(0,ke.Kg)(Te)){var he=Dt(Te),Ne=Tr(Te,!1);return(!Ne||Ne==="{}")&&(Te[Ki]&&(Te=Te[Ki],he=Dt(Te)),Ne=Tr(Te,!0)),Ne[$](he)!==0&&he!=="String"?he+":"+Ne:Ne}}catch{}return""+(Te||"")}var qt=function(){function Te(he,Ne,xe,Ve,Xe,nt){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var mt=this;mt.ver=2,dr(Ne)?(mt[o]=Ne[o]||[],mt[I]=Ne[I],mt[q]=Ne[q],Ne[ee]&&(mt[ee]=Ne[ee]),Ne.id&&(mt.id=Ne.id),Ne[ie]&&(mt[ie]=Ne[ie]),(0,ke.hX)(Ne[B])||(mt[B]=Ne[B])):(xe||(xe={}),mt[o]=[new ut(he,Ne,xe)],mt[I]=Q(he,xe),mt[q]=se(he,Ve),Xe&&(mt[ee]=Xe),nt&&(mt.id=nt))}return Te.CreateAutoException=function(he,Ne,xe,Ve,Xe,nt,mt,Wt){var Zt,si=Dt(Xe||nt||he);return Zt={},Zt[D]=Jt(he,si),Zt.url=Ne,Zt.lineNumber=xe,Zt.columnNumber=Ve,Zt.error=jt(Xe||nt||he),Zt.evt=jt(nt||he),Zt[H]=si,Zt.stackDetails=dt(mt||Xe||nt),Zt.errorSrc=Wt,Zt},Te.CreateFromInterface=function(he,Ne,xe,Ve){var Xe=Ne[o]&&(0,ke.W$)(Ne[o],function(mt){return ut[ne](he,mt)}),nt=new Te(he,(0,A.Im)((0,A.Im)({},Ne),{exceptions:Xe}),xe,Ve);return nt},Te.prototype.toInterface=function(){var he,Ne=this,xe=Ne.exceptions,Ve=Ne.properties,Xe=Ne.measurements,nt=Ne.severityLevel,mt=Ne.problemGroup,Wt=Ne.id,Zt=Ne.isManual,si=xe instanceof Array&&(0,ke.W$)(xe,function(Ni){return Ni.toInterface()})||void 0;return he={ver:"4.0"},he[o]=si,he.severityLevel=nt,he.properties=Ve,he.measurements=Xe,he.problemGroup=mt,he.id=Wt,he.isManual=Zt,he},Te.CreateSimpleException=function(he,Ne,xe,Ve,Xe,nt){var mt;return{exceptions:[(mt={},mt[Le]=!0,mt.message=he,mt.stack=Xe,mt.typeName=Ne,mt)]}},Te.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Te.dataType="ExceptionData",Te.formatError=jt,Te}(),ut=function(){function Te(he,Ne,xe){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Ve=this;if(ri(Ne))Ve[H]=Ne[H],Ve[D]=Ne[D],Ve[Pt]=Ne[Pt],Ve[w]=Ne[w]||[],Ve[Le]=Ne[Le];else{var Xe=Ne,nt=Xe&&Xe.evt;(0,ke.bJ)(Xe)||(Xe=Xe[Ki]||nt||Xe),Ve[H]=Ze(he,Dt(Xe))||_,Ve[D]=Et(he,Jt(Ne||Xe,Ve[H]))||_;var mt=Ne[Qt]||dt(Ne);Ve[w]=oi(mt),Ve[Pt]=ce(he,gt(mt)),Ve.hasFullStack=(0,ke.cy)(Ve.parsedStack)&&Ve.parsedStack[k]>0,xe&&(xe[H]=xe[H]||Ve[H])}}return Te.prototype.toInterface=function(){var he,Ne=this,xe=Ne[w]instanceof Array&&(0,ke.W$)(Ne[w],function(Xe){return Xe.toInterface()}),Ve=(he={id:Ne.id,outerId:Ne.outerId,typeName:Ne[H],message:Ne[D],hasFullStack:Ne[Le],stack:Ne[Pt]},he[w]=xe||void 0,he);return Ve},Te.CreateFromInterface=function(he,Ne){var xe=Ne[w]instanceof Array&&(0,ke.W$)(Ne[w],function(Xe){return Tt[ne](Xe)})||Ne[w],Ve=new Te(he,(0,A.Im)((0,A.Im)({},Ne),{parsedStack:xe}));return Ve},Te}(),Tt=function(){function Te(he,Ne){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var xe=this;if(xe[j]=0,typeof he=="string"){var Ve=he;xe[pe]=Ne,xe[Me]=Ut,xe[Pe]=(0,ke.EH)(Ve),xe[J]="",xe[te]=0;var Xe=Ve.match(Te.regex);Xe&&Xe[k]>=5&&(xe[Me]=(0,ke.EH)(Xe[2])||xe[Me],xe[J]=(0,ke.EH)(Xe[4]),xe[te]=parseInt(Xe[5])||0)}else xe[pe]=he[pe],xe[Me]=he[Me],xe[Pe]=he[Pe],xe[J]=he[J],xe[te]=he[te],xe[j]=0;xe.sizeInBytes+=xe.method[k],xe.sizeInBytes+=xe.fileName[k],xe.sizeInBytes+=xe.assembly[k],xe[j]+=Te.baseSize,xe.sizeInBytes+=xe.level.toString()[k],xe.sizeInBytes+=xe.line.toString()[k]}return Te.CreateFromInterface=function(he){return new Te(he,null)},Te.prototype.toInterface=function(){var he=this;return{level:he[pe],method:he[Me],assembly:he[Pe],fileName:he[J],line:he[te]}},Te.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Te.baseSize=58,Te}(),Mt=function(){function Te(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return Te}(),vi=function(){function Te(he,Ne,xe,Ve,Xe,nt,mt,Wt,Zt){this.aiDataContract={ver:1,metrics:1,properties:0};var si=this;si.ver=2;var Ni=new Mt;Ni[F]=Ve>0?Ve:void 0,Ni.max=isNaN(nt)||nt===null?void 0:nt,Ni.min=isNaN(Xe)||Xe===null?void 0:Xe,Ni[R]=Ze(he,Ne)||_,Ni.value=xe,Ni.stdDev=isNaN(mt)||mt===null?void 0:mt,si.metrics=[Ni],si[I]=Q(he,Wt),si[q]=se(he,Zt)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Te.dataType="MetricData",Te}(),li=T(32578),$t=T(91698),Ti=T(57679),mi=T(18413);function Mi(Te){var he=null;if((0,ke.Tn)(Event))he=new Event(Te);else{var Ne=(0,De.YE)();Ne&&Ne.createEvent&&(he=Ne.createEvent("Event"),he.initEvent(Te,!0,!0))}return he}var Ii=T(96434),Qi=(0,Ii.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Di=T(75148),Ci=(0,Ii.Hj)({LocalStorage:0,SessionStorage:1}),Bi=(0,Ii.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),Yt=void 0,ui=void 0;function ai(){return sr()?zi(Ci.LocalStorage):null}function zi(Te){try{if((0,ke.hX)((0,Di.mS)()))return null;var he=new Date()[p](),Ne=(0,De.EH)(Te===Ci.LocalStorage?"localStorage":"sessionStorage");Ne.setItem(he,he);var xe=Ne.getItem(he)!==he;if(Ne[C](he),!xe)return Ne}catch{}return null}function gi(){return nr()?zi(Ci.SessionStorage):null}function xi(){Yt=!1,ui=!1}function $i(){Yt=sr(!0),ui=nr(!0)}function sr(Te){return(Te||Yt===void 0)&&(Yt=!!zi(Ci.LocalStorage)),Yt}function Gi(Te,he){var Ne=ai();if(Ne!==null)try{return Ne.getItem(he)}catch(xe){Yt=!1,(0,ge.ZP)(Te,2,1,"Browser failed read of local storage. "+(0,ke.lL)(xe),{exception:(0,De.mm)(xe)})}return null}function gr(Te,he,Ne){var xe=ai();if(xe!==null)try{return xe.setItem(he,Ne),!0}catch(Ve){Yt=!1,(0,ge.ZP)(Te,2,3,"Browser failed write to local storage. "+(0,ke.lL)(Ve),{exception:(0,De.mm)(Ve)})}return!1}function Sr(Te,he){var Ne=ai();if(Ne!==null)try{return Ne[C](he),!0}catch(xe){Yt=!1,(0,ge.ZP)(Te,2,5,"Browser failed removal of local storage item. "+(0,ke.lL)(xe),{exception:(0,De.mm)(xe)})}return!1}function nr(Te){return(Te||ui===void 0)&&(ui=!!zi(Ci.SessionStorage)),ui}function Rr(){var Te=[];return nr()&&(0,ke.z)((0,De.EH)("sessionStorage"),function(he){Te.push(he)}),Te}function br(Te,he){var Ne=gi();if(Ne!==null)try{return Ne.getItem(he)}catch(xe){ui=!1,(0,ge.ZP)(Te,2,2,"Browser failed read of session storage. "+(0,ke.lL)(xe),{exception:(0,De.mm)(xe)})}return null}function fr(Te,he,Ne){var xe=gi();if(xe!==null)try{return xe.setItem(he,Ne),!0}catch(Ve){ui=!1,(0,ge.ZP)(Te,2,4,"Browser failed write to session storage. "+(0,ke.lL)(Ve),{exception:(0,De.mm)(Ve)})}return!1}function ki(Te,he){var Ne=gi();if(Ne!==null)try{return Ne[C](he),!0}catch(xe){ui=!1,(0,ge.ZP)(Te,2,6,"Browser failed removal of session storage item. "+(0,ke.lL)(xe),{exception:(0,De.mm)(xe)})}return!1}var bi=(0,De.YE)()||{},Cr=0,Tn=[null,null,null,null,null];function Nr(Te){var he=Cr,Ne=Tn,xe=Ne[he];return bi.createElement?Ne[he]||(xe=Ne[he]=bi.createElement("a")):xe={host:ln(Te,!0)},xe.href=Te,he++,he>=Ne[k]&&(he=0),Cr=he,xe}function vn(Te){var he,Ne=Nr(Te);return Ne&&(he=Ne.href),he}function Lr(Te){var he,Ne=Nr(Te);return Ne&&(he=Ne[X]),he}function Cn(Te,he){return Te?Te.toUpperCase()+" "+he:he}function ln(Te,he){var Ne=tr(Te,he)||"";if(Ne){var xe=Ne.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(xe!=null&&xe[k]>3&&(0,ke.Kg)(xe[2])&&xe[2][k]>0)return xe[2]+(xe[3]||"")}return Ne}function tr(Te,he){var Ne=null;if(Te){var xe=Te.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(xe!=null&&xe[k]>2&&(0,ke.Kg)(xe[2])&&xe[2][k]>0&&(Ne=xe[2]||"",he&&xe[k]>2)){var Ve=(xe[1]||"")[m](),Xe=xe[3]||"";(Ve==="http"&&Xe===":80"||Ve==="https"&&Xe===":443")&&(Xe=""),Ne+=Xe}}return Ne}var Dn=[f+h,"https://breeze.aimon.applicationinsights.io"+h,"https://dc-int.services.visualstudio.com"+h];function Ir(Te){return(0,ke.rD)(Dn,Te[m]())!==-1}var Zr={NotSpecified:_,createDomEvent:Mi,disableStorage:xi,isInternalApplicationInsightsEndpoint:Ir,canUseLocalStorage:sr,getStorage:Gi,setStorage:gr,removeStorage:Sr,canUseSessionStorage:nr,getSessionStorageKeys:Rr,getSessionStorage:br,setSessionStorage:fr,removeSessionStorage:ki,disableCookies:li.WD,canUseCookies:li.ht,disallowsSameSiteNone:$t.It,setCookie:li.TV,stringToBoolOrDefault:ct,getCookie:li.Ri,deleteCookie:li.Yj,trim:ke.EH,newId:Ti.Si,random32:function(){return(0,Ti.VN)(!0)},generateW3CId:li.cL,isArray:ke.cy,isError:ke.bJ,isDate:ke.$P,toISOStringForIE8:ke._u,getIEVersion:De.L0,msToTimeSpan:pt,isCrossOriginError:Rt,dump:De.mm,getExceptionName:ke.lL,addEventHandler:mi.Q3,IsBeaconApiSupported:De.Uf,getExtension:St},Fn={parseUrl:Nr,getAbsoluteUrl:vn,getPathName:Lr,getCompleteUrl:Cn,parseHost:ln,parseFullHost:tr},gn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(Te,he,Ne){if(!he||Te&&Te.disableCorrelationHeaders)return!1;if(Te&&Te[P]){for(var xe=0;xe<Te.correlationHeaderExcludePatterns[k];xe++)if(Te[P][xe].test(he))return!1}var Ve=Nr(he).host[m]();if(Ve&&(Ve[$](":443")!==-1||Ve[$](":80")!==-1)&&(Ve=(tr(he,!0)||"")[m]()),(!Te||!Te.enableCorsCorrelation)&&Ve&&Ve!==Ne)return!1;var Xe=Te&&Te.correlationHeaderDomains;if(Xe){var nt;if((0,ke.Iu)(Xe,function(Zt){var si=new RegExp(Zt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));nt=nt||si.test(Ve)}),!nt)return!1}var mt=Te&&Te.correlationHeaderExcludedDomains;if(!mt||mt[k]===0)return!0;for(var xe=0;xe<mt[k];xe++){var Wt=new RegExp(mt[xe].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Wt.test(Ve))return!1}return Ve&&Ve[k]>0},getCorrelationContext:function(Te){if(Te){var he=gn.getCorrelationContextValue(Te,Qi[1]);if(he&&he!==gn.correlationIdPrefix)return he}},getCorrelationContextValue:function(Te,he){if(Te)for(var Ne=Te[u](","),xe=0;xe<Ne[k];++xe){var Ve=Ne[xe][u]("=");if(Ve[k]===2&&Ve[0]===he)return Ve[1]}}};function Nn(Te,he,Ne,xe){var Ve,Xe=xe,nt=xe;if(he&&he[k]>0){var mt=Nr(he);if(Ve=mt.host,!Xe)if(mt[X]!=null){var Wt=mt.pathname[k]===0?"/":mt[X];Wt.charAt(0)!=="/"&&(Wt="/"+Wt),nt=mt[X],Xe=Ze(Te,Ne?Ne+" "+Wt:Wt)}else Xe=Ze(Te,he)}else Ve=xe,Xe=xe;return{target:Ve,name:Xe,data:nt}}function bn(){var Te=(0,De.FJ)();if(Te&&Te.now&&Te.timing){var he=Te.now()+Te.timing.navigationStart;if(he>0)return he}return(0,ke.x3)()}function Kn(Te,he){var Ne=null;return Te!==0&&he!==0&&!(0,ke.hX)(Te)&&!(0,ke.hX)(he)&&(Ne=he-Te),Ne}var Oa={Now:bn,GetDuration:Kn};function _a(Te,he){var Ne=Te||{};return{getName:function(){return Ne[_DYN_NAME]},setName:function(xe){he&&he.setName(xe),Ne[_DYN_NAME]=xe},getTraceId:function(){return Ne.traceID},setTraceId:function(xe){he&&he.setTraceId(xe),isValidTraceId(xe)&&(Ne.traceID=xe)},getSpanId:function(){return Ne.parentID},setSpanId:function(xe){he&&he.setSpanId(xe),isValidSpanId(xe)&&(Ne.parentID=xe)},getTraceFlags:function(){return Ne.traceFlags},setTraceFlags:function(xe){he&&he.setTraceFlags(xe),Ne.traceFlags=xe}}}var un=function(){function Te(he,Ne,xe,Ve,Xe,nt,mt,Wt,Zt,si,Ni,Li){Zt===void 0&&(Zt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ri=this;Ri.ver=2,Ri.id=Ne,Ri[fe]=pt(Xe),Ri.success=nt,Ri.resultCode=mt+"",Ri.type=Ze(he,Zt);var Fi=Nn(he,xe,Wt,Ve);Ri.data=it(he,Ve)||Fi.data,Ri.target=Ze(he,Fi.target),si&&(Ri.target="".concat(Ri.target," | ").concat(si)),Ri[R]=Ze(he,Fi[R]),Ri[I]=Q(he,Ni),Ri[q]=se(he,Li)}return Te.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Te.dataType="RemoteDependencyData",Te}(),oa="AppInsightsPropertiesPlugin",Ur="AppInsightsChannelPlugin",ka="ApplicationInsightsAnalytics",Wr=T(64252),Yi=T(56489);function ir(Te){var he="ai."+Te+".";return function(Ne){return he+Ne}}var Hi=ir("application"),$e=ir("device"),_t=ir("location"),yt=ir("operation"),Ct=ir("session"),Ft=ir("user"),wi=ir("cloud"),hi=ir("internal"),je=function(Te){(0,A.qU)(he,Te);function he(){return Te.call(this)||this}return he}((0,ke.SZ)({applicationVersion:Hi("ver"),applicationBuild:Hi("build"),applicationTypeId:Hi("typeId"),applicationId:Hi("applicationId"),applicationLayer:Hi("layer"),deviceId:$e("id"),deviceIp:$e("ip"),deviceLanguage:$e("language"),deviceLocale:$e("locale"),deviceModel:$e("model"),deviceFriendlyName:$e("friendlyName"),deviceNetwork:$e("network"),deviceNetworkName:$e("networkName"),deviceOEMName:$e("oemName"),deviceOS:$e("os"),deviceOSVersion:$e("osVersion"),deviceRoleInstance:$e("roleInstance"),deviceRoleName:$e("roleName"),deviceScreenResolution:$e("screenResolution"),deviceType:$e("type"),deviceMachineName:$e("machineName"),deviceVMName:$e("vmName"),deviceBrowser:$e("browser"),deviceBrowserVersion:$e("browserVersion"),locationIp:_t("ip"),locationCountry:_t("country"),locationProvince:_t("province"),locationCity:_t("city"),operationId:yt("id"),operationName:yt("name"),operationParentId:yt("parentId"),operationRootId:yt("rootId"),operationSyntheticSource:yt("syntheticSource"),operationCorrelationVector:yt("correlationVector"),sessionId:Ct("id"),sessionIsFirst:Ct("isFirst"),sessionIsNew:Ct("isNew"),userAccountAcquisitionDate:Ft("accountAcquisitionDate"),userAccountId:Ft("accountId"),userAgent:Ft("userAgent"),userId:Ft("id"),userStoreRegion:Ft("storeRegion"),userAuthUserId:Ft("authUserId"),userAnonymousUserAcquisitionDate:Ft("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ft("authUserAcquisitionDate"),cloudName:wi("name"),cloudRole:wi("role"),cloudRoleVer:wi("roleVer"),cloudRoleInstance:wi("roleInstance"),cloudEnvironment:wi("environment"),cloudLocation:wi("location"),cloudDeploymentUnit:wi("deploymentUnit"),internalNodeName:hi("nodeName"),internalSdkVersion:hi("sdkVersion"),internalAgentVersion:hi("agentVersion"),internalSnippet:hi("snippet"),internalSdkSrc:hi("sdkSrc")})),ht={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},rt=new je,Bt=function(){function Te(he,Ne,xe){var Ve=this,Xe=this;Xe.ver=1,Xe.sampleRate=100,Xe.tags={},Xe[R]=Ze(he,xe)||_,Xe.data=Ne,Xe.time=(0,ke._u)(new Date),Xe.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Ve.sampleRate===100?4:1},tags:1,data:1}}return Te}(),ei=function(){function Te(he,Ne){this.aiDataContract={baseType:1,baseData:1},this.baseType=he,this.baseData=Ne}return Te}(),Gt="duration",zt="tags",de="deviceType",me="data",we="name",Ae="traceID",qe="length",ze="stringify",Je="measurements",wt="dataType",Ot="envelopeType",Ht="toString",Xt="onLine",fi="enqueue",or="count",hr="push",_i="emitLineDelimitedJson",Pi="clear",ci="batchPayloads",Er="markAsSent",Mr="clearSent",Oi="BUFFER_KEY",Dr="SENT_BUFFER_KEY",yn="MAX_BUFFER_SIZE",Fr="namePrefix",cn="maxBatchSizeInBytes",Mn="triggerSend",Pr="diagLog",Ja="onunloadDisableBeacon",yo="isBeaconApiDisabled",Xa="_sender",vr="_senderConfig",La="_buffer",sl="enableSessionStorageBuffer",Za="samplingPercentage",ws="instrumentationKey",Sa="endpointUrl",ol="customHeaders",On="disableXhr",wo="onunloadDisableFetch",_s="disableTelemetry",wn="baseType",ks="sampleRate",yr="convertUndefined",Si="_xhrReadyStateChange",dn="_onError",es="_onPartialSuccess",Ss="_onSuccess",Rs="itemsAccepted",Mu="itemsReceived",Ua="isRetryDisabled",Pn="setRequestHeader",ur="maxBatchInterval",Es="eventsSendRequest",Ln="disableInstrumentationKeyValidation",xt="getSamplingScore",ll="getHashCodeScore",ul="baseType",kr="baseData",Br="properties",Qn="true";function mr(Te,he,Ne){return(0,ke.KY)(Te,he,Ne,ke.zz)}function Md(Te,he,Ne){var xe=Ne[zt]=Ne[zt]||{},Ve=he.ext=he.ext||{},Xe=he[zt]=he[zt]||[],nt=Ve.user;nt&&(mr(xe,rt.userAuthUserId,nt.authId),mr(xe,rt.userId,nt.id||nt.localId));var mt=Ve.app;mt&&mr(xe,rt.sessionId,mt.sesId);var Wt=Ve.device;Wt&&(mr(xe,rt.deviceId,Wt.id||Wt.localId),mr(xe,rt[de],Wt.deviceClass),mr(xe,rt.deviceIp,Wt.ip),mr(xe,rt.deviceModel,Wt.model),mr(xe,rt[de],Wt[de]));var Zt=he.ext.web;if(Zt){mr(xe,rt.deviceLanguage,Zt.browserLang),mr(xe,rt.deviceBrowserVersion,Zt.browserVer),mr(xe,rt.deviceBrowser,Zt.browser);var si=Ne[me]=Ne[me]||{},Ni=si[kr]=si[kr]||{},Li=Ni[Br]=Ni[Br]||{};mr(Li,"domain",Zt.domain),mr(Li,"isManual",Zt.isManual?Qn:null),mr(Li,"screenRes",Zt.screenRes),mr(Li,"userConsent",Zt.userConsent?Qn:null)}var Ri=Ve.os;Ri&&mr(xe,rt.deviceOS,Ri[we]);var Fi=Ve.trace;Fi&&(mr(xe,rt.operationParentId,Fi.parentID),mr(xe,rt.operationName,Ze(Te,Fi[we])),mr(xe,rt.operationId,Fi[Ae]));for(var Vi={},st=Xe[qe]-1;st>=0;st--){var wr=Xe[st];(0,ke.z)(wr,function(qa,Ta){Vi[qa]=Ta}),Xe.splice(st,1)}(0,ke.z)(Xe,function(qa,Ta){Vi[qa]=Ta});var An=(0,A.Im)((0,A.Im)({},xe),Vi);An[rt.internalSdkVersion]||(An[rt.internalSdkVersion]="javascript:".concat(_o.Version)),Ne[zt]=(0,ke.hW)(An)}function Ra(Te,he,Ne){(0,ke.hX)(Te)||(0,ke.z)(Te,function(xe,Ve){(0,ke.Et)(Ve)?Ne[xe]=Ve:(0,ke.Kg)(Ve)?he[xe]=Ve:(0,De.Z)()&&(he[xe]=(0,De.hm)()[ze](Ve))})}function la(Te,he){(0,ke.hX)(Te)||(0,ke.z)(Te,function(Ne,xe){Te[Ne]=xe||he})}function Ea(Te,he,Ne,xe){var Ve=new Bt(Te,xe,he);mr(Ve,"sampleRate",Ne[S]),(Ne[kr]||{}).startTime&&(Ve.time=(0,ke._u)(Ne[kr].startTime)),Ve.iKey=Ne.iKey;var Xe=Ne.iKey.replace(/-/g,"");return Ve[we]=Ve[we].replace("{0}",Xe),Md(Te,Ne,Ve),Ne[zt]=Ne[zt]||[],(0,ke.hW)(Ve)}function Ba(Te,he){(0,ke.hX)(he[kr])&&(0,ge.ZP)(Te,1,46,"telemetryItem.baseData cannot be null.")}var _o={Version:"2.8.10"};function Ts(Te,he,Ne){Ba(Te,he);var xe=he[kr][Je]||{},Ve=he[kr][Br]||{};Ra(he[me],Ve,xe),(0,ke.hX)(Ne)||la(Ve,Ne);var Xe=he[kr];if((0,ke.hX)(Xe))return(0,ge.OG)(Te,"Invalid input for dependency data"),null;var nt=Xe[Br]&&Xe[Br][c]?Xe[Br][c]:"GET",mt=new un(Te,Xe.id,Xe.target,Xe[we],Xe[Gt],Xe.success,Xe.responseCode,nt,Xe.type,Xe.correlationContext,Ve,xe),Wt=new ei(un[wt],mt);return Ea(Te,un[Ot],he,Wt)}function Pu(Te,he,Ne){Ba(Te,he);var xe={},Ve={};he[ul]!==et[wt]&&(xe.baseTypeSource=he[ul]),he[ul]===et[wt]?(xe=he[kr][Br]||{},Ve=he[kr][Je]||{}):he[kr]&&Ra(he[kr],xe,Ve),Ra(he[me],xe,Ve),(0,ke.hX)(Ne)||la(xe,Ne);var Xe=he[kr][we],nt=new et(Te,Xe,xe,Ve),mt=new ei(et[wt],nt);return Ea(Te,et[Ot],he,mt)}function Pd(Te,he,Ne){Ba(Te,he);var xe=he[kr][Je]||{},Ve=he[kr][Br]||{};Ra(he[me],Ve,xe),(0,ke.hX)(Ne)||la(Ve,Ne);var Xe=he[kr],nt=qt.CreateFromInterface(Te,Xe,Ve,xe),mt=new ei(qt[wt],nt);return Ea(Te,qt[Ot],he,mt)}function Ad(Te,he,Ne){Ba(Te,he);var xe=he[kr],Ve=xe[Br]||{},Xe=xe[Je]||{};Ra(he[me],Ve,Xe),(0,ke.hX)(Ne)||la(Ve,Ne);var nt=new vi(Te,xe[we],xe.average,xe.sampleCount,xe.min,xe.max,xe.stdDev,Ve,Xe),mt=new ei(vi[wt],nt);return Ea(Te,vi[Ot],he,mt)}function xd(Te,he,Ne){Ba(Te,he);var xe,Ve=he[kr];!(0,ke.hX)(Ve)&&!(0,ke.hX)(Ve[Br])&&!(0,ke.hX)(Ve[Br][Gt])?(xe=Ve[Br][Gt],delete Ve[Br][Gt]):!(0,ke.hX)(he[me])&&!(0,ke.hX)(he[me][Gt])&&(xe=he[me][Gt],delete he[me][Gt]);var Xe=he[kr],nt;((he.ext||{}).trace||{})[Ae]&&(nt=he.ext.trace[Ae]);var mt=Xe.id||nt,Wt=Xe[we],Zt=Xe.uri,si=Xe[Br]||{},Ni=Xe[Je]||{};if((0,ke.hX)(Xe.refUri)||(si.refUri=Xe.refUri),(0,ke.hX)(Xe.pageType)||(si.pageType=Xe.pageType),(0,ke.hX)(Xe.isLoggedIn)||(si.isLoggedIn=Xe.isLoggedIn[Ht]()),!(0,ke.hX)(Xe[Br])){var Li=Xe[Br];(0,ke.z)(Li,function(Vi,st){si[Vi]=st})}Ra(he[me],si,Ni),(0,ke.hX)(Ne)||la(si,Ne);var Ri=new pi(Te,Wt,Zt,xe,si,Ni,mt),Fi=new ei(pi[wt],Ri);return Ea(Te,pi[Ot],he,Fi)}function Id(Te,he,Ne){Ba(Te,he);var xe=he[kr],Ve=xe[we],Xe=xe.uri||xe.url,nt=xe[Br]||{},mt=xe[Je]||{};Ra(he[me],nt,mt),(0,ke.hX)(Ne)||la(nt,Ne);var Wt=new kt(Te,Ve,Xe,void 0,nt,mt,xe),Zt=new ei(kt[wt],Wt);return Ea(Te,kt[Ot],he,Zt)}function Dd(Te,he,Ne){Ba(Te,he);var xe=he[kr].message,Ve=he[kr].severityLevel,Xe=he[kr][Br]||{},nt=he[kr][Je]||{};Ra(he[me],Xe,nt),(0,ke.hX)(Ne)||la(Xe,Ne);var mt=new It(Te,xe,Ve,Xe,nt),Wt=new ei(It[wt],mt);return Ea(Te,It[Ot],he,Wt)}function Au(Te,he){(0,mi.ML)(Te,null,null,he)}function Fd(Te){var he=(0,De.YE)(),Ne=(0,De.w3)(),xe=!1,Ve=!0,Xe=(0,mi.Hm)((0,Wr.Z)("OfflineListener"),Te);try{if(mt((0,De.zk)())&&(xe=!0),he){var nt=he.body||he;nt.ononline&&mt(nt)&&(xe=!0)}xe&&Ne&&!(0,ke.hX)(Ne[Xt])&&(Ve=Ne[Xt])}catch{xe=!1}function mt(Li){var Ri=!1;return Li&&(Ri=(0,mi.mB)(Li,"online",Wt,Xe),Ri&&(0,mi.mB)(Li,"offline",Zt,Xe)),Ri}function Wt(){Ve=!0}function Zt(){Ve=!1}function si(){var Li=!0;return xe?Li=Ve:Ne&&!(0,ke.hX)(Ne[Xt])&&(Li=Ne[Xt]),Li}function Ni(){var Li=(0,De.zk)();if(Li&&xe){if(Au(Li,Xe),he){var Ri=he.body||he;(0,ke.b0)(Ri.ononline)||Au(Ri,Xe)}xe=!1}}return{isOnline:si,isListening:function(){return xe},unload:Ni}}var Un=function(){function Te(he,Ne){var xe=[],Ve=!1;this._get=function(){return xe},this._set=function(Xe){return xe=Xe,xe},(0,E.A)(Te,this,function(Xe){Xe[fi]=function(nt){if(Xe[or]()>=Ne.eventsLimitInMem()){Ve||((0,ge.ZP)(he,2,105,"Maximum in-memory buffer size reached: "+Xe[or](),!0),Ve=!0);return}xe[hr](nt)},Xe[or]=function(){return xe[qe]},Xe.size=function(){for(var nt=xe[qe],mt=0;mt<xe[qe];mt++)nt+=xe[mt][qe];return Ne[_i]()||(nt+=2),nt},Xe[Pi]=function(){xe=[],Ve=!1},Xe.getItems=function(){return xe.slice(0)},Xe[ci]=function(nt){if(nt&&nt[qe]>0){var mt=Ne[_i]()?nt.join(`
`):"["+nt.join(",")+"]";return mt}return null}})}return Te.__ieDyn=1,Te}(),cl=function(Te){(0,A.qU)(he,Te);function he(Ne,xe){var Ve=Te.call(this,Ne,xe)||this;return(0,E.A)(he,Ve,function(Xe,nt){Xe[Er]=function(mt){nt[Pi]()},Xe[Mr]=function(mt){}}),Ve}return he.__ieDyn=1,he}(Un),ko=function(Te){(0,A.qU)(he,Te);function he(Ne,xe){var Ve=Te.call(this,Ne,xe)||this,Xe=!1;return(0,E.A)(he,Ve,function(nt,mt){var Wt=Li(he[Oi]),Zt=Li(he[Dr]),si=nt._set(Wt.concat(Zt));si[qe]>he[yn]&&(si[qe]=he[yn]),Ri(he[Dr],[]),Ri(he[Oi],si),nt[fi]=function(Fi){if(nt[or]()>=he[yn]){Xe||((0,ge.ZP)(Ne,2,67,"Maximum buffer size reached: "+nt[or](),!0),Xe=!0);return}mt[fi](Fi),Ri(he[Oi],nt._get())},nt[Pi]=function(){mt[Pi](),Ri(he[Oi],nt._get()),Ri(he[Dr],[]),Xe=!1},nt[Er]=function(Fi){Ri(he[Oi],nt._set(Ni(Fi,nt._get())));var Vi=Li(he[Dr]);Vi instanceof Array&&Fi instanceof Array&&(Vi=Vi.concat(Fi),Vi[qe]>he[yn]&&((0,ge.ZP)(Ne,1,67,"Sent buffer reached its maximum size: "+Vi[qe],!0),Vi[qe]=he[yn]),Ri(he[Dr],Vi))},nt[Mr]=function(Fi){var Vi=Li(he[Dr]);Vi=Ni(Fi,Vi),Ri(he[Dr],Vi)};function Ni(Fi,Vi){var st=[];return(0,ke.Iu)(Vi,function(wr){!(0,ke.Tn)(wr)&&(0,ke.rD)(Fi,wr)===-1&&st[hr](wr)}),st}function Li(Fi){var Vi=Fi;try{Vi=xe[Fr]&&xe[Fr]()?xe[Fr]()+"_"+Vi:Vi;var st=br(Ne,Vi);if(st){var wr=(0,De.hm)().parse(st);if((0,ke.Kg)(wr)&&(wr=(0,De.hm)().parse(wr)),wr&&(0,ke.cy)(wr))return wr}}catch(An){(0,ge.ZP)(Ne,1,42," storage key: "+Vi+", "+(0,ke.lL)(An),{exception:(0,De.mm)(An)})}return[]}function Ri(Fi,Vi){var st=Fi;try{st=xe[Fr]&&xe[Fr]()?xe[Fr]()+"_"+st:st;var wr=JSON[ze](Vi);fr(Ne,st,wr)}catch(An){fr(Ne,st,JSON[ze]([])),(0,ge.ZP)(Ne,2,41," storage key: "+st+", "+(0,ke.lL)(An)+". Buffer cleared",{exception:(0,De.mm)(An)})}}}),Ve}return he.BUFFER_KEY="AI_buffer",he.SENT_BUFFER_KEY="AI_sentBuffer",he.MAX_BUFFER_SIZE=2e3,he}(Un),dl=function(){function Te(he){(0,E.A)(Te,this,function(Ne){Ne.serialize=function(nt){var mt=xe(nt,"root");try{return(0,De.hm)()[ze](mt)}catch(Wt){(0,ge.ZP)(he,1,48,Wt&&(0,ke.Tn)(Wt[Ht])?Wt[Ht]():"Error serializing object",null,!0)}};function xe(nt,mt){var Wt="__aiCircularRefCheck",Zt={};if(!nt)return(0,ge.ZP)(he,1,48,"cannot serialize object because it is null or undefined",{name:mt},!0),Zt;if(nt[Wt])return(0,ge.ZP)(he,2,50,"Circular reference detected while serializing object",{name:mt},!0),Zt;if(!nt.aiDataContract){if(mt==="measurements")Zt=Xe(nt,"number",mt);else if(mt==="properties")Zt=Xe(nt,"string",mt);else if(mt==="tags")Zt=Xe(nt,"string",mt);else if((0,ke.cy)(nt))Zt=Ve(nt,mt);else{(0,ge.ZP)(he,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:mt},!0);try{(0,De.hm)()[ze](nt),Zt=nt}catch(si){(0,ge.ZP)(he,1,48,si&&(0,ke.Tn)(si[Ht])?si[Ht]():"Error serializing object",null,!0)}}return Zt}return nt[Wt]=!0,(0,ke.z)(nt.aiDataContract,function(si,Ni){var Li=(0,ke.Tn)(Ni)?Ni()&1:Ni&1,Ri=(0,ke.Tn)(Ni)?Ni()&4:Ni&4,Fi=Ni&2,Vi=nt[si]!==void 0,st=(0,ke.Gv)(nt[si])&&nt[si]!==null;if(Li&&!Vi&&!Fi)(0,ge.ZP)(he,1,24,"Missing required field specification. The field is required but not present on source",{field:si,name:mt});else if(!Ri){var wr=void 0;st?Fi?wr=Ve(nt[si],si):wr=xe(nt[si],si):wr=nt[si],wr!==void 0&&(Zt[si]=wr)}}),delete nt[Wt],Zt}function Ve(nt,mt){var Wt;if(nt)if(!(0,ke.cy)(nt))(0,ge.ZP)(he,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:mt},!0);else{Wt=[];for(var Zt=0;Zt<nt[qe];Zt++){var si=nt[Zt],Ni=xe(si,mt+"["+Zt+"]");Wt[hr](Ni)}}return Wt}function Xe(nt,mt,Wt){var Zt;return nt&&(Zt={},(0,ke.z)(nt,function(si,Ni){if(mt==="string")Ni===void 0?Zt[si]="undefined":Ni===null?Zt[si]="null":Ni[Ht]?Zt[si]=Ni[Ht]():Zt[si]="invalid field: toString() is not defined.";else if(mt==="number")if(Ni===void 0)Zt[si]="undefined";else if(Ni===null)Zt[si]="null";else{var Li=parseFloat(Ni);isNaN(Li)?Zt[si]="NaN":Zt[si]=Li}else Zt[si]="invalid field: "+Wt+" is of unknown type.",(0,ge.ZP)(he,1,Zt[si],null,!0)})),Zt}})}return Te.__ieDyn=1,Te}(),xu=8,qr=function(){function Te(){}return Te.prototype.getHashCodeScore=function(he){var Ne=this.getHashCode(he)/Te.INT_MAX_VALUE;return Ne*100},Te.prototype.getHashCode=function(he){if(he==="")return 0;for(;he[qe]<xu;)he=he.concat(he);for(var Ne=5381,xe=0;xe<he[qe];++xe)Ne=(Ne<<5)+Ne+he.charCodeAt(xe),Ne=Ne&Ne;return Math.abs(Ne)},Te.INT_MAX_VALUE=2147483647,Te}(),Ji=function(){function Te(){var he=this,Ne=new qr,xe=new je;he[xt]=function(Ve){var Xe=0;return Ve[zt]&&Ve[zt][xe.userId]?Xe=Ne.getHashCodeScore(Ve[zt][xe.userId]):Ve.ext&&Ve.ext.user&&Ve.ext.user.id?Xe=Ne[ll](Ve.ext.user.id):Ve[zt]&&Ve[zt][xe.operationId]?Xe=Ne.getHashCodeScore(Ve[zt][xe.operationId]):Ve.ext&&Ve.ext.telemetryTrace&&Ve.ext.telemetryTrace[Ae]?Xe=Ne.getHashCodeScore(Ve.ext.telemetryTrace[Ae]):Xe=Math.random()*100,Xe}}return Te}(),fl=function(){function Te(he,Ne){this.INT_MAX_VALUE=2147483647;var xe=Ne||(0,ge.y0)(null);(he>100||he<0)&&(xe.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:he},!0),he=100),this[ks]=he,this.samplingScoreGenerator=new Ji}return Te.prototype.isSampledIn=function(he){var Ne=this[ks],xe=!1;return Ne==null||Ne>=100||he.baseType===vi[wt]?!0:(xe=this.samplingScoreGenerator[xt](he)<Ne,xe)},Te}(),Bn,Od=65e3;function So(Te){try{return Te.responseText}catch{}return null}function hl(){var Te,he,Ne;return Te={endpointUrl:function(){return f+h}},Te[_i]=function(){return!1},Te[ur]=function(){return 15e3},Te[cn]=function(){return 102400},Te[_s]=function(){return!1},Te[sl]=function(){return!0},Te[Ua]=function(){return!1},Te[yo]=function(){return!0},Te[On]=function(){return!1},Te[wo]=function(){return!1},Te[Ja]=function(){return!1},Te[ws]=function(){return he},Te[Fr]=function(){return he},Te[Za]=function(){return 100},Te[ol]=function(){return Ne},Te[yr]=function(){return he},Te.eventsLimitInMem=function(){return 1e4},Te}var Iu=(Bn={},Bn[et.dataType]=Pu,Bn[It.dataType]=Dd,Bn[pi.dataType]=xd,Bn[kt.dataType]=Id,Bn[qt.dataType]=Pd,Bn[vi.dataType]=Ad,Bn[un.dataType]=Ts,Bn),Ro=function(Te){(0,A.qU)(he,Te);function he(){var Ne=Te.call(this)||this;Ne.priority=1001,Ne.identifier=Ur,Ne._senderConfig=hl();var xe,Ve,Xe,nt,mt,Wt,Zt,si,Ni=0,Li,Ri,Fi,Vi;return(0,E.A)(he,Ne,function(st,wr){Fs(),st.pause=function(){ua(),nt=!0},st.resume=function(){nt&&(nt=!1,Ve=null,st._buffer.size()>st._senderConfig[cn]()&&st[Mn](!0,null,10),Yn())},st.flush=function(tt,Vt,ti){if(tt===void 0&&(tt=!0),!nt){ua();try{st[Mn](tt,null,ti||1)}catch(yi){(0,ge.ZP)(st[Pr](),1,22,"flush failed, telemetry will not be collected: "+(0,ke.lL)(yi),{exception:(0,De.mm)(yi)})}}},st.onunloadFlush=function(){if(!nt)if((st._senderConfig[Ja]()===!1||st[vr][yo]()===!1)&&(0,De.Uf)())try{st[Mn](!0,Ou,2)}catch(tt){(0,ge.ZP)(st[Pr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,ke.lL)(tt),{exception:(0,De.mm)(tt)})}else st.flush()},st.addHeader=function(tt,Vt){si[tt]=Vt},st.initialize=function(tt,Vt,ti,yi){st.isInitialized()&&(0,ge.ZP)(st[Pr](),1,28,"Sender is already initialized"),wr.initialize(tt,Vt,ti,yi);var ji=st._getTelCtx(),Zi=st.identifier;Wt=new dl(Vt.logger),xe=0,Ve=null,Xe=0,st[Xa]=null,Zt=0;var rr=st[Pr]();Vi=(0,mi.Hm)((0,Wr.Z)("Sender"),Vt.evtNamespace&&Vt.evtNamespace()),Fi=Fd(Vi);var Hr=hl();(0,ke.z)(Hr,function(Kr,Jn){st[vr][Kr]=function(){var Vr=ji.getConfig(Zi,Kr,Jn());return!Vr&&Kr==="endpointUrl"&&(Vr=Jn()),Vr}}),st._buffer=st[vr][sl]()&&nr()?new ko(rr,st[vr]):new cl(rr,st[vr]),st._sample=new fl(st[vr][Za](),rr),Ds(tt)||(0,ge.ZP)(rr,1,100,"Invalid Instrumentation key "+tt[ws]),!Ir(st._senderConfig.endpointUrl())&&st._senderConfig.customHeaders()&&st._senderConfig.customHeaders()[qe]>0&&(0,ke.Iu)(st[vr][ol](),function(Kr){Ne.addHeader(Kr.header,Kr.value)});var $r=st[vr],Gr=null;!$r[On]()&&(0,De.PV)()?Gr=rs:!$r[On]()&&(0,De.xk)()&&(Gr=Ca),!Gr&&(0,De.R7)()&&(Gr=Uu),Li=Gr||Ca,!$r[yo]()&&(0,De.Uf)()&&(Gr=xs),st[Xa]=Gr||Ca,!$r[wo]()&&(0,De.R7)(!0)?Ri=Lu:(0,De.Uf)()?Ri=xs:!$r[On]()&&(0,De.PV)()?Ri=rs:!$r[On]()&&(0,De.xk)()?Ri=Ca:Ri=Li},st.processTelemetry=function(tt,Vt){Vt=st._getTelCtx(Vt);var ti=Vt[Pr]();try{if(st[vr][_s]())return;if(!tt){(0,ge.ZP)(ti,1,7,"Cannot send empty telemetry");return}if(tt.baseData&&!tt[wn]){(0,ge.ZP)(ti,1,70,"Cannot send telemetry without baseData and baseType");return}if(tt[wn]||(tt[wn]="EventData"),!st[Xa]){(0,ge.ZP)(ti,1,28,"Sender was not initialized");return}if(An(tt))tt[S]=st._sample[ks];else{(0,ge.ZP)(ti,2,33,"Telemetry item was sampled out and not sent",{SampleRate:st._sample[ks]});return}var yi=st[vr][yr]()||void 0,ji=tt.iKey||st[vr][ws](),Zi=he.constructEnvelope(tt,ji,ti,yi);if(!Zi){(0,ge.ZP)(ti,1,47,"Unable to create an AppInsights envelope");return}var rr=!1;if(tt[zt]&&tt[zt][d]&&((0,ke.Iu)(tt[zt][d],function(Kr){try{Kr&&Kr(Zi)===!1&&(rr=!0,(0,ge.OG)(ti,"Telemetry processor check returns false"))}catch(Jn){(0,ge.ZP)(ti,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,ke.lL)(Jn),{exception:(0,De.mm)(Jn)},!0)}}),delete tt[zt][d]),rr)return;var Hr=Wt.serialize(Zi),$r=st[La],Gr=$r.size();Gr+Hr[qe]>st[vr][cn]()&&st[Mn](!0,null,10),$r[fi](Hr),Yn()}catch(Kr){(0,ge.ZP)(ti,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,ke.lL)(Kr),{exception:(0,De.mm)(Kr)})}st.processNext(tt,Vt)},st[Si]=function(tt,Vt,ti){tt.readyState===4&&qa(tt.status,Vt,tt.responseURL,ti,is(tt),So(tt)||tt.response)},st[Mn]=function(tt,Vt,ti){if(tt===void 0&&(tt=!0),!nt)try{var yi=st[La];if(st[vr][_s]())yi[Pi]();else{if(yi[or]()>0){var ji=yi.getItems();Eo(ti||0,tt),Vt?Vt.call(Ne,ji,tt):st[Xa](ji,tt)}Xe=+new Date}ua()}catch(rr){var Zi=(0,De.L0)();(!Zi||Zi>9)&&(0,ge.ZP)(st[Pr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,ke.lL)(rr),{exception:(0,De.mm)(rr)})}},st._doTeardown=function(tt,Vt){st.onunloadFlush(),Fi.unload(),Fs()},st[dn]=function(tt,Vt,ti){(0,ge.ZP)(st[Pr](),2,26,"Failed to send telemetry.",{message:Vt}),st._buffer[Mr](tt)},st[es]=function(tt,Vt){for(var ti=[],yi=[],ji=Vt.errors.reverse(),Zi=0,rr=ji;Zi<rr.length;Zi++){var Hr=rr[Zi],$r=tt.splice(Hr.index,1)[0];Bu(Hr.statusCode)?yi[hr]($r):ti[hr]($r)}tt[qe]>0&&st[Ss](tt,Vt[Rs]),ti[qe]>0&&st[dn](ti,is(null,["partial success",Vt[Rs],"of",Vt.itemsReceived].join(" "))),yi[qe]>0&&(ts(yi),(0,ge.ZP)(st[Pr](),2,40,"Partial success. Delivered: "+tt[qe]+", Failed: "+ti[qe]+". Will retry to send "+yi[qe]+" our of "+Vt[Mu]+" items"))},st[Ss]=function(tt,Vt){st._buffer[Mr](tt)},st._xdrOnLoad=function(tt,Vt){var ti=So(tt);if(tt&&(ti+""=="200"||ti===""))xe=0,st[Ss](Vt,0);else{var yi=Is(ti);yi&&yi.itemsReceived&&yi.itemsReceived>yi[Rs]&&!st[vr][Ua]()?st[es](Vt,yi):st[dn](Vt,gl(tt))}};function An(tt){return st._sample.isSampledIn(tt)}function qa(tt,Vt,ti,yi,ji,Zi){var rr=null;if(st._appId||(rr=Is(Zi),rr&&rr.appId&&(st._appId=rr.appId)),(tt<200||tt>=300)&&tt!==0){if((tt===301||tt===307||tt===308)&&!Ta(ti)){st[dn](Vt,ji);return}!st[vr][Ua]()&&Bu(tt)?(ts(Vt),(0,ge.ZP)(st[Pr](),2,40,". Response code "+tt+". Will retry to send "+Vt[qe]+" items.")):st[dn](Vt,ji)}else if(Fi&&!Fi.isOnline()){if(!st[vr][Ua]()){var Hr=10;ts(Vt,Hr),(0,ge.ZP)(st[Pr](),2,40,". Offline - Response Code: ".concat(tt,". Offline status: ").concat(!Fi.isOnline(),". Will retry to send ").concat(Vt.length," items."))}}else Ta(ti),tt===206?(rr||(rr=Is(Zi)),rr&&!st[vr][Ua]()?st[es](Vt,rr):st[dn](Vt,ji)):(xe=0,st[Ss](Vt,yi))}function Ta(tt){return Zt>=10?!1:!(0,ke.hX)(tt)&&tt!==""&&tt!==st[vr][Sa]()?(st[vr][Sa]=function(){return tt},++Zt,!0):!1}function Ou(tt,Vt){Ri?Ri(tt,!1):xs(tt,Vt)}function As(tt){var Vt=(0,De.w3)(),ti=st[La],yi=st[vr][Sa](),ji=st._buffer[ci](tt),Zi=new Blob([ji],{type:"text/plain;charset=UTF-8"}),rr=Vt.sendBeacon(yi,Zi);return rr&&(ti[Er](tt),st._onSuccess(tt,tt[qe])),rr}function xs(tt,Vt){if((0,ke.cy)(tt)&&tt[qe]>0&&!As(tt)){for(var ti=[],yi=0;yi<tt[qe];yi++){var ji=tt[yi];As([ji])||ti[hr](ji)}ti[qe]>0&&(Li&&Li(ti,!0),(0,ge.ZP)(st[Pr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Ca(tt,Vt){var ti=new XMLHttpRequest,yi=st[vr][Sa]();try{ti[M]=!0}catch{}ti.open("POST",yi,Vt),ti[Pn]("Content-type","application/json"),Ir(yi)&&ti[Pn](Qi[6],Qi[7]),(0,ke.Iu)((0,ke.cG)(si),function(Zi){ti[Pn](Zi,si[Zi])}),ti.onreadystatechange=function(){return st._xhrReadyStateChange(ti,tt,tt[qe])},ti.onerror=function(Zi){return st[dn](tt,is(ti),Zi)};var ji=st._buffer[ci](tt);ti.send(ji),st._buffer[Er](tt)}function Lu(tt,Vt){if((0,ke.cy)(tt)){for(var ti=tt[qe],yi=0;yi<tt[qe];yi++)ti+=tt[yi][qe];Ni+ti<=Od?vl(tt,!1):(0,De.Uf)()?xs(tt,Vt):(Li&&Li(tt,!0),(0,ge.ZP)(st[Pr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Uu(tt,Vt){vl(tt,!0)}function vl(tt,Vt){var ti,yi=st[vr][Sa](),ji=st._buffer[ci](tt),Zi=new Blob([ji],{type:"application/json"}),rr=new Headers,Hr=ji[qe],$r=!1,Gr=!1;Ir(yi)&&rr.append(Qi[6],Qi[7]),(0,ke.Iu)((0,ke.cG)(si),function(Vr){rr.append(Vr,si[Vr])});var Kr=(ti={method:"POST",headers:rr,body:Zi},ti[M]=!0,ti);Vt||(Kr.keepalive=!0,$r=!0,Ni+=Hr);var Jn=new Request(yi,Kr);try{Jn[M]=!0}catch{}st._buffer[Er](tt);try{fetch(Jn).then(function(Vr){Vt||(Ni-=Hr,Hr=0),Gr||(Gr=!0,Vr.ok?Vr.text().then(function(Hu){qa(Vr.status,tt,Vr.url,tt[qe],Vr.statusText,Hu)}):st[dn](tt,Vr.statusText))}).catch(function(Vr){Vt||(Ni-=Hr,Hr=0),Gr||(Gr=!0,st[dn](tt,Vr.message))})}catch(Vr){Gr||st[dn](tt,(0,De.mm)(Vr))}$r&&!Gr&&(Gr=!0,st._onSuccess(tt,tt[qe]))}function Is(tt){try{if(tt&&tt!==""){var Vt=(0,De.hm)().parse(tt);if(Vt&&Vt.itemsReceived&&Vt.itemsReceived>=Vt[Rs]&&Vt.itemsReceived-Vt.itemsAccepted===Vt.errors[qe])return Vt}}catch(ti){(0,ge.ZP)(st[Pr](),1,43,"Cannot parse the response. "+(0,ke.lL)(ti),{response:tt})}return null}function ts(tt,Vt){if(Vt===void 0&&(Vt=1),!(!tt||tt[qe]===0)){var ti=st[La];ti[Mr](tt),xe++;for(var yi=0,ji=tt;yi<ji.length;yi++){var Zi=ji[yi];ti[fi](Zi)}Bd(Vt),Yn()}}function Bd(tt){var Vt=10,ti;if(xe<=1)ti=Vt;else{var yi=(Math.pow(2,xe)-1)/2,ji=Math.floor(Math.random()*yi*Vt)+1;ji=tt*ji,ti=Math.max(Math.min(ji,3600),Vt)}var Zi=(0,ke.x3)()+ti*1e3;Ve=Zi}function Yn(){if(!mt&&!nt){var tt=Ve?Math.max(0,Ve-(0,ke.x3)()):0,Vt=Math.max(st[vr][ur](),tt);mt=setTimeout(function(){mt=null,st[Mn](!0,null,1)},Vt)}}function ua(){clearTimeout(mt),mt=null,Ve=null}function Bu(tt){return tt===401||tt===403||tt===408||tt===429||tt===500||tt===502||tt===503||tt===504}function is(tt,Vt){return tt?"XMLHttpRequest,Status:"+tt.status+",Response:"+So(tt)||0||0:Vt}function rs(tt,Vt){var ti=st[La],yi=(0,De.zk)(),ji=new XDomainRequest;ji.onload=function(){return st._xdrOnLoad(ji,tt)},ji.onerror=function($r){return st[dn](tt,gl(ji),$r)};var Zi=yi&&yi.location&&yi.location.protocol||"";if(st[vr][Sa]().lastIndexOf(Zi,0)!==0){(0,ge.ZP)(st[Pr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),ti[Pi]();return}var rr=st[vr][Sa]().replace(/^(https?:)/,"");ji.open("POST",rr);var Hr=ti[ci](tt);ji.send(Hr),ti[Er](tt)}function gl(tt,Vt){return tt?"XDomainRequest,Response:"+So(tt)||0:Vt}function qu(){var tt="getNotifyMgr";return st.core[tt]?st.core[tt]():st.core._notificationManager}function Eo(tt,Vt){var ti=qu();if(ti&&ti[Es])try{ti[Es](tt,Vt)}catch(yi){(0,ge.ZP)(st[Pr](),1,74,"send request notification failed: "+(0,ke.lL)(yi),{exception:(0,De.mm)(yi)})}}function Ds(tt){var Vt=(0,ke.hX)(tt[Ln])?!1:tt[Ln];if(Vt)return!0;var ti="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",yi=new RegExp(ti);return yi.test(tt[ws])}function Fs(){st[Xa]=null,st[La]=null,st._appId=null,st._sample=null,si={},Fi=null,xe=0,Ve=null,Xe=null,nt=!1,mt=null,Wt=null,Zt=0,Ni=0,Li=null,Ri=null,Vi=null}}),Ne}return he.constructEnvelope=function(Ne,xe,Ve,Xe){var nt;xe!==Ne.iKey&&!(0,ke.hX)(xe)?nt=(0,A.Im)((0,A.Im)({},Ne),{iKey:xe}):nt=Ne;var mt=Iu[nt.baseType]||Pu;return mt(Ve,nt,Xe)},he}(Yi.s),ml=";",Du="=";function Cs(Te){if(!Te)return{};var he=Te[u](ml),Ne=(0,ke.KT)(he,function(Ve,Xe){var nt=Xe[u](Du);if(nt[k]===2){var mt=nt[0][m](),Wt=nt[1];Ve[mt]=Wt}return Ve},{});if((0,ke.cG)(Ne)[k]>0){if(Ne.endpointsuffix){var xe=Ne.location?Ne.location+".":"";Ne[v]=Ne[v]||"https://"+xe+"dc."+Ne.endpointsuffix}Ne[v]=Ne[v]||f}return Ne}var qn={parse:Cs},Ns=T(12235),Ms="instrumentationKey",pl="connectionString",Ps="diagnosticLogInterval",Ld=T(83897),Ud=(0,Ii.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Fu=function(){function Te(he){var Ne=new Ns._;((0,ke.hX)(he)||(0,ke.hX)(he[Ms])&&(0,ke.hX)(he[pl]))&&(0,ke.$8)("Invalid input configuration"),(0,E.A)(Te,this,function(xe){if(he[pl]){var Ve=Cs(he[pl]),Xe=Ve.ingestionendpoint;he.endpointUrl=Xe?Xe+h:he.endpointUrl,he[Ms]=Ve.instrumentationkey||he[Ms]}xe.config=he,nt(),xe.initialize=nt,xe.getSKUDefaults=function(){xe.config[Ps]=xe.config[Ps]&&xe.config[Ps]>0?xe.config[Ps]:1e4},xe.getSKUDefaults(),(0,ke.o$)(xe,Ne,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function nt(){Ne.initialize(xe.config,[new Ro]),Ne.pollInternalLogs()}})}return Te.__ieDyn=1,Te}()},92457:(s,G,T)=>{"use strict";T.d(G,{A:()=>Le});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var E,A="undefined",M="constructor",S="prototype",d="function",c="_dynInstFuncs",f="_isDynProxy",h="_dynClass",_="_dynCls$",b="_dynInstChk",u=b,k="_dfOpts",m="_unknown_",v="__proto__",p="_dyn"+v,C="__dynProto$Gbl",R="_dynInstProto",D="useBaseInst",F="setInstFuncs",z=Object,y=z.getPrototypeOf,U=z.getOwnPropertyNames;function W(){var pe;return typeof globalThis!==A&&(pe=globalThis),!pe&&typeof self!==A&&(pe=self),!pe&&typeof window!==A&&(pe=window),!pe&&typeof T.g!==A&&(pe=T.g),pe||{}}var K=W(),Z=K[C]||(K[C]={o:(E={},E[F]=!0,E[D]=!0,E),n:1e3});function re(pe,Me){return pe&&z[S].hasOwnProperty.call(pe,Me)}function X(pe){return pe&&(pe===z[S]||pe===Array[S])}function P(pe){return X(pe)||pe===Function[S]}function $(pe){var Me;if(pe){if(y)return y(pe);var Pe=pe[v]||pe[S]||(pe[M]?pe[M][S]:null);Me=pe[p]||Pe,re(pe,p)||(delete pe[R],Me=pe[p]=pe[R]||pe[p],pe[R]=Pe)}return Me}function N(pe,Me){var Pe=[];if(U)Pe=U(pe);else for(var J in pe)typeof J=="string"&&re(pe,J)&&Pe.push(J);if(Pe&&Pe.length>0)for(var te=0;te<Pe.length;te++)Me(Pe[te])}function o(pe,Me,Pe){return Me!==M&&typeof pe[Me]===d&&(Pe||re(pe,Me))}function w(pe){throw new TypeError("DynamicProto: "+pe)}function I(pe){var Me={};return N(pe,function(Pe){!Me[Pe]&&o(pe,Pe,!1)&&(Me[Pe]=pe[Pe])}),Me}function q(pe,Me){for(var Pe=pe.length-1;Pe>=0;Pe--)if(pe[Pe]===Me)return!0;return!1}function j(pe,Me,Pe,J){function te(L,O,oe){var be=O[oe];if(be[f]&&J){var ke=L[c]||{};ke[u]!==!1&&(be=(ke[O[h]]||{})[oe]||be)}return function(){return be.apply(L,arguments)}}var fe={};N(Pe,function(L){fe[L]=te(Me,Pe,L)});for(var ve=$(pe),Se=[];ve&&!P(ve)&&!q(Se,ve);)N(ve,function(L){!fe[L]&&o(ve,L,!y)&&(fe[L]=te(Me,ve,L))}),Se.push(ve),ve=$(ve);return fe}function H(pe,Me,Pe,J){var te=null;if(pe&&re(Pe,h)){var fe=pe[c]||{};if(te=(fe[Pe[h]]||{})[Me],te||w("Missing ["+Me+"] "+d),!te[b]&&fe[u]!==!1){for(var ve=!re(pe,Me),Se=$(pe),L=[];ve&&Se&&!P(Se)&&!q(L,Se);){var O=Se[Me];if(O){ve=O===J;break}L.push(Se),Se=$(Se)}try{ve&&(pe[Me]=te),te[b]=1}catch{fe[u]=!1}}}return te}function ee(pe,Me,Pe){var J=Me[pe];return J===Pe&&(J=$(Me)[pe]),typeof J!==d&&w("["+pe+"] is not a "+d),J}function ie(pe,Me,Pe,J,te){function fe(L,O){var oe=function(){var be=H(this,O,L,oe)||ee(O,L,oe);return be.apply(this,arguments)};return oe[f]=1,oe}if(!X(pe)){var ve=Pe[c]=Pe[c]||{},Se=ve[Me]=ve[Me]||{};ve[u]!==!1&&(ve[u]=!!te),N(Pe,function(L){o(Pe,L,!1)&&Pe[L]!==J[L]&&(Se[L]=Pe[L],delete Pe[L],(!re(pe,L)||pe[L]&&!pe[L][f])&&(pe[L]=fe(pe,L)))})}}function B(pe,Me){if(y){for(var Pe=[],J=$(Me);J&&!P(J)&&!q(Pe,J);){if(J===pe)return!0;Pe.push(J),J=$(J)}return!1}return!0}function ne(pe,Me){return re(pe,S)?pe.name||Me||m:((pe||{})[M]||{}).name||Me||m}function Le(pe,Me,Pe,J){re(pe,S)||w("theClass is an invalid class definition.");var te=pe[S];B(te,Me)||w("["+ne(pe)+"] not in hierarchy of ["+ne(Me)+"]");var fe=null;re(te,h)?fe=te[h]:(fe=_+ne(pe,"_")+"$"+Z.n,Z.n++,te[h]=fe);var ve=Le[k],Se=!!ve[D];Se&&J&&J[D]!==void 0&&(Se=!!J[D]);var L=I(Me),O=j(te,Me,L,Se);Pe(Me,O);var oe=!!y&&!!ve[F];oe&&J&&(oe=!!J[F]),ie(te,fe,Me,L,oe!==!1)}Le[k]=Z.o},46925:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.HTMLTracer=void 0;const E=T(12111),A=T(49138);class M{constructor(){Kt(this,"traceData");Kt(this,"epochs",[])}addRenderEpoch(k){this.epochs.push(k)}includeInEpoch(k){this.epochs[this.epochs.length-1].elements.push(k)}didMaterializeTree(k){this.traceData=k}async serveHTML(){return d.create({epochs:this.epochs,traceData:b(this.traceData)})}serveRouter(k){return new S({baseAddress:k,epochs:this.epochs,traceData:b(this.traceData)})}}G.HTMLTracer=M;class S{constructor(k){Kt(this,"opts");Kt(this,"serverToken",crypto.randomUUID());this.opts=k}route(k,m){const v=k,p=m,C=new URL(v.url||"/","http://localhost"),R=`/${this.serverToken}`;switch(C.pathname){case R:case`${R}/`:this.onRoot(C,v,p);break;case`${R}/regen`:this.onRegen(C,v,p);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:k,epochs:m}=this.opts;return`<body>
			<style>${E.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(k.budget)};
				const EPOCHS = ${JSON.stringify(m)};
				const DEFAULT_MODEL = ${JSON.stringify(await c(k.tokenizer,k.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${E.tracerSrc}
			<\/script>
		</body>`}async onRegen(k,m,v){const{traceData:p}=this.opts,C=Number(k.searchParams.get("n")||p.budget),R=await p.renderTree(C),D=await c(p.tokenizer,R),F=JSON.stringify(D);v.setHeader("Content-Type","application/json"),v.setHeader("Content-Length",Buffer.byteLength(F)),v.end(F)}onRoot(k,m,v){this.getHTML().then(p=>{v.setHeader("Content-Type","text/html"),v.setHeader("Content-Length",Buffer.byteLength(p)),v.end(p)})}}class d extends S{constructor(m,v){super(m);Kt(this,"server");this.server=v}static async create(m){const{createServer:v}=await Promise.resolve().then(()=>T(11568)),p=v((D,F)=>{try{R.route(D,F)||(F.statusCode=404,F.end("Not Found"))}catch(z){F.statusCode=500,F.end(String(z))}}),C=await new Promise((D,F)=>{p.listen(0,"127.0.0.1",()=>D(p.address().port)).on("error",F)}),R=new d({...m,baseAddress:`http://127.0.0.1:${C}`},p);return R}dispose(){this.server.closeAllConnections(),this.server.close()}}async function c(u,k){return{container:await f(u,k.container,!1),removed:k.removed,budget:k.budget}}async function f(u,k,m){const v={metadata:k.metadata.map(_),priority:k.priority};if(k instanceof A.MaterializedChatMessageTextChunk)return{...v,type:2,value:k.text,tokens:await k.upperBoundTokenCount(u)};{const p={...v,id:k.id,name:k.name,children:await Promise.all(k.children.map(C=>f(u,C,m||k instanceof A.MaterializedChatMessage))),tokens:m?await k.upperBoundTokenCount(u):await k.tokenCount(u)};if(k instanceof A.MaterializedContainer)return{...p,type:0};if(k instanceof A.MaterializedChatMessage)return{...p,type:1,role:k.role,text:k.text}}h(k)}function h(u){throw new Error("unreachable")}function _(u){return{name:u.constructor.name,value:JSON.stringify(u)}}const b=u=>{if(u===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return u}},12111:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.tracerCss=G.tracerSrc=void 0,G.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',G.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,G,T){"use strict";var E=this&&this.__createBinding||(Object.create?function(m,v,p,C){C===void 0&&(C=p);var R=Object.getOwnPropertyDescriptor(v,p);(!R||("get"in R?!v.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(m,C,R)}:function(m,v,p,C){C===void 0&&(C=p),m[C]=v[p]}),A=this&&this.__exportStar||function(m,v){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(v,p)&&E(v,m,p)};Object.defineProperty(G,"__esModule",{value:!0}),G.contentType=G.PromptRenderer=G.MetadataMap=G.PromptElement=G.ToolResult=G.UserMessage=G.ToolMessage=G.TextChunk=G.SystemMessage=G.PrioritizedList=G.LegacyPrioritization=G.FunctionMessage=G.Chunk=G.AssistantMessage=G.ChatRole=G.JSONTree=void 0,G.renderPrompt=b,G.renderElementJSON=u,G.toVsCodeChatMessages=k;const M=T(96423),S=T(79420),d=T(82990);A(T(46925),G),G.JSONTree=T(8150);var c=T(96423);Object.defineProperty(G,"ChatRole",{enumerable:!0,get:function(){return c.ChatRole}}),A(T(52727),G),A(T(3804),G),A(T(63479),G),A(T(68504),G);var f=T(75234);Object.defineProperty(G,"AssistantMessage",{enumerable:!0,get:function(){return f.AssistantMessage}}),Object.defineProperty(G,"Chunk",{enumerable:!0,get:function(){return f.Chunk}}),Object.defineProperty(G,"FunctionMessage",{enumerable:!0,get:function(){return f.FunctionMessage}}),Object.defineProperty(G,"LegacyPrioritization",{enumerable:!0,get:function(){return f.LegacyPrioritization}}),Object.defineProperty(G,"PrioritizedList",{enumerable:!0,get:function(){return f.PrioritizedList}}),Object.defineProperty(G,"SystemMessage",{enumerable:!0,get:function(){return f.SystemMessage}}),Object.defineProperty(G,"TextChunk",{enumerable:!0,get:function(){return f.TextChunk}}),Object.defineProperty(G,"ToolMessage",{enumerable:!0,get:function(){return f.ToolMessage}}),Object.defineProperty(G,"UserMessage",{enumerable:!0,get:function(){return f.UserMessage}}),Object.defineProperty(G,"ToolResult",{enumerable:!0,get:function(){return f.ToolResult}});var h=T(3575);Object.defineProperty(G,"PromptElement",{enumerable:!0,get:function(){return h.PromptElement}});var _=T(79420);Object.defineProperty(G,"MetadataMap",{enumerable:!0,get:function(){return _.MetadataMap}}),Object.defineProperty(G,"PromptRenderer",{enumerable:!0,get:function(){return _.PromptRenderer}});async function b(m,v,p,C,R,D,F="vscode"){let z="countTokens"in C?new d.AnyTokenizer((X,P)=>C.countTokens(X,P)):C;const y=new S.PromptRenderer(p,m,v,z);let{messages:U,tokenCount:W,references:K,metadata:Z}=await y.render(R,D);const re=y.getUsedContext();return F==="vscode"&&(U=k(U)),{messages:U,tokenCount:W,metadatas:Z,usedContext:re,references:K}}G.contentType="application/vnd.codechat.prompt+json.1";function u(m,v,p,C){var D;return new S.PromptRenderer({modelMaxPromptTokens:(D=p==null?void 0:p.tokenBudget)!=null?D:Number.MAX_SAFE_INTEGER},m,v,{countMessageTokens(F){throw new Error("Tools may only return text, not messages.")},tokenLength(F,z){var y;return Promise.resolve((y=p==null?void 0:p.countTokens(F,z))!=null?y:Promise.resolve(1))}}).renderElementJSON(C)}function k(m){const v=T(91398);return m.map(p=>{switch(p.role){case M.ChatRole.Assistant:const C=v.LanguageModelChatMessage.Assistant(p.content,p.name);return p.tool_calls&&(C.content=[new v.LanguageModelTextPart(p.content),...p.tool_calls.map(R=>new v.LanguageModelToolCallPart(R.id,R.function.name,R.function.arguments))]),C;case M.ChatRole.User:return v.LanguageModelChatMessage.User(p.content,p.name);case M.ChatRole.Function:{const R=v.LanguageModelChatMessage.User("");return R.content=[new v.LanguageModelToolResultPart(p.name,[new v.LanguageModelTextPart(p.content)])],R}case M.ChatRole.Tool:{const R=v.LanguageModelChatMessage.User("");return R.content=[new v.LanguageModelToolResultPart(p.tool_call_id,[new v.LanguageModelTextPart(p.content)])],R}default:throw new Error(`Converting chat message with role ${p.role} to VS Code chat message is not supported.`)}})}},8150:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.forEachNode=T;function T(E,A){if(A(E),E.type===1)for(const M of E.children)T(M,A)}},49138:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MaterializedChatMessage=G.MaterializedChatMessageTextChunk=G.MaterializedContainer=void 0;const E=T(54548),A=T(96423);class M{constructor(p,C,R,D,F,z){Kt(this,"id");Kt(this,"name");Kt(this,"priority");Kt(this,"children");Kt(this,"metadata");Kt(this,"flags");this.id=p,this.name=C,this.priority=R,this.children=D,this.metadata=F,this.flags=z}has(p){return!!(this.flags&p)}async tokenCount(p){let C=0;return await Promise.all(this.children.map(async R=>{f(R);const D=await R.tokenCount(p);C+=D})),C}async upperBoundTokenCount(p){let C=0;return await Promise.all(this.children.map(async R=>{const D=await R.upperBoundTokenCount(p);C+=D})),C}replaceNode(p,C){return m(p,this.children,C)}allMetadata(){return k(this)}*toChatMessages(){for(const p of this.children)f(p),p instanceof M?yield*p.toChatMessages():p.isEmpty||(yield p.toChatMessage())}removeLowestPriorityChild(){this.has(1)?_(this):b(this)}}G.MaterializedContainer=M;class S{constructor(p,C,R=[],D){Kt(this,"text");Kt(this,"priority");Kt(this,"metadata");Kt(this,"lineBreakBefore");Kt(this,"_upperBound",(0,E.once)(async p=>await p.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=p,this.priority=C,this.metadata=R,this.lineBreakBefore=D}upperBoundTokenCount(p){return this._upperBound(p)}}G.MaterializedChatMessageTextChunk=S;class d{constructor(p,C,R,D,F,z,y,U){Kt(this,"id");Kt(this,"role");Kt(this,"name");Kt(this,"toolCalls");Kt(this,"toolCallId");Kt(this,"priority");Kt(this,"metadata");Kt(this,"children");Kt(this,"_tokenCount",(0,E.once)(async p=>p.countMessageTokens(this.toChatMessage())));Kt(this,"_upperBound",(0,E.once)(async p=>{let C=await this._baseMessageTokenCount(p);return await Promise.all(this.children.map(async R=>{const D=await R.upperBoundTokenCount(p);C+=D})),C}));Kt(this,"_baseMessageTokenCount",(0,E.once)(p=>p.countMessageTokens({...this.toChatMessage(),content:""})));Kt(this,"_text",(0,E.once)(()=>{let p="";for(const{text:C,isTextSibling:R}of h(this))(C.lineBreakBefore===1||C.lineBreakBefore===2&&!R)&&p.length&&!p.endsWith(`
`)&&(p+=`
`),p+=C.text;return p.trim()}));this.id=p,this.role=C,this.name=R,this.toolCalls=D,this.toolCallId=F,this.priority=z,this.metadata=y,this.children=U}async tokenCount(p){return this._tokenCount(p)}async upperBoundTokenCount(p){return this._upperBound(p)}get text(){return this._text()}get isEmpty(){var p;return!/\S/.test(this.text)&&!((p=this.toolCalls)!=null&&p.length)&&!this.toolCallId}replaceNode(p,C){const R=m(p,this.children,C);return R&&this.onChunksChange(),R}removeLowestPriorityChild(){b(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===A.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===A.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===A.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===A.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}G.MaterializedChatMessage=d;function c(v){return!(v instanceof S)}function f(v){if(!(v instanceof M)&&!(v instanceof d))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${v.text}"`)}function*h(v,p=!1){for(const C of v.children)C instanceof S?(yield{text:C,isTextSibling:p},p=!0):(yield*h(C,p),p=!1)}function _(v){let p;function C(F,z){if(F instanceof S)(!p||F.priority<p.node.priority)&&(p={chain:z.slice(),node:F});else{z.push(F);for(const y of F.children)C(y,z);z.pop()}}if(C(v,[]),!p)throw new Error("No lowest priority node found");let R=p.node,D=p.chain.length-1;for(;D>=0;D--){const F=p.chain[D];if(F.children.splice(F.children.indexOf(R),1),F instanceof d&&F.onChunksChange(),F.children.length>0)break;R=F}for(;D>=0;D--){const F=p.chain[D];F instanceof d&&F.onChunksChange()}}function b(v){var D;let p;const C=v.children.map((F,z)=>({chain:[v],index:z}));for(let F=0;F<C.length;F++){const{chain:z,index:y}=C[F],U=z[z.length-1].children[y];if(U instanceof M&&U.has(4)){const W=[...z,U];C.splice(F+1,0,...U.children.map((K,Z)=>({chain:W,index:Z})))}else if(!p||U.priority<p.value.priority)p={chain:z,index:y,value:U};else if(U.priority===p.value.priority){(D=p.lowestNested)!=null||(p.lowestNested=u(p.value));const W=u(U);W<p.lowestNested&&(p={chain:z,index:y,value:U,lowestNested:W})}}if(!p)throw new Error("No lowest priority node found");const R=p.chain[p.chain.length-1].children;p.value instanceof S||p.value instanceof M&&p.value.has(2)||c(p.value)&&!p.value.children.length?R.splice(p.index,1):(p.value.removeLowestPriorityChild(),p.value.children.length===0&&R.splice(p.index,1));for(const F of p.chain)F instanceof d&&F.onChunksChange()}function u(v){if(!c(v))return-1;let p=Number.MAX_SAFE_INTEGER;for(const C of v.children)p=Math.min(p,C.priority);return p}function*k(v){yield*v.metadata;for(const p of v.children)c(p)?yield*k(p):yield*p.metadata}function m(v,p,C){for(let R=0;R<p.length;R++){const D=p[R];if(c(D)){if(D.id===v){const z=p[R];return p[R]=C,z}const F=D.replaceNode(v,C);if(F)return F}}}},54548:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.once=T;function T(E){let A,M=!1;const S=(...d)=>(M||(A=E(...d),M=!0),A);return S.clear=()=>{M=!1},S}},96423:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseTokensPerName=G.BaseTokensPerMessage=G.BaseTokensPerCompletion=G.ChatRole=void 0;var T;(function(E){E.System="system",E.User="user",E.Assistant="assistant",E.Function="function",E.Tool="tool"})(T||(G.ChatRole=T={})),G.BaseTokensPerCompletion=3,G.BaseTokensPerMessage=3,G.BaseTokensPerName=1},3575:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptElement=void 0,T(10818);class E{constructor(M){Kt(this,"props");this.props=M}get priority(){var M;return(M=this.props.priority)!=null?M:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}G.PromptElement=E},75234:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Expandable=G.Chunk=G.LegacyPrioritization=G.ToolResult=G.PrioritizedList=G.TextChunk=G.ToolMessage=G.FunctionMessage=G.AssistantMessage=G.UserMessage=G.SystemMessage=G.BaseChatMessage=void 0,G.isChatMessagePromptElement=M;const E=T(96423),A=T(3575);function M(D){return D instanceof d||D instanceof c||D instanceof f}class S extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.BaseChatMessage=S;class d extends S{constructor(F){F.role=E.ChatRole.System,super(F)}}G.SystemMessage=d;class c extends S{constructor(F){F.role=E.ChatRole.User,super(F)}}G.UserMessage=c;class f extends S{constructor(F){F.role=E.ChatRole.Assistant,super(F)}}G.AssistantMessage=f;const h=/\s+/g;class _ extends S{constructor(F){F.role=E.ChatRole.Function,super(F)}}G.FunctionMessage=_;class b extends S{constructor(F){F.role=E.ChatRole.Tool,super(F)}}G.ToolMessage=b;class u extends A.PromptElement{async prepare(F,z,y){const U=this.props.breakOnWhitespace?h:this.props.breakOn;if(!U)return vscpp(vscppf,null,this.props.children);let W="";const K=[];for(const re of this.props.children||[])if(re&&typeof re=="object"){if(typeof re.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");re.ctor==="br"?W+=`
`:K.push(re)}else re!=null&&(W+=re);const Z=await k(F,U,W,y);return vscpp(vscppf,null,K,Z)}render(F){return F}}G.TextChunk=u;async function k(D,F,z,y){var K,Z;if(F instanceof RegExp){if(!F.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${F})`);F.lastIndex=0}let U="",W=-1;for(;W<z.length;){let re;typeof F=="string"?re=z.indexOf(F,W===-1?0:W+F.length):re=(Z=(K=F.exec(z))==null?void 0:K.index)!=null?Z:-1,re===-1&&(re=z.length);const X=U+z.slice(Math.max(0,W),re);if(await D.countTokens(X,y)>D.tokenBudget)return U;U=X,W=re}return U}class m extends A.PromptElement{render(){const F=this.props.children;if(F)return vscpp(vscppf,null,F.map((z,y)=>{var W;if(!z)return;const U=this.props.descending?this.props.priority-y:this.props.priority-F.length+y;return typeof z!="object"?vscpp(u,{priority:U},z):((W=z.props)!=null||(z.props={}),z.props.priority=U,z)}))}}G.PrioritizedList=m;class v extends A.PromptElement{render(){const F=T(91398);return vscpp(vscppf,null,this.props.data.content.map(z=>{if(z instanceof F.LanguageModelTextPart)return z.value;if(z instanceof F.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:z.value})}))}}G.ToolResult=v;class p extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.LegacyPrioritization=p;class C extends A.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.Chunk=C;class R extends A.PromptElement{async render(F,z){return vscpp(vscppf,null,await this.props.value(z))}}G.Expandable=R},79420:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptRenderer=G.MetadataMap=void 0;const E=T(49138),A=T(75234),M=T(52727);var S;(function(y){y.empty={get:()=>{},getAll:()=>[]}})(S||(G.MetadataMap=S={}));class d{constructor(U,W,K,Z){Kt(this,"_endpoint");Kt(this,"_ctor");Kt(this,"_props");Kt(this,"_tokenizer");Kt(this,"_usedContext",[]);Kt(this,"_ignoredFiles",[]);Kt(this,"_growables",[]);Kt(this,"_root",new m(null,0));Kt(this,"tracer");this._endpoint=U,this._ctor=W,this._props=K,this._tokenizer=Z}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(U){return new U.ctor(U.props)}async _processPromptPieces(U,W,K,Z){var $,N,o,w,I,q,j;const re=new Map;for(const[H,ee]of W.entries()){if(Array.isArray(ee.children)&&(ee.props=($=ee.props)!=null?$:{},ee.props.children=ee.children),!ee.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const ie=this.createElement(ee);ee.node.setObj(ie);const B=(N=ee.props.flexGrow)!=null?N:1/0;let ne=re.get(B);ne||(ne=[],re.set(B,ne)),ne.push({element:ee,promptElementInstance:ie})}if(re.size===0)return;const X=[...re.entries()].sort(([H],[ee])=>ee-H).map(([H,ee])=>ee),P=H=>{let ee=0;for(let ie=H+1;ie<X.length;ie++)for(const{element:B}of X[ie]){if(!B.props.flexReserve)continue;const ne=typeof B.props.flexReserve=="string"?Math.floor(U.remainingTokenBudget/Number(B.props.flexReserve.slice(1))):B.props.flexReserve;ee+=ne}return U.consume(ee),ee};for(const[H,ee]of X.entries()){const ie=P(H);let B=0;for(const{element:pe}of ee)B+=(o=pe.props.flex||pe.props.flexBasis)!=null?o:1;const ne=ee.map(pe=>{var Pe;const Me=((Pe=pe.element.props.flexBasis)!=null?Pe:1)/B;return{tokenBudget:Math.floor(U.remainingTokenBudget*Me),endpoint:U.endpoint,countTokens:(J,te)=>this._tokenizer.tokenLength(J,te)}});U.consume(-ie),(j=(w=this.tracer)==null?void 0:w.addRenderEpoch)==null||j.call(w,{inNode:(I=ee[0].element.node.parent)==null?void 0:I.id,flexValue:(q=ee[0].element.props.flexGrow)!=null?q:0,tokenBudget:U.remainingTokenBudget,reservedTokens:ie,elements:ee.map((pe,Me)=>({id:pe.element.node.id,tokenBudget:ne[Me].tokenBudget}))}),await Promise.all(ee.map(async({element:pe,promptElementInstance:Me},Pe)=>{var te;const J=await((te=Me.prepare)==null?void 0:te.call(Me,ne[Pe],K,Z));pe.node.setState(J)}));const Le=await Promise.all(ee.map(async({element:pe,promptElementInstance:Me},Pe)=>{const J=ne[Pe];return await Me.render(pe.node.getState(),J,K,Z)}));for(const[pe,{element:Me,promptElementInstance:Pe}]of ee.entries()){const J=ne[pe],te=Le[pe];if(!te)continue;const fe=await this._processPromptRenderPiece(new k(J.tokenBudget,this._endpoint),Me,Pe,te,K,Z);Pe instanceof A.Expandable&&this._growables.push({initialConsume:fe,elem:Me.node}),U.consume(fe)}}}async _processPromptRenderPiece(U,W,K,Z,re,X){const P=f(Z),$=new k(U.tokenBudget,this._endpoint),{tokensConsumed:N}=await c(this._tokenizer,W,K,P);return $.consume(N),await this._handlePromptChildren(W,P,$,re,X),$.consumed}async renderElementJSON(U){return await this._processPromptPieces(new k(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,U),{node:this._root.toJSON()}}async render(U,W){var I,q;await this._processPromptPieces(new k(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],U,W);const{container:K,allMetadata:Z,removed:re}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,W);(q=(I=this.tracer)==null?void 0:I.didMaterializeTree)==null||q.call(I,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:K,removed:re,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:j=>this._getFinalElementTree(j,void 0).then(H=>({...H,budget:j}))});const X=[...K.toChatMessages()],P=await K.tokenCount(this._tokenizer),$=[...K.allMetadata()],N=new Set,o=$.map(j=>{if(!(j instanceof F))return;const H=j.reference,ee="variableName"in H.anchor;if(ee&&!N.has(H.anchor.variableName))return N.add(H.anchor.variableName),H;if(!ee)return H}).filter(R),w=Z.map(j=>{if(!(j instanceof F)||$.includes(j))return;const H=j.reference,ee="variableName"in H.anchor;if(ee&&!N.has(H.anchor.variableName))return N.add(H.anchor.variableName),H;if(!ee)return H}).filter(R);return{metadata:{get:j=>$.find(H=>H instanceof j),getAll:j=>$.filter(H=>H instanceof j)},messages:X,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:P,references:o,omittedReferences:w}}async _getFinalElementTree(U,W){const K=this._root.materialize(),Z=await K.tokenCount(this._tokenizer);if(Z<U&&!await this._grow(K,Z,U,W))return{container:K,allMetadata:[...K.allMetadata()],removed:0};const re=[...K.allMetadata()];let X=0;for(;await K.upperBoundTokenCount(this._tokenizer)>U&&await K.tokenCount(this._tokenizer)>U;)K.removeLowestPriorityChild(),X++;return{container:K,allMetadata:re,removed:X}}async _grow(U,W,K,Z){if(!this._growables.length)return!1;for(const re of this._growables){const X=re.elem.getObj();if(!(X instanceof A.Expandable))throw new Error("unreachable: expected growable");const P=new m(null,0,re.elem.id),$=new k(K-W+re.initialConsume,this._endpoint),N=await this._processPromptRenderPiece($,{node:P,ctor:this._ctor,props:{},children:[]},X,await X.render(void 0,{tokenBudget:$.tokenBudget,endpoint:this._endpoint,countTokens:(I,q)=>this._tokenizer.tokenLength(I,q)}),void 0,Z),o=P.materialize();if(!U.replaceNode(re.elem.id,o))throw new Error("unreachable: could not find old element to replace");if(W-=re.initialConsume,W+=N,W>=K)break}return!0}_handlePromptChildren(U,W,K,Z,re){var P,$;if(U.ctor===A.TextChunk){this._handleExtrinsicTextChunkChildren(U.node,U.node,U.props,W);return}let X=[];for(const N of W){if(N.kind==="literal"){U.node.appendStringChild(N.value,(P=U.props.priority)!=null?P:Number.MAX_SAFE_INTEGER);continue}if(N.kind==="intrinsic"){this._handleIntrinsic(U.node,N.name,{priority:($=U.props.priority)!=null?$:Number.MAX_SAFE_INTEGER,...N.props},h(N.children));continue}const o=U.node.createChild();X.push({node:o,ctor:N.ctor,props:{priority:U.props.priority,...N.props},children:N.children})}return this._processPromptPieces(K,X,Z,re)}_handleIntrinsic(U,W,K,Z,re){switch(W){case"meta":return this._handleIntrinsicMeta(U,K,Z);case"br":return this._handleIntrinsicLineBreak(U,K,Z,K.priority,re);case"usedContext":return this._handleIntrinsicUsedContext(U,K,Z);case"references":return this._handleIntrinsicReferences(U,K,Z);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(U,K,Z);case"elementJSON":return this._handleIntrinsicElementJSON(U,K.data)}throw new Error(`Unknown intrinsic element ${W}!`)}_handleIntrinsicMeta(U,W,K){if(K.length>0)throw new Error("<meta /> must not have children!");W.local?U.addMetadata(W.value):this._root.addMetadata(W.value)}_handleIntrinsicLineBreak(U,W,K,Z,re){if(K.length>0)throw new Error("<br /> must not have children!");U.appendLineBreak(Z!=null?Z:Number.MAX_SAFE_INTEGER,re)}_handleIntrinsicElementJSON(U,W){var Z;const K=U.appendPieceJSON(W.node);if((Z=this.tracer)!=null&&Z.includeInEpoch)for(const re of K.elements())this.tracer.includeInEpoch({id:re.id,tokenBudget:0})}_handleIntrinsicUsedContext(U,W,K){if(K.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...W.value)}_handleIntrinsicReferences(U,W,K){if(K.length>0)throw new Error("<reference /> must not have children!");for(const Z of W.value)U.addMetadata(new F(Z))}_handleIntrinsicIgnoredFiles(U,W,K){if(K.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...W.value)}_handleExtrinsicTextChunkChildren(U,W,K,Z){var P;const re=[],X=[];for(const $ of Z){if($.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if($.kind==="literal"&&re.push($.value),$.kind==="intrinsic")if($.name==="br")re.push(`
`);else if($.name==="references")for(const N of $.props.value)X.push(new F(N));else this._handleIntrinsic(U,$.name,$.props,h($.children),W.childIndex)}U.appendStringChild(re.join(""),(P=K==null?void 0:K.priority)!=null?P:Number.MAX_SAFE_INTEGER,X,W.childIndex,!0)}}G.PromptRenderer=d;async function c(y,U,W,K){let Z=0;(0,A.isChatMessagePromptElement)(W)&&(Z+=await y.countMessageTokens({role:U.props.role,content:"",...U.props.name?{name:U.props.name}:void 0}));for(const re of K)re.kind==="literal"&&(Z+=await y.tokenLength(re.value));return{tokensConsumed:Z}}function f(y){return typeof y=="undefined"||typeof y=="boolean"?[]:typeof y=="string"||typeof y=="number"?[new u(String(y))]:p(y)?[...h(y.children)]:typeof y.ctor=="string"?[new _(y.ctor,y.props,y.children)]:[new b(y.ctor,y.props,y.children)]}function h(y){return(y!=null?y:[]).reduce((U,W)=>(U.push(...f(W)),U),[])}class _{constructor(U,W,K){Kt(this,"name");Kt(this,"props");Kt(this,"children");Kt(this,"kind","intrinsic");this.name=U,this.props=W,this.children=K}}class b{constructor(U,W,K){Kt(this,"ctor");Kt(this,"props");Kt(this,"children");Kt(this,"kind","extrinsic");this.ctor=U,this.props=W,this.children=K}}class u{constructor(U,W){Kt(this,"value");Kt(this,"priority");Kt(this,"kind","literal");this.value=U,this.priority=W}}class k{constructor(U,W){Kt(this,"tokenBudget");Kt(this,"endpoint");Kt(this,"_consumed",0);this.tokenBudget=U,this.endpoint=W}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(U){this._consumed+=U}}const z=class z{constructor(U=null,W,K=z._nextId++){Kt(this,"parent");Kt(this,"childIndex");Kt(this,"id");Kt(this,"kind",1);Kt(this,"_obj",null);Kt(this,"_state");Kt(this,"_children",[]);Kt(this,"_metadata",[]);this.parent=U,this.childIndex=W,this.id=K}static fromJSON(U,W){var Z,re;const K=new z(null,U);switch(K._metadata=(re=(Z=W.references)==null?void 0:Z.map(X=>new F(M.PromptReference.fromJSON(X))))!=null?re:[],K._children=W.children.map((X,P)=>{switch(X.type){case 1:return z.fromJSON(P,X);case 2:return v.fromJSON(K,P,X);default:}}).filter(R),W.ctor){case 1:K._obj=new A.BaseChatMessage(W.props);break;case 2:break;default:W.ctor}return K}setObj(U){this._obj=U}getObj(){return this._obj}setState(U){this._state=U}getState(){return this._state}createChild(){const U=new z(this,this._children.length);return this._children.push(U),U}appendPieceJSON(U){const W=z.fromJSON(this._children.length,U);return this._children.push(W),W}appendStringChild(U,W,K,Z=this._children.length,re=!1){this._children.push(new v(this,Z,U,W,K,re))}appendLineBreak(U,W=this._children.length){this._children.push(new v(this,W,`
`,U))}toJSON(){var W;const U={type:1,ctor:2,children:this._children.slice().sort((K,Z)=>K.childIndex-Z.childIndex).map(K=>K.toJSON()),priority:(W=this._obj)==null?void 0:W.props.priority,references:this._metadata.filter(K=>K instanceof F).map(K=>K.reference.toJSON())};return this._obj instanceof A.BaseChatMessage&&(U.ctor=1,U.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),U}materialize(){var U,W,K,Z,re,X;if(this._children.sort((P,$)=>P.childIndex-$.childIndex),this._obj instanceof A.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new E.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof A.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof A.ToolMessage?this._obj.props.toolCallId:void 0,(U=this._obj.props.priority)!=null?U:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map($=>$.materialize()))}else{let P=0;return this._obj instanceof A.LegacyPrioritization&&(P|=1),this._obj instanceof A.Chunk&&(P|=2),(W=this._obj)!=null&&W.props.passPriority&&(P|=4),new E.MaterializedContainer(this.id,(K=this._obj)==null?void 0:K.constructor.name,(X=(Z=this._obj)==null?void 0:Z.props.priority)!=null?X:(re=this._obj)!=null&&re.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map($=>$.materialize()),this._metadata,P)}}addMetadata(U){this._metadata.push(U)}*elements(){yield this;for(const U of this._children)U instanceof z&&(yield*U.elements())}};Kt(z,"_nextId",0);let m=z;class v{constructor(U,W,K,Z,re,X=!1){Kt(this,"parent");Kt(this,"childIndex");Kt(this,"text");Kt(this,"priority");Kt(this,"metadata");Kt(this,"lineBreakBefore");Kt(this,"kind",2);this.parent=U,this.childIndex=W,this.text=K,this.priority=Z,this.metadata=re,this.lineBreakBefore=X}static fromJSON(U,W,K){var Z;return new v(U,W,K.text,K.priority,(Z=K.references)==null?void 0:Z.map(re=>new F(M.PromptReference.fromJSON(re))),K.lineBreakBefore)}collectLeafs(U){U.push(this)}materialize(){var W;const U=this.lineBreakBefore?1:this.childIndex===0?2:0;return new E.MaterializedChatMessageTextChunk(this.text,(W=this.priority)!=null?W:Number.MAX_SAFE_INTEGER,this.metadata||[],U)}toJSON(){var U;return{type:2,priority:this.priority,text:this.text,references:(U=this.metadata)==null?void 0:U.filter(W=>W instanceof F).map(W=>W.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function p(y){var U;return(U=typeof y.ctor=="function"&&y.ctor.isFragment)!=null?U:!1}function C(y){}function R(y){return y!==void 0}class D extends M.PromptMetadata{}class F extends D{constructor(W){super();Kt(this,"reference");this.reference=W}}},52727:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptReference=G.ChatResponseReferencePartStatusKind=G.PromptMetadata=void 0;const E=T(84326);class A{constructor(){Kt(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}G.PromptMetadata=A;var M;(function(d){d[d.Complete=1]="Complete",d[d.Partial=2]="Partial",d[d.Omitted=3]="Omitted"})(M||(G.ChatResponseReferencePartStatusKind=M={}));class S{constructor(c,f,h){Kt(this,"anchor");Kt(this,"iconPath");Kt(this,"options");this.anchor=c,this.iconPath=f,this.options=h}static fromJSON(c){const f=h=>"scheme"in h?E.URI.from(h):{uri:E.URI.from(h.uri),range:h.range};return new S("variableName"in c.anchor?{variableName:c.anchor.variableName,value:c.anchor.value&&f(c.anchor.value)}:f(c.anchor),c.iconPath&&("scheme"in c.iconPath?E.URI.from(c.iconPath):"light"in c.iconPath?{light:E.URI.from(c.iconPath.light),dark:E.URI.from(c.iconPath.dark)}:c.iconPath),c.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}G.PromptReference=S},82990:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.AnyTokenizer=void 0;const E=T(96423);class A{constructor(S){Kt(this,"countTokens");this.countTokens=S}async tokenLength(S,d){return this.countTokens(S,d)}async countMessageTokens(S){const d=await Promise.resolve().then(()=>T(91398));return this.countTokens({role:this.toChatRole(S.role),content:[new d.LanguageModelTextPart(S.content)],name:"name"in S?S.name:void 0})}toChatRole(S){switch(S){case E.ChatRole.User:return 1;case E.ChatRole.Assistant:return 2;case E.ChatRole.System:return 1;case E.ChatRole.Function:return 1;case E.ChatRole.Tool:return 1}}}G.AnyTokenizer=A},3804:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},63479:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},10818:()=>{"use strict";function s(T,E,...A){return{ctor:T,props:E,children:A.flat()}}function G(){throw new Error("This should not be invoked!")}G.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=G},68504:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},22177:(s,G,T)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.delimiter=G.sep=G.toNamespacedPath=G.parse=G.format=G.extname=G.basename=G.dirname=G.relative=G.resolve=G.join=G.isAbsolute=G.normalize=G.posix=G.win32=void 0;const E=T(13),A=65,M=97,S=90,d=122,c=46,f=47,h=92,_=58,b=63;class u extends Error{constructor(W,K,Z){let re;typeof K=="string"&&K.indexOf("not ")===0?(re="must not be",K=K.replace(/^not /,"")):re="must be";const X=W.indexOf(".")!==-1?"property":"argument";let P=`The "${W}" ${X} ${re} of type ${K}`;P+=`. Received type ${typeof Z}`;super(P);Kt(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function k(y,U){if(y===null||typeof y!="object")throw new u(U,"Object",y)}function m(y,U){if(typeof y!="string")throw new u(U,"string",y)}const v=E.platform==="win32";function p(y){return y===f||y===h}function C(y){return y===f}function R(y){return y>=A&&y<=S||y>=M&&y<=d}function D(y,U,W,K){let Z="",re=0,X=-1,P=0,$=0;for(let N=0;N<=y.length;++N){if(N<y.length)$=y.charCodeAt(N);else{if(K($))break;$=f}if(K($)){if(!(X===N-1||P===1))if(P===2){if(Z.length<2||re!==2||Z.charCodeAt(Z.length-1)!==c||Z.charCodeAt(Z.length-2)!==c){if(Z.length>2){const o=Z.lastIndexOf(W);o===-1?(Z="",re=0):(Z=Z.slice(0,o),re=Z.length-1-Z.lastIndexOf(W)),X=N,P=0;continue}else if(Z.length!==0){Z="",re=0,X=N,P=0;continue}}U&&(Z+=Z.length>0?`${W}..`:"..",re=2)}else Z.length>0?Z+=`${W}${y.slice(X+1,N)}`:Z=y.slice(X+1,N),re=N-X-1;X=N,P=0}else $===c&&P!==-1?++P:P=-1}return Z}function F(y,U){k(U,"pathObject");const W=U.dir||U.root,K=U.base||`${U.name||""}${U.ext||""}`;return W?W===U.root?`${W}${K}`:`${W}${y}${K}`:K}G.win32={resolve(...y){let U="",W="",K=!1;for(let Z=y.length-1;Z>=-1;Z--){let re;if(Z>=0){if(re=y[Z],m(re,"path"),re.length===0)continue}else U.length===0?re=E.cwd():(re=E.env[`=${U}`]||E.cwd(),(re===void 0||re.slice(0,2).toLowerCase()!==U.toLowerCase()&&re.charCodeAt(2)===h)&&(re=`${U}\\`));const X=re.length;let P=0,$="",N=!1;const o=re.charCodeAt(0);if(X===1)p(o)&&(P=1,N=!0);else if(p(o))if(N=!0,p(re.charCodeAt(1))){let w=2,I=w;for(;w<X&&!p(re.charCodeAt(w));)w++;if(w<X&&w!==I){const q=re.slice(I,w);for(I=w;w<X&&p(re.charCodeAt(w));)w++;if(w<X&&w!==I){for(I=w;w<X&&!p(re.charCodeAt(w));)w++;(w===X||w!==I)&&($=`\\\\${q}\\${re.slice(I,w)}`,P=w)}}}else P=1;else R(o)&&re.charCodeAt(1)===_&&($=re.slice(0,2),P=2,X>2&&p(re.charCodeAt(2))&&(N=!0,P=3));if($.length>0)if(U.length>0){if($.toLowerCase()!==U.toLowerCase())continue}else U=$;if(K){if(U.length>0)break}else if(W=`${re.slice(P)}\\${W}`,K=N,N&&U.length>0)break}return W=D(W,!K,"\\",p),K?`${U}\\${W}`:`${U}${W}`||"."},normalize(y){m(y,"path");const U=y.length;if(U===0)return".";let W=0,K,Z=!1;const re=y.charCodeAt(0);if(U===1)return C(re)?"\\":y;if(p(re))if(Z=!0,p(y.charCodeAt(1))){let P=2,$=P;for(;P<U&&!p(y.charCodeAt(P));)P++;if(P<U&&P!==$){const N=y.slice($,P);for($=P;P<U&&p(y.charCodeAt(P));)P++;if(P<U&&P!==$){for($=P;P<U&&!p(y.charCodeAt(P));)P++;if(P===U)return`\\\\${N}\\${y.slice($)}\\`;P!==$&&(K=`\\\\${N}\\${y.slice($,P)}`,W=P)}}}else W=1;else R(re)&&y.charCodeAt(1)===_&&(K=y.slice(0,2),W=2,U>2&&p(y.charCodeAt(2))&&(Z=!0,W=3));let X=W<U?D(y.slice(W),!Z,"\\",p):"";return X.length===0&&!Z&&(X="."),X.length>0&&p(y.charCodeAt(U-1))&&(X+="\\"),K===void 0?Z?`\\${X}`:X:Z?`${K}\\${X}`:`${K}${X}`},isAbsolute(y){m(y,"path");const U=y.length;if(U===0)return!1;const W=y.charCodeAt(0);return p(W)||U>2&&R(W)&&y.charCodeAt(1)===_&&p(y.charCodeAt(2))},join(...y){if(y.length===0)return".";let U,W;for(let re=0;re<y.length;++re){const X=y[re];m(X,"path"),X.length>0&&(U===void 0?U=W=X:U+=`\\${X}`)}if(U===void 0)return".";let K=!0,Z=0;if(typeof W=="string"&&p(W.charCodeAt(0))){++Z;const re=W.length;re>1&&p(W.charCodeAt(1))&&(++Z,re>2&&(p(W.charCodeAt(2))?++Z:K=!1))}if(K){for(;Z<U.length&&p(U.charCodeAt(Z));)Z++;Z>=2&&(U=`\\${U.slice(Z)}`)}return G.win32.normalize(U)},relative(y,U){if(m(y,"from"),m(U,"to"),y===U)return"";const W=G.win32.resolve(y),K=G.win32.resolve(U);if(W===K||(y=W.toLowerCase(),U=K.toLowerCase(),y===U))return"";let Z=0;for(;Z<y.length&&y.charCodeAt(Z)===h;)Z++;let re=y.length;for(;re-1>Z&&y.charCodeAt(re-1)===h;)re--;const X=re-Z;let P=0;for(;P<U.length&&U.charCodeAt(P)===h;)P++;let $=U.length;for(;$-1>P&&U.charCodeAt($-1)===h;)$--;const N=$-P,o=X<N?X:N;let w=-1,I=0;for(;I<o;I++){const j=y.charCodeAt(Z+I);if(j!==U.charCodeAt(P+I))break;j===h&&(w=I)}if(I!==o){if(w===-1)return K}else{if(N>o){if(U.charCodeAt(P+I)===h)return K.slice(P+I+1);if(I===2)return K.slice(P+I)}X>o&&(y.charCodeAt(Z+I)===h?w=I:I===2&&(w=3)),w===-1&&(w=0)}let q="";for(I=Z+w+1;I<=re;++I)(I===re||y.charCodeAt(I)===h)&&(q+=q.length===0?"..":"\\..");return P+=w,q.length>0?`${q}${K.slice(P,$)}`:(K.charCodeAt(P)===h&&++P,K.slice(P,$))},toNamespacedPath(y){if(typeof y!="string"||y.length===0)return y;const U=G.win32.resolve(y);if(U.length<=2)return y;if(U.charCodeAt(0)===h){if(U.charCodeAt(1)===h){const W=U.charCodeAt(2);if(W!==b&&W!==c)return`\\\\?\\UNC\\${U.slice(2)}`}}else if(R(U.charCodeAt(0))&&U.charCodeAt(1)===_&&U.charCodeAt(2)===h)return`\\\\?\\${U}`;return y},dirname(y){m(y,"path");const U=y.length;if(U===0)return".";let W=-1,K=0;const Z=y.charCodeAt(0);if(U===1)return p(Z)?y:".";if(p(Z)){if(W=K=1,p(y.charCodeAt(1))){let P=2,$=P;for(;P<U&&!p(y.charCodeAt(P));)P++;if(P<U&&P!==$){for($=P;P<U&&p(y.charCodeAt(P));)P++;if(P<U&&P!==$){for($=P;P<U&&!p(y.charCodeAt(P));)P++;if(P===U)return y;P!==$&&(W=K=P+1)}}}}else R(Z)&&y.charCodeAt(1)===_&&(W=U>2&&p(y.charCodeAt(2))?3:2,K=W);let re=-1,X=!0;for(let P=U-1;P>=K;--P)if(p(y.charCodeAt(P))){if(!X){re=P;break}}else X=!1;if(re===-1){if(W===-1)return".";re=W}return y.slice(0,re)},basename(y,U){U!==void 0&&m(U,"ext"),m(y,"path");let W=0,K=-1,Z=!0,re;if(y.length>=2&&R(y.charCodeAt(0))&&y.charCodeAt(1)===_&&(W=2),U!==void 0&&U.length>0&&U.length<=y.length){if(U===y)return"";let X=U.length-1,P=-1;for(re=y.length-1;re>=W;--re){const $=y.charCodeAt(re);if(p($)){if(!Z){W=re+1;break}}else P===-1&&(Z=!1,P=re+1),X>=0&&($===U.charCodeAt(X)?--X===-1&&(K=re):(X=-1,K=P))}return W===K?K=P:K===-1&&(K=y.length),y.slice(W,K)}for(re=y.length-1;re>=W;--re)if(p(y.charCodeAt(re))){if(!Z){W=re+1;break}}else K===-1&&(Z=!1,K=re+1);return K===-1?"":y.slice(W,K)},extname(y){m(y,"path");let U=0,W=-1,K=0,Z=-1,re=!0,X=0;y.length>=2&&y.charCodeAt(1)===_&&R(y.charCodeAt(0))&&(U=K=2);for(let P=y.length-1;P>=U;--P){const $=y.charCodeAt(P);if(p($)){if(!re){K=P+1;break}continue}Z===-1&&(re=!1,Z=P+1),$===c?W===-1?W=P:X!==1&&(X=1):W!==-1&&(X=-1)}return W===-1||Z===-1||X===0||X===1&&W===Z-1&&W===K+1?"":y.slice(W,Z)},format:F.bind(null,"\\"),parse(y){m(y,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(y.length===0)return U;const W=y.length;let K=0,Z=y.charCodeAt(0);if(W===1)return p(Z)?(U.root=U.dir=y,U):(U.base=U.name=y,U);if(p(Z)){if(K=1,p(y.charCodeAt(1))){let w=2,I=w;for(;w<W&&!p(y.charCodeAt(w));)w++;if(w<W&&w!==I){for(I=w;w<W&&p(y.charCodeAt(w));)w++;if(w<W&&w!==I){for(I=w;w<W&&!p(y.charCodeAt(w));)w++;w===W?K=w:w!==I&&(K=w+1)}}}}else if(R(Z)&&y.charCodeAt(1)===_){if(W<=2)return U.root=U.dir=y,U;if(K=2,p(y.charCodeAt(2))){if(W===3)return U.root=U.dir=y,U;K=3}}K>0&&(U.root=y.slice(0,K));let re=-1,X=K,P=-1,$=!0,N=y.length-1,o=0;for(;N>=K;--N){if(Z=y.charCodeAt(N),p(Z)){if(!$){X=N+1;break}continue}P===-1&&($=!1,P=N+1),Z===c?re===-1?re=N:o!==1&&(o=1):re!==-1&&(o=-1)}return P!==-1&&(re===-1||o===0||o===1&&re===P-1&&re===X+1?U.base=U.name=y.slice(X,P):(U.name=y.slice(X,re),U.base=y.slice(X,P),U.ext=y.slice(re,P))),X>0&&X!==K?U.dir=y.slice(0,X-1):U.dir=U.root,U},sep:"\\",delimiter:";",win32:null,posix:null};const z=(()=>{if(v){const y=/\\/g;return()=>{const U=E.cwd().replace(y,"/");return U.slice(U.indexOf("/"))}}return()=>E.cwd()})();G.posix={resolve(...y){let U="",W=!1;for(let K=y.length-1;K>=-1&&!W;K--){const Z=K>=0?y[K]:z();m(Z,"path"),Z.length!==0&&(U=`${Z}/${U}`,W=Z.charCodeAt(0)===f)}return U=D(U,!W,"/",C),W?`/${U}`:U.length>0?U:"."},normalize(y){if(m(y,"path"),y.length===0)return".";const U=y.charCodeAt(0)===f,W=y.charCodeAt(y.length-1)===f;return y=D(y,!U,"/",C),y.length===0?U?"/":W?"./":".":(W&&(y+="/"),U?`/${y}`:y)},isAbsolute(y){return m(y,"path"),y.length>0&&y.charCodeAt(0)===f},join(...y){if(y.length===0)return".";let U;for(let W=0;W<y.length;++W){const K=y[W];m(K,"path"),K.length>0&&(U===void 0?U=K:U+=`/${K}`)}return U===void 0?".":G.posix.normalize(U)},relative(y,U){if(m(y,"from"),m(U,"to"),y===U||(y=G.posix.resolve(y),U=G.posix.resolve(U),y===U))return"";const W=1,K=y.length,Z=K-W,re=1,X=U.length-re,P=Z<X?Z:X;let $=-1,N=0;for(;N<P;N++){const w=y.charCodeAt(W+N);if(w!==U.charCodeAt(re+N))break;w===f&&($=N)}if(N===P)if(X>P){if(U.charCodeAt(re+N)===f)return U.slice(re+N+1);if(N===0)return U.slice(re+N)}else Z>P&&(y.charCodeAt(W+N)===f?$=N:N===0&&($=0));let o="";for(N=W+$+1;N<=K;++N)(N===K||y.charCodeAt(N)===f)&&(o+=o.length===0?"..":"/..");return`${o}${U.slice(re+$)}`},toNamespacedPath(y){return y},dirname(y){if(m(y,"path"),y.length===0)return".";const U=y.charCodeAt(0)===f;let W=-1,K=!0;for(let Z=y.length-1;Z>=1;--Z)if(y.charCodeAt(Z)===f){if(!K){W=Z;break}}else K=!1;return W===-1?U?"/":".":U&&W===1?"//":y.slice(0,W)},basename(y,U){U!==void 0&&m(U,"ext"),m(y,"path");let W=0,K=-1,Z=!0,re;if(U!==void 0&&U.length>0&&U.length<=y.length){if(U===y)return"";let X=U.length-1,P=-1;for(re=y.length-1;re>=0;--re){const $=y.charCodeAt(re);if($===f){if(!Z){W=re+1;break}}else P===-1&&(Z=!1,P=re+1),X>=0&&($===U.charCodeAt(X)?--X===-1&&(K=re):(X=-1,K=P))}return W===K?K=P:K===-1&&(K=y.length),y.slice(W,K)}for(re=y.length-1;re>=0;--re)if(y.charCodeAt(re)===f){if(!Z){W=re+1;break}}else K===-1&&(Z=!1,K=re+1);return K===-1?"":y.slice(W,K)},extname(y){m(y,"path");let U=-1,W=0,K=-1,Z=!0,re=0;for(let X=y.length-1;X>=0;--X){const P=y.charCodeAt(X);if(P===f){if(!Z){W=X+1;break}continue}K===-1&&(Z=!1,K=X+1),P===c?U===-1?U=X:re!==1&&(re=1):U!==-1&&(re=-1)}return U===-1||K===-1||re===0||re===1&&U===K-1&&U===W+1?"":y.slice(U,K)},format:F.bind(null,"/"),parse(y){m(y,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(y.length===0)return U;const W=y.charCodeAt(0)===f;let K;W?(U.root="/",K=1):K=0;let Z=-1,re=0,X=-1,P=!0,$=y.length-1,N=0;for(;$>=K;--$){const o=y.charCodeAt($);if(o===f){if(!P){re=$+1;break}continue}X===-1&&(P=!1,X=$+1),o===c?Z===-1?Z=$:N!==1&&(N=1):Z!==-1&&(N=-1)}if(X!==-1){const o=re===0&&W?1:re;Z===-1||N===0||N===1&&Z===X-1&&Z===re+1?U.base=U.name=y.slice(o,X):(U.name=y.slice(o,Z),U.base=y.slice(o,X),U.ext=y.slice(Z,X))}return re>0?U.dir=y.slice(0,re-1):W&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null},G.posix.win32=G.win32.win32=G.win32,G.posix.posix=G.win32.posix=G.posix,G.normalize=v?G.win32.normalize:G.posix.normalize,G.isAbsolute=v?G.win32.isAbsolute:G.posix.isAbsolute,G.join=v?G.win32.join:G.posix.join,G.resolve=v?G.win32.resolve:G.posix.resolve,G.relative=v?G.win32.relative:G.posix.relative,G.dirname=v?G.win32.dirname:G.posix.dirname,G.basename=v?G.win32.basename:G.posix.basename,G.extname=v?G.win32.extname:G.posix.extname,G.format=v?G.win32.format:G.posix.format,G.parse=v?G.win32.parse:G.posix.parse,G.toNamespacedPath=v?G.win32.toNamespacedPath:G.posix.toNamespacedPath,G.sep=v?G.win32.sep:G.posix.sep,G.delimiter=v?G.win32.delimiter:G.posix.delimiter},821:(s,G,T)=>{"use strict";var $;var E=T(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.isAndroid=G.isEdge=G.isSafari=G.isFirefox=G.isChrome=G.OS=G.setTimeout0=G.setTimeout0IsFaster=G.translationsConfigFile=G.platformLocale=G.locale=G.Language=G.language=G.userAgent=G.platform=G.isCI=G.isMobile=G.isIOS=G.webWorkerOrigin=G.isWebWorker=G.isWeb=G.isElectron=G.isNative=G.isLinuxSnap=G.isLinux=G.isMacintosh=G.isWindows=G.LANGUAGE_DEFAULT=void 0,G.PlatformToString=U,G.isLittleEndian=X,G.isBigSurOrNewer=P;const A=T(69175);G.LANGUAGE_DEFAULT="en";let M=!1,S=!1,d=!1,c=!1,f=!1,h=!1,_=!1,b=!1,u=!1,k=!1,m,v=G.LANGUAGE_DEFAULT,p=G.LANGUAGE_DEFAULT,C,R;const D=globalThis;let F;typeof D.vscode!="undefined"&&typeof D.vscode.process!="undefined"?F=D.vscode.process:typeof E!="undefined"&&(F=E);const z=typeof(($=F==null?void 0:F.versions)==null?void 0:$.electron)=="string",y=z&&(F==null?void 0:F.type)==="renderer";if(typeof F=="object"){M=F.platform==="win32",S=F.platform==="darwin",d=F.platform==="linux",c=d&&!!F.env.SNAP&&!!F.env.SNAP_REVISION,_=z,u=!!F.env.CI||!!F.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m=G.LANGUAGE_DEFAULT,v=G.LANGUAGE_DEFAULT;const N=F.env.VSCODE_NLS_CONFIG;if(N)try{const o=JSON.parse(N),w=o.availableLanguages["*"];m=o.locale,p=o.osLocale,v=w||G.LANGUAGE_DEFAULT,C=o._translationsConfigFile}catch{}f=!0}else typeof navigator=="object"&&!y?(R=navigator.userAgent,M=R.indexOf("Windows")>=0,S=R.indexOf("Macintosh")>=0,b=(R.indexOf("Macintosh")>=0||R.indexOf("iPad")>=0||R.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,d=R.indexOf("Linux")>=0,k=(R==null?void 0:R.indexOf("Mobi"))>=0,h=!0,m=A.getConfiguredDefaultLocale(A.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||G.LANGUAGE_DEFAULT,v=m,p=navigator.language):console.error("Unable to resolve platform.");function U(N){switch(N){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let W=0;S?W=1:M?W=3:d&&(W=2),G.isWindows=M,G.isMacintosh=S,G.isLinux=d,G.isLinuxSnap=c,G.isNative=f,G.isElectron=_,G.isWeb=h,G.isWebWorker=h&&typeof D.importScripts=="function",G.webWorkerOrigin=G.isWebWorker?D.origin:void 0,G.isIOS=b,G.isMobile=k,G.isCI=u,G.platform=W,G.userAgent=R,G.language=v;var K;(function(N){function o(){return G.language}N.value=o;function w(){return G.language.length===2?G.language==="en":G.language.length>=3?G.language[0]==="e"&&G.language[1]==="n"&&G.language[2]==="-":!1}N.isDefaultVariant=w;function I(){return G.language==="en"}N.isDefault=I})(K||(G.Language=K={})),G.locale=m,G.platformLocale=p,G.translationsConfigFile=C,G.setTimeout0IsFaster=typeof D.postMessage=="function"&&!D.importScripts,G.setTimeout0=(()=>{if(G.setTimeout0IsFaster){const N=[];D.addEventListener("message",w=>{if(w.data&&w.data.vscodeScheduleAsyncWork)for(let I=0,q=N.length;I<q;I++){const j=N[I];if(j.id===w.data.vscodeScheduleAsyncWork){N.splice(I,1),j.callback();return}}});let o=0;return w=>{const I=++o;N.push({id:I,callback:w}),D.postMessage({vscodeScheduleAsyncWork:I},"*")}}return N=>setTimeout(N)})(),G.OS=S||b?2:M?1:3;let Z=!0,re=!1;function X(){if(!re){re=!0;const N=new Uint8Array(2);N[0]=1,N[1]=2,Z=new Uint16Array(N.buffer)[0]===513}return Z}G.isChrome=!!(G.userAgent&&G.userAgent.indexOf("Chrome")>=0),G.isFirefox=!!(G.userAgent&&G.userAgent.indexOf("Firefox")>=0),G.isSafari=!!(!G.isChrome&&G.userAgent&&G.userAgent.indexOf("Safari")>=0),G.isEdge=!!(G.userAgent&&G.userAgent.indexOf("Edg/")>=0),G.isAndroid=!!(G.userAgent&&G.userAgent.indexOf("Android")>=0);function P(N){return parseFloat(N)>=20}},13:(s,G,T)=>{"use strict";var E=T(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.arch=G.platform=G.env=G.cwd=void 0;const A=T(821);let M;const S=globalThis.vscode;if(typeof S!="undefined"&&typeof S.process!="undefined"){const d=S.process;M={get platform(){return d.platform},get arch(){return d.arch},get env(){return d.env},cwd(){return d.cwd()}}}else typeof E!="undefined"?M={get platform(){return E.platform},get arch(){return E.arch},get env(){return E.env},cwd(){return E.env.VSCODE_CWD||E.cwd()}}:M={get platform(){return A.isWindows?"win32":A.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};G.cwd=M.cwd,G.env=M.env,G.platform=M.platform,G.arch=M.arch},84326:(s,G,T)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.URI=void 0,G.isUriComponents=m,G.uriToFsPath=F;const E=T(22177),A=T(821),M=/^\w[\w\d+.-]*$/,S=/^\//,d=/^\/\//;function c(K,Z){if(!K.scheme&&Z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!M.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!S.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function f(K,Z){return!K&&!Z?"file":K}function h(K,Z){switch(K){case"https":case"http":case"file":Z?Z[0]!==b&&(Z=b+Z):Z=b;break}return Z}const _="",b="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class k{constructor(Z,re,X,P,$,N=!1){Kt(this,"scheme");Kt(this,"authority");Kt(this,"path");Kt(this,"query");Kt(this,"fragment");typeof Z=="object"?(this.scheme=Z.scheme||_,this.authority=Z.authority||_,this.path=Z.path||_,this.query=Z.query||_,this.fragment=Z.fragment||_):(this.scheme=f(Z,N),this.authority=re||_,this.path=h(this.scheme,X||_),this.query=P||_,this.fragment=$||_,c(this,N))}static isUri(Z){return Z instanceof k?!0:Z?typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function":!1}get fsPath(){return F(this,!1)}with(Z){if(!Z)return this;let{scheme:re,authority:X,path:P,query:$,fragment:N}=Z;return re===void 0?re=this.scheme:re===null&&(re=_),X===void 0?X=this.authority:X===null&&(X=_),P===void 0?P=this.path:P===null&&(P=_),$===void 0?$=this.query:$===null&&($=_),N===void 0?N=this.fragment:N===null&&(N=_),re===this.scheme&&X===this.authority&&P===this.path&&$===this.query&&N===this.fragment?this:new p(re,X,P,$,N)}static parse(Z,re=!1){const X=u.exec(Z);return X?new p(X[2]||_,W(X[4]||_),W(X[5]||_),W(X[7]||_),W(X[9]||_),re):new p(_,_,_,_,_)}static file(Z){let re=_;if(A.isWindows&&(Z=Z.replace(/\\/g,b)),Z[0]===b&&Z[1]===b){const X=Z.indexOf(b,2);X===-1?(re=Z.substring(2),Z=b):(re=Z.substring(2,X),Z=Z.substring(X)||b)}return new p("file",re,Z,_,_)}static from(Z,re){return new p(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment,re)}static joinPath(Z,...re){if(!Z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let X;return A.isWindows&&Z.scheme==="file"?X=k.file(E.win32.join(F(Z,!0),...re)).path:X=E.posix.join(Z.path,...re),Z.with({path:X})}toString(Z=!1){return z(this,Z)}toJSON(){return this}static revive(Z){var re,X;if(Z){if(Z instanceof k)return Z;{const P=new p(Z);return P._formatted=(re=Z.external)!=null?re:null,P._fsPath=Z._sep===v&&(X=Z.fsPath)!=null?X:null,P}}else return Z}}G.URI=k;function m(K){return!K||typeof K!="object"?!1:typeof K.scheme=="string"&&(typeof K.authority=="string"||typeof K.authority=="undefined")&&(typeof K.path=="string"||typeof K.path=="undefined")&&(typeof K.query=="string"||typeof K.query=="undefined")&&(typeof K.fragment=="string"||typeof K.fragment=="undefined")}const v=A.isWindows?1:void 0;class p extends k{constructor(){super(...arguments);Kt(this,"_formatted",null);Kt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=F(this,!1)),this._fsPath}toString(re=!1){return re?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}toJSON(){const re={$mid:1};return this._fsPath&&(re.fsPath=this._fsPath,re._sep=v),this._formatted&&(re.external=this._formatted),this.path&&(re.path=this.path),this.scheme&&(re.scheme=this.scheme),this.authority&&(re.authority=this.authority),this.query&&(re.query=this.query),this.fragment&&(re.fragment=this.fragment),re}}const C={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function R(K,Z,re){let X,P=-1;for(let $=0;$<K.length;$++){const N=K.charCodeAt($);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||Z&&N===47||re&&N===91||re&&N===93||re&&N===58)P!==-1&&(X+=encodeURIComponent(K.substring(P,$)),P=-1),X!==void 0&&(X+=K.charAt($));else{X===void 0&&(X=K.substr(0,$));const o=C[N];o!==void 0?(P!==-1&&(X+=encodeURIComponent(K.substring(P,$)),P=-1),X+=o):P===-1&&(P=$)}}return P!==-1&&(X+=encodeURIComponent(K.substring(P))),X!==void 0?X:K}function D(K){let Z;for(let re=0;re<K.length;re++){const X=K.charCodeAt(re);X===35||X===63?(Z===void 0&&(Z=K.substr(0,re)),Z+=C[X]):Z!==void 0&&(Z+=K[re])}return Z!==void 0?Z:K}function F(K,Z){let re;return K.authority&&K.path.length>1&&K.scheme==="file"?re=`//${K.authority}${K.path}`:K.path.charCodeAt(0)===47&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&K.path.charCodeAt(2)===58?Z?re=K.path.substr(1):re=K.path[1].toLowerCase()+K.path.substr(2):re=K.path,A.isWindows&&(re=re.replace(/\//g,"\\")),re}function z(K,Z){const re=Z?D:R;let X="",{scheme:P,authority:$,path:N,query:o,fragment:w}=K;if(P&&(X+=P,X+=":"),($||P==="file")&&(X+=b,X+=b),$){let I=$.indexOf("@");if(I!==-1){const q=$.substr(0,I);$=$.substr(I+1),I=q.lastIndexOf(":"),I===-1?X+=re(q,!1,!1):(X+=re(q.substr(0,I),!1,!1),X+=":",X+=re(q.substr(I+1),!1,!0)),X+="@"}$=$.toLowerCase(),I=$.lastIndexOf(":"),I===-1?X+=re($,!1,!0):(X+=re($.substr(0,I),!1,!0),X+=$.substr(I))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){const I=N.charCodeAt(1);I>=65&&I<=90&&(N=`/${String.fromCharCode(I+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){const I=N.charCodeAt(0);I>=65&&I<=90&&(N=`${String.fromCharCode(I+32)}:${N.substr(2)}`)}X+=re(N,!0,!1)}return o&&(X+="?",X+=re(o,!1,!1)),w&&(X+="#",X+=Z?w:R(w,!1,!1)),X}function y(K){try{return decodeURIComponent(K)}catch{return K.length>3?K.substr(0,3)+y(K.substr(3)):K}}const U=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function W(K){return K.match(U)?K.replace(U,Z=>y(Z)):K}},69175:(s,G)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.localize=E,G.localize2=A,G.getConfiguredDefaultLocale=M;function T(S,d){let c;return d.length===0?c=S:c=S.replace(/\{(\d+)\}/g,function(f,h){const _=h[0];return typeof d[_]!="undefined"?d[_]:f}),c}function E(S,d,...c){return T(d,c)}function A(S,d,...c){const f=T(d,c);return{original:f,value:f}}function M(S){}},87568:(s,G,T)=>{"use strict";const E=G;E.bignum=T(39404),E.define=T(47363).define,E.base=T(9673),E.constants=T(22153),E.decoders=T(22853),E.encoders=T(24669)},47363:(s,G,T)=>{"use strict";const E=T(24669),A=T(22853),M=T(56698),S=G;S.define=function(f,h){return new d(f,h)};function d(c,f){this.name=c,this.body=f,this.decoders={},this.encoders={}}d.prototype._createNamed=function(f){const h=this.name;function _(b){this._initNamed(b,h)}return M(_,f),_.prototype._initNamed=function(u,k){f.call(this,u,k)},new _(this)},d.prototype._getDecoder=function(f){return f=f||"der",this.decoders.hasOwnProperty(f)||(this.decoders[f]=this._createNamed(A[f])),this.decoders[f]},d.prototype.decode=function(f,h,_){return this._getDecoder(h).decode(f,_)},d.prototype._getEncoder=function(f){return f=f||"der",this.encoders.hasOwnProperty(f)||(this.encoders[f]=this._createNamed(E[f])),this.encoders[f]},d.prototype.encode=function(f,h,_){return this._getEncoder(h).encode(f,_)}},47227:(s,G,T)=>{"use strict";const E=T(56698),A=T(89220).a,M=T(54774).Buffer;function S(c,f){if(A.call(this,f),!M.isBuffer(c)){this.error("Input not Buffer");return}this.base=c,this.offset=0,this.length=c.length}E(S,A),G.t=S,S.isDecoderBuffer=function(f){return f instanceof S?!0:typeof f=="object"&&M.isBuffer(f.base)&&f.constructor.name==="DecoderBuffer"&&typeof f.offset=="number"&&typeof f.length=="number"&&typeof f.save=="function"&&typeof f.restore=="function"&&typeof f.isEmpty=="function"&&typeof f.readUInt8=="function"&&typeof f.skip=="function"&&typeof f.raw=="function"},S.prototype.save=function(){return{offset:this.offset,reporter:A.prototype.save.call(this)}},S.prototype.restore=function(f){const h=new S(this.base);return h.offset=f.offset,h.length=this.offset,this.offset=f.offset,A.prototype.restore.call(this,f.reporter),h},S.prototype.isEmpty=function(){return this.offset===this.length},S.prototype.readUInt8=function(f){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(f||"DecoderBuffer overrun")},S.prototype.skip=function(f,h){if(!(this.offset+f<=this.length))return this.error(h||"DecoderBuffer overrun");const _=new S(this.base);return _._reporterState=this._reporterState,_.offset=this.offset,_.length=this.offset+f,this.offset+=f,_},S.prototype.raw=function(f){return this.base.slice(f?f.offset:this.offset,this.length)};function d(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return d.isEncoderBuffer(h)||(h=new d(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=M.byteLength(c);else if(M.isBuffer(c))this.value=c,this.length=c.length;else return f.error("Unsupported type: "+typeof c)}G.d=d,d.isEncoderBuffer=function(f){return f instanceof d?!0:typeof f=="object"&&f.constructor.name==="EncoderBuffer"&&typeof f.length=="number"&&typeof f.join=="function"},d.prototype.join=function(f,h){return f||(f=M.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_){_.join(f,h),h+=_.length}):(typeof this.value=="number"?f[h]=this.value:typeof this.value=="string"?f.write(this.value,h):M.isBuffer(this.value)&&this.value.copy(f,h),h+=this.length)),f}},9673:(s,G,T)=>{"use strict";const E=G;E.Reporter=T(89220).a,E.DecoderBuffer=T(47227).t,E.EncoderBuffer=T(47227).d,E.Node=T(90993)},90993:(s,G,T)=>{"use strict";const E=T(89220).a,A=T(47227).d,M=T(47227).t,S=T(43349),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(b,u,k){const m={};this._baseState=m,m.name=k,m.enc=b,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}s.exports=h;const _=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const u=this._baseState,k={};_.forEach(function(v){k[v]=u[v]});const m=new this.constructor(k.parent);return m._baseState=k,m},h.prototype._wrap=function(){const u=this._baseState;c.forEach(function(k){this[k]=function(){const v=new this.constructor(this);return u.children.push(v),v[k].apply(v,arguments)}},this)},h.prototype._init=function(u){const k=this._baseState;S(k.parent===null),u.call(this),k.children=k.children.filter(function(m){return m._baseState.parent===this},this),S.equal(k.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(u){const k=this._baseState,m=u.filter(function(v){return v instanceof this.constructor},this);u=u.filter(function(v){return!(v instanceof this.constructor)},this),m.length!==0&&(S(k.children===null),k.children=m,m.forEach(function(v){v._baseState.parent=this},this)),u.length!==0&&(S(k.args===null),k.args=u,k.reverseArgs=u.map(function(v){if(typeof v!="object"||v.constructor!==Object)return v;const p={};return Object.keys(v).forEach(function(C){C==(C|0)&&(C|=0);const R=v[C];p[R]=C}),p}))},f.forEach(function(b){h.prototype[b]=function(){const k=this._baseState;throw new Error(b+" not implemented for encoding: "+k.enc)}}),d.forEach(function(b){h.prototype[b]=function(){const k=this._baseState,m=Array.prototype.slice.call(arguments);return S(k.tag===null),k.tag=b,this._useArgs(m),this}}),h.prototype.use=function(u){S(u);const k=this._baseState;return S(k.use===null),k.use=u,this},h.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},h.prototype.def=function(u){const k=this._baseState;return S(k.default===null),k.default=u,k.optional=!0,this},h.prototype.explicit=function(u){const k=this._baseState;return S(k.explicit===null&&k.implicit===null),k.explicit=u,this},h.prototype.implicit=function(u){const k=this._baseState;return S(k.explicit===null&&k.implicit===null),k.implicit=u,this},h.prototype.obj=function(){const u=this._baseState,k=Array.prototype.slice.call(arguments);return u.obj=!0,k.length!==0&&this._useArgs(k),this},h.prototype.key=function(u){const k=this._baseState;return S(k.key===null),k.key=u,this},h.prototype.any=function(){const u=this._baseState;return u.any=!0,this},h.prototype.choice=function(u){const k=this._baseState;return S(k.choice===null),k.choice=u,this._useArgs(Object.keys(u).map(function(m){return u[m]})),this},h.prototype.contains=function(u){const k=this._baseState;return S(k.use===null),k.contains=u,this},h.prototype._decode=function(u,k){const m=this._baseState;if(m.parent===null)return u.wrapResult(m.children[0]._decode(u,k));let v=m.default,p=!0,C=null;if(m.key!==null&&(C=u.enterKey(m.key)),m.optional){let D=null;if(m.explicit!==null?D=m.explicit:m.implicit!==null?D=m.implicit:m.tag!==null&&(D=m.tag),D===null&&!m.any){const F=u.save();try{m.choice===null?this._decodeGeneric(m.tag,u,k):this._decodeChoice(u,k),p=!0}catch{p=!1}u.restore(F)}else if(p=this._peekTag(u,D,m.any),u.isError(p))return p}let R;if(m.obj&&p&&(R=u.enterObject()),p){if(m.explicit!==null){const F=this._decodeTag(u,m.explicit);if(u.isError(F))return F;u=F}const D=u.offset;if(m.use===null&&m.choice===null){let F;m.any&&(F=u.save());const z=this._decodeTag(u,m.implicit!==null?m.implicit:m.tag,m.any);if(u.isError(z))return z;m.any?v=u.raw(F):u=z}if(k&&k.track&&m.tag!==null&&k.track(u.path(),D,u.length,"tagged"),k&&k.track&&m.tag!==null&&k.track(u.path(),u.offset,u.length,"content"),m.any||(m.choice===null?v=this._decodeGeneric(m.tag,u,k):v=this._decodeChoice(u,k)),u.isError(v))return v;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(z){z._decode(u,k)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const F=new M(v);v=this._getUse(m.contains,u._reporterState.obj)._decode(F,k)}}return m.obj&&p&&(v=u.leaveObject(R)),m.key!==null&&(v!==null||p===!0)?u.leaveKey(C,m.key,v):C!==null&&u.exitKey(C),v},h.prototype._decodeGeneric=function(u,k,m){const v=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(k,u,v.args[0],m):/str$/.test(u)?this._decodeStr(k,u,m):u==="objid"&&v.args?this._decodeObjid(k,v.args[0],v.args[1],m):u==="objid"?this._decodeObjid(k,null,null,m):u==="gentime"||u==="utctime"?this._decodeTime(k,u,m):u==="null_"?this._decodeNull(k,m):u==="bool"?this._decodeBool(k,m):u==="objDesc"?this._decodeStr(k,u,m):u==="int"||u==="enum"?this._decodeInt(k,v.args&&v.args[0],m):v.use!==null?this._getUse(v.use,k._reporterState.obj)._decode(k,m):k.error("unknown tag: "+u)},h.prototype._getUse=function(u,k){const m=this._baseState;return m.useDecoder=this._use(u,k),S(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},h.prototype._decodeChoice=function(u,k){const m=this._baseState;let v=null,p=!1;return Object.keys(m.choice).some(function(C){const R=u.save(),D=m.choice[C];try{const F=D._decode(u,k);if(u.isError(F))return!1;v={type:C,value:F},p=!0}catch{return u.restore(R),!1}return!0},this),p?v:u.error("Choice not matched")},h.prototype._createEncoderBuffer=function(u){return new A(u,this.reporter)},h.prototype._encode=function(u,k,m){const v=this._baseState;if(v.default!==null&&v.default===u)return;const p=this._encodeValue(u,k,m);if(p!==void 0&&!this._skipDefault(p,k,m))return p},h.prototype._encodeValue=function(u,k,m){const v=this._baseState;if(v.parent===null)return v.children[0]._encode(u,k||new E);let p=null;if(this.reporter=k,v.optional&&u===void 0)if(v.default!==null)u=v.default;else return;let C=null,R=!1;if(v.any)p=this._createEncoderBuffer(u);else if(v.choice)p=this._encodeChoice(u,k);else if(v.contains)C=this._getUse(v.contains,m)._encode(u,k),R=!0;else if(v.children)C=v.children.map(function(D){if(D._baseState.tag==="null_")return D._encode(null,k,u);if(D._baseState.key===null)return k.error("Child should have a key");const F=k.enterKey(D._baseState.key);if(typeof u!="object")return k.error("Child expected, but input is not object");const z=D._encode(u[D._baseState.key],k,u);return k.leaveKey(F),z},this).filter(function(D){return D}),C=this._createEncoderBuffer(C);else if(v.tag==="seqof"||v.tag==="setof"){if(!(v.args&&v.args.length===1))return k.error("Too many args for : "+v.tag);if(!Array.isArray(u))return k.error("seqof/setof, but data is not Array");const D=this.clone();D._baseState.implicit=null,C=this._createEncoderBuffer(u.map(function(F){const z=this._baseState;return this._getUse(z.args[0],u)._encode(F,k)},D))}else v.use!==null?p=this._getUse(v.use,m)._encode(u,k):(C=this._encodePrimitive(v.tag,u),R=!0);if(!v.any&&v.choice===null){const D=v.implicit!==null?v.implicit:v.tag,F=v.implicit===null?"universal":"context";D===null?v.use===null&&k.error("Tag could be omitted only for .use()"):v.use===null&&(p=this._encodeComposite(D,R,F,C))}return v.explicit!==null&&(p=this._encodeComposite(v.explicit,!1,"context",p)),p},h.prototype._encodeChoice=function(u,k){const m=this._baseState,v=m.choice[u.type];return v||S(!1,u.type+" not found in "+JSON.stringify(Object.keys(m.choice))),v._encode(u.value,k)},h.prototype._encodePrimitive=function(u,k){const m=this._baseState;if(/str$/.test(u))return this._encodeStr(k,u);if(u==="objid"&&m.args)return this._encodeObjid(k,m.reverseArgs[0],m.args[1]);if(u==="objid")return this._encodeObjid(k,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(k,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(k,m.args&&m.reverseArgs[0]);if(u==="bool")return this._encodeBool(k);if(u==="objDesc")return this._encodeStr(k,u);throw new Error("Unsupported tag: "+u)},h.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},h.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},89220:(s,G,T)=>{"use strict";const E=T(56698);function A(S){this._reporterState={obj:null,path:[],options:S||{},errors:[]}}G.a=A,A.prototype.isError=function(d){return d instanceof M},A.prototype.save=function(){const d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},A.prototype.restore=function(d){const c=this._reporterState;c.obj=d.obj,c.path=c.path.slice(0,d.pathLen)},A.prototype.enterKey=function(d){return this._reporterState.path.push(d)},A.prototype.exitKey=function(d){const c=this._reporterState;c.path=c.path.slice(0,d-1)},A.prototype.leaveKey=function(d,c,f){const h=this._reporterState;this.exitKey(d),h.obj!==null&&(h.obj[c]=f)},A.prototype.path=function(){return this._reporterState.path.join("/")},A.prototype.enterObject=function(){const d=this._reporterState,c=d.obj;return d.obj={},c},A.prototype.leaveObject=function(d){const c=this._reporterState,f=c.obj;return c.obj=d,f},A.prototype.error=function(d){let c;const f=this._reporterState,h=d instanceof M;if(h?c=d:c=new M(f.path.map(function(_){return"["+JSON.stringify(_)+"]"}).join(""),d.message||d,d.stack),!f.options.partial)throw c;return h||f.errors.push(c),c},A.prototype.wrapResult=function(d){const c=this._reporterState;return c.options.partial?{result:this.isError(d)?null:d,errors:c.errors}:d};function M(S,d){this.path=S,this.rethrow(d)}E(M,Error),M.prototype.rethrow=function(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,M),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},74598:(s,G)=>{"use strict";function T(E){const A={};return Object.keys(E).forEach(function(M){(M|0)==M&&(M=M|0);const S=E[M];A[S]=M}),A}G.tagClass={0:"universal",1:"application",2:"context",3:"private"},G.tagClassByName=T(G.tagClass),G.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},G.tagByName=T(G.tag)},22153:(s,G,T)=>{"use strict";const E=G;E._reverse=function(M){const S={};return Object.keys(M).forEach(function(d){(d|0)==d&&(d=d|0);const c=M[d];S[c]=d}),S},E.der=T(74598)},62010:(s,G,T)=>{"use strict";const E=T(56698),A=T(39404),M=T(47227).t,S=T(90993),d=T(74598);function c(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new f,this.tree._init(b.body)}s.exports=c,c.prototype.decode=function(u,k){return M.isDecoderBuffer(u)||(u=new M(u,k)),this.tree._decode(u,k)};function f(b){S.call(this,"der",b)}E(f,S),f.prototype._peekTag=function(u,k,m){if(u.isEmpty())return!1;const v=u.save(),p=h(u,'Failed to peek tag: "'+k+'"');return u.isError(p)?p:(u.restore(v),p.tag===k||p.tagStr===k||p.tagStr+"of"===k||m)},f.prototype._decodeTag=function(u,k,m){const v=h(u,'Failed to decode tag of "'+k+'"');if(u.isError(v))return v;let p=_(u,v.primitive,'Failed to get length of "'+k+'"');if(u.isError(p))return p;if(!m&&v.tag!==k&&v.tagStr!==k&&v.tagStr+"of"!==k)return u.error('Failed to match tag: "'+k+'"');if(v.primitive||p!==null)return u.skip(p,'Failed to match body of: "'+k+'"');const C=u.save(),R=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(R)?R:(p=u.offset-C.offset,u.restore(C),u.skip(p,'Failed to match body of: "'+k+'"'))},f.prototype._skipUntilEnd=function(u,k){for(;;){const m=h(u,k);if(u.isError(m))return m;const v=_(u,m.primitive,k);if(u.isError(v))return v;let p;if(m.primitive||v!==null?p=u.skip(v):p=this._skipUntilEnd(u,k),u.isError(p))return p;if(m.tagStr==="end")break}},f.prototype._decodeList=function(u,k,m,v){const p=[];for(;!u.isEmpty();){const C=this._peekTag(u,"end");if(u.isError(C))return C;const R=m.decode(u,"der",v);if(u.isError(R)&&C)break;p.push(R)}return p},f.prototype._decodeStr=function(u,k){if(k==="bitstr"){const m=u.readUInt8();return u.isError(m)?m:{unused:m,data:u.raw()}}else if(k==="bmpstr"){const m=u.raw();if(m.length%2===1)return u.error("Decoding of string type: bmpstr length mismatch");let v="";for(let p=0;p<m.length/2;p++)v+=String.fromCharCode(m.readUInt16BE(p*2));return v}else if(k==="numstr"){const m=u.raw().toString("ascii");return this._isNumstr(m)?m:u.error("Decoding of string type: numstr unsupported characters")}else{if(k==="octstr")return u.raw();if(k==="objDesc")return u.raw();if(k==="printstr"){const m=u.raw().toString("ascii");return this._isPrintstr(m)?m:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(k)?u.raw().toString():u.error("Decoding of string type: "+k+" unsupported")}},f.prototype._decodeObjid=function(u,k,m){let v;const p=[];let C=0,R=0;for(;!u.isEmpty();)R=u.readUInt8(),C<<=7,C|=R&127,R&128||(p.push(C),C=0);R&128&&p.push(C);const D=p[0]/40|0,F=p[0]%40;if(m?v=p:v=[D,F].concat(p.slice(1)),k){let z=k[v.join(" ")];z===void 0&&(z=k[v.join(".")]),z!==void 0&&(v=z)}return v},f.prototype._decodeTime=function(u,k){const m=u.raw().toString();let v,p,C,R,D,F;if(k==="gentime")v=m.slice(0,4)|0,p=m.slice(4,6)|0,C=m.slice(6,8)|0,R=m.slice(8,10)|0,D=m.slice(10,12)|0,F=m.slice(12,14)|0;else if(k==="utctime")v=m.slice(0,2)|0,p=m.slice(2,4)|0,C=m.slice(4,6)|0,R=m.slice(6,8)|0,D=m.slice(8,10)|0,F=m.slice(10,12)|0,v<70?v=2e3+v:v=1900+v;else return u.error("Decoding "+k+" time is not supported yet");return Date.UTC(v,p-1,C,R,D,F,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(u){const k=u.readUInt8();return u.isError(k)?k:k!==0},f.prototype._decodeInt=function(u,k){const m=u.raw();let v=new A(m);return k&&(v=k[v.toString(10)]||v),v},f.prototype._use=function(u,k){return typeof u=="function"&&(u=u(k)),u._getDecoder("der").tree};function h(b,u){let k=b.readUInt8(u);if(b.isError(k))return k;const m=d.tagClass[k>>6],v=(k&32)===0;if((k&31)===31){let C=k;for(k=0;(C&128)===128;){if(C=b.readUInt8(u),b.isError(C))return C;k<<=7,k|=C&127}}else k&=31;const p=d.tag[k];return{cls:m,primitive:v,tag:k,tagStr:p}}function _(b,u,k){let m=b.readUInt8(k);if(b.isError(m))return m;if(!u&&m===128)return null;if(!(m&128))return m;const v=m&127;if(v>4)return b.error("length octect is too long");m=0;for(let p=0;p<v;p++){m<<=8;const C=b.readUInt8(k);if(b.isError(C))return C;m|=C}return m}},22853:(s,G,T)=>{"use strict";const E=G;E.der=T(62010),E.pem=T(58903)},58903:(s,G,T)=>{"use strict";const E=T(56698),A=T(54774).Buffer,M=T(62010);function S(d){M.call(this,d),this.enc="pem"}E(S,M),s.exports=S,S.prototype.decode=function(c,f){const h=c.toString().split(/[\r\n]+/g),_=f.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,k=-1;for(let p=0;p<h.length;p++){const C=h[p].match(b);if(C!==null&&C[2]===_)if(u===-1){if(C[1]!=="BEGIN")break;u=p}else{if(C[1]!=="END")break;k=p;break}}if(u===-1||k===-1)throw new Error("PEM section not found for: "+_);const m=h.slice(u+1,k).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=A.from(m,"base64");return M.prototype.decode.call(this,v,f)}},70082:(s,G,T)=>{"use strict";const E=T(56698),A=T(54774).Buffer,M=T(90993),S=T(74598);function d(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new c,this.tree._init(_.body)}s.exports=d,d.prototype.encode=function(b,u){return this.tree._encode(b,u).join()};function c(_){M.call(this,"der",_)}E(c,M),c.prototype._encodeComposite=function(b,u,k,m){const v=h(b,u,k,this.reporter);if(m.length<128){const R=A.alloc(2);return R[0]=v,R[1]=m.length,this._createEncoderBuffer([R,m])}let p=1;for(let R=m.length;R>=256;R>>=8)p++;const C=A.alloc(2+p);C[0]=v,C[1]=128|p;for(let R=1+p,D=m.length;D>0;R--,D>>=8)C[R]=D&255;return this._createEncoderBuffer([C,m])},c.prototype._encodeStr=function(b,u){if(u==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(u==="bmpstr"){const k=A.alloc(b.length*2);for(let m=0;m<b.length;m++)k.writeUInt16BE(b.charCodeAt(m),m*2);return this._createEncoderBuffer(k)}else return u==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(b):u==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+u+" unsupported")},c.prototype._encodeObjid=function(b,u,k){if(typeof b=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=u[b].split(/[\s.]+/g);for(let C=0;C<b.length;C++)b[C]|=0}else if(Array.isArray(b)){b=b.slice();for(let C=0;C<b.length;C++)b[C]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!k){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}let m=0;for(let C=0;C<b.length;C++){let R=b[C];for(m++;R>=128;R>>=7)m++}const v=A.alloc(m);let p=v.length-1;for(let C=b.length-1;C>=0;C--){let R=b[C];for(v[p--]=R&127;(R>>=7)>0;)v[p--]=128|R&127}return this._createEncoderBuffer(v)};function f(_){return _<10?"0"+_:_}c.prototype._encodeTime=function(b,u){let k;const m=new Date(b);return u==="gentime"?k=[f(m.getUTCFullYear()),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):u==="utctime"?k=[f(m.getUTCFullYear()%100),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(k,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(b,u){if(typeof b=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=u[b]}if(typeof b!="number"&&!A.isBuffer(b)){const v=b.toArray();!b.sign&&v[0]&128&&v.unshift(0),b=A.from(v)}if(A.isBuffer(b)){let v=b.length;b.length===0&&v++;const p=A.alloc(v);return b.copy(p),b.length===0&&(p[0]=0),this._createEncoderBuffer(p)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);let k=1;for(let v=b;v>=256;v>>=8)k++;const m=new Array(k);for(let v=m.length-1;v>=0;v--)m[v]=b&255,b>>=8;return m[0]&128&&m.unshift(0),this._createEncoderBuffer(A.from(m))},c.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},c.prototype._use=function(b,u){return typeof b=="function"&&(b=b(u)),b._getEncoder("der").tree},c.prototype._skipDefault=function(b,u,k){const m=this._baseState;let v;if(m.default===null)return!1;const p=b.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,u,k).join()),p.length!==m.defaultBuffer.length)return!1;for(v=0;v<p.length;v++)if(p[v]!==m.defaultBuffer[v])return!1;return!0};function h(_,b,u,k){let m;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),S.tagByName.hasOwnProperty(_))m=S.tagByName[_];else if(typeof _=="number"&&(_|0)===_)m=_;else return k.error("Unknown tag: "+_);return m>=31?k.error("Multi-octet tag encoding unsupported"):(b||(m|=32),m|=S.tagClassByName[u||"universal"]<<6,m)}},24669:(s,G,T)=>{"use strict";const E=G;E.der=T(70082),E.pem=T(90735)},90735:(s,G,T)=>{"use strict";const E=T(56698),A=T(70082);function M(S){A.call(this,S),this.enc="pem"}E(M,A),s.exports=M,M.prototype.encode=function(d,c){const h=A.prototype.encode.call(this,d).toString("base64"),_=["-----BEGIN "+c.label+"-----"];for(let b=0;b<h.length;b+=64)_.push(h.slice(b,b+64));return _.push("-----END "+c.label+"-----"),_.join(`
`)}},67526:(s,G)=>{"use strict";G.byteLength=f,G.toByteArray=_,G.fromByteArray=k;for(var T=[],E=[],A=typeof Uint8Array!="undefined"?Uint8Array:Array,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,d=M.length;S<d;++S)T[S]=M[S],E[M.charCodeAt(S)]=S;E[45]=62,E[95]=63;function c(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=m.indexOf("=");p===-1&&(p=v);var C=p===v?0:4-p%4;return[p,C]}function f(m){var v=c(m),p=v[0],C=v[1];return(p+C)*3/4-C}function h(m,v,p){return(v+p)*3/4-p}function _(m){var v,p=c(m),C=p[0],R=p[1],D=new A(h(m,C,R)),F=0,z=R>0?C-4:C,y;for(y=0;y<z;y+=4)v=E[m.charCodeAt(y)]<<18|E[m.charCodeAt(y+1)]<<12|E[m.charCodeAt(y+2)]<<6|E[m.charCodeAt(y+3)],D[F++]=v>>16&255,D[F++]=v>>8&255,D[F++]=v&255;return R===2&&(v=E[m.charCodeAt(y)]<<2|E[m.charCodeAt(y+1)]>>4,D[F++]=v&255),R===1&&(v=E[m.charCodeAt(y)]<<10|E[m.charCodeAt(y+1)]<<4|E[m.charCodeAt(y+2)]>>2,D[F++]=v>>8&255,D[F++]=v&255),D}function b(m){return T[m>>18&63]+T[m>>12&63]+T[m>>6&63]+T[m&63]}function u(m,v,p){for(var C,R=[],D=v;D<p;D+=3)C=(m[D]<<16&16711680)+(m[D+1]<<8&65280)+(m[D+2]&255),R.push(b(C));return R.join("")}function k(m){for(var v,p=m.length,C=p%3,R=[],D=16383,F=0,z=p-C;F<z;F+=D)R.push(u(m,F,F+D>z?z:F+D));return C===1?(v=m[p-1],R.push(T[v>>2]+T[v<<4&63]+"==")):C===2&&(v=(m[p-2]<<8)+m[p-1],R.push(T[v>>10]+T[v>>4&63]+T[v<<2&63]+"=")),R.join("")}},80811:(s,G,T)=>{var E=T(84346),A=T(21640),M=T(25447),S=Function.bind,d=S.bind(S);function c(u,k,m){var v=d(M,null).apply(null,m?[k,m]:[k]);u.api={remove:v},u.remove=v,["before","error","after","wrap"].forEach(function(p){var C=m?[k,p,m]:[k,p];u[p]=u.api[p]=d(A,null).apply(null,C)})}function f(){var u="h",k={registry:{}},m=E.bind(null,k,u);return c(m,k,u),m}function h(){var u={registry:{}},k=E.bind(null,u);return c(k,u),k}var _=!1;function b(){return _||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),_=!0),h()}b.Singular=f.bind(),b.Collection=h.bind(),s.exports=b,s.exports.Hook=b,s.exports.Singular=b.Singular,s.exports.Collection=b.Collection},21640:s=>{s.exports=G;function G(T,E,A,M){var S=M;T.registry[A]||(T.registry[A]=[]),E==="before"&&(M=function(d,c){return Promise.resolve().then(S.bind(null,c)).then(d.bind(null,c))}),E==="after"&&(M=function(d,c){var f;return Promise.resolve().then(d.bind(null,c)).then(function(h){return f=h,S(f,c)}).then(function(){return f})}),E==="error"&&(M=function(d,c){return Promise.resolve().then(d.bind(null,c)).catch(function(f){return S(f,c)})}),T.registry[A].push({hook:M,orig:S})}},84346:s=>{s.exports=G;function G(T,E,A,M){if(typeof A!="function")throw new Error("method for before hook must be a function");return M||(M={}),Array.isArray(E)?E.reverse().reduce(function(S,d){return G.bind(null,T,d,S,M)},A)():Promise.resolve().then(function(){return T.registry[E]?T.registry[E].reduce(function(S,d){return d.hook.bind(null,S,M)},A)():A(M)})}},25447:s=>{s.exports=G;function G(T,E,A){if(T.registry[E]){var M=T.registry[E].map(function(S){return S.orig}).indexOf(A);M!==-1&&T.registry[E].splice(M,1)}}},39404:function(s,G,T){s=T.nmd(s),function(E,A){"use strict";function M(X,P){if(!X)throw new Error(P||"Assertion failed")}function S(X,P){X.super_=P;var $=function(){};$.prototype=P.prototype,X.prototype=new $,X.prototype.constructor=X}function d(X,P,$){if(d.isBN(X))return X;this.negative=0,this.words=null,this.length=0,this.red=null,X!==null&&((P==="le"||P==="be")&&($=P,P=10),this._init(X||0,P||10,$||"be"))}typeof E=="object"?E.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(47790).Buffer}catch{}d.isBN=function(P){return P instanceof d?!0:P!==null&&typeof P=="object"&&P.constructor.wordSize===d.wordSize&&Array.isArray(P.words)},d.max=function(P,$){return P.cmp($)>0?P:$},d.min=function(P,$){return P.cmp($)<0?P:$},d.prototype._init=function(P,$,N){if(typeof P=="number")return this._initNumber(P,$,N);if(typeof P=="object")return this._initArray(P,$,N);$==="hex"&&($=16),M($===($|0)&&$>=2&&$<=36),P=P.toString().replace(/\s+/g,"");var o=0;P[0]==="-"&&(o++,this.negative=1),o<P.length&&($===16?this._parseHex(P,o,N):(this._parseBase(P,$,o),N==="le"&&this._initArray(this.toArray(),$,N)))},d.prototype._initNumber=function(P,$,N){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[P&67108863],this.length=1):P<4503599627370496?(this.words=[P&67108863,P/67108864&67108863],this.length=2):(M(P<9007199254740992),this.words=[P&67108863,P/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),$,N)},d.prototype._initArray=function(P,$,N){if(M(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var w,I,q=0;if(N==="be")for(o=P.length-1,w=0;o>=0;o-=3)I=P[o]|P[o-1]<<8|P[o-2]<<16,this.words[w]|=I<<q&67108863,this.words[w+1]=I>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);else if(N==="le")for(o=0,w=0;o<P.length;o+=3)I=P[o]|P[o+1]<<8|P[o+2]<<16,this.words[w]|=I<<q&67108863,this.words[w+1]=I>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);return this.strip()};function f(X,P){var $=X.charCodeAt(P);return $>=65&&$<=70?$-55:$>=97&&$<=102?$-87:$-48&15}function h(X,P,$){var N=f(X,$);return $-1>=P&&(N|=f(X,$-1)<<4),N}d.prototype._parseHex=function(P,$,N){this.length=Math.ceil((P.length-$)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var w=0,I=0,q;if(N==="be")for(o=P.length-1;o>=$;o-=2)q=h(P,$,o)<<w,this.words[I]|=q&67108863,w>=18?(w-=18,I+=1,this.words[I]|=q>>>26):w+=8;else{var j=P.length-$;for(o=j%2===0?$+1:$;o<P.length;o+=2)q=h(P,$,o)<<w,this.words[I]|=q&67108863,w>=18?(w-=18,I+=1,this.words[I]|=q>>>26):w+=8}this.strip()};function _(X,P,$,N){for(var o=0,w=Math.min(X.length,$),I=P;I<w;I++){var q=X.charCodeAt(I)-48;o*=N,q>=49?o+=q-49+10:q>=17?o+=q-17+10:o+=q}return o}d.prototype._parseBase=function(P,$,N){this.words=[0],this.length=1;for(var o=0,w=1;w<=67108863;w*=$)o++;o--,w=w/$|0;for(var I=P.length-N,q=I%o,j=Math.min(I,I-q)+N,H=0,ee=N;ee<j;ee+=o)H=_(P,ee,ee+o,$),this.imuln(w),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(q!==0){var ie=1;for(H=_(P,ee,P.length,$),ee=0;ee<q;ee++)ie*=$;this.imuln(ie),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this.strip()},d.prototype.copy=function(P){P.words=new Array(this.length);for(var $=0;$<this.length;$++)P.words[$]=this.words[$];P.length=this.length,P.negative=this.negative,P.red=this.red},d.prototype.clone=function(){var P=new d(null);return this.copy(P),P},d.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(P,$){P=P||10,$=$|0||1;var N;if(P===16||P==="hex"){N="";for(var o=0,w=0,I=0;I<this.length;I++){var q=this.words[I],j=((q<<o|w)&16777215).toString(16);w=q>>>24-o&16777215,w!==0||I!==this.length-1?N=b[6-j.length]+j+N:N=j+N,o+=2,o>=26&&(o-=26,I--)}for(w!==0&&(N=w.toString(16)+N);N.length%$!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(P===(P|0)&&P>=2&&P<=36){var H=u[P],ee=k[P];N="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var B=ie.modn(ee).toString(P);ie=ie.idivn(ee),ie.isZero()?N=B+N:N=b[H-B.length]+B+N}for(this.isZero()&&(N="0"+N);N.length%$!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}M(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=this.words[1]*67108864:this.length===3&&this.words[2]===1?P+=4503599627370496+this.words[1]*67108864:this.length>2&&M(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(P,$){return M(typeof c!="undefined"),this.toArrayLike(c,P,$)},d.prototype.toArray=function(P,$){return this.toArrayLike(Array,P,$)},d.prototype.toArrayLike=function(P,$,N){var o=this.byteLength(),w=N||Math.max(1,o);M(o<=w,"byte array longer than desired length"),M(w>0,"Requested array length <= 0"),this.strip();var I=$==="le",q=new P(w),j,H,ee=this.clone();if(I){for(H=0;!ee.isZero();H++)j=ee.andln(255),ee.iushrn(8),q[H]=j;for(;H<w;H++)q[H]=0}else{for(H=0;H<w-o;H++)q[H]=0;for(H=0;!ee.isZero();H++)j=ee.andln(255),ee.iushrn(8),q[w-H-1]=j}return q},Math.clz32?d.prototype._countBits=function(P){return 32-Math.clz32(P)}:d.prototype._countBits=function(P){var $=P,N=0;return $>=4096&&(N+=13,$>>>=13),$>=64&&(N+=7,$>>>=7),$>=8&&(N+=4,$>>>=4),$>=2&&(N+=2,$>>>=2),N+$},d.prototype._zeroBits=function(P){if(P===0)return 26;var $=P,N=0;return $&8191||(N+=13,$>>>=13),$&127||(N+=7,$>>>=7),$&15||(N+=4,$>>>=4),$&3||(N+=2,$>>>=2),$&1||N++,N},d.prototype.bitLength=function(){var P=this.words[this.length-1],$=this._countBits(P);return(this.length-1)*26+$};function m(X){for(var P=new Array(X.bitLength()),$=0;$<P.length;$++){var N=$/26|0,o=$%26;P[$]=(X.words[N]&1<<o)>>>o}return P}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,$=0;$<this.length;$++){var N=this._zeroBits(this.words[$]);if(P+=N,N!==26)break}return P},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},d.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var $=0;$<P.length;$++)this.words[$]=this.words[$]|P.words[$];return this.strip()},d.prototype.ior=function(P){return M((this.negative|P.negative)===0),this.iuor(P)},d.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},d.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},d.prototype.iuand=function(P){var $;this.length>P.length?$=P:$=this;for(var N=0;N<$.length;N++)this.words[N]=this.words[N]&P.words[N];return this.length=$.length,this.strip()},d.prototype.iand=function(P){return M((this.negative|P.negative)===0),this.iuand(P)},d.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},d.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},d.prototype.iuxor=function(P){var $,N;this.length>P.length?($=this,N=P):($=P,N=this);for(var o=0;o<N.length;o++)this.words[o]=$.words[o]^N.words[o];if(this!==$)for(;o<$.length;o++)this.words[o]=$.words[o];return this.length=$.length,this.strip()},d.prototype.ixor=function(P){return M((this.negative|P.negative)===0),this.iuxor(P)},d.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},d.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},d.prototype.inotn=function(P){M(typeof P=="number"&&P>=0);var $=Math.ceil(P/26)|0,N=P%26;this._expand($),N>0&&$--;for(var o=0;o<$;o++)this.words[o]=~this.words[o]&67108863;return N>0&&(this.words[o]=~this.words[o]&67108863>>26-N),this.strip()},d.prototype.notn=function(P){return this.clone().inotn(P)},d.prototype.setn=function(P,$){M(typeof P=="number"&&P>=0);var N=P/26|0,o=P%26;return this._expand(N+1),$?this.words[N]=this.words[N]|1<<o:this.words[N]=this.words[N]&~(1<<o),this.strip()},d.prototype.iadd=function(P){var $;if(this.negative!==0&&P.negative===0)return this.negative=0,$=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,$=this.isub(P),P.negative=1,$._normSign();var N,o;this.length>P.length?(N=this,o=P):(N=P,o=this);for(var w=0,I=0;I<o.length;I++)$=(N.words[I]|0)+(o.words[I]|0)+w,this.words[I]=$&67108863,w=$>>>26;for(;w!==0&&I<N.length;I++)$=(N.words[I]|0)+w,this.words[I]=$&67108863,w=$>>>26;if(this.length=N.length,w!==0)this.words[this.length]=w,this.length++;else if(N!==this)for(;I<N.length;I++)this.words[I]=N.words[I];return this},d.prototype.add=function(P){var $;return P.negative!==0&&this.negative===0?(P.negative=0,$=this.sub(P),P.negative^=1,$):P.negative===0&&this.negative!==0?(this.negative=0,$=P.sub(this),this.negative=1,$):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},d.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var $=this.iadd(P);return P.negative=1,$._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var N=this.cmp(P);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,w;N>0?(o=this,w=P):(o=P,w=this);for(var I=0,q=0;q<w.length;q++)$=(o.words[q]|0)-(w.words[q]|0)+I,I=$>>26,this.words[q]=$&67108863;for(;I!==0&&q<o.length;q++)$=(o.words[q]|0)+I,I=$>>26,this.words[q]=$&67108863;if(I===0&&q<o.length&&o!==this)for(;q<o.length;q++)this.words[q]=o.words[q];return this.length=Math.max(this.length,q),o!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(P){return this.clone().isub(P)};function v(X,P,$){$.negative=P.negative^X.negative;var N=X.length+P.length|0;$.length=N,N=N-1|0;var o=X.words[0]|0,w=P.words[0]|0,I=o*w,q=I&67108863,j=I/67108864|0;$.words[0]=q;for(var H=1;H<N;H++){for(var ee=j>>>26,ie=j&67108863,B=Math.min(H,P.length-1),ne=Math.max(0,H-X.length+1);ne<=B;ne++){var Le=H-ne|0;o=X.words[Le]|0,w=P.words[ne]|0,I=o*w+ie,ee+=I/67108864|0,ie=I&67108863}$.words[H]=ie|0,j=ee|0}return j!==0?$.words[H]=j|0:$.length--,$.strip()}var p=function(P,$,N){var o=P.words,w=$.words,I=N.words,q=0,j,H,ee,ie=o[0]|0,B=ie&8191,ne=ie>>>13,Le=o[1]|0,pe=Le&8191,Me=Le>>>13,Pe=o[2]|0,J=Pe&8191,te=Pe>>>13,fe=o[3]|0,ve=fe&8191,Se=fe>>>13,L=o[4]|0,O=L&8191,oe=L>>>13,be=o[5]|0,ke=be&8191,ge=be>>>13,De=o[6]|0,Ge=De&8191,We=De>>>13,Nt=o[7]|0,Ze=Nt&8191,it=Nt>>>13,Et=o[8]|0,ce=Et&8191,Q=Et>>>13,se=o[9]|0,ye=se&8191,Fe=se>>>13,Ye=w[0]|0,Ue=Ye&8191,et=Ye>>>13,It=w[1]|0,at=It&8191,ct=It>>>13,pt=w[2]|0,St=pt&8191,Rt=pt>>>13,pi=w[3]|0,kt=pi&8191,Ut=pi>>>13,Ki=w[4]|0,Pt=Ki&8191,Qt=Ki>>>13,qi=w[5]|0,vt=qi&8191,lt=qi>>>13,Tr=w[6]|0,Jt=Tr&8191,ri=Tr>>>13,dr=w[7]|0,Oe=dr&8191,Qe=dr>>>13,bt=w[8]|0,dt=bt&8191,gt=bt>>>13,oi=w[9]|0,Dt=oi&8191,jt=oi>>>13;N.negative=P.negative^$.negative,N.length=19,j=Math.imul(B,Ue),H=Math.imul(B,et),H=H+Math.imul(ne,Ue)|0,ee=Math.imul(ne,et);var qt=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(qt>>>26)|0,qt&=67108863,j=Math.imul(pe,Ue),H=Math.imul(pe,et),H=H+Math.imul(Me,Ue)|0,ee=Math.imul(Me,et),j=j+Math.imul(B,at)|0,H=H+Math.imul(B,ct)|0,H=H+Math.imul(ne,at)|0,ee=ee+Math.imul(ne,ct)|0;var ut=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(ut>>>26)|0,ut&=67108863,j=Math.imul(J,Ue),H=Math.imul(J,et),H=H+Math.imul(te,Ue)|0,ee=Math.imul(te,et),j=j+Math.imul(pe,at)|0,H=H+Math.imul(pe,ct)|0,H=H+Math.imul(Me,at)|0,ee=ee+Math.imul(Me,ct)|0,j=j+Math.imul(B,St)|0,H=H+Math.imul(B,Rt)|0,H=H+Math.imul(ne,St)|0,ee=ee+Math.imul(ne,Rt)|0;var Tt=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,j=Math.imul(ve,Ue),H=Math.imul(ve,et),H=H+Math.imul(Se,Ue)|0,ee=Math.imul(Se,et),j=j+Math.imul(J,at)|0,H=H+Math.imul(J,ct)|0,H=H+Math.imul(te,at)|0,ee=ee+Math.imul(te,ct)|0,j=j+Math.imul(pe,St)|0,H=H+Math.imul(pe,Rt)|0,H=H+Math.imul(Me,St)|0,ee=ee+Math.imul(Me,Rt)|0,j=j+Math.imul(B,kt)|0,H=H+Math.imul(B,Ut)|0,H=H+Math.imul(ne,kt)|0,ee=ee+Math.imul(ne,Ut)|0;var Mt=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,j=Math.imul(O,Ue),H=Math.imul(O,et),H=H+Math.imul(oe,Ue)|0,ee=Math.imul(oe,et),j=j+Math.imul(ve,at)|0,H=H+Math.imul(ve,ct)|0,H=H+Math.imul(Se,at)|0,ee=ee+Math.imul(Se,ct)|0,j=j+Math.imul(J,St)|0,H=H+Math.imul(J,Rt)|0,H=H+Math.imul(te,St)|0,ee=ee+Math.imul(te,Rt)|0,j=j+Math.imul(pe,kt)|0,H=H+Math.imul(pe,Ut)|0,H=H+Math.imul(Me,kt)|0,ee=ee+Math.imul(Me,Ut)|0,j=j+Math.imul(B,Pt)|0,H=H+Math.imul(B,Qt)|0,H=H+Math.imul(ne,Pt)|0,ee=ee+Math.imul(ne,Qt)|0;var vi=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(vi>>>26)|0,vi&=67108863,j=Math.imul(ke,Ue),H=Math.imul(ke,et),H=H+Math.imul(ge,Ue)|0,ee=Math.imul(ge,et),j=j+Math.imul(O,at)|0,H=H+Math.imul(O,ct)|0,H=H+Math.imul(oe,at)|0,ee=ee+Math.imul(oe,ct)|0,j=j+Math.imul(ve,St)|0,H=H+Math.imul(ve,Rt)|0,H=H+Math.imul(Se,St)|0,ee=ee+Math.imul(Se,Rt)|0,j=j+Math.imul(J,kt)|0,H=H+Math.imul(J,Ut)|0,H=H+Math.imul(te,kt)|0,ee=ee+Math.imul(te,Ut)|0,j=j+Math.imul(pe,Pt)|0,H=H+Math.imul(pe,Qt)|0,H=H+Math.imul(Me,Pt)|0,ee=ee+Math.imul(Me,Qt)|0,j=j+Math.imul(B,vt)|0,H=H+Math.imul(B,lt)|0,H=H+Math.imul(ne,vt)|0,ee=ee+Math.imul(ne,lt)|0;var li=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(li>>>26)|0,li&=67108863,j=Math.imul(Ge,Ue),H=Math.imul(Ge,et),H=H+Math.imul(We,Ue)|0,ee=Math.imul(We,et),j=j+Math.imul(ke,at)|0,H=H+Math.imul(ke,ct)|0,H=H+Math.imul(ge,at)|0,ee=ee+Math.imul(ge,ct)|0,j=j+Math.imul(O,St)|0,H=H+Math.imul(O,Rt)|0,H=H+Math.imul(oe,St)|0,ee=ee+Math.imul(oe,Rt)|0,j=j+Math.imul(ve,kt)|0,H=H+Math.imul(ve,Ut)|0,H=H+Math.imul(Se,kt)|0,ee=ee+Math.imul(Se,Ut)|0,j=j+Math.imul(J,Pt)|0,H=H+Math.imul(J,Qt)|0,H=H+Math.imul(te,Pt)|0,ee=ee+Math.imul(te,Qt)|0,j=j+Math.imul(pe,vt)|0,H=H+Math.imul(pe,lt)|0,H=H+Math.imul(Me,vt)|0,ee=ee+Math.imul(Me,lt)|0,j=j+Math.imul(B,Jt)|0,H=H+Math.imul(B,ri)|0,H=H+Math.imul(ne,Jt)|0,ee=ee+Math.imul(ne,ri)|0;var $t=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+($t>>>26)|0,$t&=67108863,j=Math.imul(Ze,Ue),H=Math.imul(Ze,et),H=H+Math.imul(it,Ue)|0,ee=Math.imul(it,et),j=j+Math.imul(Ge,at)|0,H=H+Math.imul(Ge,ct)|0,H=H+Math.imul(We,at)|0,ee=ee+Math.imul(We,ct)|0,j=j+Math.imul(ke,St)|0,H=H+Math.imul(ke,Rt)|0,H=H+Math.imul(ge,St)|0,ee=ee+Math.imul(ge,Rt)|0,j=j+Math.imul(O,kt)|0,H=H+Math.imul(O,Ut)|0,H=H+Math.imul(oe,kt)|0,ee=ee+Math.imul(oe,Ut)|0,j=j+Math.imul(ve,Pt)|0,H=H+Math.imul(ve,Qt)|0,H=H+Math.imul(Se,Pt)|0,ee=ee+Math.imul(Se,Qt)|0,j=j+Math.imul(J,vt)|0,H=H+Math.imul(J,lt)|0,H=H+Math.imul(te,vt)|0,ee=ee+Math.imul(te,lt)|0,j=j+Math.imul(pe,Jt)|0,H=H+Math.imul(pe,ri)|0,H=H+Math.imul(Me,Jt)|0,ee=ee+Math.imul(Me,ri)|0,j=j+Math.imul(B,Oe)|0,H=H+Math.imul(B,Qe)|0,H=H+Math.imul(ne,Oe)|0,ee=ee+Math.imul(ne,Qe)|0;var Ti=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,j=Math.imul(ce,Ue),H=Math.imul(ce,et),H=H+Math.imul(Q,Ue)|0,ee=Math.imul(Q,et),j=j+Math.imul(Ze,at)|0,H=H+Math.imul(Ze,ct)|0,H=H+Math.imul(it,at)|0,ee=ee+Math.imul(it,ct)|0,j=j+Math.imul(Ge,St)|0,H=H+Math.imul(Ge,Rt)|0,H=H+Math.imul(We,St)|0,ee=ee+Math.imul(We,Rt)|0,j=j+Math.imul(ke,kt)|0,H=H+Math.imul(ke,Ut)|0,H=H+Math.imul(ge,kt)|0,ee=ee+Math.imul(ge,Ut)|0,j=j+Math.imul(O,Pt)|0,H=H+Math.imul(O,Qt)|0,H=H+Math.imul(oe,Pt)|0,ee=ee+Math.imul(oe,Qt)|0,j=j+Math.imul(ve,vt)|0,H=H+Math.imul(ve,lt)|0,H=H+Math.imul(Se,vt)|0,ee=ee+Math.imul(Se,lt)|0,j=j+Math.imul(J,Jt)|0,H=H+Math.imul(J,ri)|0,H=H+Math.imul(te,Jt)|0,ee=ee+Math.imul(te,ri)|0,j=j+Math.imul(pe,Oe)|0,H=H+Math.imul(pe,Qe)|0,H=H+Math.imul(Me,Oe)|0,ee=ee+Math.imul(Me,Qe)|0,j=j+Math.imul(B,dt)|0,H=H+Math.imul(B,gt)|0,H=H+Math.imul(ne,dt)|0,ee=ee+Math.imul(ne,gt)|0;var mi=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(mi>>>26)|0,mi&=67108863,j=Math.imul(ye,Ue),H=Math.imul(ye,et),H=H+Math.imul(Fe,Ue)|0,ee=Math.imul(Fe,et),j=j+Math.imul(ce,at)|0,H=H+Math.imul(ce,ct)|0,H=H+Math.imul(Q,at)|0,ee=ee+Math.imul(Q,ct)|0,j=j+Math.imul(Ze,St)|0,H=H+Math.imul(Ze,Rt)|0,H=H+Math.imul(it,St)|0,ee=ee+Math.imul(it,Rt)|0,j=j+Math.imul(Ge,kt)|0,H=H+Math.imul(Ge,Ut)|0,H=H+Math.imul(We,kt)|0,ee=ee+Math.imul(We,Ut)|0,j=j+Math.imul(ke,Pt)|0,H=H+Math.imul(ke,Qt)|0,H=H+Math.imul(ge,Pt)|0,ee=ee+Math.imul(ge,Qt)|0,j=j+Math.imul(O,vt)|0,H=H+Math.imul(O,lt)|0,H=H+Math.imul(oe,vt)|0,ee=ee+Math.imul(oe,lt)|0,j=j+Math.imul(ve,Jt)|0,H=H+Math.imul(ve,ri)|0,H=H+Math.imul(Se,Jt)|0,ee=ee+Math.imul(Se,ri)|0,j=j+Math.imul(J,Oe)|0,H=H+Math.imul(J,Qe)|0,H=H+Math.imul(te,Oe)|0,ee=ee+Math.imul(te,Qe)|0,j=j+Math.imul(pe,dt)|0,H=H+Math.imul(pe,gt)|0,H=H+Math.imul(Me,dt)|0,ee=ee+Math.imul(Me,gt)|0,j=j+Math.imul(B,Dt)|0,H=H+Math.imul(B,jt)|0,H=H+Math.imul(ne,Dt)|0,ee=ee+Math.imul(ne,jt)|0;var Mi=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,j=Math.imul(ye,at),H=Math.imul(ye,ct),H=H+Math.imul(Fe,at)|0,ee=Math.imul(Fe,ct),j=j+Math.imul(ce,St)|0,H=H+Math.imul(ce,Rt)|0,H=H+Math.imul(Q,St)|0,ee=ee+Math.imul(Q,Rt)|0,j=j+Math.imul(Ze,kt)|0,H=H+Math.imul(Ze,Ut)|0,H=H+Math.imul(it,kt)|0,ee=ee+Math.imul(it,Ut)|0,j=j+Math.imul(Ge,Pt)|0,H=H+Math.imul(Ge,Qt)|0,H=H+Math.imul(We,Pt)|0,ee=ee+Math.imul(We,Qt)|0,j=j+Math.imul(ke,vt)|0,H=H+Math.imul(ke,lt)|0,H=H+Math.imul(ge,vt)|0,ee=ee+Math.imul(ge,lt)|0,j=j+Math.imul(O,Jt)|0,H=H+Math.imul(O,ri)|0,H=H+Math.imul(oe,Jt)|0,ee=ee+Math.imul(oe,ri)|0,j=j+Math.imul(ve,Oe)|0,H=H+Math.imul(ve,Qe)|0,H=H+Math.imul(Se,Oe)|0,ee=ee+Math.imul(Se,Qe)|0,j=j+Math.imul(J,dt)|0,H=H+Math.imul(J,gt)|0,H=H+Math.imul(te,dt)|0,ee=ee+Math.imul(te,gt)|0,j=j+Math.imul(pe,Dt)|0,H=H+Math.imul(pe,jt)|0,H=H+Math.imul(Me,Dt)|0,ee=ee+Math.imul(Me,jt)|0;var Ii=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,j=Math.imul(ye,St),H=Math.imul(ye,Rt),H=H+Math.imul(Fe,St)|0,ee=Math.imul(Fe,Rt),j=j+Math.imul(ce,kt)|0,H=H+Math.imul(ce,Ut)|0,H=H+Math.imul(Q,kt)|0,ee=ee+Math.imul(Q,Ut)|0,j=j+Math.imul(Ze,Pt)|0,H=H+Math.imul(Ze,Qt)|0,H=H+Math.imul(it,Pt)|0,ee=ee+Math.imul(it,Qt)|0,j=j+Math.imul(Ge,vt)|0,H=H+Math.imul(Ge,lt)|0,H=H+Math.imul(We,vt)|0,ee=ee+Math.imul(We,lt)|0,j=j+Math.imul(ke,Jt)|0,H=H+Math.imul(ke,ri)|0,H=H+Math.imul(ge,Jt)|0,ee=ee+Math.imul(ge,ri)|0,j=j+Math.imul(O,Oe)|0,H=H+Math.imul(O,Qe)|0,H=H+Math.imul(oe,Oe)|0,ee=ee+Math.imul(oe,Qe)|0,j=j+Math.imul(ve,dt)|0,H=H+Math.imul(ve,gt)|0,H=H+Math.imul(Se,dt)|0,ee=ee+Math.imul(Se,gt)|0,j=j+Math.imul(J,Dt)|0,H=H+Math.imul(J,jt)|0,H=H+Math.imul(te,Dt)|0,ee=ee+Math.imul(te,jt)|0;var Qi=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,j=Math.imul(ye,kt),H=Math.imul(ye,Ut),H=H+Math.imul(Fe,kt)|0,ee=Math.imul(Fe,Ut),j=j+Math.imul(ce,Pt)|0,H=H+Math.imul(ce,Qt)|0,H=H+Math.imul(Q,Pt)|0,ee=ee+Math.imul(Q,Qt)|0,j=j+Math.imul(Ze,vt)|0,H=H+Math.imul(Ze,lt)|0,H=H+Math.imul(it,vt)|0,ee=ee+Math.imul(it,lt)|0,j=j+Math.imul(Ge,Jt)|0,H=H+Math.imul(Ge,ri)|0,H=H+Math.imul(We,Jt)|0,ee=ee+Math.imul(We,ri)|0,j=j+Math.imul(ke,Oe)|0,H=H+Math.imul(ke,Qe)|0,H=H+Math.imul(ge,Oe)|0,ee=ee+Math.imul(ge,Qe)|0,j=j+Math.imul(O,dt)|0,H=H+Math.imul(O,gt)|0,H=H+Math.imul(oe,dt)|0,ee=ee+Math.imul(oe,gt)|0,j=j+Math.imul(ve,Dt)|0,H=H+Math.imul(ve,jt)|0,H=H+Math.imul(Se,Dt)|0,ee=ee+Math.imul(Se,jt)|0;var Di=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Di>>>26)|0,Di&=67108863,j=Math.imul(ye,Pt),H=Math.imul(ye,Qt),H=H+Math.imul(Fe,Pt)|0,ee=Math.imul(Fe,Qt),j=j+Math.imul(ce,vt)|0,H=H+Math.imul(ce,lt)|0,H=H+Math.imul(Q,vt)|0,ee=ee+Math.imul(Q,lt)|0,j=j+Math.imul(Ze,Jt)|0,H=H+Math.imul(Ze,ri)|0,H=H+Math.imul(it,Jt)|0,ee=ee+Math.imul(it,ri)|0,j=j+Math.imul(Ge,Oe)|0,H=H+Math.imul(Ge,Qe)|0,H=H+Math.imul(We,Oe)|0,ee=ee+Math.imul(We,Qe)|0,j=j+Math.imul(ke,dt)|0,H=H+Math.imul(ke,gt)|0,H=H+Math.imul(ge,dt)|0,ee=ee+Math.imul(ge,gt)|0,j=j+Math.imul(O,Dt)|0,H=H+Math.imul(O,jt)|0,H=H+Math.imul(oe,Dt)|0,ee=ee+Math.imul(oe,jt)|0;var Ci=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,j=Math.imul(ye,vt),H=Math.imul(ye,lt),H=H+Math.imul(Fe,vt)|0,ee=Math.imul(Fe,lt),j=j+Math.imul(ce,Jt)|0,H=H+Math.imul(ce,ri)|0,H=H+Math.imul(Q,Jt)|0,ee=ee+Math.imul(Q,ri)|0,j=j+Math.imul(Ze,Oe)|0,H=H+Math.imul(Ze,Qe)|0,H=H+Math.imul(it,Oe)|0,ee=ee+Math.imul(it,Qe)|0,j=j+Math.imul(Ge,dt)|0,H=H+Math.imul(Ge,gt)|0,H=H+Math.imul(We,dt)|0,ee=ee+Math.imul(We,gt)|0,j=j+Math.imul(ke,Dt)|0,H=H+Math.imul(ke,jt)|0,H=H+Math.imul(ge,Dt)|0,ee=ee+Math.imul(ge,jt)|0;var Bi=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,j=Math.imul(ye,Jt),H=Math.imul(ye,ri),H=H+Math.imul(Fe,Jt)|0,ee=Math.imul(Fe,ri),j=j+Math.imul(ce,Oe)|0,H=H+Math.imul(ce,Qe)|0,H=H+Math.imul(Q,Oe)|0,ee=ee+Math.imul(Q,Qe)|0,j=j+Math.imul(Ze,dt)|0,H=H+Math.imul(Ze,gt)|0,H=H+Math.imul(it,dt)|0,ee=ee+Math.imul(it,gt)|0,j=j+Math.imul(Ge,Dt)|0,H=H+Math.imul(Ge,jt)|0,H=H+Math.imul(We,Dt)|0,ee=ee+Math.imul(We,jt)|0;var Yt=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,j=Math.imul(ye,Oe),H=Math.imul(ye,Qe),H=H+Math.imul(Fe,Oe)|0,ee=Math.imul(Fe,Qe),j=j+Math.imul(ce,dt)|0,H=H+Math.imul(ce,gt)|0,H=H+Math.imul(Q,dt)|0,ee=ee+Math.imul(Q,gt)|0,j=j+Math.imul(Ze,Dt)|0,H=H+Math.imul(Ze,jt)|0,H=H+Math.imul(it,Dt)|0,ee=ee+Math.imul(it,jt)|0;var ui=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(ui>>>26)|0,ui&=67108863,j=Math.imul(ye,dt),H=Math.imul(ye,gt),H=H+Math.imul(Fe,dt)|0,ee=Math.imul(Fe,gt),j=j+Math.imul(ce,Dt)|0,H=H+Math.imul(ce,jt)|0,H=H+Math.imul(Q,Dt)|0,ee=ee+Math.imul(Q,jt)|0;var ai=(q+j|0)+((H&8191)<<13)|0;q=(ee+(H>>>13)|0)+(ai>>>26)|0,ai&=67108863,j=Math.imul(ye,Dt),H=Math.imul(ye,jt),H=H+Math.imul(Fe,Dt)|0,ee=Math.imul(Fe,jt);var zi=(q+j|0)+((H&8191)<<13)|0;return q=(ee+(H>>>13)|0)+(zi>>>26)|0,zi&=67108863,I[0]=qt,I[1]=ut,I[2]=Tt,I[3]=Mt,I[4]=vi,I[5]=li,I[6]=$t,I[7]=Ti,I[8]=mi,I[9]=Mi,I[10]=Ii,I[11]=Qi,I[12]=Di,I[13]=Ci,I[14]=Bi,I[15]=Yt,I[16]=ui,I[17]=ai,I[18]=zi,q!==0&&(I[19]=q,N.length++),N};Math.imul||(p=v);function C(X,P,$){$.negative=P.negative^X.negative,$.length=X.length+P.length;for(var N=0,o=0,w=0;w<$.length-1;w++){var I=o;o=0;for(var q=N&67108863,j=Math.min(w,P.length-1),H=Math.max(0,w-X.length+1);H<=j;H++){var ee=w-H,ie=X.words[ee]|0,B=P.words[H]|0,ne=ie*B,Le=ne&67108863;I=I+(ne/67108864|0)|0,Le=Le+q|0,q=Le&67108863,I=I+(Le>>>26)|0,o+=I>>>26,I&=67108863}$.words[w]=q,N=I,I=o}return N!==0?$.words[w]=N:$.length--,$.strip()}function R(X,P,$){var N=new D;return N.mulp(X,P,$)}d.prototype.mulTo=function(P,$){var N,o=this.length+P.length;return this.length===10&&P.length===10?N=p(this,P,$):o<63?N=v(this,P,$):o<1024?N=C(this,P,$):N=R(this,P,$),N};function D(X,P){this.x=X,this.y=P}D.prototype.makeRBT=function(P){for(var $=new Array(P),N=d.prototype._countBits(P)-1,o=0;o<P;o++)$[o]=this.revBin(o,N,P);return $},D.prototype.revBin=function(P,$,N){if(P===0||P===N-1)return P;for(var o=0,w=0;w<$;w++)o|=(P&1)<<$-w-1,P>>=1;return o},D.prototype.permute=function(P,$,N,o,w,I){for(var q=0;q<I;q++)o[q]=$[P[q]],w[q]=N[P[q]]},D.prototype.transform=function(P,$,N,o,w,I){this.permute(I,P,$,N,o,w);for(var q=1;q<w;q<<=1)for(var j=q<<1,H=Math.cos(2*Math.PI/j),ee=Math.sin(2*Math.PI/j),ie=0;ie<w;ie+=j)for(var B=H,ne=ee,Le=0;Le<q;Le++){var pe=N[ie+Le],Me=o[ie+Le],Pe=N[ie+Le+q],J=o[ie+Le+q],te=B*Pe-ne*J;J=B*J+ne*Pe,Pe=te,N[ie+Le]=pe+Pe,o[ie+Le]=Me+J,N[ie+Le+q]=pe-Pe,o[ie+Le+q]=Me-J,Le!==j&&(te=H*B-ee*ne,ne=H*ne+ee*B,B=te)}},D.prototype.guessLen13b=function(P,$){var N=Math.max($,P)|1,o=N&1,w=0;for(N=N/2|0;N;N=N>>>1)w++;return 1<<w+1+o},D.prototype.conjugate=function(P,$,N){if(!(N<=1))for(var o=0;o<N/2;o++){var w=P[o];P[o]=P[N-o-1],P[N-o-1]=w,w=$[o],$[o]=-$[N-o-1],$[N-o-1]=-w}},D.prototype.normalize13b=function(P,$){for(var N=0,o=0;o<$/2;o++){var w=Math.round(P[2*o+1]/$)*8192+Math.round(P[2*o]/$)+N;P[o]=w&67108863,w<67108864?N=0:N=w/67108864|0}return P},D.prototype.convert13b=function(P,$,N,o){for(var w=0,I=0;I<$;I++)w=w+(P[I]|0),N[2*I]=w&8191,w=w>>>13,N[2*I+1]=w&8191,w=w>>>13;for(I=2*$;I<o;++I)N[I]=0;M(w===0),M((w&-8192)===0)},D.prototype.stub=function(P){for(var $=new Array(P),N=0;N<P;N++)$[N]=0;return $},D.prototype.mulp=function(P,$,N){var o=2*this.guessLen13b(P.length,$.length),w=this.makeRBT(o),I=this.stub(o),q=new Array(o),j=new Array(o),H=new Array(o),ee=new Array(o),ie=new Array(o),B=new Array(o),ne=N.words;ne.length=o,this.convert13b(P.words,P.length,q,o),this.convert13b($.words,$.length,ee,o),this.transform(q,I,j,H,o,w),this.transform(ee,I,ie,B,o,w);for(var Le=0;Le<o;Le++){var pe=j[Le]*ie[Le]-H[Le]*B[Le];H[Le]=j[Le]*B[Le]+H[Le]*ie[Le],j[Le]=pe}return this.conjugate(j,H,o),this.transform(j,H,ne,I,o,w),this.conjugate(ne,I,o),this.normalize13b(ne,o),N.negative=P.negative^$.negative,N.length=P.length+$.length,N.strip()},d.prototype.mul=function(P){var $=new d(null);return $.words=new Array(this.length+P.length),this.mulTo(P,$)},d.prototype.mulf=function(P){var $=new d(null);return $.words=new Array(this.length+P.length),R(this,P,$)},d.prototype.imul=function(P){return this.clone().mulTo(P,this)},d.prototype.imuln=function(P){M(typeof P=="number"),M(P<67108864);for(var $=0,N=0;N<this.length;N++){var o=(this.words[N]|0)*P,w=(o&67108863)+($&67108863);$>>=26,$+=o/67108864|0,$+=w>>>26,this.words[N]=w&67108863}return $!==0&&(this.words[N]=$,this.length++),this},d.prototype.muln=function(P){return this.clone().imuln(P)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(P){var $=m(P);if($.length===0)return new d(1);for(var N=this,o=0;o<$.length&&$[o]===0;o++,N=N.sqr());if(++o<$.length)for(var w=N.sqr();o<$.length;o++,w=w.sqr())$[o]!==0&&(N=N.mul(w));return N},d.prototype.iushln=function(P){M(typeof P=="number"&&P>=0);var $=P%26,N=(P-$)/26,o=67108863>>>26-$<<26-$,w;if($!==0){var I=0;for(w=0;w<this.length;w++){var q=this.words[w]&o,j=(this.words[w]|0)-q<<$;this.words[w]=j|I,I=q>>>26-$}I&&(this.words[w]=I,this.length++)}if(N!==0){for(w=this.length-1;w>=0;w--)this.words[w+N]=this.words[w];for(w=0;w<N;w++)this.words[w]=0;this.length+=N}return this.strip()},d.prototype.ishln=function(P){return M(this.negative===0),this.iushln(P)},d.prototype.iushrn=function(P,$,N){M(typeof P=="number"&&P>=0);var o;$?o=($-$%26)/26:o=0;var w=P%26,I=Math.min((P-w)/26,this.length),q=67108863^67108863>>>w<<w,j=N;if(o-=I,o=Math.max(0,o),j){for(var H=0;H<I;H++)j.words[H]=this.words[H];j.length=I}if(I!==0)if(this.length>I)for(this.length-=I,H=0;H<this.length;H++)this.words[H]=this.words[H+I];else this.words[0]=0,this.length=1;var ee=0;for(H=this.length-1;H>=0&&(ee!==0||H>=o);H--){var ie=this.words[H]|0;this.words[H]=ee<<26-w|ie>>>w,ee=ie&q}return j&&ee!==0&&(j.words[j.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(P,$,N){return M(this.negative===0),this.iushrn(P,$,N)},d.prototype.shln=function(P){return this.clone().ishln(P)},d.prototype.ushln=function(P){return this.clone().iushln(P)},d.prototype.shrn=function(P){return this.clone().ishrn(P)},d.prototype.ushrn=function(P){return this.clone().iushrn(P)},d.prototype.testn=function(P){M(typeof P=="number"&&P>=0);var $=P%26,N=(P-$)/26,o=1<<$;if(this.length<=N)return!1;var w=this.words[N];return!!(w&o)},d.prototype.imaskn=function(P){M(typeof P=="number"&&P>=0);var $=P%26,N=(P-$)/26;if(M(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if($!==0&&N++,this.length=Math.min(N,this.length),$!==0){var o=67108863^67108863>>>$<<$;this.words[this.length-1]&=o}return this.strip()},d.prototype.maskn=function(P){return this.clone().imaskn(P)},d.prototype.iaddn=function(P){return M(typeof P=="number"),M(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(this.words[0]|0)<P?(this.words[0]=P-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},d.prototype._iaddn=function(P){this.words[0]+=P;for(var $=0;$<this.length&&this.words[$]>=67108864;$++)this.words[$]-=67108864,$===this.length-1?this.words[$+1]=1:this.words[$+1]++;return this.length=Math.max(this.length,$+1),this},d.prototype.isubn=function(P){if(M(typeof P=="number"),M(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var $=0;$<this.length&&this.words[$]<0;$++)this.words[$]+=67108864,this.words[$+1]-=1;return this.strip()},d.prototype.addn=function(P){return this.clone().iaddn(P)},d.prototype.subn=function(P){return this.clone().isubn(P)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(P,$,N){var o=P.length+N,w;this._expand(o);var I,q=0;for(w=0;w<P.length;w++){I=(this.words[w+N]|0)+q;var j=(P.words[w]|0)*$;I-=j&67108863,q=(I>>26)-(j/67108864|0),this.words[w+N]=I&67108863}for(;w<this.length-N;w++)I=(this.words[w+N]|0)+q,q=I>>26,this.words[w+N]=I&67108863;if(q===0)return this.strip();for(M(q===-1),q=0,w=0;w<this.length;w++)I=-(this.words[w]|0)+q,q=I>>26,this.words[w]=I&67108863;return this.negative=1,this.strip()},d.prototype._wordDiv=function(P,$){var N=this.length-P.length,o=this.clone(),w=P,I=w.words[w.length-1]|0,q=this._countBits(I);N=26-q,N!==0&&(w=w.ushln(N),o.iushln(N),I=w.words[w.length-1]|0);var j=o.length-w.length,H;if($!=="mod"){H=new d(null),H.length=j+1,H.words=new Array(H.length);for(var ee=0;ee<H.length;ee++)H.words[ee]=0}var ie=o.clone()._ishlnsubmul(w,1,j);ie.negative===0&&(o=ie,H&&(H.words[j]=1));for(var B=j-1;B>=0;B--){var ne=(o.words[w.length+B]|0)*67108864+(o.words[w.length+B-1]|0);for(ne=Math.min(ne/I|0,67108863),o._ishlnsubmul(w,ne,B);o.negative!==0;)ne--,o.negative=0,o._ishlnsubmul(w,1,B),o.isZero()||(o.negative^=1);H&&(H.words[B]=ne)}return H&&H.strip(),o.strip(),$!=="div"&&N!==0&&o.iushrn(N),{div:H||null,mod:o}},d.prototype.divmod=function(P,$,N){if(M(!P.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var o,w,I;return this.negative!==0&&P.negative===0?(I=this.neg().divmod(P,$),$!=="mod"&&(o=I.div.neg()),$!=="div"&&(w=I.mod.neg(),N&&w.negative!==0&&w.iadd(P)),{div:o,mod:w}):this.negative===0&&P.negative!==0?(I=this.divmod(P.neg(),$),$!=="mod"&&(o=I.div.neg()),{div:o,mod:I.mod}):this.negative&P.negative?(I=this.neg().divmod(P.neg(),$),$!=="div"&&(w=I.mod.neg(),N&&w.negative!==0&&w.isub(P)),{div:I.div,mod:w}):P.length>this.length||this.cmp(P)<0?{div:new d(0),mod:this}:P.length===1?$==="div"?{div:this.divn(P.words[0]),mod:null}:$==="mod"?{div:null,mod:new d(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new d(this.modn(P.words[0]))}:this._wordDiv(P,$)},d.prototype.div=function(P){return this.divmod(P,"div",!1).div},d.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},d.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},d.prototype.divRound=function(P){var $=this.divmod(P);if($.mod.isZero())return $.div;var N=$.div.negative!==0?$.mod.isub(P):$.mod,o=P.ushrn(1),w=P.andln(1),I=N.cmp(o);return I<0||w===1&&I===0?$.div:$.div.negative!==0?$.div.isubn(1):$.div.iaddn(1)},d.prototype.modn=function(P){M(P<=67108863);for(var $=(1<<26)%P,N=0,o=this.length-1;o>=0;o--)N=($*N+(this.words[o]|0))%P;return N},d.prototype.idivn=function(P){M(P<=67108863);for(var $=0,N=this.length-1;N>=0;N--){var o=(this.words[N]|0)+$*67108864;this.words[N]=o/P|0,$=o%P}return this.strip()},d.prototype.divn=function(P){return this.clone().idivn(P)},d.prototype.egcd=function(P){M(P.negative===0),M(!P.isZero());var $=this,N=P.clone();$.negative!==0?$=$.umod(P):$=$.clone();for(var o=new d(1),w=new d(0),I=new d(0),q=new d(1),j=0;$.isEven()&&N.isEven();)$.iushrn(1),N.iushrn(1),++j;for(var H=N.clone(),ee=$.clone();!$.isZero();){for(var ie=0,B=1;!($.words[0]&B)&&ie<26;++ie,B<<=1);if(ie>0)for($.iushrn(ie);ie-- >0;)(o.isOdd()||w.isOdd())&&(o.iadd(H),w.isub(ee)),o.iushrn(1),w.iushrn(1);for(var ne=0,Le=1;!(N.words[0]&Le)&&ne<26;++ne,Le<<=1);if(ne>0)for(N.iushrn(ne);ne-- >0;)(I.isOdd()||q.isOdd())&&(I.iadd(H),q.isub(ee)),I.iushrn(1),q.iushrn(1);$.cmp(N)>=0?($.isub(N),o.isub(I),w.isub(q)):(N.isub($),I.isub(o),q.isub(w))}return{a:I,b:q,gcd:N.iushln(j)}},d.prototype._invmp=function(P){M(P.negative===0),M(!P.isZero());var $=this,N=P.clone();$.negative!==0?$=$.umod(P):$=$.clone();for(var o=new d(1),w=new d(0),I=N.clone();$.cmpn(1)>0&&N.cmpn(1)>0;){for(var q=0,j=1;!($.words[0]&j)&&q<26;++q,j<<=1);if(q>0)for($.iushrn(q);q-- >0;)o.isOdd()&&o.iadd(I),o.iushrn(1);for(var H=0,ee=1;!(N.words[0]&ee)&&H<26;++H,ee<<=1);if(H>0)for(N.iushrn(H);H-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);$.cmp(N)>=0?($.isub(N),o.isub(w)):(N.isub($),w.isub(o))}var ie;return $.cmpn(1)===0?ie=o:ie=w,ie.cmpn(0)<0&&ie.iadd(P),ie},d.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var $=this.clone(),N=P.clone();$.negative=0,N.negative=0;for(var o=0;$.isEven()&&N.isEven();o++)$.iushrn(1),N.iushrn(1);do{for(;$.isEven();)$.iushrn(1);for(;N.isEven();)N.iushrn(1);var w=$.cmp(N);if(w<0){var I=$;$=N,N=I}else if(w===0||N.cmpn(1)===0)break;$.isub(N)}while(!0);return N.iushln(o)},d.prototype.invm=function(P){return this.egcd(P).a.umod(P)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(P){return this.words[0]&P},d.prototype.bincn=function(P){M(typeof P=="number");var $=P%26,N=(P-$)/26,o=1<<$;if(this.length<=N)return this._expand(N+1),this.words[N]|=o,this;for(var w=o,I=N;w!==0&&I<this.length;I++){var q=this.words[I]|0;q+=w,w=q>>>26,q&=67108863,this.words[I]=q}return w!==0&&(this.words[I]=w,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(P){var $=P<0;if(this.negative!==0&&!$)return-1;if(this.negative===0&&$)return 1;this.strip();var N;if(this.length>1)N=1;else{$&&(P=-P),M(P<=67108863,"Number is too big");var o=this.words[0]|0;N=o===P?0:o<P?-1:1}return this.negative!==0?-N|0:N},d.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var $=this.ucmp(P);return this.negative!==0?-$|0:$},d.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var $=0,N=this.length-1;N>=0;N--){var o=this.words[N]|0,w=P.words[N]|0;if(o!==w){o<w?$=-1:o>w&&($=1);break}}return $},d.prototype.gtn=function(P){return this.cmpn(P)===1},d.prototype.gt=function(P){return this.cmp(P)===1},d.prototype.gten=function(P){return this.cmpn(P)>=0},d.prototype.gte=function(P){return this.cmp(P)>=0},d.prototype.ltn=function(P){return this.cmpn(P)===-1},d.prototype.lt=function(P){return this.cmp(P)===-1},d.prototype.lten=function(P){return this.cmpn(P)<=0},d.prototype.lte=function(P){return this.cmp(P)<=0},d.prototype.eqn=function(P){return this.cmpn(P)===0},d.prototype.eq=function(P){return this.cmp(P)===0},d.red=function(P){return new Z(P)},d.prototype.toRed=function(P){return M(!this.red,"Already a number in reduction context"),M(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},d.prototype.fromRed=function(){return M(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(P){return this.red=P,this},d.prototype.forceRed=function(P){return M(!this.red,"Already a number in reduction context"),this._forceRed(P)},d.prototype.redAdd=function(P){return M(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},d.prototype.redIAdd=function(P){return M(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},d.prototype.redSub=function(P){return M(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},d.prototype.redISub=function(P){return M(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},d.prototype.redShl=function(P){return M(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},d.prototype.redMul=function(P){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},d.prototype.redIMul=function(P){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},d.prototype.redSqr=function(){return M(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return M(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return M(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return M(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return M(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(P){return M(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var F={k256:null,p224:null,p192:null,p25519:null};function z(X,P){this.name=X,this.p=new d(P,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var P=new d(null);return P.words=new Array(Math.ceil(this.n/13)),P},z.prototype.ireduce=function(P){var $=P,N;do this.split($,this.tmp),$=this.imulK($),$=$.iadd(this.tmp),N=$.bitLength();while(N>this.n);var o=N<this.n?-1:$.ucmp(this.p);return o===0?($.words[0]=0,$.length=1):o>0?$.isub(this.p):$.strip!==void 0?$.strip():$._strip(),$},z.prototype.split=function(P,$){P.iushrn(this.n,0,$)},z.prototype.imulK=function(P){return P.imul(this.k)};function y(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(y,z),y.prototype.split=function(P,$){for(var N=4194303,o=Math.min(P.length,9),w=0;w<o;w++)$.words[w]=P.words[w];if($.length=o,P.length<=9){P.words[0]=0,P.length=1;return}var I=P.words[9];for($.words[$.length++]=I&N,w=10;w<P.length;w++){var q=P.words[w]|0;P.words[w-10]=(q&N)<<4|I>>>22,I=q}I>>>=22,P.words[w-10]=I,I===0&&P.length>10?P.length-=10:P.length-=9},y.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var $=0,N=0;N<P.length;N++){var o=P.words[N]|0;$+=o*977,P.words[N]=$&67108863,$=o*64+($/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P};function U(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(U,z);function W(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(W,z);function K(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(K,z),K.prototype.imulK=function(P){for(var $=0,N=0;N<P.length;N++){var o=(P.words[N]|0)*19+$,w=o&67108863;o>>>=26,P.words[N]=w,$=o}return $!==0&&(P.words[P.length++]=$),P},d._prime=function(P){if(F[P])return F[P];var $;if(P==="k256")$=new y;else if(P==="p224")$=new U;else if(P==="p192")$=new W;else if(P==="p25519")$=new K;else throw new Error("Unknown prime "+P);return F[P]=$,$};function Z(X){if(typeof X=="string"){var P=d._prime(X);this.m=P.p,this.prime=P}else M(X.gtn(1),"modulus must be greater than 1"),this.m=X,this.prime=null}Z.prototype._verify1=function(P){M(P.negative===0,"red works only with positives"),M(P.red,"red works only with red numbers")},Z.prototype._verify2=function(P,$){M((P.negative|$.negative)===0,"red works only with positives"),M(P.red&&P.red===$.red,"red works only with red numbers")},Z.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},Z.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},Z.prototype.add=function(P,$){this._verify2(P,$);var N=P.add($);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},Z.prototype.iadd=function(P,$){this._verify2(P,$);var N=P.iadd($);return N.cmp(this.m)>=0&&N.isub(this.m),N},Z.prototype.sub=function(P,$){this._verify2(P,$);var N=P.sub($);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},Z.prototype.isub=function(P,$){this._verify2(P,$);var N=P.isub($);return N.cmpn(0)<0&&N.iadd(this.m),N},Z.prototype.shl=function(P,$){return this._verify1(P),this.imod(P.ushln($))},Z.prototype.imul=function(P,$){return this._verify2(P,$),this.imod(P.imul($))},Z.prototype.mul=function(P,$){return this._verify2(P,$),this.imod(P.mul($))},Z.prototype.isqr=function(P){return this.imul(P,P.clone())},Z.prototype.sqr=function(P){return this.mul(P,P)},Z.prototype.sqrt=function(P){if(P.isZero())return P.clone();var $=this.m.andln(3);if(M($%2===1),$===3){var N=this.m.add(new d(1)).iushrn(2);return this.pow(P,N)}for(var o=this.m.subn(1),w=0;!o.isZero()&&o.andln(1)===0;)w++,o.iushrn(1);M(!o.isZero());var I=new d(1).toRed(this),q=I.redNeg(),j=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new d(2*H*H).toRed(this);this.pow(H,j).cmp(q)!==0;)H.redIAdd(q);for(var ee=this.pow(H,o),ie=this.pow(P,o.addn(1).iushrn(1)),B=this.pow(P,o),ne=w;B.cmp(I)!==0;){for(var Le=B,pe=0;Le.cmp(I)!==0;pe++)Le=Le.redSqr();M(pe<ne);var Me=this.pow(ee,new d(1).iushln(ne-pe-1));ie=ie.redMul(Me),ee=Me.redSqr(),B=B.redMul(ee),ne=pe}return ie},Z.prototype.invm=function(P){var $=P._invmp(this.m);return $.negative!==0?($.negative=0,this.imod($).redNeg()):this.imod($)},Z.prototype.pow=function(P,$){if($.isZero())return new d(1).toRed(this);if($.cmpn(1)===0)return P.clone();var N=4,o=new Array(1<<N);o[0]=new d(1).toRed(this),o[1]=P;for(var w=2;w<o.length;w++)o[w]=this.mul(o[w-1],P);var I=o[0],q=0,j=0,H=$.bitLength()%26;for(H===0&&(H=26),w=$.length-1;w>=0;w--){for(var ee=$.words[w],ie=H-1;ie>=0;ie--){var B=ee>>ie&1;if(I!==o[0]&&(I=this.sqr(I)),B===0&&q===0){j=0;continue}q<<=1,q|=B,j++,!(j!==N&&(w!==0||ie!==0))&&(I=this.mul(I,o[q]),j=0,q=0)}H=26}return I},Z.prototype.convertTo=function(P){var $=P.umod(this.m);return $===P?$.clone():$},Z.prototype.convertFrom=function(P){var $=P.clone();return $.red=null,$},d.mont=function(P){return new re(P)};function re(X){Z.call(this,X),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(re,Z),re.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},re.prototype.convertFrom=function(P){var $=this.imod(P.mul(this.rinv));return $.red=null,$},re.prototype.imul=function(P,$){if(P.isZero()||$.isZero())return P.words[0]=0,P.length=1,P;var N=P.imul($),o=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=N.isub(o).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},re.prototype.mul=function(P,$){if(P.isZero()||$.isZero())return new d(0)._forceRed(this);var N=P.mul($),o=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=N.isub(o).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},re.prototype.invm=function(P){var $=this.imod(P._invmp(this.m).mul(this.r2));return $._forceRed(this)}}(s,this)},15037:(s,G,T)=>{var E;s.exports=function(d){return E||(E=new A(null)),E.generate(d)};function A(S){this.rand=S}if(s.exports.Rand=A,A.prototype.generate=function(d){return this._rand(d)},A.prototype._rand=function(d){if(this.rand.getBytes)return this.rand.getBytes(d);for(var c=new Uint8Array(d),f=0;f<c.length;f++)c[f]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?A.prototype._rand=function(d){var c=new Uint8Array(d);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?A.prototype._rand=function(d){var c=new Uint8Array(d);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(A.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var M=T(73776);if(typeof M.randomBytes!="function")throw new Error("Not supported");A.prototype._rand=function(d){return M.randomBytes(d)}}catch{}},50462:(s,G,T)=>{var E=T(92861).Buffer;function A(h){E.isBuffer(h)||(h=E.from(h));for(var _=h.length/4|0,b=new Array(_),u=0;u<_;u++)b[u]=h.readUInt32BE(u*4);return b}function M(h){for(var _=0;_<h.length;h++)h[_]=0}function S(h,_,b,u,k){for(var m=b[0],v=b[1],p=b[2],C=b[3],R=h[0]^_[0],D=h[1]^_[1],F=h[2]^_[2],z=h[3]^_[3],y,U,W,K,Z=4,re=1;re<k;re++)y=m[R>>>24]^v[D>>>16&255]^p[F>>>8&255]^C[z&255]^_[Z++],U=m[D>>>24]^v[F>>>16&255]^p[z>>>8&255]^C[R&255]^_[Z++],W=m[F>>>24]^v[z>>>16&255]^p[R>>>8&255]^C[D&255]^_[Z++],K=m[z>>>24]^v[R>>>16&255]^p[D>>>8&255]^C[F&255]^_[Z++],R=y,D=U,F=W,z=K;return y=(u[R>>>24]<<24|u[D>>>16&255]<<16|u[F>>>8&255]<<8|u[z&255])^_[Z++],U=(u[D>>>24]<<24|u[F>>>16&255]<<16|u[z>>>8&255]<<8|u[R&255])^_[Z++],W=(u[F>>>24]<<24|u[z>>>16&255]<<16|u[R>>>8&255]<<8|u[D&255])^_[Z++],K=(u[z>>>24]<<24|u[R>>>16&255]<<16|u[D>>>8&255]<<8|u[F&255])^_[Z++],y=y>>>0,U=U>>>0,W=W>>>0,K=K>>>0,[y,U,W,K]}var d=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),_=0;_<256;_++)_<128?h[_]=_<<1:h[_]=_<<1^283;for(var b=[],u=[],k=[[],[],[],[]],m=[[],[],[],[]],v=0,p=0,C=0;C<256;++C){var R=p^p<<1^p<<2^p<<3^p<<4;R=R>>>8^R&255^99,b[v]=R,u[R]=v;var D=h[v],F=h[D],z=h[F],y=h[R]*257^R*16843008;k[0][v]=y<<24|y>>>8,k[1][v]=y<<16|y>>>16,k[2][v]=y<<8|y>>>24,k[3][v]=y,y=z*16843009^F*65537^D*257^v*16843008,m[0][R]=y<<24|y>>>8,m[1][R]=y<<16|y>>>16,m[2][R]=y<<8|y>>>24,m[3][R]=y,v===0?v=p=1:(v=D^h[h[h[z^D]]],p^=h[h[p]])}return{SBOX:b,INV_SBOX:u,SUB_MIX:k,INV_SUB_MIX:m}}();function f(h){this._key=A(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,_=h.length,b=_+6,u=(b+1)*4,k=[],m=0;m<_;m++)k[m]=h[m];for(m=_;m<u;m++){var v=k[m-1];m%_===0?(v=v<<8|v>>>24,v=c.SBOX[v>>>24]<<24|c.SBOX[v>>>16&255]<<16|c.SBOX[v>>>8&255]<<8|c.SBOX[v&255],v^=d[m/_|0]<<24):_>6&&m%_===4&&(v=c.SBOX[v>>>24]<<24|c.SBOX[v>>>16&255]<<16|c.SBOX[v>>>8&255]<<8|c.SBOX[v&255]),k[m]=k[m-_]^v}for(var p=[],C=0;C<u;C++){var R=u-C,D=k[R-(C%4?0:4)];C<4||R<=4?p[C]=D:p[C]=c.INV_SUB_MIX[0][c.SBOX[D>>>24]]^c.INV_SUB_MIX[1][c.SBOX[D>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[D>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[D&255]]}this._nRounds=b,this._keySchedule=k,this._invKeySchedule=p},f.prototype.encryptBlockRaw=function(h){return h=A(h),S(h,this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var _=this.encryptBlockRaw(h),b=E.allocUnsafe(16);return b.writeUInt32BE(_[0],0),b.writeUInt32BE(_[1],4),b.writeUInt32BE(_[2],8),b.writeUInt32BE(_[3],12),b},f.prototype.decryptBlock=function(h){h=A(h);var _=h[1];h[1]=h[3],h[3]=_;var b=S(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),u=E.allocUnsafe(16);return u.writeUInt32BE(b[0],0),u.writeUInt32BE(b[3],4),u.writeUInt32BE(b[2],8),u.writeUInt32BE(b[1],12),u},f.prototype.scrub=function(){M(this._keySchedule),M(this._invKeySchedule),M(this._key)},s.exports.AES=f},92356:(s,G,T)=>{var E=T(50462),A=T(92861).Buffer,M=T(56168),S=T(56698),d=T(25892),c=T(30295),f=T(45122);function h(u,k){var m=0;u.length!==k.length&&m++;for(var v=Math.min(u.length,k.length),p=0;p<v;++p)m+=u[p]^k[p];return m}function _(u,k,m){if(k.length===12)return u._finID=A.concat([k,A.from([0,0,0,1])]),A.concat([k,A.from([0,0,0,2])]);var v=new d(m),p=k.length,C=p%16;v.update(k),C&&(C=16-C,v.update(A.alloc(C,0))),v.update(A.alloc(8,0));var R=p*8,D=A.alloc(8);D.writeUIntBE(R,0,8),v.update(D),u._finID=v.state;var F=A.from(u._finID);return f(F),F}function b(u,k,m,v){M.call(this);var p=A.alloc(4,0);this._cipher=new E.AES(k);var C=this._cipher.encryptBlock(p);this._ghash=new d(C),m=_(this,m,C),this._prev=A.from(m),this._cache=A.allocUnsafe(0),this._secCache=A.allocUnsafe(0),this._decrypt=v,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}S(b,M),b.prototype._update=function(u){if(!this._called&&this._alen){var k=16-this._alen%16;k<16&&(k=A.alloc(k,0),this._ghash.update(k))}this._called=!0;var m=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(m),this._len+=u.length,m},b.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=c(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&h(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},b.prototype.getAuthTag=function(){if(this._decrypt||!A.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},b.prototype.setAuthTag=function(k){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=k},b.prototype.setAAD=function(k){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(k),this._alen+=k.length},s.exports=b},1241:(s,G,T)=>{var E=T(25799),A=T(36171),M=T(3219);function S(){return Object.keys(M)}G.createCipher=G.Cipher=E.createCipher,G.createCipheriv=G.Cipheriv=E.createCipheriv,G.createDecipher=G.Decipher=A.createDecipher,G.createDecipheriv=G.Decipheriv=A.createDecipheriv,G.listCiphers=G.getCiphers=S},36171:(s,G,T)=>{var E=T(92356),A=T(92861).Buffer,M=T(530),S=T(50650),d=T(56168),c=T(50462),f=T(68078),h=T(56698);function _(v,p,C){d.call(this),this._cache=new b,this._last=void 0,this._cipher=new c.AES(p),this._prev=A.from(C),this._mode=v,this._autopadding=!0}h(_,d),_.prototype._update=function(v){this._cache.add(v);for(var p,C,R=[];p=this._cache.get(this._autopadding);)C=this._mode.decrypt(this,p),R.push(C);return A.concat(R)},_.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this};function b(){this.cache=A.allocUnsafe(0)}b.prototype.add=function(v){this.cache=A.concat([this.cache,v])},b.prototype.get=function(v){var p;if(v){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache};function u(v){var p=v[15];if(p<1||p>16)throw new Error("unable to decrypt data");for(var C=-1;++C<p;)if(v[C+(16-p)]!==p)throw new Error("unable to decrypt data");if(p!==16)return v.slice(0,16-p)}function k(v,p,C){var R=M[v.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof C=="string"&&(C=A.from(C)),R.mode!=="GCM"&&C.length!==R.iv)throw new TypeError("invalid iv length "+C.length);if(typeof p=="string"&&(p=A.from(p)),p.length!==R.key/8)throw new TypeError("invalid key length "+p.length);return R.type==="stream"?new S(R.module,p,C,!0):R.type==="auth"?new E(R.module,p,C,!0):new _(R.module,p,C)}function m(v,p){var C=M[v.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var R=f(p,!1,C.key,C.iv);return k(v,R.key,R.iv)}G.createDecipher=m,G.createDecipheriv=k},25799:(s,G,T)=>{var E=T(530),A=T(92356),M=T(92861).Buffer,S=T(50650),d=T(56168),c=T(50462),f=T(68078),h=T(56698);function _(v,p,C){d.call(this),this._cache=new u,this._cipher=new c.AES(p),this._prev=M.from(C),this._mode=v,this._autopadding=!0}h(_,d),_.prototype._update=function(v){this._cache.add(v);for(var p,C,R=[];p=this._cache.get();)C=this._mode.encrypt(this,p),R.push(C);return M.concat(R)};var b=M.alloc(16,16);_.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return v=this._mode.encrypt(this,v),this._cipher.scrub(),v;if(!v.equals(b))throw this._cipher.scrub(),new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this};function u(){this.cache=M.allocUnsafe(0)}u.prototype.add=function(v){this.cache=M.concat([this.cache,v])},u.prototype.get=function(){if(this.cache.length>15){var v=this.cache.slice(0,16);return this.cache=this.cache.slice(16),v}return null},u.prototype.flush=function(){for(var v=16-this.cache.length,p=M.allocUnsafe(v),C=-1;++C<v;)p.writeUInt8(v,C);return M.concat([this.cache,p])};function k(v,p,C){var R=E[v.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof p=="string"&&(p=M.from(p)),p.length!==R.key/8)throw new TypeError("invalid key length "+p.length);if(typeof C=="string"&&(C=M.from(C)),R.mode!=="GCM"&&C.length!==R.iv)throw new TypeError("invalid iv length "+C.length);return R.type==="stream"?new S(R.module,p,C):R.type==="auth"?new A(R.module,p,C):new _(R.module,p,C)}function m(v,p){var C=E[v.toLowerCase()];if(!C)throw new TypeError("invalid suite type");var R=f(p,!1,C.key,C.iv);return k(v,R.key,R.iv)}G.createCipheriv=k,G.createCipher=m},25892:(s,G,T)=>{var E=T(92861).Buffer,A=E.alloc(16,0);function M(c){return[c.readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)]}function S(c){var f=E.allocUnsafe(16);return f.writeUInt32BE(c[0]>>>0,0),f.writeUInt32BE(c[1]>>>0,4),f.writeUInt32BE(c[2]>>>0,8),f.writeUInt32BE(c[3]>>>0,12),f}function d(c){this.h=c,this.state=E.alloc(16,0),this.cache=E.allocUnsafe(0)}d.prototype.ghash=function(c){for(var f=-1;++f<c.length;)this.state[f]^=c[f];this._multiply()},d.prototype._multiply=function(){for(var c=M(this.h),f=[0,0,0,0],h,_,b,u=-1;++u<128;){for(_=(this.state[~~(u/8)]&1<<7-u%8)!==0,_&&(f[0]^=c[0],f[1]^=c[1],f[2]^=c[2],f[3]^=c[3]),b=(c[3]&1)!==0,h=3;h>0;h--)c[h]=c[h]>>>1|(c[h-1]&1)<<31;c[0]=c[0]>>>1,b&&(c[0]=c[0]^-520093696)}this.state=S(f)},d.prototype.update=function(c){this.cache=E.concat([this.cache,c]);for(var f;this.cache.length>=16;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},d.prototype.final=function(c,f){return this.cache.length&&this.ghash(E.concat([this.cache,A],16)),this.ghash(S([0,c,0,f])),this.state},s.exports=d},45122:s=>{function G(T){for(var E=T.length,A;E--;)if(A=T.readUInt8(E),A===255)T.writeUInt8(0,E);else{A++,T.writeUInt8(A,E);break}}s.exports=G},92884:(s,G,T)=>{var E=T(30295);G.encrypt=function(A,M){var S=E(M,A._prev);return A._prev=A._cipher.encryptBlock(S),A._prev},G.decrypt=function(A,M){var S=A._prev;A._prev=M;var d=A._cipher.decryptBlock(M);return E(d,S)}},46383:(s,G,T)=>{var E=T(92861).Buffer,A=T(30295);function M(S,d,c){var f=d.length,h=A(d,S._cache);return S._cache=S._cache.slice(f),S._prev=E.concat([S._prev,c?d:h]),h}G.encrypt=function(S,d,c){for(var f=E.allocUnsafe(0),h;d.length;)if(S._cache.length===0&&(S._cache=S._cipher.encryptBlock(S._prev),S._prev=E.allocUnsafe(0)),S._cache.length<=d.length)h=S._cache.length,f=E.concat([f,M(S,d.slice(0,h),c)]),d=d.slice(h);else{f=E.concat([f,M(S,d,c)]);break}return f}},55264:(s,G,T)=>{var E=T(92861).Buffer;function A(S,d,c){for(var f,h=-1,_=8,b=0,u,k;++h<_;)f=S._cipher.encryptBlock(S._prev),u=d&1<<7-h?128:0,k=f[0]^u,b+=(k&128)>>h%8,S._prev=M(S._prev,c?u:k);return b}function M(S,d){var c=S.length,f=-1,h=E.allocUnsafe(S.length);for(S=E.concat([S,E.from([d])]);++f<c;)h[f]=S[f]<<1|S[f+1]>>7;return h}G.encrypt=function(S,d,c){for(var f=d.length,h=E.allocUnsafe(f),_=-1;++_<f;)h[_]=A(S,d[_],c);return h}},86975:(s,G,T)=>{var E=T(92861).Buffer;function A(M,S,d){var c=M._cipher.encryptBlock(M._prev),f=c[0]^S;return M._prev=E.concat([M._prev.slice(1),E.from([d?S:f])]),f}G.encrypt=function(M,S,d){for(var c=S.length,f=E.allocUnsafe(c),h=-1;++h<c;)f[h]=A(M,S[h],d);return f}},63053:(s,G,T)=>{var E=T(30295),A=T(92861).Buffer,M=T(45122);function S(c){var f=c._cipher.encryptBlockRaw(c._prev);return M(c._prev),f}var d=16;G.encrypt=function(c,f){var h=Math.ceil(f.length/d),_=c._cache.length;c._cache=A.concat([c._cache,A.allocUnsafe(h*d)]);for(var b=0;b<h;b++){var u=S(c),k=_+b*d;c._cache.writeUInt32BE(u[0],k+0),c._cache.writeUInt32BE(u[1],k+4),c._cache.writeUInt32BE(u[2],k+8),c._cache.writeUInt32BE(u[3],k+12)}var m=c._cache.slice(0,f.length);return c._cache=c._cache.slice(f.length),E(f,m)}},52632:(s,G)=>{G.encrypt=function(T,E){return T._cipher.encryptBlock(E)},G.decrypt=function(T,E){return T._cipher.decryptBlock(E)}},530:(s,G,T)=>{var E={ECB:T(52632),CBC:T(92884),CFB:T(46383),CFB8:T(86975),CFB1:T(55264),OFB:T(46843),CTR:T(63053),GCM:T(63053)},A=T(3219);for(var M in A)A[M].module=E[A[M].mode];s.exports=A},46843:(s,G,T)=>{var E=T(30295);function A(M){return M._prev=M._cipher.encryptBlock(M._prev),M._prev}G.encrypt=function(M,S){for(;M._cache.length<S.length;)M._cache=Buffer.concat([M._cache,A(M)]);var d=M._cache.slice(0,S.length);return M._cache=M._cache.slice(S.length),E(S,d)}},50650:(s,G,T)=>{var E=T(50462),A=T(92861).Buffer,M=T(56168),S=T(56698);function d(c,f,h,_){M.call(this),this._cipher=new E.AES(f),this._prev=A.from(h),this._cache=A.allocUnsafe(0),this._secCache=A.allocUnsafe(0),this._decrypt=_,this._mode=c}S(d,M),d.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},d.prototype._final=function(){this._cipher.scrub()},s.exports=d},30125:(s,G,T)=>{var E=T(84050),A=T(1241),M=T(530),S=T(32438),d=T(68078);function c(u,k){u=u.toLowerCase();var m,v;if(M[u])m=M[u].key,v=M[u].iv;else if(S[u])m=S[u].key*8,v=S[u].iv;else throw new TypeError("invalid suite type");var p=d(k,!1,m,v);return h(u,p.key,p.iv)}function f(u,k){u=u.toLowerCase();var m,v;if(M[u])m=M[u].key,v=M[u].iv;else if(S[u])m=S[u].key*8,v=S[u].iv;else throw new TypeError("invalid suite type");var p=d(k,!1,m,v);return _(u,p.key,p.iv)}function h(u,k,m){if(u=u.toLowerCase(),M[u])return A.createCipheriv(u,k,m);if(S[u])return new E({key:k,iv:m,mode:u});throw new TypeError("invalid suite type")}function _(u,k,m){if(u=u.toLowerCase(),M[u])return A.createDecipheriv(u,k,m);if(S[u])return new E({key:k,iv:m,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}function b(){return Object.keys(S).concat(A.getCiphers())}G.createCipher=G.Cipher=c,G.createCipheriv=G.Cipheriv=h,G.createDecipher=G.Decipher=f,G.createDecipheriv=G.Decipheriv=_,G.listCiphers=G.getCiphers=b},84050:(s,G,T)=>{var E=T(56168),A=T(29560),M=T(56698),S=T(92861).Buffer,d={"des-ede3-cbc":A.CBC.instantiate(A.EDE),"des-ede3":A.EDE,"des-ede-cbc":A.CBC.instantiate(A.EDE),"des-ede":A.EDE,"des-cbc":A.CBC.instantiate(A.DES),"des-ecb":A.DES};d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],s.exports=c,M(c,E);function c(f){E.call(this);var h=f.mode.toLowerCase(),_=d[h],b;f.decrypt?b="decrypt":b="encrypt";var u=f.key;S.isBuffer(u)||(u=S.from(u)),(h==="des-ede"||h==="des-ede-cbc")&&(u=S.concat([u,u.slice(0,8)]));var k=f.iv;S.isBuffer(k)||(k=S.from(k)),this._des=_.create({key:u,iv:k,type:b})}c.prototype._update=function(f){return S.from(this._des.update(f))},c.prototype._final=function(){return S.from(this._des.final())}},32438:(s,G)=>{G["des-ecb"]={key:8,iv:0},G["des-cbc"]=G.des={key:8,iv:8},G["des-ede3-cbc"]=G.des3={key:24,iv:8},G["des-ede3"]={key:24,iv:0},G["des-ede-cbc"]={key:16,iv:8},G["des-ede"]={key:16,iv:0}},67332:(s,G,T)=>{var E=T(78893),A=T(53209);function M(c){var f=S(c),h=f.toRed(E.mont(c.modulus)).redPow(new E(c.publicExponent)).fromRed();return{blinder:h,unblinder:f.invm(c.modulus)}}function S(c){var f=c.modulus.byteLength(),h;do h=new E(A(f));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function d(c,f){var h=M(f),_=f.modulus.byteLength(),b=new E(c).mul(h.blinder).umod(f.modulus),u=b.toRed(E.mont(f.prime1)),k=b.toRed(E.mont(f.prime2)),m=f.coefficient,v=f.prime1,p=f.prime2,C=u.redPow(f.exponent1).fromRed(),R=k.redPow(f.exponent2).fromRed(),D=C.isub(R).imul(m).umod(v).imul(p);return R.iadd(D).imul(h.unblinder).umod(f.modulus).toArrayLike(Buffer,"be",_)}d.getr=S,s.exports=d},78893:function(s,G,T){s=T.nmd(s),function(E,A){"use strict";function M(N,o){if(!N)throw new Error(o||"Assertion failed")}function S(N,o){N.super_=o;var w=function(){};w.prototype=o.prototype,N.prototype=new w,N.prototype.constructor=N}function d(N,o,w){if(d.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((o==="le"||o==="be")&&(w=o,o=10),this._init(N||0,o||10,w||"be"))}typeof E=="object"?E.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(98285).Buffer}catch{}d.isBN=function(o){return o instanceof d?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===d.wordSize&&Array.isArray(o.words)},d.max=function(o,w){return o.cmp(w)>0?o:w},d.min=function(o,w){return o.cmp(w)<0?o:w},d.prototype._init=function(o,w,I){if(typeof o=="number")return this._initNumber(o,w,I);if(typeof o=="object")return this._initArray(o,w,I);w==="hex"&&(w=16),M(w===(w|0)&&w>=2&&w<=36),o=o.toString().replace(/\s+/g,"");var q=0;o[0]==="-"&&(q++,this.negative=1),q<o.length&&(w===16?this._parseHex(o,q,I):(this._parseBase(o,w,q),I==="le"&&this._initArray(this.toArray(),w,I)))},d.prototype._initNumber=function(o,w,I){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(M(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),w,I)},d.prototype._initArray=function(o,w,I){if(M(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,H,ee=0;if(I==="be")for(q=o.length-1,j=0;q>=0;q-=3)H=o[q]|o[q-1]<<8|o[q-2]<<16,this.words[j]|=H<<ee&67108863,this.words[j+1]=H>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,j++);else if(I==="le")for(q=0,j=0;q<o.length;q+=3)H=o[q]|o[q+1]<<8|o[q+2]<<16,this.words[j]|=H<<ee&67108863,this.words[j+1]=H>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,j++);return this._strip()};function f(N,o){var w=N.charCodeAt(o);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;M(!1,"Invalid character in "+N)}function h(N,o,w){var I=f(N,w);return w-1>=o&&(I|=f(N,w-1)<<4),I}d.prototype._parseHex=function(o,w,I){this.length=Math.ceil((o.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,H=0,ee;if(I==="be")for(q=o.length-1;q>=w;q-=2)ee=h(o,w,q)<<j,this.words[H]|=ee&67108863,j>=18?(j-=18,H+=1,this.words[H]|=ee>>>26):j+=8;else{var ie=o.length-w;for(q=ie%2===0?w+1:w;q<o.length;q+=2)ee=h(o,w,q)<<j,this.words[H]|=ee&67108863,j>=18?(j-=18,H+=1,this.words[H]|=ee>>>26):j+=8}this._strip()};function _(N,o,w,I){for(var q=0,j=0,H=Math.min(N.length,w),ee=o;ee<H;ee++){var ie=N.charCodeAt(ee)-48;q*=I,ie>=49?j=ie-49+10:ie>=17?j=ie-17+10:j=ie,M(ie>=0&&j<I,"Invalid character"),q+=j}return q}d.prototype._parseBase=function(o,w,I){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var H=o.length-I,ee=H%q,ie=Math.min(H,H-ee)+I,B=0,ne=I;ne<ie;ne+=q)B=_(o,ne,ne+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ee!==0){var Le=1;for(B=_(o,ne,o.length,w),ne=0;ne<ee;ne++)Le*=w;this.imuln(Le),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},d.prototype.copy=function(o){o.words=new Array(this.length);for(var w=0;w<this.length;w++)o.words[w]=this.words[w];o.length=this.length,o.negative=this.negative,o.red=this.red};function b(N,o){N.words=o.words,N.length=o.length,N.negative=o.negative,N.red=o.red}if(d.prototype._move=function(o){b(o,this)},d.prototype.clone=function(){var o=new d(null);return this.copy(o),o},d.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{d.prototype.inspect=u}else d.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(o,w){o=o||10,w=w|0||1;var I;if(o===16||o==="hex"){I="";for(var q=0,j=0,H=0;H<this.length;H++){var ee=this.words[H],ie=((ee<<q|j)&16777215).toString(16);j=ee>>>24-q&16777215,j!==0||H!==this.length-1?I=k[6-ie.length]+ie+I:I=ie+I,q+=2,q>=26&&(q-=26,H--)}for(j!==0&&(I=j.toString(16)+I);I.length%w!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(o===(o|0)&&o>=2&&o<=36){var B=m[o],ne=v[o];I="";var Le=this.clone();for(Le.negative=0;!Le.isZero();){var pe=Le.modrn(ne).toString(o);Le=Le.idivn(ne),Le.isZero()?I=pe+I:I=k[B-pe.length]+pe+I}for(this.isZero()&&(I="0"+I);I.length%w!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}M(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&M(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},d.prototype.toJSON=function(){return this.toString(16,2)},c&&(d.prototype.toBuffer=function(o,w){return this.toArrayLike(c,o,w)}),d.prototype.toArray=function(o,w){return this.toArrayLike(Array,o,w)};var p=function(o,w){return o.allocUnsafe?o.allocUnsafe(w):new o(w)};d.prototype.toArrayLike=function(o,w,I){this._strip();var q=this.byteLength(),j=I||Math.max(1,q);M(q<=j,"byte array longer than desired length"),M(j>0,"Requested array length <= 0");var H=p(o,j),ee=w==="le"?"LE":"BE";return this["_toArrayLike"+ee](H,q),H},d.prototype._toArrayLikeLE=function(o,w){for(var I=0,q=0,j=0,H=0;j<this.length;j++){var ee=this.words[j]<<H|q;o[I++]=ee&255,I<o.length&&(o[I++]=ee>>8&255),I<o.length&&(o[I++]=ee>>16&255),H===6?(I<o.length&&(o[I++]=ee>>24&255),q=0,H=0):(q=ee>>>24,H+=2)}if(I<o.length)for(o[I++]=q;I<o.length;)o[I++]=0},d.prototype._toArrayLikeBE=function(o,w){for(var I=o.length-1,q=0,j=0,H=0;j<this.length;j++){var ee=this.words[j]<<H|q;o[I--]=ee&255,I>=0&&(o[I--]=ee>>8&255),I>=0&&(o[I--]=ee>>16&255),H===6?(I>=0&&(o[I--]=ee>>24&255),q=0,H=0):(q=ee>>>24,H+=2)}if(I>=0)for(o[I--]=q;I>=0;)o[I--]=0},Math.clz32?d.prototype._countBits=function(o){return 32-Math.clz32(o)}:d.prototype._countBits=function(o){var w=o,I=0;return w>=4096&&(I+=13,w>>>=13),w>=64&&(I+=7,w>>>=7),w>=8&&(I+=4,w>>>=4),w>=2&&(I+=2,w>>>=2),I+w},d.prototype._zeroBits=function(o){if(o===0)return 26;var w=o,I=0;return w&8191||(I+=13,w>>>=13),w&127||(I+=7,w>>>=7),w&15||(I+=4,w>>>=4),w&3||(I+=2,w>>>=2),w&1||I++,I},d.prototype.bitLength=function(){var o=this.words[this.length-1],w=this._countBits(o);return(this.length-1)*26+w};function C(N){for(var o=new Array(N.bitLength()),w=0;w<o.length;w++){var I=w/26|0,q=w%26;o[w]=N.words[I]>>>q&1}return o}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,w=0;w<this.length;w++){var I=this._zeroBits(this.words[w]);if(o+=I,I!==26)break}return o},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},d.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var w=0;w<o.length;w++)this.words[w]=this.words[w]|o.words[w];return this._strip()},d.prototype.ior=function(o){return M((this.negative|o.negative)===0),this.iuor(o)},d.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},d.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},d.prototype.iuand=function(o){var w;this.length>o.length?w=o:w=this;for(var I=0;I<w.length;I++)this.words[I]=this.words[I]&o.words[I];return this.length=w.length,this._strip()},d.prototype.iand=function(o){return M((this.negative|o.negative)===0),this.iuand(o)},d.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},d.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},d.prototype.iuxor=function(o){var w,I;this.length>o.length?(w=this,I=o):(w=o,I=this);for(var q=0;q<I.length;q++)this.words[q]=w.words[q]^I.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},d.prototype.ixor=function(o){return M((this.negative|o.negative)===0),this.iuxor(o)},d.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},d.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},d.prototype.inotn=function(o){M(typeof o=="number"&&o>=0);var w=Math.ceil(o/26)|0,I=o%26;this._expand(w),I>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return I>0&&(this.words[q]=~this.words[q]&67108863>>26-I),this._strip()},d.prototype.notn=function(o){return this.clone().inotn(o)},d.prototype.setn=function(o,w){M(typeof o=="number"&&o>=0);var I=o/26|0,q=o%26;return this._expand(I+1),w?this.words[I]=this.words[I]|1<<q:this.words[I]=this.words[I]&~(1<<q),this._strip()},d.prototype.iadd=function(o){var w;if(this.negative!==0&&o.negative===0)return this.negative=0,w=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,w=this.isub(o),o.negative=1,w._normSign();var I,q;this.length>o.length?(I=this,q=o):(I=o,q=this);for(var j=0,H=0;H<q.length;H++)w=(I.words[H]|0)+(q.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;for(;j!==0&&H<I.length;H++)w=(I.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;if(this.length=I.length,j!==0)this.words[this.length]=j,this.length++;else if(I!==this)for(;H<I.length;H++)this.words[H]=I.words[H];return this},d.prototype.add=function(o){var w;return o.negative!==0&&this.negative===0?(o.negative=0,w=this.sub(o),o.negative^=1,w):o.negative===0&&this.negative!==0?(this.negative=0,w=o.sub(this),this.negative=1,w):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},d.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var w=this.iadd(o);return o.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var I=this.cmp(o);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;I>0?(q=this,j=o):(q=o,j=this);for(var H=0,ee=0;ee<j.length;ee++)w=(q.words[ee]|0)-(j.words[ee]|0)+H,H=w>>26,this.words[ee]=w&67108863;for(;H!==0&&ee<q.length;ee++)w=(q.words[ee]|0)+H,H=w>>26,this.words[ee]=w&67108863;if(H===0&&ee<q.length&&q!==this)for(;ee<q.length;ee++)this.words[ee]=q.words[ee];return this.length=Math.max(this.length,ee),q!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(o){return this.clone().isub(o)};function R(N,o,w){w.negative=o.negative^N.negative;var I=N.length+o.length|0;w.length=I,I=I-1|0;var q=N.words[0]|0,j=o.words[0]|0,H=q*j,ee=H&67108863,ie=H/67108864|0;w.words[0]=ee;for(var B=1;B<I;B++){for(var ne=ie>>>26,Le=ie&67108863,pe=Math.min(B,o.length-1),Me=Math.max(0,B-N.length+1);Me<=pe;Me++){var Pe=B-Me|0;q=N.words[Pe]|0,j=o.words[Me]|0,H=q*j+Le,ne+=H/67108864|0,Le=H&67108863}w.words[B]=Le|0,ie=ne|0}return ie!==0?w.words[B]=ie|0:w.length--,w._strip()}var D=function(o,w,I){var q=o.words,j=w.words,H=I.words,ee=0,ie,B,ne,Le=q[0]|0,pe=Le&8191,Me=Le>>>13,Pe=q[1]|0,J=Pe&8191,te=Pe>>>13,fe=q[2]|0,ve=fe&8191,Se=fe>>>13,L=q[3]|0,O=L&8191,oe=L>>>13,be=q[4]|0,ke=be&8191,ge=be>>>13,De=q[5]|0,Ge=De&8191,We=De>>>13,Nt=q[6]|0,Ze=Nt&8191,it=Nt>>>13,Et=q[7]|0,ce=Et&8191,Q=Et>>>13,se=q[8]|0,ye=se&8191,Fe=se>>>13,Ye=q[9]|0,Ue=Ye&8191,et=Ye>>>13,It=j[0]|0,at=It&8191,ct=It>>>13,pt=j[1]|0,St=pt&8191,Rt=pt>>>13,pi=j[2]|0,kt=pi&8191,Ut=pi>>>13,Ki=j[3]|0,Pt=Ki&8191,Qt=Ki>>>13,qi=j[4]|0,vt=qi&8191,lt=qi>>>13,Tr=j[5]|0,Jt=Tr&8191,ri=Tr>>>13,dr=j[6]|0,Oe=dr&8191,Qe=dr>>>13,bt=j[7]|0,dt=bt&8191,gt=bt>>>13,oi=j[8]|0,Dt=oi&8191,jt=oi>>>13,qt=j[9]|0,ut=qt&8191,Tt=qt>>>13;I.negative=o.negative^w.negative,I.length=19,ie=Math.imul(pe,at),B=Math.imul(pe,ct),B=B+Math.imul(Me,at)|0,ne=Math.imul(Me,ct);var Mt=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,ie=Math.imul(J,at),B=Math.imul(J,ct),B=B+Math.imul(te,at)|0,ne=Math.imul(te,ct),ie=ie+Math.imul(pe,St)|0,B=B+Math.imul(pe,Rt)|0,B=B+Math.imul(Me,St)|0,ne=ne+Math.imul(Me,Rt)|0;var vi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(vi>>>26)|0,vi&=67108863,ie=Math.imul(ve,at),B=Math.imul(ve,ct),B=B+Math.imul(Se,at)|0,ne=Math.imul(Se,ct),ie=ie+Math.imul(J,St)|0,B=B+Math.imul(J,Rt)|0,B=B+Math.imul(te,St)|0,ne=ne+Math.imul(te,Rt)|0,ie=ie+Math.imul(pe,kt)|0,B=B+Math.imul(pe,Ut)|0,B=B+Math.imul(Me,kt)|0,ne=ne+Math.imul(Me,Ut)|0;var li=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(li>>>26)|0,li&=67108863,ie=Math.imul(O,at),B=Math.imul(O,ct),B=B+Math.imul(oe,at)|0,ne=Math.imul(oe,ct),ie=ie+Math.imul(ve,St)|0,B=B+Math.imul(ve,Rt)|0,B=B+Math.imul(Se,St)|0,ne=ne+Math.imul(Se,Rt)|0,ie=ie+Math.imul(J,kt)|0,B=B+Math.imul(J,Ut)|0,B=B+Math.imul(te,kt)|0,ne=ne+Math.imul(te,Ut)|0,ie=ie+Math.imul(pe,Pt)|0,B=B+Math.imul(pe,Qt)|0,B=B+Math.imul(Me,Pt)|0,ne=ne+Math.imul(Me,Qt)|0;var $t=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+($t>>>26)|0,$t&=67108863,ie=Math.imul(ke,at),B=Math.imul(ke,ct),B=B+Math.imul(ge,at)|0,ne=Math.imul(ge,ct),ie=ie+Math.imul(O,St)|0,B=B+Math.imul(O,Rt)|0,B=B+Math.imul(oe,St)|0,ne=ne+Math.imul(oe,Rt)|0,ie=ie+Math.imul(ve,kt)|0,B=B+Math.imul(ve,Ut)|0,B=B+Math.imul(Se,kt)|0,ne=ne+Math.imul(Se,Ut)|0,ie=ie+Math.imul(J,Pt)|0,B=B+Math.imul(J,Qt)|0,B=B+Math.imul(te,Pt)|0,ne=ne+Math.imul(te,Qt)|0,ie=ie+Math.imul(pe,vt)|0,B=B+Math.imul(pe,lt)|0,B=B+Math.imul(Me,vt)|0,ne=ne+Math.imul(Me,lt)|0;var Ti=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,ie=Math.imul(Ge,at),B=Math.imul(Ge,ct),B=B+Math.imul(We,at)|0,ne=Math.imul(We,ct),ie=ie+Math.imul(ke,St)|0,B=B+Math.imul(ke,Rt)|0,B=B+Math.imul(ge,St)|0,ne=ne+Math.imul(ge,Rt)|0,ie=ie+Math.imul(O,kt)|0,B=B+Math.imul(O,Ut)|0,B=B+Math.imul(oe,kt)|0,ne=ne+Math.imul(oe,Ut)|0,ie=ie+Math.imul(ve,Pt)|0,B=B+Math.imul(ve,Qt)|0,B=B+Math.imul(Se,Pt)|0,ne=ne+Math.imul(Se,Qt)|0,ie=ie+Math.imul(J,vt)|0,B=B+Math.imul(J,lt)|0,B=B+Math.imul(te,vt)|0,ne=ne+Math.imul(te,lt)|0,ie=ie+Math.imul(pe,Jt)|0,B=B+Math.imul(pe,ri)|0,B=B+Math.imul(Me,Jt)|0,ne=ne+Math.imul(Me,ri)|0;var mi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(mi>>>26)|0,mi&=67108863,ie=Math.imul(Ze,at),B=Math.imul(Ze,ct),B=B+Math.imul(it,at)|0,ne=Math.imul(it,ct),ie=ie+Math.imul(Ge,St)|0,B=B+Math.imul(Ge,Rt)|0,B=B+Math.imul(We,St)|0,ne=ne+Math.imul(We,Rt)|0,ie=ie+Math.imul(ke,kt)|0,B=B+Math.imul(ke,Ut)|0,B=B+Math.imul(ge,kt)|0,ne=ne+Math.imul(ge,Ut)|0,ie=ie+Math.imul(O,Pt)|0,B=B+Math.imul(O,Qt)|0,B=B+Math.imul(oe,Pt)|0,ne=ne+Math.imul(oe,Qt)|0,ie=ie+Math.imul(ve,vt)|0,B=B+Math.imul(ve,lt)|0,B=B+Math.imul(Se,vt)|0,ne=ne+Math.imul(Se,lt)|0,ie=ie+Math.imul(J,Jt)|0,B=B+Math.imul(J,ri)|0,B=B+Math.imul(te,Jt)|0,ne=ne+Math.imul(te,ri)|0,ie=ie+Math.imul(pe,Oe)|0,B=B+Math.imul(pe,Qe)|0,B=B+Math.imul(Me,Oe)|0,ne=ne+Math.imul(Me,Qe)|0;var Mi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,ie=Math.imul(ce,at),B=Math.imul(ce,ct),B=B+Math.imul(Q,at)|0,ne=Math.imul(Q,ct),ie=ie+Math.imul(Ze,St)|0,B=B+Math.imul(Ze,Rt)|0,B=B+Math.imul(it,St)|0,ne=ne+Math.imul(it,Rt)|0,ie=ie+Math.imul(Ge,kt)|0,B=B+Math.imul(Ge,Ut)|0,B=B+Math.imul(We,kt)|0,ne=ne+Math.imul(We,Ut)|0,ie=ie+Math.imul(ke,Pt)|0,B=B+Math.imul(ke,Qt)|0,B=B+Math.imul(ge,Pt)|0,ne=ne+Math.imul(ge,Qt)|0,ie=ie+Math.imul(O,vt)|0,B=B+Math.imul(O,lt)|0,B=B+Math.imul(oe,vt)|0,ne=ne+Math.imul(oe,lt)|0,ie=ie+Math.imul(ve,Jt)|0,B=B+Math.imul(ve,ri)|0,B=B+Math.imul(Se,Jt)|0,ne=ne+Math.imul(Se,ri)|0,ie=ie+Math.imul(J,Oe)|0,B=B+Math.imul(J,Qe)|0,B=B+Math.imul(te,Oe)|0,ne=ne+Math.imul(te,Qe)|0,ie=ie+Math.imul(pe,dt)|0,B=B+Math.imul(pe,gt)|0,B=B+Math.imul(Me,dt)|0,ne=ne+Math.imul(Me,gt)|0;var Ii=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,ie=Math.imul(ye,at),B=Math.imul(ye,ct),B=B+Math.imul(Fe,at)|0,ne=Math.imul(Fe,ct),ie=ie+Math.imul(ce,St)|0,B=B+Math.imul(ce,Rt)|0,B=B+Math.imul(Q,St)|0,ne=ne+Math.imul(Q,Rt)|0,ie=ie+Math.imul(Ze,kt)|0,B=B+Math.imul(Ze,Ut)|0,B=B+Math.imul(it,kt)|0,ne=ne+Math.imul(it,Ut)|0,ie=ie+Math.imul(Ge,Pt)|0,B=B+Math.imul(Ge,Qt)|0,B=B+Math.imul(We,Pt)|0,ne=ne+Math.imul(We,Qt)|0,ie=ie+Math.imul(ke,vt)|0,B=B+Math.imul(ke,lt)|0,B=B+Math.imul(ge,vt)|0,ne=ne+Math.imul(ge,lt)|0,ie=ie+Math.imul(O,Jt)|0,B=B+Math.imul(O,ri)|0,B=B+Math.imul(oe,Jt)|0,ne=ne+Math.imul(oe,ri)|0,ie=ie+Math.imul(ve,Oe)|0,B=B+Math.imul(ve,Qe)|0,B=B+Math.imul(Se,Oe)|0,ne=ne+Math.imul(Se,Qe)|0,ie=ie+Math.imul(J,dt)|0,B=B+Math.imul(J,gt)|0,B=B+Math.imul(te,dt)|0,ne=ne+Math.imul(te,gt)|0,ie=ie+Math.imul(pe,Dt)|0,B=B+Math.imul(pe,jt)|0,B=B+Math.imul(Me,Dt)|0,ne=ne+Math.imul(Me,jt)|0;var Qi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,ie=Math.imul(Ue,at),B=Math.imul(Ue,ct),B=B+Math.imul(et,at)|0,ne=Math.imul(et,ct),ie=ie+Math.imul(ye,St)|0,B=B+Math.imul(ye,Rt)|0,B=B+Math.imul(Fe,St)|0,ne=ne+Math.imul(Fe,Rt)|0,ie=ie+Math.imul(ce,kt)|0,B=B+Math.imul(ce,Ut)|0,B=B+Math.imul(Q,kt)|0,ne=ne+Math.imul(Q,Ut)|0,ie=ie+Math.imul(Ze,Pt)|0,B=B+Math.imul(Ze,Qt)|0,B=B+Math.imul(it,Pt)|0,ne=ne+Math.imul(it,Qt)|0,ie=ie+Math.imul(Ge,vt)|0,B=B+Math.imul(Ge,lt)|0,B=B+Math.imul(We,vt)|0,ne=ne+Math.imul(We,lt)|0,ie=ie+Math.imul(ke,Jt)|0,B=B+Math.imul(ke,ri)|0,B=B+Math.imul(ge,Jt)|0,ne=ne+Math.imul(ge,ri)|0,ie=ie+Math.imul(O,Oe)|0,B=B+Math.imul(O,Qe)|0,B=B+Math.imul(oe,Oe)|0,ne=ne+Math.imul(oe,Qe)|0,ie=ie+Math.imul(ve,dt)|0,B=B+Math.imul(ve,gt)|0,B=B+Math.imul(Se,dt)|0,ne=ne+Math.imul(Se,gt)|0,ie=ie+Math.imul(J,Dt)|0,B=B+Math.imul(J,jt)|0,B=B+Math.imul(te,Dt)|0,ne=ne+Math.imul(te,jt)|0,ie=ie+Math.imul(pe,ut)|0,B=B+Math.imul(pe,Tt)|0,B=B+Math.imul(Me,ut)|0,ne=ne+Math.imul(Me,Tt)|0;var Di=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,ie=Math.imul(Ue,St),B=Math.imul(Ue,Rt),B=B+Math.imul(et,St)|0,ne=Math.imul(et,Rt),ie=ie+Math.imul(ye,kt)|0,B=B+Math.imul(ye,Ut)|0,B=B+Math.imul(Fe,kt)|0,ne=ne+Math.imul(Fe,Ut)|0,ie=ie+Math.imul(ce,Pt)|0,B=B+Math.imul(ce,Qt)|0,B=B+Math.imul(Q,Pt)|0,ne=ne+Math.imul(Q,Qt)|0,ie=ie+Math.imul(Ze,vt)|0,B=B+Math.imul(Ze,lt)|0,B=B+Math.imul(it,vt)|0,ne=ne+Math.imul(it,lt)|0,ie=ie+Math.imul(Ge,Jt)|0,B=B+Math.imul(Ge,ri)|0,B=B+Math.imul(We,Jt)|0,ne=ne+Math.imul(We,ri)|0,ie=ie+Math.imul(ke,Oe)|0,B=B+Math.imul(ke,Qe)|0,B=B+Math.imul(ge,Oe)|0,ne=ne+Math.imul(ge,Qe)|0,ie=ie+Math.imul(O,dt)|0,B=B+Math.imul(O,gt)|0,B=B+Math.imul(oe,dt)|0,ne=ne+Math.imul(oe,gt)|0,ie=ie+Math.imul(ve,Dt)|0,B=B+Math.imul(ve,jt)|0,B=B+Math.imul(Se,Dt)|0,ne=ne+Math.imul(Se,jt)|0,ie=ie+Math.imul(J,ut)|0,B=B+Math.imul(J,Tt)|0,B=B+Math.imul(te,ut)|0,ne=ne+Math.imul(te,Tt)|0;var Ci=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,ie=Math.imul(Ue,kt),B=Math.imul(Ue,Ut),B=B+Math.imul(et,kt)|0,ne=Math.imul(et,Ut),ie=ie+Math.imul(ye,Pt)|0,B=B+Math.imul(ye,Qt)|0,B=B+Math.imul(Fe,Pt)|0,ne=ne+Math.imul(Fe,Qt)|0,ie=ie+Math.imul(ce,vt)|0,B=B+Math.imul(ce,lt)|0,B=B+Math.imul(Q,vt)|0,ne=ne+Math.imul(Q,lt)|0,ie=ie+Math.imul(Ze,Jt)|0,B=B+Math.imul(Ze,ri)|0,B=B+Math.imul(it,Jt)|0,ne=ne+Math.imul(it,ri)|0,ie=ie+Math.imul(Ge,Oe)|0,B=B+Math.imul(Ge,Qe)|0,B=B+Math.imul(We,Oe)|0,ne=ne+Math.imul(We,Qe)|0,ie=ie+Math.imul(ke,dt)|0,B=B+Math.imul(ke,gt)|0,B=B+Math.imul(ge,dt)|0,ne=ne+Math.imul(ge,gt)|0,ie=ie+Math.imul(O,Dt)|0,B=B+Math.imul(O,jt)|0,B=B+Math.imul(oe,Dt)|0,ne=ne+Math.imul(oe,jt)|0,ie=ie+Math.imul(ve,ut)|0,B=B+Math.imul(ve,Tt)|0,B=B+Math.imul(Se,ut)|0,ne=ne+Math.imul(Se,Tt)|0;var Bi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,ie=Math.imul(Ue,Pt),B=Math.imul(Ue,Qt),B=B+Math.imul(et,Pt)|0,ne=Math.imul(et,Qt),ie=ie+Math.imul(ye,vt)|0,B=B+Math.imul(ye,lt)|0,B=B+Math.imul(Fe,vt)|0,ne=ne+Math.imul(Fe,lt)|0,ie=ie+Math.imul(ce,Jt)|0,B=B+Math.imul(ce,ri)|0,B=B+Math.imul(Q,Jt)|0,ne=ne+Math.imul(Q,ri)|0,ie=ie+Math.imul(Ze,Oe)|0,B=B+Math.imul(Ze,Qe)|0,B=B+Math.imul(it,Oe)|0,ne=ne+Math.imul(it,Qe)|0,ie=ie+Math.imul(Ge,dt)|0,B=B+Math.imul(Ge,gt)|0,B=B+Math.imul(We,dt)|0,ne=ne+Math.imul(We,gt)|0,ie=ie+Math.imul(ke,Dt)|0,B=B+Math.imul(ke,jt)|0,B=B+Math.imul(ge,Dt)|0,ne=ne+Math.imul(ge,jt)|0,ie=ie+Math.imul(O,ut)|0,B=B+Math.imul(O,Tt)|0,B=B+Math.imul(oe,ut)|0,ne=ne+Math.imul(oe,Tt)|0;var Yt=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ie=Math.imul(Ue,vt),B=Math.imul(Ue,lt),B=B+Math.imul(et,vt)|0,ne=Math.imul(et,lt),ie=ie+Math.imul(ye,Jt)|0,B=B+Math.imul(ye,ri)|0,B=B+Math.imul(Fe,Jt)|0,ne=ne+Math.imul(Fe,ri)|0,ie=ie+Math.imul(ce,Oe)|0,B=B+Math.imul(ce,Qe)|0,B=B+Math.imul(Q,Oe)|0,ne=ne+Math.imul(Q,Qe)|0,ie=ie+Math.imul(Ze,dt)|0,B=B+Math.imul(Ze,gt)|0,B=B+Math.imul(it,dt)|0,ne=ne+Math.imul(it,gt)|0,ie=ie+Math.imul(Ge,Dt)|0,B=B+Math.imul(Ge,jt)|0,B=B+Math.imul(We,Dt)|0,ne=ne+Math.imul(We,jt)|0,ie=ie+Math.imul(ke,ut)|0,B=B+Math.imul(ke,Tt)|0,B=B+Math.imul(ge,ut)|0,ne=ne+Math.imul(ge,Tt)|0;var ui=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(ui>>>26)|0,ui&=67108863,ie=Math.imul(Ue,Jt),B=Math.imul(Ue,ri),B=B+Math.imul(et,Jt)|0,ne=Math.imul(et,ri),ie=ie+Math.imul(ye,Oe)|0,B=B+Math.imul(ye,Qe)|0,B=B+Math.imul(Fe,Oe)|0,ne=ne+Math.imul(Fe,Qe)|0,ie=ie+Math.imul(ce,dt)|0,B=B+Math.imul(ce,gt)|0,B=B+Math.imul(Q,dt)|0,ne=ne+Math.imul(Q,gt)|0,ie=ie+Math.imul(Ze,Dt)|0,B=B+Math.imul(Ze,jt)|0,B=B+Math.imul(it,Dt)|0,ne=ne+Math.imul(it,jt)|0,ie=ie+Math.imul(Ge,ut)|0,B=B+Math.imul(Ge,Tt)|0,B=B+Math.imul(We,ut)|0,ne=ne+Math.imul(We,Tt)|0;var ai=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(ai>>>26)|0,ai&=67108863,ie=Math.imul(Ue,Oe),B=Math.imul(Ue,Qe),B=B+Math.imul(et,Oe)|0,ne=Math.imul(et,Qe),ie=ie+Math.imul(ye,dt)|0,B=B+Math.imul(ye,gt)|0,B=B+Math.imul(Fe,dt)|0,ne=ne+Math.imul(Fe,gt)|0,ie=ie+Math.imul(ce,Dt)|0,B=B+Math.imul(ce,jt)|0,B=B+Math.imul(Q,Dt)|0,ne=ne+Math.imul(Q,jt)|0,ie=ie+Math.imul(Ze,ut)|0,B=B+Math.imul(Ze,Tt)|0,B=B+Math.imul(it,ut)|0,ne=ne+Math.imul(it,Tt)|0;var zi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(zi>>>26)|0,zi&=67108863,ie=Math.imul(Ue,dt),B=Math.imul(Ue,gt),B=B+Math.imul(et,dt)|0,ne=Math.imul(et,gt),ie=ie+Math.imul(ye,Dt)|0,B=B+Math.imul(ye,jt)|0,B=B+Math.imul(Fe,Dt)|0,ne=ne+Math.imul(Fe,jt)|0,ie=ie+Math.imul(ce,ut)|0,B=B+Math.imul(ce,Tt)|0,B=B+Math.imul(Q,ut)|0,ne=ne+Math.imul(Q,Tt)|0;var gi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(gi>>>26)|0,gi&=67108863,ie=Math.imul(Ue,Dt),B=Math.imul(Ue,jt),B=B+Math.imul(et,Dt)|0,ne=Math.imul(et,jt),ie=ie+Math.imul(ye,ut)|0,B=B+Math.imul(ye,Tt)|0,B=B+Math.imul(Fe,ut)|0,ne=ne+Math.imul(Fe,Tt)|0;var xi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(xi>>>26)|0,xi&=67108863,ie=Math.imul(Ue,ut),B=Math.imul(Ue,Tt),B=B+Math.imul(et,ut)|0,ne=Math.imul(et,Tt);var $i=(ee+ie|0)+((B&8191)<<13)|0;return ee=(ne+(B>>>13)|0)+($i>>>26)|0,$i&=67108863,H[0]=Mt,H[1]=vi,H[2]=li,H[3]=$t,H[4]=Ti,H[5]=mi,H[6]=Mi,H[7]=Ii,H[8]=Qi,H[9]=Di,H[10]=Ci,H[11]=Bi,H[12]=Yt,H[13]=ui,H[14]=ai,H[15]=zi,H[16]=gi,H[17]=xi,H[18]=$i,ee!==0&&(H[19]=ee,I.length++),I};Math.imul||(D=R);function F(N,o,w){w.negative=o.negative^N.negative,w.length=N.length+o.length;for(var I=0,q=0,j=0;j<w.length-1;j++){var H=q;q=0;for(var ee=I&67108863,ie=Math.min(j,o.length-1),B=Math.max(0,j-N.length+1);B<=ie;B++){var ne=j-B,Le=N.words[ne]|0,pe=o.words[B]|0,Me=Le*pe,Pe=Me&67108863;H=H+(Me/67108864|0)|0,Pe=Pe+ee|0,ee=Pe&67108863,H=H+(Pe>>>26)|0,q+=H>>>26,H&=67108863}w.words[j]=ee,I=H,H=q}return I!==0?w.words[j]=I:w.length--,w._strip()}function z(N,o,w){return F(N,o,w)}d.prototype.mulTo=function(o,w){var I,q=this.length+o.length;return this.length===10&&o.length===10?I=D(this,o,w):q<63?I=R(this,o,w):q<1024?I=F(this,o,w):I=z(this,o,w),I};function y(N,o){this.x=N,this.y=o}y.prototype.makeRBT=function(o){for(var w=new Array(o),I=d.prototype._countBits(o)-1,q=0;q<o;q++)w[q]=this.revBin(q,I,o);return w},y.prototype.revBin=function(o,w,I){if(o===0||o===I-1)return o;for(var q=0,j=0;j<w;j++)q|=(o&1)<<w-j-1,o>>=1;return q},y.prototype.permute=function(o,w,I,q,j,H){for(var ee=0;ee<H;ee++)q[ee]=w[o[ee]],j[ee]=I[o[ee]]},y.prototype.transform=function(o,w,I,q,j,H){this.permute(H,o,w,I,q,j);for(var ee=1;ee<j;ee<<=1)for(var ie=ee<<1,B=Math.cos(2*Math.PI/ie),ne=Math.sin(2*Math.PI/ie),Le=0;Le<j;Le+=ie)for(var pe=B,Me=ne,Pe=0;Pe<ee;Pe++){var J=I[Le+Pe],te=q[Le+Pe],fe=I[Le+Pe+ee],ve=q[Le+Pe+ee],Se=pe*fe-Me*ve;ve=pe*ve+Me*fe,fe=Se,I[Le+Pe]=J+fe,q[Le+Pe]=te+ve,I[Le+Pe+ee]=J-fe,q[Le+Pe+ee]=te-ve,Pe!==ie&&(Se=B*pe-ne*Me,Me=B*Me+ne*pe,pe=Se)}},y.prototype.guessLen13b=function(o,w){var I=Math.max(w,o)|1,q=I&1,j=0;for(I=I/2|0;I;I=I>>>1)j++;return 1<<j+1+q},y.prototype.conjugate=function(o,w,I){if(!(I<=1))for(var q=0;q<I/2;q++){var j=o[q];o[q]=o[I-q-1],o[I-q-1]=j,j=w[q],w[q]=-w[I-q-1],w[I-q-1]=-j}},y.prototype.normalize13b=function(o,w){for(var I=0,q=0;q<w/2;q++){var j=Math.round(o[2*q+1]/w)*8192+Math.round(o[2*q]/w)+I;o[q]=j&67108863,j<67108864?I=0:I=j/67108864|0}return o},y.prototype.convert13b=function(o,w,I,q){for(var j=0,H=0;H<w;H++)j=j+(o[H]|0),I[2*H]=j&8191,j=j>>>13,I[2*H+1]=j&8191,j=j>>>13;for(H=2*w;H<q;++H)I[H]=0;M(j===0),M((j&-8192)===0)},y.prototype.stub=function(o){for(var w=new Array(o),I=0;I<o;I++)w[I]=0;return w},y.prototype.mulp=function(o,w,I){var q=2*this.guessLen13b(o.length,w.length),j=this.makeRBT(q),H=this.stub(q),ee=new Array(q),ie=new Array(q),B=new Array(q),ne=new Array(q),Le=new Array(q),pe=new Array(q),Me=I.words;Me.length=q,this.convert13b(o.words,o.length,ee,q),this.convert13b(w.words,w.length,ne,q),this.transform(ee,H,ie,B,q,j),this.transform(ne,H,Le,pe,q,j);for(var Pe=0;Pe<q;Pe++){var J=ie[Pe]*Le[Pe]-B[Pe]*pe[Pe];B[Pe]=ie[Pe]*pe[Pe]+B[Pe]*Le[Pe],ie[Pe]=J}return this.conjugate(ie,B,q),this.transform(ie,B,Me,H,q,j),this.conjugate(Me,H,q),this.normalize13b(Me,q),I.negative=o.negative^w.negative,I.length=o.length+w.length,I._strip()},d.prototype.mul=function(o){var w=new d(null);return w.words=new Array(this.length+o.length),this.mulTo(o,w)},d.prototype.mulf=function(o){var w=new d(null);return w.words=new Array(this.length+o.length),z(this,o,w)},d.prototype.imul=function(o){return this.clone().mulTo(o,this)},d.prototype.imuln=function(o){var w=o<0;w&&(o=-o),M(typeof o=="number"),M(o<67108864);for(var I=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*o,H=(j&67108863)+(I&67108863);I>>=26,I+=j/67108864|0,I+=H>>>26,this.words[q]=H&67108863}return I!==0&&(this.words[q]=I,this.length++),w?this.ineg():this},d.prototype.muln=function(o){return this.clone().imuln(o)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(o){var w=C(o);if(w.length===0)return new d(1);for(var I=this,q=0;q<w.length&&w[q]===0;q++,I=I.sqr());if(++q<w.length)for(var j=I.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(I=I.mul(j));return I},d.prototype.iushln=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var H=0;for(j=0;j<this.length;j++){var ee=this.words[j]&q,ie=(this.words[j]|0)-ee<<w;this.words[j]=ie|H,H=ee>>>26-w}H&&(this.words[j]=H,this.length++)}if(I!==0){for(j=this.length-1;j>=0;j--)this.words[j+I]=this.words[j];for(j=0;j<I;j++)this.words[j]=0;this.length+=I}return this._strip()},d.prototype.ishln=function(o){return M(this.negative===0),this.iushln(o)},d.prototype.iushrn=function(o,w,I){M(typeof o=="number"&&o>=0);var q;w?q=(w-w%26)/26:q=0;var j=o%26,H=Math.min((o-j)/26,this.length),ee=67108863^67108863>>>j<<j,ie=I;if(q-=H,q=Math.max(0,q),ie){for(var B=0;B<H;B++)ie.words[B]=this.words[B];ie.length=H}if(H!==0)if(this.length>H)for(this.length-=H,B=0;B<this.length;B++)this.words[B]=this.words[B+H];else this.words[0]=0,this.length=1;var ne=0;for(B=this.length-1;B>=0&&(ne!==0||B>=q);B--){var Le=this.words[B]|0;this.words[B]=ne<<26-j|Le>>>j,ne=Le&ee}return ie&&ne!==0&&(ie.words[ie.length++]=ne),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(o,w,I){return M(this.negative===0),this.iushrn(o,w,I)},d.prototype.shln=function(o){return this.clone().ishln(o)},d.prototype.ushln=function(o){return this.clone().iushln(o)},d.prototype.shrn=function(o){return this.clone().ishrn(o)},d.prototype.ushrn=function(o){return this.clone().iushrn(o)},d.prototype.testn=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26,q=1<<w;if(this.length<=I)return!1;var j=this.words[I];return!!(j&q)},d.prototype.imaskn=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26;if(M(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(w!==0&&I++,this.length=Math.min(I,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},d.prototype.maskn=function(o){return this.clone().imaskn(o)},d.prototype.iaddn=function(o){return M(typeof o=="number"),M(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},d.prototype._iaddn=function(o){this.words[0]+=o;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},d.prototype.isubn=function(o){if(M(typeof o=="number"),M(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},d.prototype.addn=function(o){return this.clone().iaddn(o)},d.prototype.subn=function(o){return this.clone().isubn(o)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(o,w,I){var q=o.length+I,j;this._expand(q);var H,ee=0;for(j=0;j<o.length;j++){H=(this.words[j+I]|0)+ee;var ie=(o.words[j]|0)*w;H-=ie&67108863,ee=(H>>26)-(ie/67108864|0),this.words[j+I]=H&67108863}for(;j<this.length-I;j++)H=(this.words[j+I]|0)+ee,ee=H>>26,this.words[j+I]=H&67108863;if(ee===0)return this._strip();for(M(ee===-1),ee=0,j=0;j<this.length;j++)H=-(this.words[j]|0)+ee,ee=H>>26,this.words[j]=H&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(o,w){var I=this.length-o.length,q=this.clone(),j=o,H=j.words[j.length-1]|0,ee=this._countBits(H);I=26-ee,I!==0&&(j=j.ushln(I),q.iushln(I),H=j.words[j.length-1]|0);var ie=q.length-j.length,B;if(w!=="mod"){B=new d(null),B.length=ie+1,B.words=new Array(B.length);for(var ne=0;ne<B.length;ne++)B.words[ne]=0}var Le=q.clone()._ishlnsubmul(j,1,ie);Le.negative===0&&(q=Le,B&&(B.words[ie]=1));for(var pe=ie-1;pe>=0;pe--){var Me=(q.words[j.length+pe]|0)*67108864+(q.words[j.length+pe-1]|0);for(Me=Math.min(Me/H|0,67108863),q._ishlnsubmul(j,Me,pe);q.negative!==0;)Me--,q.negative=0,q._ishlnsubmul(j,1,pe),q.isZero()||(q.negative^=1);B&&(B.words[pe]=Me)}return B&&B._strip(),q._strip(),w!=="div"&&I!==0&&q.iushrn(I),{div:B||null,mod:q}},d.prototype.divmod=function(o,w,I){if(M(!o.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var q,j,H;return this.negative!==0&&o.negative===0?(H=this.neg().divmod(o,w),w!=="mod"&&(q=H.div.neg()),w!=="div"&&(j=H.mod.neg(),I&&j.negative!==0&&j.iadd(o)),{div:q,mod:j}):this.negative===0&&o.negative!==0?(H=this.divmod(o.neg(),w),w!=="mod"&&(q=H.div.neg()),{div:q,mod:H.mod}):this.negative&o.negative?(H=this.neg().divmod(o.neg(),w),w!=="div"&&(j=H.mod.neg(),I&&j.negative!==0&&j.isub(o)),{div:H.div,mod:j}):o.length>this.length||this.cmp(o)<0?{div:new d(0),mod:this}:o.length===1?w==="div"?{div:this.divn(o.words[0]),mod:null}:w==="mod"?{div:null,mod:new d(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new d(this.modrn(o.words[0]))}:this._wordDiv(o,w)},d.prototype.div=function(o){return this.divmod(o,"div",!1).div},d.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},d.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},d.prototype.divRound=function(o){var w=this.divmod(o);if(w.mod.isZero())return w.div;var I=w.div.negative!==0?w.mod.isub(o):w.mod,q=o.ushrn(1),j=o.andln(1),H=I.cmp(q);return H<0||j===1&&H===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},d.prototype.modrn=function(o){var w=o<0;w&&(o=-o),M(o<=67108863);for(var I=(1<<26)%o,q=0,j=this.length-1;j>=0;j--)q=(I*q+(this.words[j]|0))%o;return w?-q:q},d.prototype.modn=function(o){return this.modrn(o)},d.prototype.idivn=function(o){var w=o<0;w&&(o=-o),M(o<=67108863);for(var I=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+I*67108864;this.words[q]=j/o|0,I=j%o}return this._strip(),w?this.ineg():this},d.prototype.divn=function(o){return this.clone().idivn(o)},d.prototype.egcd=function(o){M(o.negative===0),M(!o.isZero());var w=this,I=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var q=new d(1),j=new d(0),H=new d(0),ee=new d(1),ie=0;w.isEven()&&I.isEven();)w.iushrn(1),I.iushrn(1),++ie;for(var B=I.clone(),ne=w.clone();!w.isZero();){for(var Le=0,pe=1;!(w.words[0]&pe)&&Le<26;++Le,pe<<=1);if(Le>0)for(w.iushrn(Le);Le-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ne)),q.iushrn(1),j.iushrn(1);for(var Me=0,Pe=1;!(I.words[0]&Pe)&&Me<26;++Me,Pe<<=1);if(Me>0)for(I.iushrn(Me);Me-- >0;)(H.isOdd()||ee.isOdd())&&(H.iadd(B),ee.isub(ne)),H.iushrn(1),ee.iushrn(1);w.cmp(I)>=0?(w.isub(I),q.isub(H),j.isub(ee)):(I.isub(w),H.isub(q),ee.isub(j))}return{a:H,b:ee,gcd:I.iushln(ie)}},d.prototype._invmp=function(o){M(o.negative===0),M(!o.isZero());var w=this,I=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var q=new d(1),j=new d(0),H=I.clone();w.cmpn(1)>0&&I.cmpn(1)>0;){for(var ee=0,ie=1;!(w.words[0]&ie)&&ee<26;++ee,ie<<=1);if(ee>0)for(w.iushrn(ee);ee-- >0;)q.isOdd()&&q.iadd(H),q.iushrn(1);for(var B=0,ne=1;!(I.words[0]&ne)&&B<26;++B,ne<<=1);if(B>0)for(I.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(H),j.iushrn(1);w.cmp(I)>=0?(w.isub(I),q.isub(j)):(I.isub(w),j.isub(q))}var Le;return w.cmpn(1)===0?Le=q:Le=j,Le.cmpn(0)<0&&Le.iadd(o),Le},d.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var w=this.clone(),I=o.clone();w.negative=0,I.negative=0;for(var q=0;w.isEven()&&I.isEven();q++)w.iushrn(1),I.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;I.isEven();)I.iushrn(1);var j=w.cmp(I);if(j<0){var H=w;w=I,I=H}else if(j===0||I.cmpn(1)===0)break;w.isub(I)}while(!0);return I.iushln(q)},d.prototype.invm=function(o){return this.egcd(o).a.umod(o)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(o){return this.words[0]&o},d.prototype.bincn=function(o){M(typeof o=="number");var w=o%26,I=(o-w)/26,q=1<<w;if(this.length<=I)return this._expand(I+1),this.words[I]|=q,this;for(var j=q,H=I;j!==0&&H<this.length;H++){var ee=this.words[H]|0;ee+=j,j=ee>>>26,ee&=67108863,this.words[H]=ee}return j!==0&&(this.words[H]=j,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(o){var w=o<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var I;if(this.length>1)I=1;else{w&&(o=-o),M(o<=67108863,"Number is too big");var q=this.words[0]|0;I=q===o?0:q<o?-1:1}return this.negative!==0?-I|0:I},d.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var w=this.ucmp(o);return this.negative!==0?-w|0:w},d.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var w=0,I=this.length-1;I>=0;I--){var q=this.words[I]|0,j=o.words[I]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},d.prototype.gtn=function(o){return this.cmpn(o)===1},d.prototype.gt=function(o){return this.cmp(o)===1},d.prototype.gten=function(o){return this.cmpn(o)>=0},d.prototype.gte=function(o){return this.cmp(o)>=0},d.prototype.ltn=function(o){return this.cmpn(o)===-1},d.prototype.lt=function(o){return this.cmp(o)===-1},d.prototype.lten=function(o){return this.cmpn(o)<=0},d.prototype.lte=function(o){return this.cmp(o)<=0},d.prototype.eqn=function(o){return this.cmpn(o)===0},d.prototype.eq=function(o){return this.cmp(o)===0},d.red=function(o){return new P(o)},d.prototype.toRed=function(o){return M(!this.red,"Already a number in reduction context"),M(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},d.prototype.fromRed=function(){return M(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(o){return this.red=o,this},d.prototype.forceRed=function(o){return M(!this.red,"Already a number in reduction context"),this._forceRed(o)},d.prototype.redAdd=function(o){return M(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},d.prototype.redIAdd=function(o){return M(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},d.prototype.redSub=function(o){return M(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},d.prototype.redISub=function(o){return M(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},d.prototype.redShl=function(o){return M(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},d.prototype.redMul=function(o){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},d.prototype.redIMul=function(o){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},d.prototype.redSqr=function(){return M(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return M(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return M(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return M(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return M(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(o){return M(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var U={k256:null,p224:null,p192:null,p25519:null};function W(N,o){this.name=N,this.p=new d(o,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var o=new d(null);return o.words=new Array(Math.ceil(this.n/13)),o},W.prototype.ireduce=function(o){var w=o,I;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),I=w.bitLength();while(I>this.n);var q=I<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},W.prototype.split=function(o,w){o.iushrn(this.n,0,w)},W.prototype.imulK=function(o){return o.imul(this.k)};function K(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,W),K.prototype.split=function(o,w){for(var I=4194303,q=Math.min(o.length,9),j=0;j<q;j++)w.words[j]=o.words[j];if(w.length=q,o.length<=9){o.words[0]=0,o.length=1;return}var H=o.words[9];for(w.words[w.length++]=H&I,j=10;j<o.length;j++){var ee=o.words[j]|0;o.words[j-10]=(ee&I)<<4|H>>>22,H=ee}H>>>=22,o.words[j-10]=H,H===0&&o.length>10?o.length-=10:o.length-=9},K.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var w=0,I=0;I<o.length;I++){var q=o.words[I]|0;w+=q*977,o.words[I]=w&67108863,w=q*64+(w/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Z(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(Z,W);function re(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(re,W);function X(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(X,W),X.prototype.imulK=function(o){for(var w=0,I=0;I<o.length;I++){var q=(o.words[I]|0)*19+w,j=q&67108863;q>>>=26,o.words[I]=j,w=q}return w!==0&&(o.words[o.length++]=w),o},d._prime=function(o){if(U[o])return U[o];var w;if(o==="k256")w=new K;else if(o==="p224")w=new Z;else if(o==="p192")w=new re;else if(o==="p25519")w=new X;else throw new Error("Unknown prime "+o);return U[o]=w,w};function P(N){if(typeof N=="string"){var o=d._prime(N);this.m=o.p,this.prime=o}else M(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}P.prototype._verify1=function(o){M(o.negative===0,"red works only with positives"),M(o.red,"red works only with red numbers")},P.prototype._verify2=function(o,w){M((o.negative|w.negative)===0,"red works only with positives"),M(o.red&&o.red===w.red,"red works only with red numbers")},P.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(b(o,o.umod(this.m)._forceRed(this)),o)},P.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},P.prototype.add=function(o,w){this._verify2(o,w);var I=o.add(w);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},P.prototype.iadd=function(o,w){this._verify2(o,w);var I=o.iadd(w);return I.cmp(this.m)>=0&&I.isub(this.m),I},P.prototype.sub=function(o,w){this._verify2(o,w);var I=o.sub(w);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},P.prototype.isub=function(o,w){this._verify2(o,w);var I=o.isub(w);return I.cmpn(0)<0&&I.iadd(this.m),I},P.prototype.shl=function(o,w){return this._verify1(o),this.imod(o.ushln(w))},P.prototype.imul=function(o,w){return this._verify2(o,w),this.imod(o.imul(w))},P.prototype.mul=function(o,w){return this._verify2(o,w),this.imod(o.mul(w))},P.prototype.isqr=function(o){return this.imul(o,o.clone())},P.prototype.sqr=function(o){return this.mul(o,o)},P.prototype.sqrt=function(o){if(o.isZero())return o.clone();var w=this.m.andln(3);if(M(w%2===1),w===3){var I=this.m.add(new d(1)).iushrn(2);return this.pow(o,I)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);M(!q.isZero());var H=new d(1).toRed(this),ee=H.redNeg(),ie=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new d(2*B*B).toRed(this);this.pow(B,ie).cmp(ee)!==0;)B.redIAdd(ee);for(var ne=this.pow(B,q),Le=this.pow(o,q.addn(1).iushrn(1)),pe=this.pow(o,q),Me=j;pe.cmp(H)!==0;){for(var Pe=pe,J=0;Pe.cmp(H)!==0;J++)Pe=Pe.redSqr();M(J<Me);var te=this.pow(ne,new d(1).iushln(Me-J-1));Le=Le.redMul(te),ne=te.redSqr(),pe=pe.redMul(ne),Me=J}return Le},P.prototype.invm=function(o){var w=o._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},P.prototype.pow=function(o,w){if(w.isZero())return new d(1).toRed(this);if(w.cmpn(1)===0)return o.clone();var I=4,q=new Array(1<<I);q[0]=new d(1).toRed(this),q[1]=o;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],o);var H=q[0],ee=0,ie=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ne=w.words[j],Le=B-1;Le>=0;Le--){var pe=ne>>Le&1;if(H!==q[0]&&(H=this.sqr(H)),pe===0&&ee===0){ie=0;continue}ee<<=1,ee|=pe,ie++,!(ie!==I&&(j!==0||Le!==0))&&(H=this.mul(H,q[ee]),ie=0,ee=0)}B=26}return H},P.prototype.convertTo=function(o){var w=o.umod(this.m);return w===o?w.clone():w},P.prototype.convertFrom=function(o){var w=o.clone();return w.red=null,w},d.mont=function(o){return new $(o)};function $(N){P.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S($,P),$.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},$.prototype.convertFrom=function(o){var w=this.imod(o.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(o,w){if(o.isZero()||w.isZero())return o.words[0]=0,o.length=1,o;var I=o.imul(w),q=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=I.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.mul=function(o,w){if(o.isZero()||w.isZero())return new d(0)._forceRed(this);var I=o.mul(w),q=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=I.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.invm=function(o){var w=this.imod(o._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},55715:(s,G,T)=>{"use strict";s.exports=T(62951)},20:(s,G,T)=>{"use strict";var E=T(92861).Buffer,A=T(47108),M=T(46737),S=T(56698),d=T(35359),c=T(74847),f=T(62951);Object.keys(f).forEach(function(k){f[k].id=E.from(f[k].id,"hex"),f[k.toLowerCase()]=f[k]});function h(k){M.Writable.call(this);var m=f[k];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=A(m.hash),this._tag=m.id,this._signType=m.sign}S(h,M.Writable),h.prototype._write=function(m,v,p){this._hash.update(m),p()},h.prototype.update=function(m,v){return this._hash.update(typeof m=="string"?E.from(m,v):m),this},h.prototype.sign=function(m,v){this.end();var p=this._hash.digest(),C=d(p,m,this._hashType,this._signType,this._tag);return v?C.toString(v):C};function _(k){M.Writable.call(this);var m=f[k];if(!m)throw new Error("Unknown message digest");this._hash=A(m.hash),this._tag=m.id,this._signType=m.sign}S(_,M.Writable),_.prototype._write=function(m,v,p){this._hash.update(m),p()},_.prototype.update=function(m,v){return this._hash.update(typeof m=="string"?E.from(m,v):m),this},_.prototype.verify=function(m,v,p){var C=typeof v=="string"?E.from(v,p):v;this.end();var R=this._hash.digest();return c(C,R,m,this._signType,this._tag)};function b(k){return new h(k)}function u(k){return new _(k)}s.exports={Sign:b,Verify:u,createSign:b,createVerify:u}},35359:(s,G,T)=>{"use strict";var E=T(92861).Buffer,A=T(83507),M=T(67332),S=T(86729).ec,d=T(26162),c=T(78170),f=T(64589),h=1;function _(D,F,z,y,U){var W=c(F);if(W.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return b(D,W)}else if(W.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return u(D,W,z)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");if(F.padding!==void 0&&F.padding!==h)throw new Error("illegal or unsupported padding mode");D=E.concat([U,D]);for(var K=W.modulus.byteLength(),Z=[0,1];D.length+Z.length+1<K;)Z.push(255);Z.push(0);for(var re=-1;++re<D.length;)Z.push(D[re]);var X=M(Z,W);return X}function b(D,F){var z=f[F.curve.join(".")];if(!z)throw new Error("unknown curve "+F.curve.join("."));var y=new S(z),U=y.keyFromPrivate(F.privateKey),W=U.sign(D);return E.from(W.toDER())}function u(D,F,z){for(var y=F.params.priv_key,U=F.params.p,W=F.params.q,K=F.params.g,Z=new d(0),re,X=v(D,W).mod(W),P=!1,$=m(y,W,D,z);P===!1;)re=C(W,$,z),Z=R(K,re,U,W),P=re.invm(W).imul(X.add(y.mul(Z))).mod(W),P.cmpn(0)===0&&(P=!1,Z=new d(0));return k(Z,P)}function k(D,F){D=D.toArray(),F=F.toArray(),D[0]&128&&(D=[0].concat(D)),F[0]&128&&(F=[0].concat(F));var z=D.length+F.length+4,y=[48,z,2,D.length];return y=y.concat(D,[2,F.length],F),E.from(y)}function m(D,F,z,y){if(D=E.from(D.toArray()),D.length<F.byteLength()){var U=E.alloc(F.byteLength()-D.length);D=E.concat([U,D])}var W=z.length,K=p(z,F),Z=E.alloc(W);Z.fill(1);var re=E.alloc(W);return re=A(y,re).update(Z).update(E.from([0])).update(D).update(K).digest(),Z=A(y,re).update(Z).digest(),re=A(y,re).update(Z).update(E.from([1])).update(D).update(K).digest(),Z=A(y,re).update(Z).digest(),{k:re,v:Z}}function v(D,F){var z=new d(D),y=(D.length<<3)-F.bitLength();return y>0&&z.ishrn(y),z}function p(D,F){D=v(D,F),D=D.mod(F);var z=E.from(D.toArray());if(z.length<F.byteLength()){var y=E.alloc(F.byteLength()-z.length);z=E.concat([y,z])}return z}function C(D,F,z){var y,U;do{for(y=E.alloc(0);y.length*8<D.bitLength();)F.v=A(z,F.k).update(F.v).digest(),y=E.concat([y,F.v]);U=v(y,D),F.k=A(z,F.k).update(F.v).update(E.from([0])).digest(),F.v=A(z,F.k).update(F.v).digest()}while(U.cmp(D)!==-1);return U}function R(D,F,z,y){return D.toRed(d.mont(z)).redPow(F).fromRed().mod(y)}s.exports=_,s.exports.getKey=m,s.exports.makeKey=C},74847:(s,G,T)=>{"use strict";var E=T(92861).Buffer,A=T(26162),M=T(86729).ec,S=T(78170),d=T(64589);function c(b,u,k,m,v){var p=S(k);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return f(b,u,p)}else if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return h(b,u,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");u=E.concat([v,u]);for(var C=p.modulus.byteLength(),R=[1],D=0;u.length+R.length+2<C;)R.push(255),D+=1;R.push(0);for(var F=-1;++F<u.length;)R.push(u[F]);R=E.from(R);var z=A.mont(p.modulus);b=new A(b).toRed(z),b=b.redPow(new A(p.publicExponent)),b=E.from(b.fromRed().toArray());var y=D<8?1:0;for(C=Math.min(b.length,R.length),b.length!==R.length&&(y=1),F=-1;++F<C;)y|=b[F]^R[F];return y===0}function f(b,u,k){var m=d[k.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+k.data.algorithm.curve.join("."));var v=new M(m),p=k.data.subjectPrivateKey.data;return v.verify(u,b,p)}function h(b,u,k){var m=k.data.p,v=k.data.q,p=k.data.g,C=k.data.pub_key,R=S.signature.decode(b,"der"),D=R.s,F=R.r;_(D,v),_(F,v);var z=A.mont(m),y=D.invm(v),U=p.toRed(z).redPow(new A(u).mul(y).mod(v)).fromRed().mul(C.toRed(z).redPow(F.mul(y).mod(v)).fromRed()).mod(m).mod(v);return U.cmp(F)===0}function _(b,u){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(u)>=0)throw new Error("invalid sig")}s.exports=c},26162:function(s,G,T){s=T.nmd(s),function(E,A){"use strict";function M(N,o){if(!N)throw new Error(o||"Assertion failed")}function S(N,o){N.super_=o;var w=function(){};w.prototype=o.prototype,N.prototype=new w,N.prototype.constructor=N}function d(N,o,w){if(d.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((o==="le"||o==="be")&&(w=o,o=10),this._init(N||0,o||10,w||"be"))}typeof E=="object"?E.exports=d:A.BN=d,d.BN=d,d.wordSize=26;var c;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?c=window.Buffer:c=T(38664).Buffer}catch{}d.isBN=function(o){return o instanceof d?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===d.wordSize&&Array.isArray(o.words)},d.max=function(o,w){return o.cmp(w)>0?o:w},d.min=function(o,w){return o.cmp(w)<0?o:w},d.prototype._init=function(o,w,I){if(typeof o=="number")return this._initNumber(o,w,I);if(typeof o=="object")return this._initArray(o,w,I);w==="hex"&&(w=16),M(w===(w|0)&&w>=2&&w<=36),o=o.toString().replace(/\s+/g,"");var q=0;o[0]==="-"&&(q++,this.negative=1),q<o.length&&(w===16?this._parseHex(o,q,I):(this._parseBase(o,w,q),I==="le"&&this._initArray(this.toArray(),w,I)))},d.prototype._initNumber=function(o,w,I){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(M(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),w,I)},d.prototype._initArray=function(o,w,I){if(M(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,H,ee=0;if(I==="be")for(q=o.length-1,j=0;q>=0;q-=3)H=o[q]|o[q-1]<<8|o[q-2]<<16,this.words[j]|=H<<ee&67108863,this.words[j+1]=H>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,j++);else if(I==="le")for(q=0,j=0;q<o.length;q+=3)H=o[q]|o[q+1]<<8|o[q+2]<<16,this.words[j]|=H<<ee&67108863,this.words[j+1]=H>>>26-ee&67108863,ee+=24,ee>=26&&(ee-=26,j++);return this._strip()};function f(N,o){var w=N.charCodeAt(o);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;M(!1,"Invalid character in "+N)}function h(N,o,w){var I=f(N,w);return w-1>=o&&(I|=f(N,w-1)<<4),I}d.prototype._parseHex=function(o,w,I){this.length=Math.ceil((o.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,H=0,ee;if(I==="be")for(q=o.length-1;q>=w;q-=2)ee=h(o,w,q)<<j,this.words[H]|=ee&67108863,j>=18?(j-=18,H+=1,this.words[H]|=ee>>>26):j+=8;else{var ie=o.length-w;for(q=ie%2===0?w+1:w;q<o.length;q+=2)ee=h(o,w,q)<<j,this.words[H]|=ee&67108863,j>=18?(j-=18,H+=1,this.words[H]|=ee>>>26):j+=8}this._strip()};function _(N,o,w,I){for(var q=0,j=0,H=Math.min(N.length,w),ee=o;ee<H;ee++){var ie=N.charCodeAt(ee)-48;q*=I,ie>=49?j=ie-49+10:ie>=17?j=ie-17+10:j=ie,M(ie>=0&&j<I,"Invalid character"),q+=j}return q}d.prototype._parseBase=function(o,w,I){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var H=o.length-I,ee=H%q,ie=Math.min(H,H-ee)+I,B=0,ne=I;ne<ie;ne+=q)B=_(o,ne,ne+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ee!==0){var Le=1;for(B=_(o,ne,o.length,w),ne=0;ne<ee;ne++)Le*=w;this.imuln(Le),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},d.prototype.copy=function(o){o.words=new Array(this.length);for(var w=0;w<this.length;w++)o.words[w]=this.words[w];o.length=this.length,o.negative=this.negative,o.red=this.red};function b(N,o){N.words=o.words,N.length=o.length,N.negative=o.negative,N.red=o.red}if(d.prototype._move=function(o){b(o,this)},d.prototype.clone=function(){var o=new d(null);return this.copy(o),o},d.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{d.prototype.inspect=u}else d.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(o,w){o=o||10,w=w|0||1;var I;if(o===16||o==="hex"){I="";for(var q=0,j=0,H=0;H<this.length;H++){var ee=this.words[H],ie=((ee<<q|j)&16777215).toString(16);j=ee>>>24-q&16777215,q+=2,q>=26&&(q-=26,H--),j!==0||H!==this.length-1?I=k[6-ie.length]+ie+I:I=ie+I}for(j!==0&&(I=j.toString(16)+I);I.length%w!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(o===(o|0)&&o>=2&&o<=36){var B=m[o],ne=v[o];I="";var Le=this.clone();for(Le.negative=0;!Le.isZero();){var pe=Le.modrn(ne).toString(o);Le=Le.idivn(ne),Le.isZero()?I=pe+I:I=k[B-pe.length]+pe+I}for(this.isZero()&&(I="0"+I);I.length%w!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}M(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&M(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},d.prototype.toJSON=function(){return this.toString(16,2)},c&&(d.prototype.toBuffer=function(o,w){return this.toArrayLike(c,o,w)}),d.prototype.toArray=function(o,w){return this.toArrayLike(Array,o,w)};var p=function(o,w){return o.allocUnsafe?o.allocUnsafe(w):new o(w)};d.prototype.toArrayLike=function(o,w,I){this._strip();var q=this.byteLength(),j=I||Math.max(1,q);M(q<=j,"byte array longer than desired length"),M(j>0,"Requested array length <= 0");var H=p(o,j),ee=w==="le"?"LE":"BE";return this["_toArrayLike"+ee](H,q),H},d.prototype._toArrayLikeLE=function(o,w){for(var I=0,q=0,j=0,H=0;j<this.length;j++){var ee=this.words[j]<<H|q;o[I++]=ee&255,I<o.length&&(o[I++]=ee>>8&255),I<o.length&&(o[I++]=ee>>16&255),H===6?(I<o.length&&(o[I++]=ee>>24&255),q=0,H=0):(q=ee>>>24,H+=2)}if(I<o.length)for(o[I++]=q;I<o.length;)o[I++]=0},d.prototype._toArrayLikeBE=function(o,w){for(var I=o.length-1,q=0,j=0,H=0;j<this.length;j++){var ee=this.words[j]<<H|q;o[I--]=ee&255,I>=0&&(o[I--]=ee>>8&255),I>=0&&(o[I--]=ee>>16&255),H===6?(I>=0&&(o[I--]=ee>>24&255),q=0,H=0):(q=ee>>>24,H+=2)}if(I>=0)for(o[I--]=q;I>=0;)o[I--]=0},Math.clz32?d.prototype._countBits=function(o){return 32-Math.clz32(o)}:d.prototype._countBits=function(o){var w=o,I=0;return w>=4096&&(I+=13,w>>>=13),w>=64&&(I+=7,w>>>=7),w>=8&&(I+=4,w>>>=4),w>=2&&(I+=2,w>>>=2),I+w},d.prototype._zeroBits=function(o){if(o===0)return 26;var w=o,I=0;return w&8191||(I+=13,w>>>=13),w&127||(I+=7,w>>>=7),w&15||(I+=4,w>>>=4),w&3||(I+=2,w>>>=2),w&1||I++,I},d.prototype.bitLength=function(){var o=this.words[this.length-1],w=this._countBits(o);return(this.length-1)*26+w};function C(N){for(var o=new Array(N.bitLength()),w=0;w<o.length;w++){var I=w/26|0,q=w%26;o[w]=N.words[I]>>>q&1}return o}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,w=0;w<this.length;w++){var I=this._zeroBits(this.words[w]);if(o+=I,I!==26)break}return o},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},d.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var w=0;w<o.length;w++)this.words[w]=this.words[w]|o.words[w];return this._strip()},d.prototype.ior=function(o){return M((this.negative|o.negative)===0),this.iuor(o)},d.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},d.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},d.prototype.iuand=function(o){var w;this.length>o.length?w=o:w=this;for(var I=0;I<w.length;I++)this.words[I]=this.words[I]&o.words[I];return this.length=w.length,this._strip()},d.prototype.iand=function(o){return M((this.negative|o.negative)===0),this.iuand(o)},d.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},d.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},d.prototype.iuxor=function(o){var w,I;this.length>o.length?(w=this,I=o):(w=o,I=this);for(var q=0;q<I.length;q++)this.words[q]=w.words[q]^I.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},d.prototype.ixor=function(o){return M((this.negative|o.negative)===0),this.iuxor(o)},d.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},d.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},d.prototype.inotn=function(o){M(typeof o=="number"&&o>=0);var w=Math.ceil(o/26)|0,I=o%26;this._expand(w),I>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return I>0&&(this.words[q]=~this.words[q]&67108863>>26-I),this._strip()},d.prototype.notn=function(o){return this.clone().inotn(o)},d.prototype.setn=function(o,w){M(typeof o=="number"&&o>=0);var I=o/26|0,q=o%26;return this._expand(I+1),w?this.words[I]=this.words[I]|1<<q:this.words[I]=this.words[I]&~(1<<q),this._strip()},d.prototype.iadd=function(o){var w;if(this.negative!==0&&o.negative===0)return this.negative=0,w=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,w=this.isub(o),o.negative=1,w._normSign();var I,q;this.length>o.length?(I=this,q=o):(I=o,q=this);for(var j=0,H=0;H<q.length;H++)w=(I.words[H]|0)+(q.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;for(;j!==0&&H<I.length;H++)w=(I.words[H]|0)+j,this.words[H]=w&67108863,j=w>>>26;if(this.length=I.length,j!==0)this.words[this.length]=j,this.length++;else if(I!==this)for(;H<I.length;H++)this.words[H]=I.words[H];return this},d.prototype.add=function(o){var w;return o.negative!==0&&this.negative===0?(o.negative=0,w=this.sub(o),o.negative^=1,w):o.negative===0&&this.negative!==0?(this.negative=0,w=o.sub(this),this.negative=1,w):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},d.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var w=this.iadd(o);return o.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var I=this.cmp(o);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;I>0?(q=this,j=o):(q=o,j=this);for(var H=0,ee=0;ee<j.length;ee++)w=(q.words[ee]|0)-(j.words[ee]|0)+H,H=w>>26,this.words[ee]=w&67108863;for(;H!==0&&ee<q.length;ee++)w=(q.words[ee]|0)+H,H=w>>26,this.words[ee]=w&67108863;if(H===0&&ee<q.length&&q!==this)for(;ee<q.length;ee++)this.words[ee]=q.words[ee];return this.length=Math.max(this.length,ee),q!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(o){return this.clone().isub(o)};function R(N,o,w){w.negative=o.negative^N.negative;var I=N.length+o.length|0;w.length=I,I=I-1|0;var q=N.words[0]|0,j=o.words[0]|0,H=q*j,ee=H&67108863,ie=H/67108864|0;w.words[0]=ee;for(var B=1;B<I;B++){for(var ne=ie>>>26,Le=ie&67108863,pe=Math.min(B,o.length-1),Me=Math.max(0,B-N.length+1);Me<=pe;Me++){var Pe=B-Me|0;q=N.words[Pe]|0,j=o.words[Me]|0,H=q*j+Le,ne+=H/67108864|0,Le=H&67108863}w.words[B]=Le|0,ie=ne|0}return ie!==0?w.words[B]=ie|0:w.length--,w._strip()}var D=function(o,w,I){var q=o.words,j=w.words,H=I.words,ee=0,ie,B,ne,Le=q[0]|0,pe=Le&8191,Me=Le>>>13,Pe=q[1]|0,J=Pe&8191,te=Pe>>>13,fe=q[2]|0,ve=fe&8191,Se=fe>>>13,L=q[3]|0,O=L&8191,oe=L>>>13,be=q[4]|0,ke=be&8191,ge=be>>>13,De=q[5]|0,Ge=De&8191,We=De>>>13,Nt=q[6]|0,Ze=Nt&8191,it=Nt>>>13,Et=q[7]|0,ce=Et&8191,Q=Et>>>13,se=q[8]|0,ye=se&8191,Fe=se>>>13,Ye=q[9]|0,Ue=Ye&8191,et=Ye>>>13,It=j[0]|0,at=It&8191,ct=It>>>13,pt=j[1]|0,St=pt&8191,Rt=pt>>>13,pi=j[2]|0,kt=pi&8191,Ut=pi>>>13,Ki=j[3]|0,Pt=Ki&8191,Qt=Ki>>>13,qi=j[4]|0,vt=qi&8191,lt=qi>>>13,Tr=j[5]|0,Jt=Tr&8191,ri=Tr>>>13,dr=j[6]|0,Oe=dr&8191,Qe=dr>>>13,bt=j[7]|0,dt=bt&8191,gt=bt>>>13,oi=j[8]|0,Dt=oi&8191,jt=oi>>>13,qt=j[9]|0,ut=qt&8191,Tt=qt>>>13;I.negative=o.negative^w.negative,I.length=19,ie=Math.imul(pe,at),B=Math.imul(pe,ct),B=B+Math.imul(Me,at)|0,ne=Math.imul(Me,ct);var Mt=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,ie=Math.imul(J,at),B=Math.imul(J,ct),B=B+Math.imul(te,at)|0,ne=Math.imul(te,ct),ie=ie+Math.imul(pe,St)|0,B=B+Math.imul(pe,Rt)|0,B=B+Math.imul(Me,St)|0,ne=ne+Math.imul(Me,Rt)|0;var vi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(vi>>>26)|0,vi&=67108863,ie=Math.imul(ve,at),B=Math.imul(ve,ct),B=B+Math.imul(Se,at)|0,ne=Math.imul(Se,ct),ie=ie+Math.imul(J,St)|0,B=B+Math.imul(J,Rt)|0,B=B+Math.imul(te,St)|0,ne=ne+Math.imul(te,Rt)|0,ie=ie+Math.imul(pe,kt)|0,B=B+Math.imul(pe,Ut)|0,B=B+Math.imul(Me,kt)|0,ne=ne+Math.imul(Me,Ut)|0;var li=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(li>>>26)|0,li&=67108863,ie=Math.imul(O,at),B=Math.imul(O,ct),B=B+Math.imul(oe,at)|0,ne=Math.imul(oe,ct),ie=ie+Math.imul(ve,St)|0,B=B+Math.imul(ve,Rt)|0,B=B+Math.imul(Se,St)|0,ne=ne+Math.imul(Se,Rt)|0,ie=ie+Math.imul(J,kt)|0,B=B+Math.imul(J,Ut)|0,B=B+Math.imul(te,kt)|0,ne=ne+Math.imul(te,Ut)|0,ie=ie+Math.imul(pe,Pt)|0,B=B+Math.imul(pe,Qt)|0,B=B+Math.imul(Me,Pt)|0,ne=ne+Math.imul(Me,Qt)|0;var $t=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+($t>>>26)|0,$t&=67108863,ie=Math.imul(ke,at),B=Math.imul(ke,ct),B=B+Math.imul(ge,at)|0,ne=Math.imul(ge,ct),ie=ie+Math.imul(O,St)|0,B=B+Math.imul(O,Rt)|0,B=B+Math.imul(oe,St)|0,ne=ne+Math.imul(oe,Rt)|0,ie=ie+Math.imul(ve,kt)|0,B=B+Math.imul(ve,Ut)|0,B=B+Math.imul(Se,kt)|0,ne=ne+Math.imul(Se,Ut)|0,ie=ie+Math.imul(J,Pt)|0,B=B+Math.imul(J,Qt)|0,B=B+Math.imul(te,Pt)|0,ne=ne+Math.imul(te,Qt)|0,ie=ie+Math.imul(pe,vt)|0,B=B+Math.imul(pe,lt)|0,B=B+Math.imul(Me,vt)|0,ne=ne+Math.imul(Me,lt)|0;var Ti=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,ie=Math.imul(Ge,at),B=Math.imul(Ge,ct),B=B+Math.imul(We,at)|0,ne=Math.imul(We,ct),ie=ie+Math.imul(ke,St)|0,B=B+Math.imul(ke,Rt)|0,B=B+Math.imul(ge,St)|0,ne=ne+Math.imul(ge,Rt)|0,ie=ie+Math.imul(O,kt)|0,B=B+Math.imul(O,Ut)|0,B=B+Math.imul(oe,kt)|0,ne=ne+Math.imul(oe,Ut)|0,ie=ie+Math.imul(ve,Pt)|0,B=B+Math.imul(ve,Qt)|0,B=B+Math.imul(Se,Pt)|0,ne=ne+Math.imul(Se,Qt)|0,ie=ie+Math.imul(J,vt)|0,B=B+Math.imul(J,lt)|0,B=B+Math.imul(te,vt)|0,ne=ne+Math.imul(te,lt)|0,ie=ie+Math.imul(pe,Jt)|0,B=B+Math.imul(pe,ri)|0,B=B+Math.imul(Me,Jt)|0,ne=ne+Math.imul(Me,ri)|0;var mi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(mi>>>26)|0,mi&=67108863,ie=Math.imul(Ze,at),B=Math.imul(Ze,ct),B=B+Math.imul(it,at)|0,ne=Math.imul(it,ct),ie=ie+Math.imul(Ge,St)|0,B=B+Math.imul(Ge,Rt)|0,B=B+Math.imul(We,St)|0,ne=ne+Math.imul(We,Rt)|0,ie=ie+Math.imul(ke,kt)|0,B=B+Math.imul(ke,Ut)|0,B=B+Math.imul(ge,kt)|0,ne=ne+Math.imul(ge,Ut)|0,ie=ie+Math.imul(O,Pt)|0,B=B+Math.imul(O,Qt)|0,B=B+Math.imul(oe,Pt)|0,ne=ne+Math.imul(oe,Qt)|0,ie=ie+Math.imul(ve,vt)|0,B=B+Math.imul(ve,lt)|0,B=B+Math.imul(Se,vt)|0,ne=ne+Math.imul(Se,lt)|0,ie=ie+Math.imul(J,Jt)|0,B=B+Math.imul(J,ri)|0,B=B+Math.imul(te,Jt)|0,ne=ne+Math.imul(te,ri)|0,ie=ie+Math.imul(pe,Oe)|0,B=B+Math.imul(pe,Qe)|0,B=B+Math.imul(Me,Oe)|0,ne=ne+Math.imul(Me,Qe)|0;var Mi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,ie=Math.imul(ce,at),B=Math.imul(ce,ct),B=B+Math.imul(Q,at)|0,ne=Math.imul(Q,ct),ie=ie+Math.imul(Ze,St)|0,B=B+Math.imul(Ze,Rt)|0,B=B+Math.imul(it,St)|0,ne=ne+Math.imul(it,Rt)|0,ie=ie+Math.imul(Ge,kt)|0,B=B+Math.imul(Ge,Ut)|0,B=B+Math.imul(We,kt)|0,ne=ne+Math.imul(We,Ut)|0,ie=ie+Math.imul(ke,Pt)|0,B=B+Math.imul(ke,Qt)|0,B=B+Math.imul(ge,Pt)|0,ne=ne+Math.imul(ge,Qt)|0,ie=ie+Math.imul(O,vt)|0,B=B+Math.imul(O,lt)|0,B=B+Math.imul(oe,vt)|0,ne=ne+Math.imul(oe,lt)|0,ie=ie+Math.imul(ve,Jt)|0,B=B+Math.imul(ve,ri)|0,B=B+Math.imul(Se,Jt)|0,ne=ne+Math.imul(Se,ri)|0,ie=ie+Math.imul(J,Oe)|0,B=B+Math.imul(J,Qe)|0,B=B+Math.imul(te,Oe)|0,ne=ne+Math.imul(te,Qe)|0,ie=ie+Math.imul(pe,dt)|0,B=B+Math.imul(pe,gt)|0,B=B+Math.imul(Me,dt)|0,ne=ne+Math.imul(Me,gt)|0;var Ii=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,ie=Math.imul(ye,at),B=Math.imul(ye,ct),B=B+Math.imul(Fe,at)|0,ne=Math.imul(Fe,ct),ie=ie+Math.imul(ce,St)|0,B=B+Math.imul(ce,Rt)|0,B=B+Math.imul(Q,St)|0,ne=ne+Math.imul(Q,Rt)|0,ie=ie+Math.imul(Ze,kt)|0,B=B+Math.imul(Ze,Ut)|0,B=B+Math.imul(it,kt)|0,ne=ne+Math.imul(it,Ut)|0,ie=ie+Math.imul(Ge,Pt)|0,B=B+Math.imul(Ge,Qt)|0,B=B+Math.imul(We,Pt)|0,ne=ne+Math.imul(We,Qt)|0,ie=ie+Math.imul(ke,vt)|0,B=B+Math.imul(ke,lt)|0,B=B+Math.imul(ge,vt)|0,ne=ne+Math.imul(ge,lt)|0,ie=ie+Math.imul(O,Jt)|0,B=B+Math.imul(O,ri)|0,B=B+Math.imul(oe,Jt)|0,ne=ne+Math.imul(oe,ri)|0,ie=ie+Math.imul(ve,Oe)|0,B=B+Math.imul(ve,Qe)|0,B=B+Math.imul(Se,Oe)|0,ne=ne+Math.imul(Se,Qe)|0,ie=ie+Math.imul(J,dt)|0,B=B+Math.imul(J,gt)|0,B=B+Math.imul(te,dt)|0,ne=ne+Math.imul(te,gt)|0,ie=ie+Math.imul(pe,Dt)|0,B=B+Math.imul(pe,jt)|0,B=B+Math.imul(Me,Dt)|0,ne=ne+Math.imul(Me,jt)|0;var Qi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,ie=Math.imul(Ue,at),B=Math.imul(Ue,ct),B=B+Math.imul(et,at)|0,ne=Math.imul(et,ct),ie=ie+Math.imul(ye,St)|0,B=B+Math.imul(ye,Rt)|0,B=B+Math.imul(Fe,St)|0,ne=ne+Math.imul(Fe,Rt)|0,ie=ie+Math.imul(ce,kt)|0,B=B+Math.imul(ce,Ut)|0,B=B+Math.imul(Q,kt)|0,ne=ne+Math.imul(Q,Ut)|0,ie=ie+Math.imul(Ze,Pt)|0,B=B+Math.imul(Ze,Qt)|0,B=B+Math.imul(it,Pt)|0,ne=ne+Math.imul(it,Qt)|0,ie=ie+Math.imul(Ge,vt)|0,B=B+Math.imul(Ge,lt)|0,B=B+Math.imul(We,vt)|0,ne=ne+Math.imul(We,lt)|0,ie=ie+Math.imul(ke,Jt)|0,B=B+Math.imul(ke,ri)|0,B=B+Math.imul(ge,Jt)|0,ne=ne+Math.imul(ge,ri)|0,ie=ie+Math.imul(O,Oe)|0,B=B+Math.imul(O,Qe)|0,B=B+Math.imul(oe,Oe)|0,ne=ne+Math.imul(oe,Qe)|0,ie=ie+Math.imul(ve,dt)|0,B=B+Math.imul(ve,gt)|0,B=B+Math.imul(Se,dt)|0,ne=ne+Math.imul(Se,gt)|0,ie=ie+Math.imul(J,Dt)|0,B=B+Math.imul(J,jt)|0,B=B+Math.imul(te,Dt)|0,ne=ne+Math.imul(te,jt)|0,ie=ie+Math.imul(pe,ut)|0,B=B+Math.imul(pe,Tt)|0,B=B+Math.imul(Me,ut)|0,ne=ne+Math.imul(Me,Tt)|0;var Di=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,ie=Math.imul(Ue,St),B=Math.imul(Ue,Rt),B=B+Math.imul(et,St)|0,ne=Math.imul(et,Rt),ie=ie+Math.imul(ye,kt)|0,B=B+Math.imul(ye,Ut)|0,B=B+Math.imul(Fe,kt)|0,ne=ne+Math.imul(Fe,Ut)|0,ie=ie+Math.imul(ce,Pt)|0,B=B+Math.imul(ce,Qt)|0,B=B+Math.imul(Q,Pt)|0,ne=ne+Math.imul(Q,Qt)|0,ie=ie+Math.imul(Ze,vt)|0,B=B+Math.imul(Ze,lt)|0,B=B+Math.imul(it,vt)|0,ne=ne+Math.imul(it,lt)|0,ie=ie+Math.imul(Ge,Jt)|0,B=B+Math.imul(Ge,ri)|0,B=B+Math.imul(We,Jt)|0,ne=ne+Math.imul(We,ri)|0,ie=ie+Math.imul(ke,Oe)|0,B=B+Math.imul(ke,Qe)|0,B=B+Math.imul(ge,Oe)|0,ne=ne+Math.imul(ge,Qe)|0,ie=ie+Math.imul(O,dt)|0,B=B+Math.imul(O,gt)|0,B=B+Math.imul(oe,dt)|0,ne=ne+Math.imul(oe,gt)|0,ie=ie+Math.imul(ve,Dt)|0,B=B+Math.imul(ve,jt)|0,B=B+Math.imul(Se,Dt)|0,ne=ne+Math.imul(Se,jt)|0,ie=ie+Math.imul(J,ut)|0,B=B+Math.imul(J,Tt)|0,B=B+Math.imul(te,ut)|0,ne=ne+Math.imul(te,Tt)|0;var Ci=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,ie=Math.imul(Ue,kt),B=Math.imul(Ue,Ut),B=B+Math.imul(et,kt)|0,ne=Math.imul(et,Ut),ie=ie+Math.imul(ye,Pt)|0,B=B+Math.imul(ye,Qt)|0,B=B+Math.imul(Fe,Pt)|0,ne=ne+Math.imul(Fe,Qt)|0,ie=ie+Math.imul(ce,vt)|0,B=B+Math.imul(ce,lt)|0,B=B+Math.imul(Q,vt)|0,ne=ne+Math.imul(Q,lt)|0,ie=ie+Math.imul(Ze,Jt)|0,B=B+Math.imul(Ze,ri)|0,B=B+Math.imul(it,Jt)|0,ne=ne+Math.imul(it,ri)|0,ie=ie+Math.imul(Ge,Oe)|0,B=B+Math.imul(Ge,Qe)|0,B=B+Math.imul(We,Oe)|0,ne=ne+Math.imul(We,Qe)|0,ie=ie+Math.imul(ke,dt)|0,B=B+Math.imul(ke,gt)|0,B=B+Math.imul(ge,dt)|0,ne=ne+Math.imul(ge,gt)|0,ie=ie+Math.imul(O,Dt)|0,B=B+Math.imul(O,jt)|0,B=B+Math.imul(oe,Dt)|0,ne=ne+Math.imul(oe,jt)|0,ie=ie+Math.imul(ve,ut)|0,B=B+Math.imul(ve,Tt)|0,B=B+Math.imul(Se,ut)|0,ne=ne+Math.imul(Se,Tt)|0;var Bi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,ie=Math.imul(Ue,Pt),B=Math.imul(Ue,Qt),B=B+Math.imul(et,Pt)|0,ne=Math.imul(et,Qt),ie=ie+Math.imul(ye,vt)|0,B=B+Math.imul(ye,lt)|0,B=B+Math.imul(Fe,vt)|0,ne=ne+Math.imul(Fe,lt)|0,ie=ie+Math.imul(ce,Jt)|0,B=B+Math.imul(ce,ri)|0,B=B+Math.imul(Q,Jt)|0,ne=ne+Math.imul(Q,ri)|0,ie=ie+Math.imul(Ze,Oe)|0,B=B+Math.imul(Ze,Qe)|0,B=B+Math.imul(it,Oe)|0,ne=ne+Math.imul(it,Qe)|0,ie=ie+Math.imul(Ge,dt)|0,B=B+Math.imul(Ge,gt)|0,B=B+Math.imul(We,dt)|0,ne=ne+Math.imul(We,gt)|0,ie=ie+Math.imul(ke,Dt)|0,B=B+Math.imul(ke,jt)|0,B=B+Math.imul(ge,Dt)|0,ne=ne+Math.imul(ge,jt)|0,ie=ie+Math.imul(O,ut)|0,B=B+Math.imul(O,Tt)|0,B=B+Math.imul(oe,ut)|0,ne=ne+Math.imul(oe,Tt)|0;var Yt=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ie=Math.imul(Ue,vt),B=Math.imul(Ue,lt),B=B+Math.imul(et,vt)|0,ne=Math.imul(et,lt),ie=ie+Math.imul(ye,Jt)|0,B=B+Math.imul(ye,ri)|0,B=B+Math.imul(Fe,Jt)|0,ne=ne+Math.imul(Fe,ri)|0,ie=ie+Math.imul(ce,Oe)|0,B=B+Math.imul(ce,Qe)|0,B=B+Math.imul(Q,Oe)|0,ne=ne+Math.imul(Q,Qe)|0,ie=ie+Math.imul(Ze,dt)|0,B=B+Math.imul(Ze,gt)|0,B=B+Math.imul(it,dt)|0,ne=ne+Math.imul(it,gt)|0,ie=ie+Math.imul(Ge,Dt)|0,B=B+Math.imul(Ge,jt)|0,B=B+Math.imul(We,Dt)|0,ne=ne+Math.imul(We,jt)|0,ie=ie+Math.imul(ke,ut)|0,B=B+Math.imul(ke,Tt)|0,B=B+Math.imul(ge,ut)|0,ne=ne+Math.imul(ge,Tt)|0;var ui=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(ui>>>26)|0,ui&=67108863,ie=Math.imul(Ue,Jt),B=Math.imul(Ue,ri),B=B+Math.imul(et,Jt)|0,ne=Math.imul(et,ri),ie=ie+Math.imul(ye,Oe)|0,B=B+Math.imul(ye,Qe)|0,B=B+Math.imul(Fe,Oe)|0,ne=ne+Math.imul(Fe,Qe)|0,ie=ie+Math.imul(ce,dt)|0,B=B+Math.imul(ce,gt)|0,B=B+Math.imul(Q,dt)|0,ne=ne+Math.imul(Q,gt)|0,ie=ie+Math.imul(Ze,Dt)|0,B=B+Math.imul(Ze,jt)|0,B=B+Math.imul(it,Dt)|0,ne=ne+Math.imul(it,jt)|0,ie=ie+Math.imul(Ge,ut)|0,B=B+Math.imul(Ge,Tt)|0,B=B+Math.imul(We,ut)|0,ne=ne+Math.imul(We,Tt)|0;var ai=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(ai>>>26)|0,ai&=67108863,ie=Math.imul(Ue,Oe),B=Math.imul(Ue,Qe),B=B+Math.imul(et,Oe)|0,ne=Math.imul(et,Qe),ie=ie+Math.imul(ye,dt)|0,B=B+Math.imul(ye,gt)|0,B=B+Math.imul(Fe,dt)|0,ne=ne+Math.imul(Fe,gt)|0,ie=ie+Math.imul(ce,Dt)|0,B=B+Math.imul(ce,jt)|0,B=B+Math.imul(Q,Dt)|0,ne=ne+Math.imul(Q,jt)|0,ie=ie+Math.imul(Ze,ut)|0,B=B+Math.imul(Ze,Tt)|0,B=B+Math.imul(it,ut)|0,ne=ne+Math.imul(it,Tt)|0;var zi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(zi>>>26)|0,zi&=67108863,ie=Math.imul(Ue,dt),B=Math.imul(Ue,gt),B=B+Math.imul(et,dt)|0,ne=Math.imul(et,gt),ie=ie+Math.imul(ye,Dt)|0,B=B+Math.imul(ye,jt)|0,B=B+Math.imul(Fe,Dt)|0,ne=ne+Math.imul(Fe,jt)|0,ie=ie+Math.imul(ce,ut)|0,B=B+Math.imul(ce,Tt)|0,B=B+Math.imul(Q,ut)|0,ne=ne+Math.imul(Q,Tt)|0;var gi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(gi>>>26)|0,gi&=67108863,ie=Math.imul(Ue,Dt),B=Math.imul(Ue,jt),B=B+Math.imul(et,Dt)|0,ne=Math.imul(et,jt),ie=ie+Math.imul(ye,ut)|0,B=B+Math.imul(ye,Tt)|0,B=B+Math.imul(Fe,ut)|0,ne=ne+Math.imul(Fe,Tt)|0;var xi=(ee+ie|0)+((B&8191)<<13)|0;ee=(ne+(B>>>13)|0)+(xi>>>26)|0,xi&=67108863,ie=Math.imul(Ue,ut),B=Math.imul(Ue,Tt),B=B+Math.imul(et,ut)|0,ne=Math.imul(et,Tt);var $i=(ee+ie|0)+((B&8191)<<13)|0;return ee=(ne+(B>>>13)|0)+($i>>>26)|0,$i&=67108863,H[0]=Mt,H[1]=vi,H[2]=li,H[3]=$t,H[4]=Ti,H[5]=mi,H[6]=Mi,H[7]=Ii,H[8]=Qi,H[9]=Di,H[10]=Ci,H[11]=Bi,H[12]=Yt,H[13]=ui,H[14]=ai,H[15]=zi,H[16]=gi,H[17]=xi,H[18]=$i,ee!==0&&(H[19]=ee,I.length++),I};Math.imul||(D=R);function F(N,o,w){w.negative=o.negative^N.negative,w.length=N.length+o.length;for(var I=0,q=0,j=0;j<w.length-1;j++){var H=q;q=0;for(var ee=I&67108863,ie=Math.min(j,o.length-1),B=Math.max(0,j-N.length+1);B<=ie;B++){var ne=j-B,Le=N.words[ne]|0,pe=o.words[B]|0,Me=Le*pe,Pe=Me&67108863;H=H+(Me/67108864|0)|0,Pe=Pe+ee|0,ee=Pe&67108863,H=H+(Pe>>>26)|0,q+=H>>>26,H&=67108863}w.words[j]=ee,I=H,H=q}return I!==0?w.words[j]=I:w.length--,w._strip()}function z(N,o,w){return F(N,o,w)}d.prototype.mulTo=function(o,w){var I,q=this.length+o.length;return this.length===10&&o.length===10?I=D(this,o,w):q<63?I=R(this,o,w):q<1024?I=F(this,o,w):I=z(this,o,w),I};function y(N,o){this.x=N,this.y=o}y.prototype.makeRBT=function(o){for(var w=new Array(o),I=d.prototype._countBits(o)-1,q=0;q<o;q++)w[q]=this.revBin(q,I,o);return w},y.prototype.revBin=function(o,w,I){if(o===0||o===I-1)return o;for(var q=0,j=0;j<w;j++)q|=(o&1)<<w-j-1,o>>=1;return q},y.prototype.permute=function(o,w,I,q,j,H){for(var ee=0;ee<H;ee++)q[ee]=w[o[ee]],j[ee]=I[o[ee]]},y.prototype.transform=function(o,w,I,q,j,H){this.permute(H,o,w,I,q,j);for(var ee=1;ee<j;ee<<=1)for(var ie=ee<<1,B=Math.cos(2*Math.PI/ie),ne=Math.sin(2*Math.PI/ie),Le=0;Le<j;Le+=ie)for(var pe=B,Me=ne,Pe=0;Pe<ee;Pe++){var J=I[Le+Pe],te=q[Le+Pe],fe=I[Le+Pe+ee],ve=q[Le+Pe+ee],Se=pe*fe-Me*ve;ve=pe*ve+Me*fe,fe=Se,I[Le+Pe]=J+fe,q[Le+Pe]=te+ve,I[Le+Pe+ee]=J-fe,q[Le+Pe+ee]=te-ve,Pe!==ie&&(Se=B*pe-ne*Me,Me=B*Me+ne*pe,pe=Se)}},y.prototype.guessLen13b=function(o,w){var I=Math.max(w,o)|1,q=I&1,j=0;for(I=I/2|0;I;I=I>>>1)j++;return 1<<j+1+q},y.prototype.conjugate=function(o,w,I){if(!(I<=1))for(var q=0;q<I/2;q++){var j=o[q];o[q]=o[I-q-1],o[I-q-1]=j,j=w[q],w[q]=-w[I-q-1],w[I-q-1]=-j}},y.prototype.normalize13b=function(o,w){for(var I=0,q=0;q<w/2;q++){var j=Math.round(o[2*q+1]/w)*8192+Math.round(o[2*q]/w)+I;o[q]=j&67108863,j<67108864?I=0:I=j/67108864|0}return o},y.prototype.convert13b=function(o,w,I,q){for(var j=0,H=0;H<w;H++)j=j+(o[H]|0),I[2*H]=j&8191,j=j>>>13,I[2*H+1]=j&8191,j=j>>>13;for(H=2*w;H<q;++H)I[H]=0;M(j===0),M((j&-8192)===0)},y.prototype.stub=function(o){for(var w=new Array(o),I=0;I<o;I++)w[I]=0;return w},y.prototype.mulp=function(o,w,I){var q=2*this.guessLen13b(o.length,w.length),j=this.makeRBT(q),H=this.stub(q),ee=new Array(q),ie=new Array(q),B=new Array(q),ne=new Array(q),Le=new Array(q),pe=new Array(q),Me=I.words;Me.length=q,this.convert13b(o.words,o.length,ee,q),this.convert13b(w.words,w.length,ne,q),this.transform(ee,H,ie,B,q,j),this.transform(ne,H,Le,pe,q,j);for(var Pe=0;Pe<q;Pe++){var J=ie[Pe]*Le[Pe]-B[Pe]*pe[Pe];B[Pe]=ie[Pe]*pe[Pe]+B[Pe]*Le[Pe],ie[Pe]=J}return this.conjugate(ie,B,q),this.transform(ie,B,Me,H,q,j),this.conjugate(Me,H,q),this.normalize13b(Me,q),I.negative=o.negative^w.negative,I.length=o.length+w.length,I._strip()},d.prototype.mul=function(o){var w=new d(null);return w.words=new Array(this.length+o.length),this.mulTo(o,w)},d.prototype.mulf=function(o){var w=new d(null);return w.words=new Array(this.length+o.length),z(this,o,w)},d.prototype.imul=function(o){return this.clone().mulTo(o,this)},d.prototype.imuln=function(o){var w=o<0;w&&(o=-o),M(typeof o=="number"),M(o<67108864);for(var I=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*o,H=(j&67108863)+(I&67108863);I>>=26,I+=j/67108864|0,I+=H>>>26,this.words[q]=H&67108863}return I!==0&&(this.words[q]=I,this.length++),w?this.ineg():this},d.prototype.muln=function(o){return this.clone().imuln(o)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(o){var w=C(o);if(w.length===0)return new d(1);for(var I=this,q=0;q<w.length&&w[q]===0;q++,I=I.sqr());if(++q<w.length)for(var j=I.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(I=I.mul(j));return I},d.prototype.iushln=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var H=0;for(j=0;j<this.length;j++){var ee=this.words[j]&q,ie=(this.words[j]|0)-ee<<w;this.words[j]=ie|H,H=ee>>>26-w}H&&(this.words[j]=H,this.length++)}if(I!==0){for(j=this.length-1;j>=0;j--)this.words[j+I]=this.words[j];for(j=0;j<I;j++)this.words[j]=0;this.length+=I}return this._strip()},d.prototype.ishln=function(o){return M(this.negative===0),this.iushln(o)},d.prototype.iushrn=function(o,w,I){M(typeof o=="number"&&o>=0);var q;w?q=(w-w%26)/26:q=0;var j=o%26,H=Math.min((o-j)/26,this.length),ee=67108863^67108863>>>j<<j,ie=I;if(q-=H,q=Math.max(0,q),ie){for(var B=0;B<H;B++)ie.words[B]=this.words[B];ie.length=H}if(H!==0)if(this.length>H)for(this.length-=H,B=0;B<this.length;B++)this.words[B]=this.words[B+H];else this.words[0]=0,this.length=1;var ne=0;for(B=this.length-1;B>=0&&(ne!==0||B>=q);B--){var Le=this.words[B]|0;this.words[B]=ne<<26-j|Le>>>j,ne=Le&ee}return ie&&ne!==0&&(ie.words[ie.length++]=ne),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(o,w,I){return M(this.negative===0),this.iushrn(o,w,I)},d.prototype.shln=function(o){return this.clone().ishln(o)},d.prototype.ushln=function(o){return this.clone().iushln(o)},d.prototype.shrn=function(o){return this.clone().ishrn(o)},d.prototype.ushrn=function(o){return this.clone().iushrn(o)},d.prototype.testn=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26,q=1<<w;if(this.length<=I)return!1;var j=this.words[I];return!!(j&q)},d.prototype.imaskn=function(o){M(typeof o=="number"&&o>=0);var w=o%26,I=(o-w)/26;if(M(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(w!==0&&I++,this.length=Math.min(I,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},d.prototype.maskn=function(o){return this.clone().imaskn(o)},d.prototype.iaddn=function(o){return M(typeof o=="number"),M(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},d.prototype._iaddn=function(o){this.words[0]+=o;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},d.prototype.isubn=function(o){if(M(typeof o=="number"),M(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},d.prototype.addn=function(o){return this.clone().iaddn(o)},d.prototype.subn=function(o){return this.clone().isubn(o)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(o,w,I){var q=o.length+I,j;this._expand(q);var H,ee=0;for(j=0;j<o.length;j++){H=(this.words[j+I]|0)+ee;var ie=(o.words[j]|0)*w;H-=ie&67108863,ee=(H>>26)-(ie/67108864|0),this.words[j+I]=H&67108863}for(;j<this.length-I;j++)H=(this.words[j+I]|0)+ee,ee=H>>26,this.words[j+I]=H&67108863;if(ee===0)return this._strip();for(M(ee===-1),ee=0,j=0;j<this.length;j++)H=-(this.words[j]|0)+ee,ee=H>>26,this.words[j]=H&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(o,w){var I=this.length-o.length,q=this.clone(),j=o,H=j.words[j.length-1]|0,ee=this._countBits(H);I=26-ee,I!==0&&(j=j.ushln(I),q.iushln(I),H=j.words[j.length-1]|0);var ie=q.length-j.length,B;if(w!=="mod"){B=new d(null),B.length=ie+1,B.words=new Array(B.length);for(var ne=0;ne<B.length;ne++)B.words[ne]=0}var Le=q.clone()._ishlnsubmul(j,1,ie);Le.negative===0&&(q=Le,B&&(B.words[ie]=1));for(var pe=ie-1;pe>=0;pe--){var Me=(q.words[j.length+pe]|0)*67108864+(q.words[j.length+pe-1]|0);for(Me=Math.min(Me/H|0,67108863),q._ishlnsubmul(j,Me,pe);q.negative!==0;)Me--,q.negative=0,q._ishlnsubmul(j,1,pe),q.isZero()||(q.negative^=1);B&&(B.words[pe]=Me)}return B&&B._strip(),q._strip(),w!=="div"&&I!==0&&q.iushrn(I),{div:B||null,mod:q}},d.prototype.divmod=function(o,w,I){if(M(!o.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var q,j,H;return this.negative!==0&&o.negative===0?(H=this.neg().divmod(o,w),w!=="mod"&&(q=H.div.neg()),w!=="div"&&(j=H.mod.neg(),I&&j.negative!==0&&j.iadd(o)),{div:q,mod:j}):this.negative===0&&o.negative!==0?(H=this.divmod(o.neg(),w),w!=="mod"&&(q=H.div.neg()),{div:q,mod:H.mod}):this.negative&o.negative?(H=this.neg().divmod(o.neg(),w),w!=="div"&&(j=H.mod.neg(),I&&j.negative!==0&&j.isub(o)),{div:H.div,mod:j}):o.length>this.length||this.cmp(o)<0?{div:new d(0),mod:this}:o.length===1?w==="div"?{div:this.divn(o.words[0]),mod:null}:w==="mod"?{div:null,mod:new d(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new d(this.modrn(o.words[0]))}:this._wordDiv(o,w)},d.prototype.div=function(o){return this.divmod(o,"div",!1).div},d.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},d.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},d.prototype.divRound=function(o){var w=this.divmod(o);if(w.mod.isZero())return w.div;var I=w.div.negative!==0?w.mod.isub(o):w.mod,q=o.ushrn(1),j=o.andln(1),H=I.cmp(q);return H<0||j===1&&H===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},d.prototype.modrn=function(o){var w=o<0;w&&(o=-o),M(o<=67108863);for(var I=(1<<26)%o,q=0,j=this.length-1;j>=0;j--)q=(I*q+(this.words[j]|0))%o;return w?-q:q},d.prototype.modn=function(o){return this.modrn(o)},d.prototype.idivn=function(o){var w=o<0;w&&(o=-o),M(o<=67108863);for(var I=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+I*67108864;this.words[q]=j/o|0,I=j%o}return this._strip(),w?this.ineg():this},d.prototype.divn=function(o){return this.clone().idivn(o)},d.prototype.egcd=function(o){M(o.negative===0),M(!o.isZero());var w=this,I=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var q=new d(1),j=new d(0),H=new d(0),ee=new d(1),ie=0;w.isEven()&&I.isEven();)w.iushrn(1),I.iushrn(1),++ie;for(var B=I.clone(),ne=w.clone();!w.isZero();){for(var Le=0,pe=1;!(w.words[0]&pe)&&Le<26;++Le,pe<<=1);if(Le>0)for(w.iushrn(Le);Le-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ne)),q.iushrn(1),j.iushrn(1);for(var Me=0,Pe=1;!(I.words[0]&Pe)&&Me<26;++Me,Pe<<=1);if(Me>0)for(I.iushrn(Me);Me-- >0;)(H.isOdd()||ee.isOdd())&&(H.iadd(B),ee.isub(ne)),H.iushrn(1),ee.iushrn(1);w.cmp(I)>=0?(w.isub(I),q.isub(H),j.isub(ee)):(I.isub(w),H.isub(q),ee.isub(j))}return{a:H,b:ee,gcd:I.iushln(ie)}},d.prototype._invmp=function(o){M(o.negative===0),M(!o.isZero());var w=this,I=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var q=new d(1),j=new d(0),H=I.clone();w.cmpn(1)>0&&I.cmpn(1)>0;){for(var ee=0,ie=1;!(w.words[0]&ie)&&ee<26;++ee,ie<<=1);if(ee>0)for(w.iushrn(ee);ee-- >0;)q.isOdd()&&q.iadd(H),q.iushrn(1);for(var B=0,ne=1;!(I.words[0]&ne)&&B<26;++B,ne<<=1);if(B>0)for(I.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(H),j.iushrn(1);w.cmp(I)>=0?(w.isub(I),q.isub(j)):(I.isub(w),j.isub(q))}var Le;return w.cmpn(1)===0?Le=q:Le=j,Le.cmpn(0)<0&&Le.iadd(o),Le},d.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var w=this.clone(),I=o.clone();w.negative=0,I.negative=0;for(var q=0;w.isEven()&&I.isEven();q++)w.iushrn(1),I.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;I.isEven();)I.iushrn(1);var j=w.cmp(I);if(j<0){var H=w;w=I,I=H}else if(j===0||I.cmpn(1)===0)break;w.isub(I)}while(!0);return I.iushln(q)},d.prototype.invm=function(o){return this.egcd(o).a.umod(o)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(o){return this.words[0]&o},d.prototype.bincn=function(o){M(typeof o=="number");var w=o%26,I=(o-w)/26,q=1<<w;if(this.length<=I)return this._expand(I+1),this.words[I]|=q,this;for(var j=q,H=I;j!==0&&H<this.length;H++){var ee=this.words[H]|0;ee+=j,j=ee>>>26,ee&=67108863,this.words[H]=ee}return j!==0&&(this.words[H]=j,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(o){var w=o<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var I;if(this.length>1)I=1;else{w&&(o=-o),M(o<=67108863,"Number is too big");var q=this.words[0]|0;I=q===o?0:q<o?-1:1}return this.negative!==0?-I|0:I},d.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var w=this.ucmp(o);return this.negative!==0?-w|0:w},d.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var w=0,I=this.length-1;I>=0;I--){var q=this.words[I]|0,j=o.words[I]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},d.prototype.gtn=function(o){return this.cmpn(o)===1},d.prototype.gt=function(o){return this.cmp(o)===1},d.prototype.gten=function(o){return this.cmpn(o)>=0},d.prototype.gte=function(o){return this.cmp(o)>=0},d.prototype.ltn=function(o){return this.cmpn(o)===-1},d.prototype.lt=function(o){return this.cmp(o)===-1},d.prototype.lten=function(o){return this.cmpn(o)<=0},d.prototype.lte=function(o){return this.cmp(o)<=0},d.prototype.eqn=function(o){return this.cmpn(o)===0},d.prototype.eq=function(o){return this.cmp(o)===0},d.red=function(o){return new P(o)},d.prototype.toRed=function(o){return M(!this.red,"Already a number in reduction context"),M(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},d.prototype.fromRed=function(){return M(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(o){return this.red=o,this},d.prototype.forceRed=function(o){return M(!this.red,"Already a number in reduction context"),this._forceRed(o)},d.prototype.redAdd=function(o){return M(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},d.prototype.redIAdd=function(o){return M(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},d.prototype.redSub=function(o){return M(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},d.prototype.redISub=function(o){return M(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},d.prototype.redShl=function(o){return M(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},d.prototype.redMul=function(o){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},d.prototype.redIMul=function(o){return M(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},d.prototype.redSqr=function(){return M(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return M(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return M(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return M(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return M(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(o){return M(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var U={k256:null,p224:null,p192:null,p25519:null};function W(N,o){this.name=N,this.p=new d(o,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var o=new d(null);return o.words=new Array(Math.ceil(this.n/13)),o},W.prototype.ireduce=function(o){var w=o,I;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),I=w.bitLength();while(I>this.n);var q=I<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},W.prototype.split=function(o,w){o.iushrn(this.n,0,w)},W.prototype.imulK=function(o){return o.imul(this.k)};function K(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,W),K.prototype.split=function(o,w){for(var I=4194303,q=Math.min(o.length,9),j=0;j<q;j++)w.words[j]=o.words[j];if(w.length=q,o.length<=9){o.words[0]=0,o.length=1;return}var H=o.words[9];for(w.words[w.length++]=H&I,j=10;j<o.length;j++){var ee=o.words[j]|0;o.words[j-10]=(ee&I)<<4|H>>>22,H=ee}H>>>=22,o.words[j-10]=H,H===0&&o.length>10?o.length-=10:o.length-=9},K.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var w=0,I=0;I<o.length;I++){var q=o.words[I]|0;w+=q*977,o.words[I]=w&67108863,w=q*64+(w/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Z(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(Z,W);function re(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(re,W);function X(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(X,W),X.prototype.imulK=function(o){for(var w=0,I=0;I<o.length;I++){var q=(o.words[I]|0)*19+w,j=q&67108863;q>>>=26,o.words[I]=j,w=q}return w!==0&&(o.words[o.length++]=w),o},d._prime=function(o){if(U[o])return U[o];var w;if(o==="k256")w=new K;else if(o==="p224")w=new Z;else if(o==="p192")w=new re;else if(o==="p25519")w=new X;else throw new Error("Unknown prime "+o);return U[o]=w,w};function P(N){if(typeof N=="string"){var o=d._prime(N);this.m=o.p,this.prime=o}else M(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}P.prototype._verify1=function(o){M(o.negative===0,"red works only with positives"),M(o.red,"red works only with red numbers")},P.prototype._verify2=function(o,w){M((o.negative|w.negative)===0,"red works only with positives"),M(o.red&&o.red===w.red,"red works only with red numbers")},P.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(b(o,o.umod(this.m)._forceRed(this)),o)},P.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},P.prototype.add=function(o,w){this._verify2(o,w);var I=o.add(w);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},P.prototype.iadd=function(o,w){this._verify2(o,w);var I=o.iadd(w);return I.cmp(this.m)>=0&&I.isub(this.m),I},P.prototype.sub=function(o,w){this._verify2(o,w);var I=o.sub(w);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},P.prototype.isub=function(o,w){this._verify2(o,w);var I=o.isub(w);return I.cmpn(0)<0&&I.iadd(this.m),I},P.prototype.shl=function(o,w){return this._verify1(o),this.imod(o.ushln(w))},P.prototype.imul=function(o,w){return this._verify2(o,w),this.imod(o.imul(w))},P.prototype.mul=function(o,w){return this._verify2(o,w),this.imod(o.mul(w))},P.prototype.isqr=function(o){return this.imul(o,o.clone())},P.prototype.sqr=function(o){return this.mul(o,o)},P.prototype.sqrt=function(o){if(o.isZero())return o.clone();var w=this.m.andln(3);if(M(w%2===1),w===3){var I=this.m.add(new d(1)).iushrn(2);return this.pow(o,I)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);M(!q.isZero());var H=new d(1).toRed(this),ee=H.redNeg(),ie=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new d(2*B*B).toRed(this);this.pow(B,ie).cmp(ee)!==0;)B.redIAdd(ee);for(var ne=this.pow(B,q),Le=this.pow(o,q.addn(1).iushrn(1)),pe=this.pow(o,q),Me=j;pe.cmp(H)!==0;){for(var Pe=pe,J=0;Pe.cmp(H)!==0;J++)Pe=Pe.redSqr();M(J<Me);var te=this.pow(ne,new d(1).iushln(Me-J-1));Le=Le.redMul(te),ne=te.redSqr(),pe=pe.redMul(ne),Me=J}return Le},P.prototype.invm=function(o){var w=o._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},P.prototype.pow=function(o,w){if(w.isZero())return new d(1).toRed(this);if(w.cmpn(1)===0)return o.clone();var I=4,q=new Array(1<<I);q[0]=new d(1).toRed(this),q[1]=o;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],o);var H=q[0],ee=0,ie=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ne=w.words[j],Le=B-1;Le>=0;Le--){var pe=ne>>Le&1;if(H!==q[0]&&(H=this.sqr(H)),pe===0&&ee===0){ie=0;continue}ee<<=1,ee|=pe,ie++,!(ie!==I&&(j!==0||Le!==0))&&(H=this.mul(H,q[ee]),ie=0,ee=0)}B=26}return H},P.prototype.convertTo=function(o){var w=o.umod(this.m);return w===o?w.clone():w},P.prototype.convertFrom=function(o){var w=o.clone();return w.red=null,w},d.mont=function(o){return new $(o)};function $(N){P.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S($,P),$.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},$.prototype.convertFrom=function(o){var w=this.imod(o.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(o,w){if(o.isZero()||w.isZero())return o.words[0]=0,o.length=1,o;var I=o.imul(w),q=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=I.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.mul=function(o,w){if(o.isZero()||w.isZero())return new d(0)._forceRed(this);var I=o.mul(w),q=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=I.isub(q).iushrn(this.shift),H=j;return j.cmp(this.m)>=0?H=j.isub(this.m):j.cmpn(0)<0&&(H=j.iadd(this.m)),H._forceRed(this)},$.prototype.invm=function(o){var w=this.imod(o._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},2686:s=>{"use strict";function G(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function E(c,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var b=function(u){G(k,u);function k(m,v,p){return u.call(this,_(m,v,p))||this}return k}(h);b.prototype.name=h.name,b.prototype.code=c,T[c]=b}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function M(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}E("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(c,f,h){var _;typeof f=="string"&&M(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var b;if(S(c," argument"))b="The ".concat(c," ").concat(_," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";b='The "'.concat(c,'" ').concat(u," ").concat(_," ").concat(A(f,"type"))}return b+=". Received type ".concat(typeof h),b},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},26248:(s,G,T)=>{"use strict";var E=T(65606),A=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var M=T(30206),S=T(7314);T(56698)(h,M);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);M.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||E.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},75242:(s,G,T)=>{"use strict";s.exports=A;var E=T(81816);T(56698)(A,E);function A(M){if(!(this instanceof A))return new A(M);E.call(this,M)}A.prototype._transform=function(M,S,d){d(null,M)}},30206:(s,G,T)=>{"use strict";var E=T(65606);s.exports=P;var A;P.ReadableState=X;var M=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(5567),c=T(48287).Buffer,f=(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function h(L){return c.from(L)}function _(L){return c.isBuffer(L)||L instanceof f}var b=T(92668),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var k=T(72851),m=T(36278),v=T(57385),p=v.getHighWaterMark,C=T(2686).F,R=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,F=C.ERR_METHOD_NOT_IMPLEMENTED,z=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,U,W;T(56698)(P,d);var K=m.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function re(L,O,oe){if(typeof L.prependListener=="function")return L.prependListener(O,oe);!L._events||!L._events[O]?L.on(O,oe):Array.isArray(L._events[O])?L._events[O].unshift(oe):L._events[O]=[oe,L._events[O]]}function X(L,O,oe){A=A||T(26248),L=L||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!L.objectMode,oe&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=p(this,L,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(y||(y=T(83141).I),this.decoder=new y(L.encoding),this.encoding=L.encoding)}function P(L){if(A=A||T(26248),!(this instanceof P))return new P(L);var O=this instanceof A;this._readableState=new X(L,this,O),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),d.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(L,O){O(L)},P.prototype.push=function(L,O){var oe=this._readableState,be;return oe.objectMode?be=!0:typeof L=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(L=c.from(L,O),O=""),be=!0),$(this,L,O,!1,be)},P.prototype.unshift=function(L){return $(this,L,null,!0,!1)};function $(L,O,oe,be,ke){u("readableAddChunk",O);var ge=L._readableState;if(O===null)ge.reading=!1,j(L,ge);else{var De;if(ke||(De=o(ge,O)),De)K(L,De);else if(ge.objectMode||O&&O.length>0)if(typeof O!="string"&&!ge.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),be)ge.endEmitted?K(L,new z):N(L,ge,O,!0);else if(ge.ended)K(L,new D);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!oe?(O=ge.decoder.write(O),ge.objectMode||O.length!==0?N(L,ge,O,!1):ie(L,ge)):N(L,ge,O,!1)}else be||(ge.reading=!1,ie(L,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function N(L,O,oe,be){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,L.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,be?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(L)),ie(L,O)}function o(L,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!L.objectMode&&(oe=new R("chunk",["string","Buffer","Uint8Array"],O)),oe}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(L){y||(y=T(83141).I);var O=new y(L);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,be="";oe!==null;)be+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var w=1073741824;function I(L){return L>=w?L=w:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function q(L,O){return L<=0||O.length===0&&O.ended?0:O.objectMode?1:L!==L?O.flowing&&O.length?O.buffer.head.data.length:O.length:(L>O.highWaterMark&&(O.highWaterMark=I(L)),L<=O.length?L:O.ended?O.length:(O.needReadable=!0,0))}P.prototype.read=function(L){u("read",L),L=parseInt(L,10);var O=this._readableState,oe=L;if(L!==0&&(O.emittedReadable=!1),L===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?fe(this):H(this),null;if(L=q(L,O),L===0&&O.ended)return O.length===0&&fe(this),null;var be=O.needReadable;u("need readable",be),(O.length===0||O.length-L<O.highWaterMark)&&(be=!0,u("length less than watermark",be)),O.ended||O.reading?(be=!1,u("reading or ended",be)):be&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(L=q(oe,O)));var ke;return L>0?ke=te(L,O):ke=null,ke===null?(O.needReadable=O.length<=O.highWaterMark,L=0):(O.length-=L,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==L&&O.ended&&fe(this)),ke!==null&&this.emit("data",ke),ke};function j(L,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(L):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(L)))}}function H(L){var O=L._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,E.nextTick(ee,L))}function ee(L){var O=L._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(L.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,J(L)}function ie(L,O){O.readingMore||(O.readingMore=!0,E.nextTick(B,L,O))}function B(L,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),L.read(0),oe===O.length)break}O.readingMore=!1}P.prototype._read=function(L){K(this,new F("_read()"))},P.prototype.pipe=function(L,O){var oe=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=L;break;case 1:be.pipes=[be.pipes,L];break;default:be.pipes.push(L);break}be.pipesCount+=1,u("pipe count=%d opts=%j",be.pipesCount,O);var ke=(!O||O.end!==!1)&&L!==E.stdout&&L!==E.stderr,ge=ke?Ge:se;be.endEmitted?E.nextTick(ge):oe.once("end",ge),L.on("unpipe",De);function De(ye,Fe){u("onunpipe"),ye===oe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Ze())}function Ge(){u("onend"),L.end()}var We=ne(oe);L.on("drain",We);var Nt=!1;function Ze(){u("cleanup"),L.removeListener("close",ce),L.removeListener("finish",Q),L.removeListener("drain",We),L.removeListener("error",Et),L.removeListener("unpipe",De),oe.removeListener("end",Ge),oe.removeListener("end",se),oe.removeListener("data",it),Nt=!0,be.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&We()}oe.on("data",it);function it(ye){u("ondata");var Fe=L.write(ye);u("dest.write",Fe),Fe===!1&&((be.pipesCount===1&&be.pipes===L||be.pipesCount>1&&Se(be.pipes,L)!==-1)&&!Nt&&(u("false write response, pause",be.awaitDrain),be.awaitDrain++),oe.pause())}function Et(ye){u("onerror",ye),se(),L.removeListener("error",Et),S(L,"error")===0&&K(L,ye)}re(L,"error",Et);function ce(){L.removeListener("finish",Q),se()}L.once("close",ce);function Q(){u("onfinish"),L.removeListener("close",ce),se()}L.once("finish",Q);function se(){u("unpipe"),oe.unpipe(L)}return L.emit("pipe",oe),be.flowing||(u("pipe resume"),oe.resume()),L};function ne(L){return function(){var oe=L._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(L,"data")&&(oe.flowing=!0,J(L))}}P.prototype.unpipe=function(L){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return L&&L!==O.pipes?this:(L||(L=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,L&&L.emit("unpipe",this,oe),this);if(!L){var be=O.pipes,ke=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ge=0;ge<ke;ge++)be[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var De=Se(O.pipes,L);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),L.emit("unpipe",this,oe),this)},P.prototype.on=function(L,O){var oe=d.prototype.on.call(this,L,O),be=this._readableState;return L==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):L==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,u("on readable",be.length,be.reading),be.length?H(this):be.reading||E.nextTick(pe,this)),oe},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(L,O){var oe=d.prototype.removeListener.call(this,L,O);return L==="readable"&&E.nextTick(Le,this),oe},P.prototype.removeAllListeners=function(L){var O=d.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&E.nextTick(Le,this),O};function Le(L){var O=L._readableState;O.readableListening=L.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:L.listenerCount("data")>0&&L.resume()}function pe(L){u("readable nexttick read 0"),L.read(0)}P.prototype.resume=function(){var L=this._readableState;return L.flowing||(u("resume"),L.flowing=!L.readableListening,Me(this,L)),L.paused=!1,this};function Me(L,O){O.resumeScheduled||(O.resumeScheduled=!0,E.nextTick(Pe,L,O))}function Pe(L,O){u("resume",O.reading),O.reading||L.read(0),O.resumeScheduled=!1,L.emit("resume"),J(L),O.flowing&&!O.reading&&L.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(L){var O=L._readableState;for(u("flow",O.flowing);O.flowing&&L.read()!==null;);}P.prototype.wrap=function(L){var O=this,oe=this._readableState,be=!1;L.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var De=oe.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),L.on("data",function(De){if(u("wrapped data"),oe.decoder&&(De=oe.decoder.write(De)),!(oe.objectMode&&De==null)&&!(!oe.objectMode&&(!De||!De.length))){var Ge=O.push(De);Ge||(be=!0,L.pause())}});for(var ke in L)this[ke]===void 0&&typeof L[ke]=="function"&&(this[ke]=function(Ge){return function(){return L[Ge].apply(L,arguments)}}(ke));for(var ge=0;ge<Z.length;ge++)L.on(Z[ge],this.emit.bind(this,Z[ge]));return this._read=function(De){u("wrapped _read",De),be&&(be=!1,L.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=T(72485)),U(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(L,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!L||L>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(L,O.decoder),oe}function fe(L){var O=L._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,E.nextTick(ve,O,L))}function ve(L,O){if(u("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,O.readable=!1,O.emit("end"),L.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(P.from=function(L,O){return W===void 0&&(W=T(28591)),W(P,L,O)});function Se(L,O){for(var oe=0,be=L.length;oe<be;oe++)if(L[oe]===O)return oe;return-1}},81816:(s,G,T)=>{"use strict";s.exports=h;var E=T(2686).F,A=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_MULTIPLE_CALLBACK,S=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=E.ERR_TRANSFORM_WITH_LENGTH_0,c=T(26248);T(56698)(h,c);function f(u,k){var m=this._transformState;m.transforming=!1;var v=m.writecb;if(v===null)return this.emit("error",new M);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),v(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){b(u,k,m)}):b(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new A("_transform()"))},h.prototype._write=function(u,k,m){var v=this._transformState;if(v.writecb=m,v.writechunk=u,v.writeencoding=k,!v.transforming){var p=this._readableState;(v.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){c.prototype._destroy.call(this,u,function(m){k(m)})};function b(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},7314:(s,G,T)=>{"use strict";var E=T(65606);s.exports=X;function A(J,te,fe){this.chunk=J,this.encoding=te,this.callback=fe,this.next=null}function M(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,J)}}var S;X.WritableState=Z;var d={deprecate:T(94643)},c=T(5567),f=T(48287).Buffer,h=(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function _(J){return f.from(J)}function b(J){return f.isBuffer(J)||J instanceof h}var u=T(36278),k=T(57385),m=k.getHighWaterMark,v=T(2686).F,p=v.ERR_INVALID_ARG_TYPE,C=v.ERR_METHOD_NOT_IMPLEMENTED,R=v.ERR_MULTIPLE_CALLBACK,D=v.ERR_STREAM_CANNOT_PIPE,F=v.ERR_STREAM_DESTROYED,z=v.ERR_STREAM_NULL_VALUES,y=v.ERR_STREAM_WRITE_AFTER_END,U=v.ERR_UNKNOWN_ENCODING,W=u.errorOrDestroy;T(56698)(X,c);function K(){}function Z(J,te,fe){S=S||T(26248),J=J||{},typeof fe!="boolean"&&(fe=te instanceof S),this.objectMode=!!J.objectMode,fe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=J.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){j(te,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,fe=[];te;)fe.push(te),te=te.next;return fe},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var re;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(te){return re.call(this,te)?!0:this!==X?!1:te&&te._writableState instanceof Z}})):re=function(te){return te instanceof this};function X(J){S=S||T(26248);var te=this instanceof S;if(!te&&!re.call(X,this))return new X(J);this._writableState=new Z(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),c.call(this)}X.prototype.pipe=function(){W(this,new D)};function P(J,te){var fe=new y;W(J,fe),E.nextTick(te,fe)}function $(J,te,fe,ve){var Se;return fe===null?Se=new z:typeof fe!="string"&&!te.objectMode&&(Se=new p("chunk",["string","Buffer"],fe)),Se?(W(J,Se),E.nextTick(ve,Se),!1):!0}X.prototype.write=function(J,te,fe){var ve=this._writableState,Se=!1,L=!ve.objectMode&&b(J);return L&&!f.isBuffer(J)&&(J=_(J)),typeof te=="function"&&(fe=te,te=null),L?te="buffer":te||(te=ve.defaultEncoding),typeof fe!="function"&&(fe=K),ve.ending?P(this,fe):(L||$(this,ve,J,fe))&&(ve.pendingcb++,Se=o(this,ve,L,J,te,fe)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ie(this,J))},X.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new U(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(J,te,fe){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=f.from(te,fe)),te}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,fe,ve,Se,L){if(!fe){var O=N(te,ve,Se);ve!==O&&(fe=!0,Se="buffer",ve=O)}var oe=te.objectMode?1:ve.length;te.length+=oe;var be=te.length<te.highWaterMark;if(be||(te.needDrain=!0),te.writing||te.corked){var ke=te.lastBufferedRequest;te.lastBufferedRequest={chunk:ve,encoding:Se,isBuf:fe,callback:L,next:null},ke?ke.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else w(J,te,!1,oe,ve,Se,L);return be}function w(J,te,fe,ve,Se,L,O){te.writelen=ve,te.writecb=O,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new F("write")):fe?J._writev(Se,te.onwrite):J._write(Se,L,te.onwrite),te.sync=!1}function I(J,te,fe,ve,Se){--te.pendingcb,fe?(E.nextTick(Se,ve),E.nextTick(pe,J,te),J._writableState.errorEmitted=!0,W(J,ve)):(Se(ve),J._writableState.errorEmitted=!0,W(J,ve),pe(J,te))}function q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function j(J,te){var fe=J._writableState,ve=fe.sync,Se=fe.writecb;if(typeof Se!="function")throw new R;if(q(fe),te)I(J,fe,ve,te,Se);else{var L=B(fe)||J.destroyed;!L&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&ie(J,fe),ve?E.nextTick(H,J,fe,L,Se):H(J,fe,L,Se)}}function H(J,te,fe,ve){fe||ee(J,te),te.pendingcb--,ve(),pe(J,te)}function ee(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function ie(J,te){te.bufferProcessing=!0;var fe=te.bufferedRequest;if(J._writev&&fe&&fe.next){var ve=te.bufferedRequestCount,Se=new Array(ve),L=te.corkedRequestsFree;L.entry=fe;for(var O=0,oe=!0;fe;)Se[O]=fe,fe.isBuf||(oe=!1),fe=fe.next,O+=1;Se.allBuffers=oe,w(J,te,!0,te.length,Se,"",L.finish),te.pendingcb++,te.lastBufferedRequest=null,L.next?(te.corkedRequestsFree=L.next,L.next=null):te.corkedRequestsFree=new M(te),te.bufferedRequestCount=0}else{for(;fe;){var be=fe.chunk,ke=fe.encoding,ge=fe.callback,De=te.objectMode?1:be.length;if(w(J,te,!1,De,be,ke,ge),fe=fe.next,te.bufferedRequestCount--,te.writing)break}fe===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=fe,te.bufferProcessing=!1}X.prototype._write=function(J,te,fe){fe(new C("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,te,fe){var ve=this._writableState;return typeof J=="function"?(fe=J,J=null,te=null):typeof te=="function"&&(fe=te,te=null),J!=null&&this.write(J,te),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||Me(this,ve,fe),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ne(J,te){J._final(function(fe){te.pendingcb--,fe&&W(J,fe),te.prefinished=!0,J.emit("prefinish"),pe(J,te)})}function Le(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,E.nextTick(ne,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function pe(J,te){var fe=B(te);if(fe&&(Le(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var ve=J._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&J.destroy()}return fe}function Me(J,te,fe){te.ending=!0,pe(J,te),fe&&(te.finished?E.nextTick(fe):J.once("finish",fe)),te.ended=!0,J.writable=!1}function Pe(J,te,fe){var ve=J.entry;for(J.entry=null;ve;){var Se=ve.callback;te.pendingcb--,Se(fe),ve=ve.next}te.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,te){te(J)}},72485:(s,G,T)=>{"use strict";var E=T(65606),A;function M(y,U,W){return U=S(U),U in y?Object.defineProperty(y,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):y[U]=W,y}function S(y){var U=d(y,"string");return typeof U=="symbol"?U:String(U)}function d(y,U){if(typeof y!="object"||y===null)return y;var W=y[Symbol.toPrimitive];if(W!==void 0){var K=W.call(y,U||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(y)}var c=T(23532),f=Symbol("lastResolve"),h=Symbol("lastReject"),_=Symbol("error"),b=Symbol("ended"),u=Symbol("lastPromise"),k=Symbol("handlePromise"),m=Symbol("stream");function v(y,U){return{value:y,done:U}}function p(y){var U=y[f];if(U!==null){var W=y[m].read();W!==null&&(y[u]=null,y[f]=null,y[h]=null,U(v(W,!1)))}}function C(y){E.nextTick(p,y)}function R(y,U){return function(W,K){y.then(function(){if(U[b]){W(v(void 0,!0));return}U[k](W,K)},K)}}var D=Object.getPrototypeOf(function(){}),F=Object.setPrototypeOf((A={get stream(){return this[m]},next:function(){var U=this,W=this[_];if(W!==null)return Promise.reject(W);if(this[b])return Promise.resolve(v(void 0,!0));if(this[m].destroyed)return new Promise(function(X,P){E.nextTick(function(){U[_]?P(U[_]):X(v(void 0,!0))})});var K=this[u],Z;if(K)Z=new Promise(R(K,this));else{var re=this[m].read();if(re!==null)return Promise.resolve(v(re,!1));Z=new Promise(this[k])}return this[u]=Z,Z}},M(A,Symbol.asyncIterator,function(){return this}),M(A,"return",function(){var U=this;return new Promise(function(W,K){U[m].destroy(null,function(Z){if(Z){K(Z);return}W(v(void 0,!0))})})}),A),D),z=function(U){var W,K=Object.create(F,(W={},M(W,m,{value:U,writable:!0}),M(W,f,{value:null,writable:!0}),M(W,h,{value:null,writable:!0}),M(W,_,{value:null,writable:!0}),M(W,b,{value:U._readableState.endEmitted,writable:!0}),M(W,k,{value:function(re,X){var P=K[m].read();P?(K[u]=null,K[f]=null,K[h]=null,re(v(P,!1))):(K[f]=re,K[h]=X)},writable:!0}),W));return K[u]=null,c(U,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=K[h];re!==null&&(K[u]=null,K[f]=null,K[h]=null,re(Z)),K[_]=Z;return}var X=K[f];X!==null&&(K[u]=null,K[f]=null,K[h]=null,X(v(void 0,!0))),K[b]=!0}),U.on("readable",C.bind(null,K)),K};s.exports=z},72851:(s,G,T)=>{"use strict";function E(p,C){var R=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);C&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(p,F).enumerable})),R.push.apply(R,D)}return R}function A(p){for(var C=1;C<arguments.length;C++){var R=arguments[C]!=null?arguments[C]:{};C%2?E(Object(R),!0).forEach(function(D){M(p,D,R[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(R)):E(Object(R)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(R,D))})}return p}function M(p,C,R){return C=f(C),C in p?Object.defineProperty(p,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):p[C]=R,p}function S(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function d(p,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,f(D.key),D)}}function c(p,C,R){return C&&d(p.prototype,C),R&&d(p,R),Object.defineProperty(p,"prototype",{writable:!1}),p}function f(p){var C=h(p,"string");return typeof C=="symbol"?C:String(C)}function h(p,C){if(typeof p!="object"||p===null)return p;var R=p[Symbol.toPrimitive];if(R!==void 0){var D=R.call(p,C||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(p)}var _=T(48287),b=_.Buffer,u=T(21638),k=u.inspect,m=k&&k.custom||"inspect";function v(p,C,R){b.prototype.copy.call(p,C,R)}s.exports=function(){function p(){S(this,p),this.head=null,this.tail=null,this.length=0}return c(p,[{key:"push",value:function(R){var D={data:R,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(R){var D={data:R,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var D=this.head,F=""+D.data;D=D.next;)F+=R+D.data;return F}},{key:"concat",value:function(R){if(this.length===0)return b.alloc(0);for(var D=b.allocUnsafe(R>>>0),F=this.head,z=0;F;)v(F.data,D,z),z+=F.data.length,F=F.next;return D}},{key:"consume",value:function(R,D){var F;return R<this.head.data.length?(F=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?F=this.shift():F=D?this._getString(R):this._getBuffer(R),F}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var D=this.head,F=1,z=D.data;for(R-=z.length;D=D.next;){var y=D.data,U=R>y.length?y.length:R;if(U===y.length?z+=y:z+=y.slice(0,R),R-=U,R===0){U===y.length?(++F,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=y.slice(U));break}++F}return this.length-=F,z}},{key:"_getBuffer",value:function(R){var D=b.allocUnsafe(R),F=this.head,z=1;for(F.data.copy(D),R-=F.data.length;F=F.next;){var y=F.data,U=R>y.length?y.length:R;if(y.copy(D,D.length-R,0,U),R-=U,R===0){U===y.length?(++z,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=y.slice(U));break}++z}return this.length-=z,D}},{key:m,value:function(R,D){return k(this,A(A({},D),{},{depth:0,customInspect:!1}))}}]),p}()},36278:(s,G,T)=>{"use strict";var E=T(65606);function A(h,_){var b=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,E.nextTick(c,this,h)):E.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?E.nextTick(S,b):(b._writableState.errorEmitted=!0,E.nextTick(M,b,m)):E.nextTick(M,b,m):_?(E.nextTick(S,b),_(m)):E.nextTick(S,b)}),this)}function M(h,_){c(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,_){h.emit("error",_)}function f(h,_){var b=h._readableState,u=h._writableState;b&&b.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},23532:(s,G,T)=>{"use strict";var E=T(2686).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),b=0;b<h;b++)_[b]=arguments[b];c.apply(this,_)}}}function M(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||M);var _=f.readable||f.readable!==!1&&c.readable,b=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},k=c._writableState&&c._writableState.finished,m=function(){b=!1,k=!0,_||h.call(c)},v=c._readableState&&c._readableState.endEmitted,p=function(){_=!1,v=!0,b||h.call(c)},C=function(z){h.call(c,z)},R=function(){var z;if(_&&!v)return(!c._readableState||!c._readableState.ended)&&(z=new E),h.call(c,z);if(b&&!k)return(!c._writableState||!c._writableState.ended)&&(z=new E),h.call(c,z)},D=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",R),c.req?D():c.on("request",D)):b&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",C),c.on("close",R),function(){c.removeListener("complete",m),c.removeListener("abort",R),c.removeListener("request",D),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",C),c.removeListener("close",R)}}s.exports=d},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,G,T)=>{"use strict";var E;function A(m){var v=!1;return function(){v||(v=!0,m.apply(void 0,arguments))}}var M=T(2686).F,S=M.ERR_MISSING_ARGS,d=M.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,v,p,C){C=A(C);var R=!1;m.on("close",function(){R=!0}),E===void 0&&(E=T(23532)),E(m,{readable:v,writable:p},function(F){if(F)return C(F);R=!0,C()});var D=!1;return function(F){if(!R&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();C(F||new d("pipe"))}}}function _(m){m()}function b(m,v){return m.pipe(v)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function k(){for(var m=arguments.length,v=new Array(m),p=0;p<m;p++)v[p]=arguments[p];var C=u(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new S("streams");var R,D=v.map(function(F,z){var y=z<v.length-1,U=z>0;return h(F,y,U,function(W){R||(R=W),W&&D.forEach(_),!y&&(D.forEach(_),C(R))})});return v.reduce(b)}s.exports=k},57385:(s,G,T)=>{"use strict";var E=T(2686).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function M(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?c:"highWaterMark";throw new E(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:M}},5567:(s,G,T)=>{s.exports=T(37007).EventEmitter},46737:(s,G,T)=>{G=s.exports=T(30206),G.Stream=G,G.Readable=G,G.Writable=T(7314),G.Duplex=T(26248),G.Transform=T(81816),G.PassThrough=T(75242),G.finished=T(23532),G.pipeline=T(43440)},30295:s=>{s.exports=function(T,E){for(var A=Math.min(T.length,E.length),M=new Buffer(A),S=0;S<A;++S)M[S]=T[S]^E[S];return M}},48287:(s,G,T)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const E=T(67526),A=T(251),M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=f,G.SlowBuffer=D,G.INSPECT_MAX_BYTES=50;const S=2147483647;G.kMaxLength=S,f.TYPED_ARRAY_SUPPORT=d(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const ce=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(ce,Q),ce.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function c(ce){if(ce>S)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const Q=new Uint8Array(ce);return Object.setPrototypeOf(Q,f.prototype),Q}function f(ce,Q,se){if(typeof ce=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ce)}return h(ce,Q,se)}f.poolSize=8192;function h(ce,Q,se){if(typeof ce=="string")return k(ce,Q);if(ArrayBuffer.isView(ce))return v(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(We(ce,ArrayBuffer)||ce&&We(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(We(ce,SharedArrayBuffer)||ce&&We(ce.buffer,SharedArrayBuffer)))return p(ce,Q,se);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ye=ce.valueOf&&ce.valueOf();if(ye!=null&&ye!==ce)return f.from(ye,Q,se);const Fe=C(ce);if(Fe)return Fe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return f.from(ce[Symbol.toPrimitive]("string"),Q,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}f.from=function(ce,Q,se){return h(ce,Q,se)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function _(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function b(ce,Q,se){return _(ce),ce<=0?c(ce):Q!==void 0?typeof se=="string"?c(ce).fill(Q,se):c(ce).fill(Q):c(ce)}f.alloc=function(ce,Q,se){return b(ce,Q,se)};function u(ce){return _(ce),c(ce<0?0:R(ce)|0)}f.allocUnsafe=function(ce){return u(ce)},f.allocUnsafeSlow=function(ce){return u(ce)};function k(ce,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!f.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const se=F(ce,Q)|0;let ye=c(se);const Fe=ye.write(ce,Q);return Fe!==se&&(ye=ye.slice(0,Fe)),ye}function m(ce){const Q=ce.length<0?0:R(ce.length)|0,se=c(Q);for(let ye=0;ye<Q;ye+=1)se[ye]=ce[ye]&255;return se}function v(ce){if(We(ce,Uint8Array)){const Q=new Uint8Array(ce);return p(Q.buffer,Q.byteOffset,Q.byteLength)}return m(ce)}function p(ce,Q,se){if(Q<0||ce.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<Q+(se||0))throw new RangeError('"length" is outside of buffer bounds');let ye;return Q===void 0&&se===void 0?ye=new Uint8Array(ce):se===void 0?ye=new Uint8Array(ce,Q):ye=new Uint8Array(ce,Q,se),Object.setPrototypeOf(ye,f.prototype),ye}function C(ce){if(f.isBuffer(ce)){const Q=R(ce.length)|0,se=c(Q);return se.length===0||ce.copy(se,0,0,Q),se}if(ce.length!==void 0)return typeof ce.length!="number"||Nt(ce.length)?c(0):m(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return m(ce.data)}function R(ce){if(ce>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return ce|0}function D(ce){return+ce!=ce&&(ce=0),f.alloc(+ce)}f.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==f.prototype},f.compare=function(Q,se){if(We(Q,Uint8Array)&&(Q=f.from(Q,Q.offset,Q.byteLength)),We(se,Uint8Array)&&(se=f.from(se,se.offset,se.byteLength)),!f.isBuffer(Q)||!f.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===se)return 0;let ye=Q.length,Fe=se.length;for(let Ye=0,Ue=Math.min(ye,Fe);Ye<Ue;++Ye)if(Q[Ye]!==se[Ye]){ye=Q[Ye],Fe=se[Ye];break}return ye<Fe?-1:Fe<ye?1:0},f.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(Q,se){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return f.alloc(0);let ye;if(se===void 0)for(se=0,ye=0;ye<Q.length;++ye)se+=Q[ye].length;const Fe=f.allocUnsafe(se);let Ye=0;for(ye=0;ye<Q.length;++ye){let Ue=Q[ye];if(We(Ue,Uint8Array))Ye+Ue.length>Fe.length?(f.isBuffer(Ue)||(Ue=f.from(Ue)),Ue.copy(Fe,Ye)):Uint8Array.prototype.set.call(Fe,Ue,Ye);else if(f.isBuffer(Ue))Ue.copy(Fe,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=Ue.length}return Fe};function F(ce,Q){if(f.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||We(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const se=ce.length,ye=arguments.length>2&&arguments[2]===!0;if(!ye&&se===0)return 0;let Fe=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return be(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se*2;case"hex":return se>>>1;case"base64":return De(ce).length;default:if(Fe)return ye?-1:be(ce).length;Q=(""+Q).toLowerCase(),Fe=!0}}f.byteLength=F;function z(ce,Q,se){let ye=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((se===void 0||se>this.length)&&(se=this.length),se<=0)||(se>>>=0,Q>>>=0,se<=Q))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return j(this,Q,se);case"utf8":case"utf-8":return N(this,Q,se);case"ascii":return I(this,Q,se);case"latin1":case"binary":return q(this,Q,se);case"base64":return $(this,Q,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,Q,se);default:if(ye)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),ye=!0}}f.prototype._isBuffer=!0;function y(ce,Q,se){const ye=ce[Q];ce[Q]=ce[se],ce[se]=ye}f.prototype.swap16=function(){const Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<Q;se+=2)y(this,se,se+1);return this},f.prototype.swap32=function(){const Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<Q;se+=4)y(this,se,se+3),y(this,se+1,se+2);return this},f.prototype.swap64=function(){const Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<Q;se+=8)y(this,se,se+7),y(this,se+1,se+6),y(this,se+2,se+5),y(this,se+3,se+4);return this},f.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?N(this,0,Q):z.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(Q){if(!f.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:f.compare(this,Q)===0},f.prototype.inspect=function(){let Q="";const se=G.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(Q+=" ... "),"<Buffer "+Q+">"},M&&(f.prototype[M]=f.prototype.inspect),f.prototype.compare=function(Q,se,ye,Fe,Ye){if(We(Q,Uint8Array)&&(Q=f.from(Q,Q.offset,Q.byteLength)),!f.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(se===void 0&&(se=0),ye===void 0&&(ye=Q?Q.length:0),Fe===void 0&&(Fe=0),Ye===void 0&&(Ye=this.length),se<0||ye>Q.length||Fe<0||Ye>this.length)throw new RangeError("out of range index");if(Fe>=Ye&&se>=ye)return 0;if(Fe>=Ye)return-1;if(se>=ye)return 1;if(se>>>=0,ye>>>=0,Fe>>>=0,Ye>>>=0,this===Q)return 0;let Ue=Ye-Fe,et=ye-se;const It=Math.min(Ue,et),at=this.slice(Fe,Ye),ct=Q.slice(se,ye);for(let pt=0;pt<It;++pt)if(at[pt]!==ct[pt]){Ue=at[pt],et=ct[pt];break}return Ue<et?-1:et<Ue?1:0};function U(ce,Q,se,ye,Fe){if(ce.length===0)return-1;if(typeof se=="string"?(ye=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,Nt(se)&&(se=Fe?0:ce.length-1),se<0&&(se=ce.length+se),se>=ce.length){if(Fe)return-1;se=ce.length-1}else if(se<0)if(Fe)se=0;else return-1;if(typeof Q=="string"&&(Q=f.from(Q,ye)),f.isBuffer(Q))return Q.length===0?-1:W(ce,Q,se,ye,Fe);if(typeof Q=="number")return Q=Q&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(ce,Q,se):Uint8Array.prototype.lastIndexOf.call(ce,Q,se):W(ce,[Q],se,ye,Fe);throw new TypeError("val must be string, number or Buffer")}function W(ce,Q,se,ye,Fe){let Ye=1,Ue=ce.length,et=Q.length;if(ye!==void 0&&(ye=String(ye).toLowerCase(),ye==="ucs2"||ye==="ucs-2"||ye==="utf16le"||ye==="utf-16le")){if(ce.length<2||Q.length<2)return-1;Ye=2,Ue/=2,et/=2,se/=2}function It(ct,pt){return Ye===1?ct[pt]:ct.readUInt16BE(pt*Ye)}let at;if(Fe){let ct=-1;for(at=se;at<Ue;at++)if(It(ce,at)===It(Q,ct===-1?0:at-ct)){if(ct===-1&&(ct=at),at-ct+1===et)return ct*Ye}else ct!==-1&&(at-=at-ct),ct=-1}else for(se+et>Ue&&(se=Ue-et),at=se;at>=0;at--){let ct=!0;for(let pt=0;pt<et;pt++)if(It(ce,at+pt)!==It(Q,pt)){ct=!1;break}if(ct)return at}return-1}f.prototype.includes=function(Q,se,ye){return this.indexOf(Q,se,ye)!==-1},f.prototype.indexOf=function(Q,se,ye){return U(this,Q,se,ye,!0)},f.prototype.lastIndexOf=function(Q,se,ye){return U(this,Q,se,ye,!1)};function K(ce,Q,se,ye){se=Number(se)||0;const Fe=ce.length-se;ye?(ye=Number(ye),ye>Fe&&(ye=Fe)):ye=Fe;const Ye=Q.length;ye>Ye/2&&(ye=Ye/2);let Ue;for(Ue=0;Ue<ye;++Ue){const et=parseInt(Q.substr(Ue*2,2),16);if(Nt(et))return Ue;ce[se+Ue]=et}return Ue}function Z(ce,Q,se,ye){return Ge(be(Q,ce.length-se),ce,se,ye)}function re(ce,Q,se,ye){return Ge(ke(Q),ce,se,ye)}function X(ce,Q,se,ye){return Ge(De(Q),ce,se,ye)}function P(ce,Q,se,ye){return Ge(ge(Q,ce.length-se),ce,se,ye)}f.prototype.write=function(Q,se,ye,Fe){if(se===void 0)Fe="utf8",ye=this.length,se=0;else if(ye===void 0&&typeof se=="string")Fe=se,ye=this.length,se=0;else if(isFinite(se))se=se>>>0,isFinite(ye)?(ye=ye>>>0,Fe===void 0&&(Fe="utf8")):(Fe=ye,ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ye=this.length-se;if((ye===void 0||ye>Ye)&&(ye=Ye),Q.length>0&&(ye<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Ue=!1;for(;;)switch(Fe){case"hex":return K(this,Q,se,ye);case"utf8":case"utf-8":return Z(this,Q,se,ye);case"ascii":case"latin1":case"binary":return re(this,Q,se,ye);case"base64":return X(this,Q,se,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,Q,se,ye);default:if(Ue)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ue=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(ce,Q,se){return Q===0&&se===ce.length?E.fromByteArray(ce):E.fromByteArray(ce.slice(Q,se))}function N(ce,Q,se){se=Math.min(ce.length,se);const ye=[];let Fe=Q;for(;Fe<se;){const Ye=ce[Fe];let Ue=null,et=Ye>239?4:Ye>223?3:Ye>191?2:1;if(Fe+et<=se){let It,at,ct,pt;switch(et){case 1:Ye<128&&(Ue=Ye);break;case 2:It=ce[Fe+1],(It&192)===128&&(pt=(Ye&31)<<6|It&63,pt>127&&(Ue=pt));break;case 3:It=ce[Fe+1],at=ce[Fe+2],(It&192)===128&&(at&192)===128&&(pt=(Ye&15)<<12|(It&63)<<6|at&63,pt>2047&&(pt<55296||pt>57343)&&(Ue=pt));break;case 4:It=ce[Fe+1],at=ce[Fe+2],ct=ce[Fe+3],(It&192)===128&&(at&192)===128&&(ct&192)===128&&(pt=(Ye&15)<<18|(It&63)<<12|(at&63)<<6|ct&63,pt>65535&&pt<1114112&&(Ue=pt))}}Ue===null?(Ue=65533,et=1):Ue>65535&&(Ue-=65536,ye.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),ye.push(Ue),Fe+=et}return w(ye)}const o=4096;function w(ce){const Q=ce.length;if(Q<=o)return String.fromCharCode.apply(String,ce);let se="",ye=0;for(;ye<Q;)se+=String.fromCharCode.apply(String,ce.slice(ye,ye+=o));return se}function I(ce,Q,se){let ye="";se=Math.min(ce.length,se);for(let Fe=Q;Fe<se;++Fe)ye+=String.fromCharCode(ce[Fe]&127);return ye}function q(ce,Q,se){let ye="";se=Math.min(ce.length,se);for(let Fe=Q;Fe<se;++Fe)ye+=String.fromCharCode(ce[Fe]);return ye}function j(ce,Q,se){const ye=ce.length;(!Q||Q<0)&&(Q=0),(!se||se<0||se>ye)&&(se=ye);let Fe="";for(let Ye=Q;Ye<se;++Ye)Fe+=Ze[ce[Ye]];return Fe}function H(ce,Q,se){const ye=ce.slice(Q,se);let Fe="";for(let Ye=0;Ye<ye.length-1;Ye+=2)Fe+=String.fromCharCode(ye[Ye]+ye[Ye+1]*256);return Fe}f.prototype.slice=function(Q,se){const ye=this.length;Q=~~Q,se=se===void 0?ye:~~se,Q<0?(Q+=ye,Q<0&&(Q=0)):Q>ye&&(Q=ye),se<0?(se+=ye,se<0&&(se=0)):se>ye&&(se=ye),se<Q&&(se=Q);const Fe=this.subarray(Q,se);return Object.setPrototypeOf(Fe,f.prototype),Fe};function ee(ce,Q,se){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+Q>se)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(Q,se,ye){Q=Q>>>0,se=se>>>0,ye||ee(Q,se,this.length);let Fe=this[Q],Ye=1,Ue=0;for(;++Ue<se&&(Ye*=256);)Fe+=this[Q+Ue]*Ye;return Fe},f.prototype.readUintBE=f.prototype.readUIntBE=function(Q,se,ye){Q=Q>>>0,se=se>>>0,ye||ee(Q,se,this.length);let Fe=this[Q+--se],Ye=1;for(;se>0&&(Ye*=256);)Fe+=this[Q+--se]*Ye;return Fe},f.prototype.readUint8=f.prototype.readUInt8=function(Q,se){return Q=Q>>>0,se||ee(Q,1,this.length),this[Q]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(Q,se){return Q=Q>>>0,se||ee(Q,2,this.length),this[Q]|this[Q+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(Q,se){return Q=Q>>>0,se||ee(Q,2,this.length),this[Q]<<8|this[Q+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},f.prototype.readBigUInt64LE=it(function(Q){Q=Q>>>0,Se(Q,"offset");const se=this[Q],ye=this[Q+7];(se===void 0||ye===void 0)&&L(Q,this.length-8);const Fe=se+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,Ye=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+ye*2**24;return BigInt(Fe)+(BigInt(Ye)<<BigInt(32))}),f.prototype.readBigUInt64BE=it(function(Q){Q=Q>>>0,Se(Q,"offset");const se=this[Q],ye=this[Q+7];(se===void 0||ye===void 0)&&L(Q,this.length-8);const Fe=se*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],Ye=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+ye;return(BigInt(Fe)<<BigInt(32))+BigInt(Ye)}),f.prototype.readIntLE=function(Q,se,ye){Q=Q>>>0,se=se>>>0,ye||ee(Q,se,this.length);let Fe=this[Q],Ye=1,Ue=0;for(;++Ue<se&&(Ye*=256);)Fe+=this[Q+Ue]*Ye;return Ye*=128,Fe>=Ye&&(Fe-=Math.pow(2,8*se)),Fe},f.prototype.readIntBE=function(Q,se,ye){Q=Q>>>0,se=se>>>0,ye||ee(Q,se,this.length);let Fe=se,Ye=1,Ue=this[Q+--Fe];for(;Fe>0&&(Ye*=256);)Ue+=this[Q+--Fe]*Ye;return Ye*=128,Ue>=Ye&&(Ue-=Math.pow(2,8*se)),Ue},f.prototype.readInt8=function(Q,se){return Q=Q>>>0,se||ee(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},f.prototype.readInt16LE=function(Q,se){Q=Q>>>0,se||ee(Q,2,this.length);const ye=this[Q]|this[Q+1]<<8;return ye&32768?ye|4294901760:ye},f.prototype.readInt16BE=function(Q,se){Q=Q>>>0,se||ee(Q,2,this.length);const ye=this[Q+1]|this[Q]<<8;return ye&32768?ye|4294901760:ye},f.prototype.readInt32LE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},f.prototype.readInt32BE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},f.prototype.readBigInt64LE=it(function(Q){Q=Q>>>0,Se(Q,"offset");const se=this[Q],ye=this[Q+7];(se===void 0||ye===void 0)&&L(Q,this.length-8);const Fe=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(ye<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(se+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216)}),f.prototype.readBigInt64BE=it(function(Q){Q=Q>>>0,Se(Q,"offset");const se=this[Q],ye=this[Q+7];(se===void 0||ye===void 0)&&L(Q,this.length-8);const Fe=(se<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+ye)}),f.prototype.readFloatLE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),A.read(this,Q,!0,23,4)},f.prototype.readFloatBE=function(Q,se){return Q=Q>>>0,se||ee(Q,4,this.length),A.read(this,Q,!1,23,4)},f.prototype.readDoubleLE=function(Q,se){return Q=Q>>>0,se||ee(Q,8,this.length),A.read(this,Q,!0,52,8)},f.prototype.readDoubleBE=function(Q,se){return Q=Q>>>0,se||ee(Q,8,this.length),A.read(this,Q,!1,52,8)};function ie(ce,Q,se,ye,Fe,Ye){if(!f.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>Fe||Q<Ye)throw new RangeError('"value" argument is out of bounds');if(se+ye>ce.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(Q,se,ye,Fe){if(Q=+Q,se=se>>>0,ye=ye>>>0,!Fe){const et=Math.pow(2,8*ye)-1;ie(this,Q,se,ye,et,0)}let Ye=1,Ue=0;for(this[se]=Q&255;++Ue<ye&&(Ye*=256);)this[se+Ue]=Q/Ye&255;return se+ye},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(Q,se,ye,Fe){if(Q=+Q,se=se>>>0,ye=ye>>>0,!Fe){const et=Math.pow(2,8*ye)-1;ie(this,Q,se,ye,et,0)}let Ye=ye-1,Ue=1;for(this[se+Ye]=Q&255;--Ye>=0&&(Ue*=256);)this[se+Ye]=Q/Ue&255;return se+ye},f.prototype.writeUint8=f.prototype.writeUInt8=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,1,255,0),this[se]=Q&255,se+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,2,65535,0),this[se]=Q&255,this[se+1]=Q>>>8,se+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,2,65535,0),this[se]=Q>>>8,this[se+1]=Q&255,se+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,4,4294967295,0),this[se+3]=Q>>>24,this[se+2]=Q>>>16,this[se+1]=Q>>>8,this[se]=Q&255,se+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,4,4294967295,0),this[se]=Q>>>24,this[se+1]=Q>>>16,this[se+2]=Q>>>8,this[se+3]=Q&255,se+4};function B(ce,Q,se,ye,Fe){ve(Q,ye,Fe,ce,se,7);let Ye=Number(Q&BigInt(4294967295));ce[se++]=Ye,Ye=Ye>>8,ce[se++]=Ye,Ye=Ye>>8,ce[se++]=Ye,Ye=Ye>>8,ce[se++]=Ye;let Ue=Number(Q>>BigInt(32)&BigInt(4294967295));return ce[se++]=Ue,Ue=Ue>>8,ce[se++]=Ue,Ue=Ue>>8,ce[se++]=Ue,Ue=Ue>>8,ce[se++]=Ue,se}function ne(ce,Q,se,ye,Fe){ve(Q,ye,Fe,ce,se,7);let Ye=Number(Q&BigInt(4294967295));ce[se+7]=Ye,Ye=Ye>>8,ce[se+6]=Ye,Ye=Ye>>8,ce[se+5]=Ye,Ye=Ye>>8,ce[se+4]=Ye;let Ue=Number(Q>>BigInt(32)&BigInt(4294967295));return ce[se+3]=Ue,Ue=Ue>>8,ce[se+2]=Ue,Ue=Ue>>8,ce[se+1]=Ue,Ue=Ue>>8,ce[se]=Ue,se+8}f.prototype.writeBigUInt64LE=it(function(Q,se=0){return B(this,Q,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=it(function(Q,se=0){return ne(this,Q,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(Q,se,ye,Fe){if(Q=+Q,se=se>>>0,!Fe){const It=Math.pow(2,8*ye-1);ie(this,Q,se,ye,It-1,-It)}let Ye=0,Ue=1,et=0;for(this[se]=Q&255;++Ye<ye&&(Ue*=256);)Q<0&&et===0&&this[se+Ye-1]!==0&&(et=1),this[se+Ye]=(Q/Ue>>0)-et&255;return se+ye},f.prototype.writeIntBE=function(Q,se,ye,Fe){if(Q=+Q,se=se>>>0,!Fe){const It=Math.pow(2,8*ye-1);ie(this,Q,se,ye,It-1,-It)}let Ye=ye-1,Ue=1,et=0;for(this[se+Ye]=Q&255;--Ye>=0&&(Ue*=256);)Q<0&&et===0&&this[se+Ye+1]!==0&&(et=1),this[se+Ye]=(Q/Ue>>0)-et&255;return se+ye},f.prototype.writeInt8=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,1,127,-128),Q<0&&(Q=255+Q+1),this[se]=Q&255,se+1},f.prototype.writeInt16LE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,2,32767,-32768),this[se]=Q&255,this[se+1]=Q>>>8,se+2},f.prototype.writeInt16BE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,2,32767,-32768),this[se]=Q>>>8,this[se+1]=Q&255,se+2},f.prototype.writeInt32LE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,4,2147483647,-2147483648),this[se]=Q&255,this[se+1]=Q>>>8,this[se+2]=Q>>>16,this[se+3]=Q>>>24,se+4},f.prototype.writeInt32BE=function(Q,se,ye){return Q=+Q,se=se>>>0,ye||ie(this,Q,se,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[se]=Q>>>24,this[se+1]=Q>>>16,this[se+2]=Q>>>8,this[se+3]=Q&255,se+4},f.prototype.writeBigInt64LE=it(function(Q,se=0){return B(this,Q,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=it(function(Q,se=0){return ne(this,Q,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(ce,Q,se,ye,Fe,Ye){if(se+ye>ce.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function pe(ce,Q,se,ye,Fe){return Q=+Q,se=se>>>0,Fe||Le(ce,Q,se,4,34028234663852886e22,-34028234663852886e22),A.write(ce,Q,se,ye,23,4),se+4}f.prototype.writeFloatLE=function(Q,se,ye){return pe(this,Q,se,!0,ye)},f.prototype.writeFloatBE=function(Q,se,ye){return pe(this,Q,se,!1,ye)};function Me(ce,Q,se,ye,Fe){return Q=+Q,se=se>>>0,Fe||Le(ce,Q,se,8,17976931348623157e292,-17976931348623157e292),A.write(ce,Q,se,ye,52,8),se+8}f.prototype.writeDoubleLE=function(Q,se,ye){return Me(this,Q,se,!0,ye)},f.prototype.writeDoubleBE=function(Q,se,ye){return Me(this,Q,se,!1,ye)},f.prototype.copy=function(Q,se,ye,Fe){if(!f.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),!Fe&&Fe!==0&&(Fe=this.length),se>=Q.length&&(se=Q.length),se||(se=0),Fe>0&&Fe<ye&&(Fe=ye),Fe===ye||Q.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),Q.length-se<Fe-ye&&(Fe=Q.length-se+ye);const Ye=Fe-ye;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,ye,Fe):Uint8Array.prototype.set.call(Q,this.subarray(ye,Fe),se),Ye},f.prototype.fill=function(Q,se,ye,Fe){if(typeof Q=="string"){if(typeof se=="string"?(Fe=se,se=0,ye=this.length):typeof ye=="string"&&(Fe=ye,ye=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!f.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(Q.length===1){const Ue=Q.charCodeAt(0);(Fe==="utf8"&&Ue<128||Fe==="latin1")&&(Q=Ue)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(se<0||this.length<se||this.length<ye)throw new RangeError("Out of range index");if(ye<=se)return this;se=se>>>0,ye=ye===void 0?this.length:ye>>>0,Q||(Q=0);let Ye;if(typeof Q=="number")for(Ye=se;Ye<ye;++Ye)this[Ye]=Q;else{const Ue=f.isBuffer(Q)?Q:f.from(Q,Fe),et=Ue.length;if(et===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(Ye=0;Ye<ye-se;++Ye)this[Ye+se]=Ue[Ye%et]}return this};const Pe={};function J(ce,Q,se){Pe[ce]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,this.stack,delete this.name}get code(){return ce}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(ce,Q){return`The "${ce}" argument must be of type number. Received type ${typeof Q}`},TypeError),J("ERR_OUT_OF_RANGE",function(ce,Q,se){let ye=`The value of "${ce}" is out of range.`,Fe=se;return Number.isInteger(se)&&Math.abs(se)>4294967296?Fe=te(String(se)):typeof se=="bigint"&&(Fe=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(Fe=te(Fe)),Fe+="n"),ye+=` It must be ${Q}. Received ${Fe}`,ye},RangeError);function te(ce){let Q="",se=ce.length;const ye=ce[0]==="-"?1:0;for(;se>=ye+4;se-=3)Q=`_${ce.slice(se-3,se)}${Q}`;return`${ce.slice(0,se)}${Q}`}function fe(ce,Q,se){Se(Q,"offset"),(ce[Q]===void 0||ce[Q+se]===void 0)&&L(Q,ce.length-(se+1))}function ve(ce,Q,se,ye,Fe,Ye){if(ce>se||ce<Q){const Ue=typeof Q=="bigint"?"n":"";let et;throw Ye>3?Q===0||Q===BigInt(0)?et=`>= 0${Ue} and < 2${Ue} ** ${(Ye+1)*8}${Ue}`:et=`>= -(2${Ue} ** ${(Ye+1)*8-1}${Ue}) and < 2 ** ${(Ye+1)*8-1}${Ue}`:et=`>= ${Q}${Ue} and <= ${se}${Ue}`,new Pe.ERR_OUT_OF_RANGE("value",et,ce)}fe(ye,Fe,Ye)}function Se(ce,Q){if(typeof ce!="number")throw new Pe.ERR_INVALID_ARG_TYPE(Q,"number",ce)}function L(ce,Q,se){throw Math.floor(ce)!==ce?(Se(ce,se),new Pe.ERR_OUT_OF_RANGE(se||"offset","an integer",ce)):Q<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${Q}`,ce)}const O=/[^+/0-9A-Za-z-_]/g;function oe(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(O,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function be(ce,Q){Q=Q||1/0;let se;const ye=ce.length;let Fe=null;const Ye=[];for(let Ue=0;Ue<ye;++Ue){if(se=ce.charCodeAt(Ue),se>55295&&se<57344){if(!Fe){if(se>56319){(Q-=3)>-1&&Ye.push(239,191,189);continue}else if(Ue+1===ye){(Q-=3)>-1&&Ye.push(239,191,189);continue}Fe=se;continue}if(se<56320){(Q-=3)>-1&&Ye.push(239,191,189),Fe=se;continue}se=(Fe-55296<<10|se-56320)+65536}else Fe&&(Q-=3)>-1&&Ye.push(239,191,189);if(Fe=null,se<128){if((Q-=1)<0)break;Ye.push(se)}else if(se<2048){if((Q-=2)<0)break;Ye.push(se>>6|192,se&63|128)}else if(se<65536){if((Q-=3)<0)break;Ye.push(se>>12|224,se>>6&63|128,se&63|128)}else if(se<1114112){if((Q-=4)<0)break;Ye.push(se>>18|240,se>>12&63|128,se>>6&63|128,se&63|128)}else throw new Error("Invalid code point")}return Ye}function ke(ce){const Q=[];for(let se=0;se<ce.length;++se)Q.push(ce.charCodeAt(se)&255);return Q}function ge(ce,Q){let se,ye,Fe;const Ye=[];for(let Ue=0;Ue<ce.length&&!((Q-=2)<0);++Ue)se=ce.charCodeAt(Ue),ye=se>>8,Fe=se%256,Ye.push(Fe),Ye.push(ye);return Ye}function De(ce){return E.toByteArray(oe(ce))}function Ge(ce,Q,se,ye){let Fe;for(Fe=0;Fe<ye&&!(Fe+se>=Q.length||Fe>=ce.length);++Fe)Q[Fe+se]=ce[Fe];return Fe}function We(ce,Q){return ce instanceof Q||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===Q.name}function Nt(ce){return ce!==ce}const Ze=function(){const ce="0123456789abcdef",Q=new Array(256);for(let se=0;se<16;++se){const ye=se*16;for(let Fe=0;Fe<16;++Fe)Q[ye+Fe]=ce[se]+ce[Fe]}return Q}();function it(ce){return typeof BigInt=="undefined"?Et:ce}function Et(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},56168:(s,G,T)=>{var E=T(92861).Buffer,A=T(88310).Transform,M=T(83141).I,S=T(56698);function d(c){A.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}S(d,A),d.prototype.update=function(c,f,h){typeof c=="string"&&(c=E.from(c,f));var _=this._update(c);return this.hashMode?this:(h&&(_=this._toString(_,h)),_)},d.prototype.setAutoPadding=function(){},d.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},d.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},d.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},d.prototype._transform=function(c,f,h){var _;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(b){_=b}finally{h(_)}},d.prototype._flush=function(c){var f;try{this.push(this.__final())}catch(h){f=h}c(f)},d.prototype._finalOrDigest=function(c){var f=this.__final()||E.alloc(0);return c&&(f=this._toString(f,c,!0)),f},d.prototype._toString=function(c,f,h){if(this._decoder||(this._decoder=new M(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var _=this._decoder.write(c);return h&&(_+=this._decoder.end()),_},s.exports=d},61324:(s,G,T)=>{var E=T(86729),A=T(39404);s.exports=function(f){return new S(f)};var M={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};M.p224=M.secp224r1,M.p256=M.secp256r1=M.prime256v1,M.p192=M.secp192r1=M.prime192v1,M.p384=M.secp384r1,M.p521=M.secp521r1;function S(c){this.curveType=M[c],this.curveType||(this.curveType={name:c}),this.curve=new E.ec(this.curveType.name),this.keys=void 0}S.prototype.generateKeys=function(c,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,f)},S.prototype.computeSecret=function(c,f,h){f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f));var _=this.curve.keyFromPublic(c).getPublic(),b=_.mul(this.keys.getPrivate()).getX();return d(b,h,this.curveType.byteLength)},S.prototype.getPublicKey=function(c,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),d(h,c)},S.prototype.getPrivateKey=function(c){return d(this.keys.getPrivate(),c)},S.prototype.setPublicKey=function(c,f){return f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f)),this.keys._importPublic(c),this},S.prototype.setPrivateKey=function(c,f){f=f||"utf8",Buffer.isBuffer(c)||(c=new Buffer(c,f));var h=new A(c);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function d(c,f,h){Array.isArray(c)||(c=c.toArray());var _=new Buffer(c);if(h&&_.length<h){var b=new Buffer(h-_.length);b.fill(0),_=Buffer.concat([b,_])}return f?_.toString(f):_}},47108:(s,G,T)=>{"use strict";var E=T(56698),A=T(88276),M=T(66011),S=T(62802),d=T(56168);function c(f){d.call(this,"digest"),this._hash=f}E(c,d),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},s.exports=function(h){return h=h.toLowerCase(),h==="md5"?new A:h==="rmd160"||h==="ripemd160"?new M:new c(S(h))}},20320:(s,G,T)=>{var E=T(88276);s.exports=function(A){return new E().update(A).digest()}},83507:(s,G,T)=>{"use strict";var E=T(56698),A=T(41800),M=T(56168),S=T(92861).Buffer,d=T(20320),c=T(66011),f=T(62802),h=S.alloc(128);function _(b,u){M.call(this,"digest"),typeof u=="string"&&(u=S.from(u));var k=b==="sha512"||b==="sha384"?128:64;if(this._alg=b,this._key=u,u.length>k){var m=b==="rmd160"?new c:f(b);u=m.update(u).digest()}else u.length<k&&(u=S.concat([u,h],k));for(var v=this._ipad=S.allocUnsafe(k),p=this._opad=S.allocUnsafe(k),C=0;C<k;C++)v[C]=u[C]^54,p[C]=u[C]^92;this._hash=b==="rmd160"?new c:f(b),this._hash.update(v)}E(_,M),_.prototype._update=function(b){this._hash.update(b)},_.prototype._final=function(){var b=this._hash.digest(),u=this._alg==="rmd160"?new c:f(this._alg);return u.update(this._opad).update(b).digest()},s.exports=function(u,k){return u=u.toLowerCase(),u==="rmd160"||u==="ripemd160"?new _("rmd160",k):u==="md5"?new A(d,k):new _(u,k)}},41800:(s,G,T)=>{"use strict";var E=T(56698),A=T(92861).Buffer,M=T(56168),S=A.alloc(128),d=64;function c(f,h){M.call(this,"digest"),typeof h=="string"&&(h=A.from(h)),this._alg=f,this._key=h,h.length>d?h=f(h):h.length<d&&(h=A.concat([h,S],d));for(var _=this._ipad=A.allocUnsafe(d),b=this._opad=A.allocUnsafe(d),u=0;u<d;u++)_[u]=h[u]^54,b[u]=h[u]^92;this._hash=[_]}E(c,M),c.prototype._update=function(f){this._hash.push(f)},c.prototype._final=function(){var f=this._alg(A.concat(this._hash));return this._alg(A.concat([this._opad,f]))},s.exports=c},74945:function(s,G){var T=typeof self!="undefined"?self:this,E=function(){function M(){this.fetch=!1,this.DOMException=T.DOMException}return M.prototype=T,new M}();(function(M){var S=function(d){var c={searchParams:"URLSearchParams"in M,iterable:"Symbol"in M&&"iterator"in Symbol,blob:"FileReader"in M&&"Blob"in M&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in M,arrayBuffer:"ArrayBuffer"in M};function f($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function($){return $&&h.indexOf(Object.prototype.toString.call($))>-1};function b($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function u($){return typeof $!="string"&&($=String($)),$}function k($){var N={next:function(){var o=$.shift();return{done:o===void 0,value:o}}};return c.iterable&&(N[Symbol.iterator]=function(){return N}),N}function m($){this.map={},$ instanceof m?$.forEach(function(N,o){this.append(o,N)},this):Array.isArray($)?$.forEach(function(N){this.append(N[0],N[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(N){this.append(N,$[N])},this)}m.prototype.append=function($,N){$=b($),N=u(N);var o=this.map[$];this.map[$]=o?o+", "+N:N},m.prototype.delete=function($){delete this.map[b($)]},m.prototype.get=function($){return $=b($),this.has($)?this.map[$]:null},m.prototype.has=function($){return this.map.hasOwnProperty(b($))},m.prototype.set=function($,N){this.map[b($)]=u(N)},m.prototype.forEach=function($,N){for(var o in this.map)this.map.hasOwnProperty(o)&&$.call(N,this.map[o],o,this)},m.prototype.keys=function(){var $=[];return this.forEach(function(N,o){$.push(o)}),k($)},m.prototype.values=function(){var $=[];return this.forEach(function(N){$.push(N)}),k($)},m.prototype.entries=function(){var $=[];return this.forEach(function(N,o){$.push([o,N])}),k($)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function v($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function p($){return new Promise(function(N,o){$.onload=function(){N($.result)},$.onerror=function(){o($.error)}})}function C($){var N=new FileReader,o=p(N);return N.readAsArrayBuffer($),o}function R($){var N=new FileReader,o=p(N);return N.readAsText($),o}function D($){for(var N=new Uint8Array($),o=new Array(N.length),w=0;w<N.length;w++)o[w]=String.fromCharCode(N[w]);return o.join("")}function F($){if($.slice)return $.slice(0);var N=new Uint8Array($.byteLength);return N.set(new Uint8Array($)),N.buffer}function z(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&f($)?(this._bodyArrayBuffer=F($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||_($))?this._bodyArrayBuffer=F($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var $=v(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var $=v(this);if($)return $;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U($){var N=$.toUpperCase();return y.indexOf(N)>-1?N:$}function W($,N){N=N||{};var o=N.body;if($ instanceof W){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,N.headers||(this.headers=new m($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!o&&$._bodyInit!=null&&(o=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new m(N.headers)),this.method=U(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function K($){var N=new FormData;return $.trim().split("&").forEach(function(o){if(o){var w=o.split("="),I=w.shift().replace(/\+/g," "),q=w.join("=").replace(/\+/g," ");N.append(decodeURIComponent(I),decodeURIComponent(q))}}),N}function Z($){var N=new m,o=$.replace(/\r?\n[\t ]+/g," ");return o.split(/\r?\n/).forEach(function(w){var I=w.split(":"),q=I.shift().trim();if(q){var j=I.join(":").trim();N.append(q,j)}}),N}z.call(W.prototype);function re($,N){N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in N?N.statusText:"OK",this.headers=new m(N.headers),this.url=N.url||"",this._initBody($)}z.call(re.prototype),re.prototype.clone=function(){return new re(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},re.error=function(){var $=new re(null,{status:0,statusText:""});return $.type="error",$};var X=[301,302,303,307,308];re.redirect=function($,N){if(X.indexOf(N)===-1)throw new RangeError("Invalid status code");return new re(null,{status:N,headers:{location:$}})},d.DOMException=M.DOMException;try{new d.DOMException}catch{d.DOMException=function(N,o){this.message=N,this.name=o;var w=Error(N);this.stack=w.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function P($,N){return new Promise(function(o,w){var I=new W($,N);if(I.signal&&I.signal.aborted)return w(new d.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function j(){q.abort()}q.onload=function(){var H={status:q.status,statusText:q.statusText,headers:Z(q.getAllResponseHeaders()||"")};H.url="responseURL"in q?q.responseURL:H.headers.get("X-Request-URL");var ee="response"in q?q.response:q.responseText;o(new re(ee,H))},q.onerror=function(){w(new TypeError("Network request failed"))},q.ontimeout=function(){w(new TypeError("Network request failed"))},q.onabort=function(){w(new d.DOMException("Aborted","AbortError"))},q.open(I.method,I.url,!0),I.credentials==="include"?q.withCredentials=!0:I.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&c.blob&&(q.responseType="blob"),I.headers.forEach(function(H,ee){q.setRequestHeader(ee,H)}),I.signal&&(I.signal.addEventListener("abort",j),q.onreadystatechange=function(){q.readyState===4&&I.signal.removeEventListener("abort",j)}),q.send(typeof I._bodyInit=="undefined"?null:I._bodyInit)})}return P.polyfill=!0,M.fetch||(M.fetch=P,M.Headers=m,M.Request=W,M.Response=re),d.Headers=m,d.Request=W,d.Response=re,d.fetch=P,Object.defineProperty(d,"__esModule",{value:!0}),d}({})})(E),E.fetch.ponyfill=!0,delete E.fetch.polyfill;var A=E;G=A.fetch,G.default=A.fetch,G.fetch=A.fetch,G.Headers=A.Headers,G.Request=A.Request,G.Response=A.Response,s.exports=G},91565:(s,G,T)=>{"use strict";var E;E=E=E=T(53209),G.n1=T(47108),E=T(83507);var A=T(55715),M=Object.keys(A),S=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(M);E=function(){return S};var d=T(78396);E=d.pbkdf2,E=d.pbkdf2Sync;var c=T(30125);E=c.Cipher,E=c.createCipher,E=c.Cipheriv,E=c.createCipheriv,E=c.Decipher,E=c.createDecipher,E=c.Decipheriv,E=c.createDecipheriv,E=c.getCiphers,E=c.listCiphers;var f=T(15380);E=f.DiffieHellmanGroup,E=f.createDiffieHellmanGroup,E=f.getDiffieHellman,E=f.createDiffieHellman,E=f.DiffieHellman;var h=T(20);E=h.createSign,E=h.Sign,E=h.createVerify,E=h.Verify,T(61324);var _=T(97168);E=_.publicEncrypt,E=_.privateEncrypt,E=_.publicDecrypt,E=_.privateDecrypt;var b=T(76983);E=b.randomFill,E=b.randomFillSync,E=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},E={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(G,T){s.exports=T()})(this,function(){"use strict";var G="millisecond",T="second",E="minute",A="hour",M="day",S="week",d="month",c="quarter",f="year",h="date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},k=function(U,W,K){var Z=String(U);return!Z||Z.length>=W?U:""+Array(W+1-Z.length).join(K)+U},m={s:k,z:function(U){var W=-U.utcOffset(),K=Math.abs(W),Z=Math.floor(K/60),re=K%60;return(W<=0?"+":"-")+k(Z,2,"0")+":"+k(re,2,"0")},m:function U(W,K){if(W.date()<K.date())return-U(K,W);var Z=12*(K.year()-W.year())+(K.month()-W.month()),re=W.clone().add(Z,d),X=K-re<0,P=W.clone().add(Z+(X?-1:1),d);return+(-(Z+(K-re)/(X?re-P:P-re))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:f,w:S,d:M,D:h,h:A,m:E,s:T,ms:G,Q:c}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},v="en",p={};p[v]=u;var C=function(U){return U instanceof z},R=function(U,W,K){var Z;if(!U)return v;if(typeof U=="string")p[U]&&(Z=U),W&&(p[U]=W,Z=U);else{var re=U.name;p[re]=U,Z=re}return!K&&Z&&(v=Z),Z||!K&&v},D=function(U,W){if(C(U))return U.clone();var K=typeof W=="object"?W:{};return K.date=U,K.args=arguments,new z(K)},F=m;F.l=R,F.i=C,F.w=function(U,W){return D(U,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var z=function(){function U(K){this.$L=R(K.locale,null,!0),this.parse(K)}var W=U.prototype;return W.parse=function(K){this.$d=function(Z){var re=Z.date,X=Z.utc;if(re===null)return new Date(NaN);if(F.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var P=re.match(_);if(P){var $=P[2]-1||0,N=(P[7]||"0").substring(0,3);return X?new Date(Date.UTC(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,N)):new Date(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,N)}}return new Date(re)}(K),this.$x=K.x||{},this.init()},W.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},W.$utils=function(){return F},W.isValid=function(){return this.$d.toString()!=="Invalid Date"},W.isSame=function(K,Z){var re=D(K);return this.startOf(Z)<=re&&re<=this.endOf(Z)},W.isAfter=function(K,Z){return D(K)<this.startOf(Z)},W.isBefore=function(K,Z){return this.endOf(Z)<D(K)},W.$g=function(K,Z,re){return F.u(K)?this[Z]:this.set(re,K)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(K,Z){var re=this,X=!!F.u(Z)||Z,P=F.p(K),$=function(ee,ie){var B=F.w(re.$u?Date.UTC(re.$y,ie,ee):new Date(re.$y,ie,ee),re);return X?B:B.endOf(M)},N=function(ee,ie){return F.w(re.toDate()[ee].apply(re.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(ie)),re)},o=this.$W,w=this.$M,I=this.$D,q="set"+(this.$u?"UTC":"");switch(P){case f:return X?$(1,0):$(31,11);case d:return X?$(1,w):$(0,w+1);case S:var j=this.$locale().weekStart||0,H=(o<j?o+7:o)-j;return $(X?I-H:I+(6-H),w);case M:case h:return N(q+"Hours",0);case A:return N(q+"Minutes",1);case E:return N(q+"Seconds",2);case T:return N(q+"Milliseconds",3);default:return this.clone()}},W.endOf=function(K){return this.startOf(K,!1)},W.$set=function(K,Z){var re,X=F.p(K),P="set"+(this.$u?"UTC":""),$=(re={},re[M]=P+"Date",re[h]=P+"Date",re[d]=P+"Month",re[f]=P+"FullYear",re[A]=P+"Hours",re[E]=P+"Minutes",re[T]=P+"Seconds",re[G]=P+"Milliseconds",re)[X],N=X===M?this.$D+(Z-this.$W):Z;if(X===d||X===f){var o=this.clone().set(h,1);o.$d[$](N),o.init(),this.$d=o.set(h,Math.min(this.$D,o.daysInMonth())).$d}else $&&this.$d[$](N);return this.init(),this},W.set=function(K,Z){return this.clone().$set(K,Z)},W.get=function(K){return this[F.p(K)]()},W.add=function(K,Z){var re,X=this;K=Number(K);var P=F.p(Z),$=function(w){var I=D(X);return F.w(I.date(I.date()+Math.round(w*K)),X)};if(P===d)return this.set(d,this.$M+K);if(P===f)return this.set(f,this.$y+K);if(P===M)return $(1);if(P===S)return $(7);var N=(re={},re[E]=6e4,re[A]=36e5,re[T]=1e3,re)[P]||1,o=this.$d.getTime()+K*N;return F.w(o,this)},W.subtract=function(K,Z){return this.add(-1*K,Z)},W.format=function(K){var Z=this;if(!this.isValid())return"Invalid Date";var re=K||"YYYY-MM-DDTHH:mm:ssZ",X=F.z(this),P=this.$locale(),$=this.$H,N=this.$m,o=this.$M,w=P.weekdays,I=P.months,q=function(ie,B,ne,Le){return ie&&(ie[B]||ie(Z,re))||ne[B].substr(0,Le)},j=function(ie){return F.s($%12||12,ie,"0")},H=P.meridiem||function(ie,B,ne){var Le=ie<12?"AM":"PM";return ne?Le.toLowerCase():Le},ee={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:F.s(o+1,2,"0"),MMM:q(P.monthsShort,o,I,3),MMMM:q(I,o),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:q(P.weekdaysMin,this.$W,w,2),ddd:q(P.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String($),HH:F.s($,2,"0"),h:j(1),hh:j(2),a:H($,N,!0),A:H($,N,!1),m:String(N),mm:F.s(N,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:X};return re.replace(b,function(ie,B){return B||ee[ie]||X.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(K,Z,re){var X,P=F.p(Z),$=D(K),N=6e4*($.utcOffset()-this.utcOffset()),o=this-$,w=F.m(this,$);return w=(X={},X[f]=w/12,X[d]=w,X[c]=w/3,X[S]=(o-N)/6048e5,X[M]=(o-N)/864e5,X[A]=o/36e5,X[E]=o/6e4,X[T]=o/1e3,X)[P]||o,re?w:F.a(w)},W.daysInMonth=function(){return this.endOf(d).$D},W.$locale=function(){return p[this.$L]},W.locale=function(K,Z){if(!K)return this.$L;var re=this.clone(),X=R(K,Z,!0);return X&&(re.$L=X),re},W.clone=function(){return F.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},U}(),y=z.prototype;return D.prototype=y,[["$ms",G],["$s",T],["$m",E],["$H",A],["$W",M],["$M",d],["$y",f],["$D",h]].forEach(function(U){y[U[1]]=function(W){return this.$g(W,U[0],U[1])}}),D.extend=function(U,W){return U.$i||(U(W,z,D),U.$i=!0),D},D.locale=R,D.isDayjs=C,D.unix=function(U){return D(1e3*U)},D.en=p[v],D.Ls=p,D.p={},D})},6279:function(s){(function(G,T){s.exports=T()})(this,function(){"use strict";return function(G,T,E){G=G||{};var A=T.prototype,M={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function S(c,f,h,_){return A.fromToBase(c,f,h,_)}E.en.relativeTime=M,A.fromToBase=function(c,f,h,_,b){for(var u,k,m,v=h.$locale().relativeTime||M,p=G.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=p.length,R=0;R<C;R+=1){var D=p[R];D.d&&(u=_?E(c).diff(h,D.d,!0):h.diff(c,D.d,!0));var F=(G.rounding||Math.round)(Math.abs(u));if(m=u>0,F<=D.r||!D.r){F<=1&&R>0&&(D=p[R-1]);var z=v[D.l];b&&(F=b(""+F)),k=typeof z=="string"?z.replace("%d",F):z(F,f,D.l,m);break}}if(f)return k;var y=m?v.future:v.past;return typeof y=="function"?y(k):y.replace("%s",k)},A.to=function(c,f){return S(c,f,this,!0)},A.from=function(c,f){return S(c,f,this)};var d=function(c){return c.$u?E.utc():E()};A.toNow=function(c){return this.to(d(this),c)},A.fromNow=function(c){return this.from(d(this),c)}}})},53581:function(s){(function(G,T){s.exports=T()})(this,function(){"use strict";return function(G,T,E){E.updateLocale=function(A,M){var S=E.Ls[A];if(S)return(M?Object.keys(M):[]).forEach(function(d){S[d]=M[d]}),S}}})},29560:(s,G,T)=>{"use strict";G.utils=T(87626),G.Cipher=T(82808),G.DES=T(82211),G.CBC=T(3389),G.EDE=T(65279)},3389:(s,G,T)=>{"use strict";var E=T(43349),A=T(56698),M={};function S(c){E.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var f=0;f<this.iv.length;f++)this.iv[f]=c[f]}function d(c){function f(u){c.call(this,u),this._cbcInit()}A(f,c);for(var h=Object.keys(M),_=0;_<h.length;_++){var b=h[_];f.prototype[b]=M[b]}return f.create=function(k){return new f(k)},f}G.instantiate=d,M._cbcInit=function(){var f=new S(this.options.iv);this._cbcState=f},M._update=function(f,h,_,b){var u=this._cbcState,k=this.constructor.super_.prototype,m=u.iv;if(this.type==="encrypt"){for(var v=0;v<this.blockSize;v++)m[v]^=f[h+v];k._update.call(this,m,0,_,b);for(var v=0;v<this.blockSize;v++)m[v]=_[b+v]}else{k._update.call(this,f,h,_,b);for(var v=0;v<this.blockSize;v++)_[b+v]^=m[v];for(var v=0;v<this.blockSize;v++)m[v]=f[h+v]}}},82808:(s,G,T)=>{"use strict";var E=T(43349);function A(M){this.options=M,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=A,A.prototype._init=function(){},A.prototype.update=function(S){return S.length===0?[]:this.type==="decrypt"?this._updateDecrypt(S):this._updateEncrypt(S)},A.prototype._buffer=function(S,d){for(var c=Math.min(this.buffer.length-this.bufferOff,S.length-d),f=0;f<c;f++)this.buffer[this.bufferOff+f]=S[d+f];return this.bufferOff+=c,c},A.prototype._flushBuffer=function(S,d){return this._update(this.buffer,0,S,d),this.bufferOff=0,this.blockSize},A.prototype._updateEncrypt=function(S){var d=0,c=0,f=(this.bufferOff+S.length)/this.blockSize|0,h=new Array(f*this.blockSize);this.bufferOff!==0&&(d+=this._buffer(S,d),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var _=S.length-(S.length-d)%this.blockSize;d<_;d+=this.blockSize)this._update(S,d,h,c),c+=this.blockSize;for(;d<S.length;d++,this.bufferOff++)this.buffer[this.bufferOff]=S[d];return h},A.prototype._updateDecrypt=function(S){for(var d=0,c=0,f=Math.ceil((this.bufferOff+S.length)/this.blockSize)-1,h=new Array(f*this.blockSize);f>0;f--)d+=this._buffer(S,d),c+=this._flushBuffer(h,c);return d+=this._buffer(S,d),h},A.prototype.final=function(S){var d;S&&(d=this.update(S));var c;return this.type==="encrypt"?c=this._finalEncrypt():c=this._finalDecrypt(),d?d.concat(c):c},A.prototype._pad=function(S,d){if(d===0)return!1;for(;d<S.length;)S[d++]=0;return!0},A.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var S=new Array(this.blockSize);return this._update(this.buffer,0,S,0),S},A.prototype._unpad=function(S){return S},A.prototype._finalDecrypt=function(){E.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var S=new Array(this.blockSize);return this._flushBuffer(S,0),this._unpad(S)}},82211:(s,G,T)=>{"use strict";var E=T(43349),A=T(56698),M=T(87626),S=T(82808);function d(){this.tmp=new Array(2),this.keys=null}function c(h){S.call(this,h);var _=new d;this._desState=_,this.deriveKeys(_,h.key)}A(c,S),s.exports=c,c.create=function(_){return new c(_)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(_,b){_.keys=new Array(32),E.equal(b.length,this.blockSize,"Invalid key length");var u=M.readUInt32BE(b,0),k=M.readUInt32BE(b,4);M.pc1(u,k,_.tmp,0),u=_.tmp[0],k=_.tmp[1];for(var m=0;m<_.keys.length;m+=2){var v=f[m>>>1];u=M.r28shl(u,v),k=M.r28shl(k,v),M.pc2(u,k,_.keys,m)}},c.prototype._update=function(_,b,u,k){var m=this._desState,v=M.readUInt32BE(_,b),p=M.readUInt32BE(_,b+4);M.ip(v,p,m.tmp,0),v=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,p,m.tmp,0):this._decrypt(m,v,p,m.tmp,0),v=m.tmp[0],p=m.tmp[1],M.writeUInt32BE(u,v,k),M.writeUInt32BE(u,p,k+4)},c.prototype._pad=function(_,b){for(var u=_.length-b,k=b;k<_.length;k++)_[k]=u;return!0},c.prototype._unpad=function(_){for(var b=_[_.length-1],u=_.length-b;u<_.length;u++)E.equal(_[u],b);return _.slice(0,_.length-b)},c.prototype._encrypt=function(_,b,u,k,m){for(var v=b,p=u,C=0;C<_.keys.length;C+=2){var R=_.keys[C],D=_.keys[C+1];M.expand(p,_.tmp,0),R^=_.tmp[0],D^=_.tmp[1];var F=M.substitute(R,D),z=M.permute(F),y=p;p=(v^z)>>>0,v=y}M.rip(p,v,k,m)},c.prototype._decrypt=function(_,b,u,k,m){for(var v=u,p=b,C=_.keys.length-2;C>=0;C-=2){var R=_.keys[C],D=_.keys[C+1];M.expand(v,_.tmp,0),R^=_.tmp[0],D^=_.tmp[1];var F=M.substitute(R,D),z=M.permute(F),y=v;v=(p^z)>>>0,p=y}M.rip(v,p,k,m)}},65279:(s,G,T)=>{"use strict";var E=T(43349),A=T(56698),M=T(82808),S=T(82211);function d(f,h){E.equal(h.length,24,"Invalid key length");var _=h.slice(0,8),b=h.slice(8,16),u=h.slice(16,24);f==="encrypt"?this.ciphers=[S.create({type:"encrypt",key:_}),S.create({type:"decrypt",key:b}),S.create({type:"encrypt",key:u})]:this.ciphers=[S.create({type:"decrypt",key:u}),S.create({type:"encrypt",key:b}),S.create({type:"decrypt",key:_})]}function c(f){M.call(this,f);var h=new d(this.type,this.options.key);this._edeState=h}A(c,M),s.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,_,b,u){var k=this._edeState;k.ciphers[0]._update(h,_,b,u),k.ciphers[1]._update(b,u,b,u),k.ciphers[2]._update(b,u,b,u)},c.prototype._pad=S.prototype._pad,c.prototype._unpad=S.prototype._unpad},87626:(s,G)=>{"use strict";G.readUInt32BE=function(S,d){var c=S[0+d]<<24|S[1+d]<<16|S[2+d]<<8|S[3+d];return c>>>0},G.writeUInt32BE=function(S,d,c){S[0+c]=d>>>24,S[1+c]=d>>>16&255,S[2+c]=d>>>8&255,S[3+c]=d&255},G.ip=function(S,d,c,f){for(var h=0,_=0,b=6;b>=0;b-=2){for(var u=0;u<=24;u+=8)h<<=1,h|=d>>>u+b&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>>u+b&1}for(var b=6;b>=0;b-=2){for(var u=1;u<=25;u+=8)_<<=1,_|=d>>>u+b&1;for(var u=1;u<=25;u+=8)_<<=1,_|=S>>>u+b&1}c[f+0]=h>>>0,c[f+1]=_>>>0},G.rip=function(S,d,c,f){for(var h=0,_=0,b=0;b<4;b++)for(var u=24;u>=0;u-=8)h<<=1,h|=d>>>u+b&1,h<<=1,h|=S>>>u+b&1;for(var b=4;b<8;b++)for(var u=24;u>=0;u-=8)_<<=1,_|=d>>>u+b&1,_<<=1,_|=S>>>u+b&1;c[f+0]=h>>>0,c[f+1]=_>>>0},G.pc1=function(S,d,c,f){for(var h=0,_=0,b=7;b>=5;b--){for(var u=0;u<=24;u+=8)h<<=1,h|=d>>u+b&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>u+b&1}for(var u=0;u<=24;u+=8)h<<=1,h|=d>>u+b&1;for(var b=1;b<=3;b++){for(var u=0;u<=24;u+=8)_<<=1,_|=d>>u+b&1;for(var u=0;u<=24;u+=8)_<<=1,_|=S>>u+b&1}for(var u=0;u<=24;u+=8)_<<=1,_|=S>>u+b&1;c[f+0]=h>>>0,c[f+1]=_>>>0},G.r28shl=function(S,d){return S<<d&268435455|S>>>28-d};var T=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];G.pc2=function(S,d,c,f){for(var h=0,_=0,b=T.length>>>1,u=0;u<b;u++)h<<=1,h|=S>>>T[u]&1;for(var u=b;u<T.length;u++)_<<=1,_|=d>>>T[u]&1;c[f+0]=h>>>0,c[f+1]=_>>>0},G.expand=function(S,d,c){var f=0,h=0;f=(S&1)<<5|S>>>27;for(var _=23;_>=15;_-=4)f<<=6,f|=S>>>_&63;for(var _=11;_>=3;_-=4)h|=S>>>_&63,h<<=6;h|=(S&31)<<1|S>>>31,d[c+0]=f>>>0,d[c+1]=h>>>0};var E=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];G.substitute=function(S,d){for(var c=0,f=0;f<4;f++){var h=S>>>18-f*6&63,_=E[f*64+h];c<<=4,c|=_}for(var f=0;f<4;f++){var h=d>>>18-f*6&63,_=E[4*64+f*64+h];c<<=4,c|=_}return c>>>0};var A=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];G.permute=function(S){for(var d=0,c=0;c<A.length;c++)d<<=1,d|=S>>>A[c]&1;return d>>>0},G.padSplit=function(S,d,c){for(var f=S.toString(2);f.length<d;)f="0"+f;for(var h=[],_=0;_<d;_+=c)h.push(f.slice(_,_+c));return h.join(" ")}},15380:(s,G,T)=>{var E=T(4934),A=T(23241),M=T(14910);function S(f){var h=new Buffer(A[f].prime,"hex"),_=new Buffer(A[f].gen,"hex");return new M(h,_)}var d={binary:!0,hex:!0,base64:!0};function c(f,h,_,b){return Buffer.isBuffer(h)||d[h]===void 0?c(f,"binary",h,_):(h=h||"binary",b=b||"binary",_=_||new Buffer([2]),Buffer.isBuffer(_)||(_=new Buffer(_,b)),typeof f=="number"?new M(E(f,_),_,!0):(Buffer.isBuffer(f)||(f=new Buffer(f,h)),new M(f,_,!0)))}G.DiffieHellmanGroup=G.createDiffieHellmanGroup=G.getDiffieHellman=S,G.createDiffieHellman=G.DiffieHellman=c},14910:(s,G,T)=>{var E=T(39404),A=T(52244),M=new A,S=new E(24),d=new E(11),c=new E(10),f=new E(3),h=new E(7),_=T(4934),b=T(53209);s.exports=p;function u(R,D){return D=D||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,D)),this._pub=new E(R),this}function k(R,D){return D=D||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,D)),this._priv=new E(R),this}var m={};function v(R,D){var F=D.toString("hex"),z=[F,R.toString(16)].join("_");if(z in m)return m[z];var y=0;if(R.isEven()||!_.simpleSieve||!_.fermatTest(R)||!M.test(R))return y+=1,F==="02"||F==="05"?y+=8:y+=4,m[z]=y,y;M.test(R.shrn(1))||(y+=2);var U;switch(F){case"02":R.mod(S).cmp(d)&&(y+=8);break;case"05":U=R.mod(c),U.cmp(f)&&U.cmp(h)&&(y+=8);break;default:y+=4}return m[z]=y,y}function p(R,D,F){this.setGenerator(D),this.__prime=new E(R),this._prime=E.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=u,this.setPrivateKey=k):this._primeCode=8}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=v(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new E(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(R){R=new E(R),R=R.toRed(this._prime);var D=R.redPow(this._priv).fromRed(),F=new Buffer(D.toArray()),z=this.getPrime();if(F.length<z.length){var y=new Buffer(z.length-F.length);y.fill(0),F=Buffer.concat([y,F])}return F},p.prototype.getPublicKey=function(D){return C(this._pub,D)},p.prototype.getPrivateKey=function(D){return C(this._priv,D)},p.prototype.getPrime=function(R){return C(this.__prime,R)},p.prototype.getGenerator=function(R){return C(this._gen,R)},p.prototype.setGenerator=function(R,D){return D=D||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,D)),this.__gen=R,this._gen=new E(R),this};function C(R,D){var F=new Buffer(R.toArray());return D?F.toString(D):F}},4934:(s,G,T)=>{var E=T(53209);s.exports=y,y.simpleSieve=F,y.fermatTest=z;var A=T(39404),M=new A(24),S=T(52244),d=new S,c=new A(1),f=new A(2),h=new A(5),_=new A(16),b=new A(8),u=new A(10),k=new A(3),m=new A(7),v=new A(11),p=new A(4),C=new A(12),R=null;function D(){if(R!==null)return R;var U=1048576,W=[];W[0]=2;for(var K=1,Z=3;Z<U;Z+=2){for(var re=Math.ceil(Math.sqrt(Z)),X=0;X<K&&W[X]<=re&&Z%W[X]!==0;X++);K!==X&&W[X]<=re||(W[K++]=Z)}return R=W,W}function F(U){for(var W=D(),K=0;K<W.length;K++)if(U.modn(W[K])===0)return U.cmpn(W[K])===0;return!0}function z(U){var W=A.mont(U);return f.toRed(W).redPow(U.subn(1)).fromRed().cmpn(1)===0}function y(U,W){if(U<16)return W===2||W===5?new A([140,123]):new A([140,39]);W=new A(W);for(var K,Z;;){for(K=new A(E(Math.ceil(U/8)));K.bitLength()>U;)K.ishrn(1);if(K.isEven()&&K.iadd(c),K.testn(1)||K.iadd(f),W.cmp(f)){if(!W.cmp(h))for(;K.mod(u).cmp(k);)K.iadd(p)}else for(;K.mod(M).cmp(v);)K.iadd(p);if(Z=K.shrn(1),F(Z)&&F(K)&&z(Z)&&z(K)&&d.test(Z)&&d.test(K))return K}}},86729:(s,G,T)=>{"use strict";var E=G;E.version=T(1636).rE,E.utils=T(47011),E.rand=T(15037),E.curve=T(894),E.curves=T(60480),E.ec=T(57447),E.eddsa=T(8650)},36677:(s,G,T)=>{"use strict";var E=T(39404),A=T(47011),M=A.getNAF,S=A.getJSF,d=A.assert;function c(h,_){this.type=h,this.p=new E(_.p,16),this.red=_.prime?E.red(_.prime):E.mont(this.p),this.zero=new E(0).toRed(this.red),this.one=new E(1).toRed(this.red),this.two=new E(2).toRed(this.red),this.n=_.n&&new E(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(_,b){d(_.precomputed);var u=_._getDoubles(),k=M(b,1,this._bitLength),m=(1<<u.step+1)-(u.step%2===0?2:1);m/=3;var v=[],p,C;for(p=0;p<k.length;p+=u.step){C=0;for(var R=p+u.step-1;R>=p;R--)C=(C<<1)+k[R];v.push(C)}for(var D=this.jpoint(null,null,null),F=this.jpoint(null,null,null),z=m;z>0;z--){for(p=0;p<v.length;p++)C=v[p],C===z?F=F.mixedAdd(u.points[p]):C===-z&&(F=F.mixedAdd(u.points[p].neg()));D=D.add(F)}return D.toP()},c.prototype._wnafMul=function(_,b){var u=4,k=_._getNAFPoints(u);u=k.wnd;for(var m=k.points,v=M(b,u,this._bitLength),p=this.jpoint(null,null,null),C=v.length-1;C>=0;C--){for(var R=0;C>=0&&v[C]===0;C--)R++;if(C>=0&&R++,p=p.dblp(R),C<0)break;var D=v[C];d(D!==0),_.type==="affine"?D>0?p=p.mixedAdd(m[D-1>>1]):p=p.mixedAdd(m[-D-1>>1].neg()):D>0?p=p.add(m[D-1>>1]):p=p.add(m[-D-1>>1].neg())}return _.type==="affine"?p.toP():p},c.prototype._wnafMulAdd=function(_,b,u,k,m){var v=this._wnafT1,p=this._wnafT2,C=this._wnafT3,R=0,D,F,z;for(D=0;D<k;D++){z=b[D];var y=z._getNAFPoints(_);v[D]=y.wnd,p[D]=y.points}for(D=k-1;D>=1;D-=2){var U=D-1,W=D;if(v[U]!==1||v[W]!==1){C[U]=M(u[U],v[U],this._bitLength),C[W]=M(u[W],v[W],this._bitLength),R=Math.max(C[U].length,R),R=Math.max(C[W].length,R);continue}var K=[b[U],null,null,b[W]];b[U].y.cmp(b[W].y)===0?(K[1]=b[U].add(b[W]),K[2]=b[U].toJ().mixedAdd(b[W].neg())):b[U].y.cmp(b[W].y.redNeg())===0?(K[1]=b[U].toJ().mixedAdd(b[W]),K[2]=b[U].add(b[W].neg())):(K[1]=b[U].toJ().mixedAdd(b[W]),K[2]=b[U].toJ().mixedAdd(b[W].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],re=S(u[U],u[W]);for(R=Math.max(re[0].length,R),C[U]=new Array(R),C[W]=new Array(R),F=0;F<R;F++){var X=re[0][F]|0,P=re[1][F]|0;C[U][F]=Z[(X+1)*3+(P+1)],C[W][F]=0,p[U]=K}}var $=this.jpoint(null,null,null),N=this._wnafT4;for(D=R;D>=0;D--){for(var o=0;D>=0;){var w=!0;for(F=0;F<k;F++)N[F]=C[F][D]|0,N[F]!==0&&(w=!1);if(!w)break;o++,D--}if(D>=0&&o++,$=$.dblp(o),D<0)break;for(F=0;F<k;F++){var I=N[F];I!==0&&(I>0?z=p[F][I-1>>1]:I<0&&(z=p[F][-I-1>>1].neg()),z.type==="affine"?$=$.mixedAdd(z):$=$.add(z))}}for(D=0;D<k;D++)p[D]=null;return m?$:$.toP()};function f(h,_){this.curve=h,this.type=_,this.precomputed=null}c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(_,b){_=A.toArray(_,b);var u=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1===2*u){_[0]===6?d(_[_.length-1]%2===0):_[0]===7&&d(_[_.length-1]%2===1);var k=this.point(_.slice(1,1+u),_.slice(1+u,1+2*u));return k}else if((_[0]===2||_[0]===3)&&_.length-1===u)return this.pointFromX(_.slice(1,1+u),_[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(_){return this.encode(_,!0)},f.prototype._encode=function(_){var b=this.curve.p.byteLength(),u=this.getX().toArray("be",b);return _?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",b))},f.prototype.encode=function(_,b){return A.encode(this._encode(b),_)},f.prototype.precompute=function(_){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,_),b.beta=this._getBeta(),this.precomputed=b,this},f.prototype._hasDoubles=function(_){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return b?b.points.length>=Math.ceil((_.bitLength()+1)/b.step):!1},f.prototype._getDoubles=function(_,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],k=this,m=0;m<b;m+=_){for(var v=0;v<_;v++)k=k.dbl();u.push(k)}return{step:_,points:u}},f.prototype._getNAFPoints=function(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],u=(1<<_)-1,k=u===1?null:this.dbl(),m=1;m<u;m++)b[m]=b[m-1].add(k);return{wnd:_,points:b}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(_){for(var b=this,u=0;u<_;u++)b=b.dbl();return b}},31298:(s,G,T)=>{"use strict";var E=T(47011),A=T(39404),M=T(56698),S=T(36677),d=E.assert;function c(h){this.twisted=(h.a|0)!==1,this.mOneA=this.twisted&&(h.a|0)===-1,this.extended=this.mOneA,S.call(this,"edwards",h),this.a=new A(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new A(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new A(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(h.c|0)===1}M(c,S),s.exports=c,c.prototype._mulA=function(_){return this.mOneA?_.redNeg():this.a.redMul(_)},c.prototype._mulC=function(_){return this.oneC?_:this.c.redMul(_)},c.prototype.jpoint=function(_,b,u,k){return this.point(_,b,u,k)},c.prototype.pointFromX=function(_,b){_=new A(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),k=this.c2.redSub(this.a.redMul(u)),m=this.one.redSub(this.c2.redMul(this.d).redMul(u)),v=k.redMul(m.redInvm()),p=v.redSqrt();if(p.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var C=p.fromRed().isOdd();return(b&&!C||!b&&C)&&(p=p.redNeg()),this.point(_,p)},c.prototype.pointFromY=function(_,b){_=new A(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),k=u.redSub(this.c2),m=u.redMul(this.d).redMul(this.c2).redSub(this.a),v=k.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(b)throw new Error("invalid point");return this.point(this.zero,_)}var p=v.redSqrt();if(p.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==b&&(p=p.redNeg()),this.point(p,_)},c.prototype.validate=function(_){if(_.isInfinity())return!0;_.normalize();var b=_.x.redSqr(),u=_.y.redSqr(),k=b.redMul(this.a).redAdd(u),m=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(u)));return k.cmp(m)===0};function f(h,_,b,u,k){S.BasePoint.call(this,h,"projective"),_===null&&b===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new A(_,16),this.y=new A(b,16),this.z=u?new A(u,16):this.curve.one,this.t=k&&new A(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}M(f,S.BasePoint),c.prototype.pointFromJSON=function(_){return f.fromJSON(this,_)},c.prototype.point=function(_,b,u,k){return new f(this,_,b,u,k)},f.fromJSON=function(_,b){return new f(_,b[0],b[1],b[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var _=this.x.redSqr(),b=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var k=this.curve._mulA(_),m=this.x.redAdd(this.y).redSqr().redISub(_).redISub(b),v=k.redAdd(b),p=v.redSub(u),C=k.redSub(b),R=m.redMul(p),D=v.redMul(C),F=m.redMul(C),z=p.redMul(v);return this.curve.point(R,D,z,F)},f.prototype._projDbl=function(){var _=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),u=this.y.redSqr(),k,m,v,p,C,R;if(this.curve.twisted){p=this.curve._mulA(b);var D=p.redAdd(u);this.zOne?(k=_.redSub(b).redSub(u).redMul(D.redSub(this.curve.two)),m=D.redMul(p.redSub(u)),v=D.redSqr().redSub(D).redSub(D)):(C=this.z.redSqr(),R=D.redSub(C).redISub(C),k=_.redSub(b).redISub(u).redMul(R),m=D.redMul(p.redSub(u)),v=D.redMul(R))}else p=b.redAdd(u),C=this.curve._mulC(this.z).redSqr(),R=p.redSub(C).redSub(C),k=this.curve._mulC(_.redISub(p)).redMul(R),m=this.curve._mulC(p).redMul(b.redISub(u)),v=p.redMul(R);return this.curve.point(k,m,v)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(_){var b=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),u=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),k=this.t.redMul(this.curve.dd).redMul(_.t),m=this.z.redMul(_.z.redAdd(_.z)),v=u.redSub(b),p=m.redSub(k),C=m.redAdd(k),R=u.redAdd(b),D=v.redMul(p),F=C.redMul(R),z=v.redMul(R),y=p.redMul(C);return this.curve.point(D,F,y,z)},f.prototype._projAdd=function(_){var b=this.z.redMul(_.z),u=b.redSqr(),k=this.x.redMul(_.x),m=this.y.redMul(_.y),v=this.curve.d.redMul(k).redMul(m),p=u.redSub(v),C=u.redAdd(v),R=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(k).redISub(m),D=b.redMul(p).redMul(R),F,z;return this.curve.twisted?(F=b.redMul(C).redMul(m.redSub(this.curve._mulA(k))),z=p.redMul(C)):(F=b.redMul(C).redMul(m.redSub(k)),z=this.curve._mulC(p).redMul(C)),this.curve.point(D,F,z)},f.prototype.add=function(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)},f.prototype.mul=function(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)},f.prototype.mulAdd=function(_,b,u){return this.curve._wnafMulAdd(1,[this,b],[_,u],2,!1)},f.prototype.jmulAdd=function(_,b,u){return this.curve._wnafMulAdd(1,[this,b],[_,u],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0},f.prototype.eqXToP=function(_){var b=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(b)===0)return!0;for(var u=_.clone(),k=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(k),this.x.cmp(b)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},894:(s,G,T)=>{"use strict";var E=G;E.base=T(36677),E.short=T(39188),E.mont=T(30370),E.edwards=T(31298)},30370:(s,G,T)=>{"use strict";var E=T(39404),A=T(56698),M=T(36677),S=T(47011);function d(f){M.call(this,"mont",f),this.a=new E(f.a,16).toRed(this.red),this.b=new E(f.b,16).toRed(this.red),this.i4=new E(4).toRed(this.red).redInvm(),this.two=new E(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}A(d,M),s.exports=d,d.prototype.validate=function(h){var _=h.normalize().x,b=_.redSqr(),u=b.redMul(_).redAdd(b.redMul(this.a)).redAdd(_),k=u.redSqrt();return k.redSqr().cmp(u)===0};function c(f,h,_){M.BasePoint.call(this,f,"projective"),h===null&&_===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new E(h,16),this.z=new E(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}A(c,M.BasePoint),d.prototype.decodePoint=function(h,_){return this.point(S.toArray(h,_),1)},d.prototype.point=function(h,_){return new c(this,h,_)},d.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,_){return new c(h,_[0],_[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z),_=h.redSqr(),b=this.x.redSub(this.z),u=b.redSqr(),k=_.redSub(u),m=_.redMul(u),v=k.redMul(u.redAdd(this.curve.a24.redMul(k)));return this.curve.point(m,v)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,_){var b=this.x.redAdd(this.z),u=this.x.redSub(this.z),k=h.x.redAdd(h.z),m=h.x.redSub(h.z),v=m.redMul(b),p=k.redMul(u),C=_.z.redMul(v.redAdd(p).redSqr()),R=_.x.redMul(v.redISub(p).redSqr());return this.curve.point(C,R)},c.prototype.mul=function(h){for(var _=h.clone(),b=this,u=this.curve.point(null,null),k=this,m=[];_.cmpn(0)!==0;_.iushrn(1))m.push(_.andln(1));for(var v=m.length-1;v>=0;v--)m[v]===0?(b=b.diffAdd(u,k),u=u.dbl()):(u=b.diffAdd(u,k),b=b.dbl());return u},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,G,T)=>{"use strict";var E=T(47011),A=T(39404),M=T(56698),S=T(36677),d=E.assert;function c(_){S.call(this,"short",_),this.a=new A(_.a,16).toRed(this.red),this.b=new A(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}M(c,S),s.exports=c,c.prototype._getEndomorphism=function(b){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,k;if(b.beta)u=new A(b.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);u=m[0].cmp(m[1])<0?m[0]:m[1],u=u.toRed(this.red)}if(b.lambda)k=new A(b.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(u))===0?k=v[0]:(k=v[1],d(this.g.mul(k).x.cmp(this.g.x.redMul(u))===0))}var p;return b.basis?p=b.basis.map(function(C){return{a:new A(C.a,16),b:new A(C.b,16)}}):p=this._getEndoBasis(k),{beta:u,lambda:k,basis:p}}},c.prototype._getEndoRoots=function(b){var u=b===this.p?this.red:A.mont(b),k=new A(2).toRed(u).redInvm(),m=k.redNeg(),v=new A(3).toRed(u).redNeg().redSqrt().redMul(k),p=m.redAdd(v).fromRed(),C=m.redSub(v).fromRed();return[p,C]},c.prototype._getEndoBasis=function(b){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=b,m=this.n.clone(),v=new A(1),p=new A(0),C=new A(0),R=new A(1),D,F,z,y,U,W,K,Z=0,re,X;k.cmpn(0)!==0;){var P=m.div(k);re=m.sub(P.mul(k)),X=C.sub(P.mul(v));var $=R.sub(P.mul(p));if(!z&&re.cmp(u)<0)D=K.neg(),F=v,z=re.neg(),y=X;else if(z&&++Z===2)break;K=re,m=k,k=re,C=v,v=X,R=p,p=$}U=re.neg(),W=X;var N=z.sqr().add(y.sqr()),o=U.sqr().add(W.sqr());return o.cmp(N)>=0&&(U=D,W=F),z.negative&&(z=z.neg(),y=y.neg()),U.negative&&(U=U.neg(),W=W.neg()),[{a:z,b:y},{a:U,b:W}]},c.prototype._endoSplit=function(b){var u=this.endo.basis,k=u[0],m=u[1],v=m.b.mul(b).divRound(this.n),p=k.b.neg().mul(b).divRound(this.n),C=v.mul(k.a),R=p.mul(m.a),D=v.mul(k.b),F=p.mul(m.b),z=b.sub(C).sub(R),y=D.add(F).neg();return{k1:z,k2:y}},c.prototype.pointFromX=function(b,u){b=new A(b,16),b.red||(b=b.toRed(this.red));var k=b.redSqr().redMul(b).redIAdd(b.redMul(this.a)).redIAdd(this.b),m=k.redSqrt();if(m.redSqr().redSub(k).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(u&&!v||!u&&v)&&(m=m.redNeg()),this.point(b,m)},c.prototype.validate=function(b){if(b.inf)return!0;var u=b.x,k=b.y,m=this.a.redMul(u),v=u.redSqr().redMul(u).redIAdd(m).redIAdd(this.b);return k.redSqr().redISub(v).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(b,u,k){for(var m=this._endoWnafT1,v=this._endoWnafT2,p=0;p<b.length;p++){var C=this._endoSplit(u[p]),R=b[p],D=R._getBeta();C.k1.negative&&(C.k1.ineg(),R=R.neg(!0)),C.k2.negative&&(C.k2.ineg(),D=D.neg(!0)),m[p*2]=R,m[p*2+1]=D,v[p*2]=C.k1,v[p*2+1]=C.k2}for(var F=this._wnafMulAdd(1,m,v,p*2,k),z=0;z<p*2;z++)m[z]=null,v[z]=null;return F};function f(_,b,u,k){S.BasePoint.call(this,_,"affine"),b===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new A(b,16),this.y=new A(u,16),k&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}M(f,S.BasePoint),c.prototype.point=function(b,u,k){return new f(this,b,u,k)},c.prototype.pointFromJSON=function(b,u){return f.fromJSON(this,b,u)},f.prototype._getBeta=function(){if(this.curve.endo){var b=this.precomputed;if(b&&b.beta)return b.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(b){var k=this.curve,m=function(v){return k.point(v.x.redMul(k.endo.beta),v.y)};b.beta=u,u.precomputed={beta:null,naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(m)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(m)}}}return u}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(b,u,k){typeof u=="string"&&(u=JSON.parse(u));var m=b.point(u[0],u[1],k);if(!u[2])return m;function v(C){return b.point(C[0],C[1],k)}var p=u[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(v))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(v))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(b){if(this.inf)return b;if(b.inf)return this;if(this.eq(b))return this.dbl();if(this.neg().eq(b))return this.curve.point(null,null);if(this.x.cmp(b.x)===0)return this.curve.point(null,null);var u=this.y.redSub(b.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(b.x).redInvm()));var k=u.redSqr().redISub(this.x).redISub(b.x),m=u.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,m)},f.prototype.dbl=function(){if(this.inf)return this;var b=this.y.redAdd(this.y);if(b.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,k=this.x.redSqr(),m=b.redInvm(),v=k.redAdd(k).redIAdd(k).redIAdd(u).redMul(m),p=v.redSqr().redISub(this.x.redAdd(this.x)),C=v.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,C)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(b){return b=new A(b,16),this.isInfinity()?this:this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve.endo?this.curve._endoWnafMulAdd([this],[b]):this.curve._wnafMul(this,b)},f.prototype.mulAdd=function(b,u,k){var m=[this,u],v=[b,k];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},f.prototype.jmulAdd=function(b,u,k){var m=[this,u],v=[b,k];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},f.prototype.eq=function(b){return this===b||this.inf===b.inf&&(this.inf||this.x.cmp(b.x)===0&&this.y.cmp(b.y)===0)},f.prototype.neg=function(b){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(b&&this.precomputed){var k=this.precomputed,m=function(v){return v.neg()};u.precomputed={naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(m)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(m)}}}return u},f.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var b=this.curve.jpoint(this.x,this.y,this.curve.one);return b};function h(_,b,u,k){S.BasePoint.call(this,_,"jacobian"),b===null&&u===null&&k===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new A(0)):(this.x=new A(b,16),this.y=new A(u,16),this.z=new A(k,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}M(h,S.BasePoint),c.prototype.jpoint=function(b,u,k){return new h(this,b,u,k)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var b=this.z.redInvm(),u=b.redSqr(),k=this.x.redMul(u),m=this.y.redMul(u).redMul(b);return this.curve.point(k,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var u=b.z.redSqr(),k=this.z.redSqr(),m=this.x.redMul(u),v=b.x.redMul(k),p=this.y.redMul(u.redMul(b.z)),C=b.y.redMul(k.redMul(this.z)),R=m.redSub(v),D=p.redSub(C);if(R.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=R.redSqr(),z=F.redMul(R),y=m.redMul(F),U=D.redSqr().redIAdd(z).redISub(y).redISub(y),W=D.redMul(y.redISub(U)).redISub(p.redMul(z)),K=this.z.redMul(b.z).redMul(R);return this.curve.jpoint(U,W,K)},h.prototype.mixedAdd=function(b){if(this.isInfinity())return b.toJ();if(b.isInfinity())return this;var u=this.z.redSqr(),k=this.x,m=b.x.redMul(u),v=this.y,p=b.y.redMul(u).redMul(this.z),C=k.redSub(m),R=v.redSub(p);if(C.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=C.redSqr(),F=D.redMul(C),z=k.redMul(D),y=R.redSqr().redIAdd(F).redISub(z).redISub(z),U=R.redMul(z.redISub(y)).redISub(v.redMul(F)),W=this.z.redMul(C);return this.curve.jpoint(y,U,W)},h.prototype.dblp=function(b){if(b===0)return this;if(this.isInfinity())return this;if(!b)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var k=this;for(u=0;u<b;u++)k=k.dbl();return k}var m=this.curve.a,v=this.curve.tinv,p=this.x,C=this.y,R=this.z,D=R.redSqr().redSqr(),F=C.redAdd(C);for(u=0;u<b;u++){var z=p.redSqr(),y=F.redSqr(),U=y.redSqr(),W=z.redAdd(z).redIAdd(z).redIAdd(m.redMul(D)),K=p.redMul(y),Z=W.redSqr().redISub(K.redAdd(K)),re=K.redISub(Z),X=W.redMul(re);X=X.redIAdd(X).redISub(U);var P=F.redMul(R);u+1<b&&(D=D.redMul(U)),p=Z,R=P,F=X}return this.curve.jpoint(p,F.redMul(v),R)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var b,u,k;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),p=v.redSqr(),C=this.x.redAdd(v).redSqr().redISub(m).redISub(p);C=C.redIAdd(C);var R=m.redAdd(m).redIAdd(m),D=R.redSqr().redISub(C).redISub(C),F=p.redIAdd(p);F=F.redIAdd(F),F=F.redIAdd(F),b=D,u=R.redMul(C.redISub(D)).redISub(F),k=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),y=this.y.redSqr(),U=y.redSqr(),W=this.x.redAdd(y).redSqr().redISub(z).redISub(U);W=W.redIAdd(W);var K=z.redAdd(z).redIAdd(z),Z=K.redSqr(),re=U.redIAdd(U);re=re.redIAdd(re),re=re.redIAdd(re),b=Z.redISub(W).redISub(W),u=K.redMul(W.redISub(b)).redISub(re),k=this.y.redMul(this.z),k=k.redIAdd(k)}return this.curve.jpoint(b,u,k)},h.prototype._threeDbl=function(){var b,u,k;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),p=v.redSqr(),C=this.x.redAdd(v).redSqr().redISub(m).redISub(p);C=C.redIAdd(C);var R=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),D=R.redSqr().redISub(C).redISub(C);b=D;var F=p.redIAdd(p);F=F.redIAdd(F),F=F.redIAdd(F),u=R.redMul(C.redISub(D)).redISub(F),k=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),y=this.y.redSqr(),U=this.x.redMul(y),W=this.x.redSub(z).redMul(this.x.redAdd(z));W=W.redAdd(W).redIAdd(W);var K=U.redIAdd(U);K=K.redIAdd(K);var Z=K.redAdd(K);b=W.redSqr().redISub(Z),k=this.y.redAdd(this.z).redSqr().redISub(y).redISub(z);var re=y.redSqr();re=re.redIAdd(re),re=re.redIAdd(re),re=re.redIAdd(re),u=W.redMul(K.redISub(b)).redISub(re)}return this.curve.jpoint(b,u,k)},h.prototype._dbl=function(){var b=this.curve.a,u=this.x,k=this.y,m=this.z,v=m.redSqr().redSqr(),p=u.redSqr(),C=k.redSqr(),R=p.redAdd(p).redIAdd(p).redIAdd(b.redMul(v)),D=u.redAdd(u);D=D.redIAdd(D);var F=D.redMul(C),z=R.redSqr().redISub(F.redAdd(F)),y=F.redISub(z),U=C.redSqr();U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var W=R.redMul(y).redISub(U),K=k.redAdd(k).redMul(m);return this.curve.jpoint(z,W,K)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var b=this.x.redSqr(),u=this.y.redSqr(),k=this.z.redSqr(),m=u.redSqr(),v=b.redAdd(b).redIAdd(b),p=v.redSqr(),C=this.x.redAdd(u).redSqr().redISub(b).redISub(m);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(p);var R=C.redSqr(),D=m.redIAdd(m);D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var F=v.redIAdd(C).redSqr().redISub(p).redISub(R).redISub(D),z=u.redMul(F);z=z.redIAdd(z),z=z.redIAdd(z);var y=this.x.redMul(R).redISub(z);y=y.redIAdd(y),y=y.redIAdd(y);var U=this.y.redMul(F.redMul(D.redISub(F)).redISub(C.redMul(R)));U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var W=this.z.redAdd(C).redSqr().redISub(k).redISub(R);return this.curve.jpoint(y,U,W)},h.prototype.mul=function(b,u){return b=new A(b,u),this.curve._wnafMul(this,b)},h.prototype.eq=function(b){if(b.type==="affine")return this.eq(b.toJ());if(this===b)return!0;var u=this.z.redSqr(),k=b.z.redSqr();if(this.x.redMul(k).redISub(b.x.redMul(u)).cmpn(0)!==0)return!1;var m=u.redMul(this.z),v=k.redMul(b.z);return this.y.redMul(v).redISub(b.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(b){var u=this.z.redSqr(),k=b.toRed(this.curve.red).redMul(u);if(this.x.cmp(k)===0)return!0;for(var m=b.clone(),v=this.curve.redN.redMul(u);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(v),this.x.cmp(k)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,G,T)=>{"use strict";var E=G,A=T(77952),M=T(894),S=T(47011),d=S.assert;function c(_){_.type==="short"?this.curve=new M.short(_):_.type==="edwards"?this.curve=new M.edwards(_):this.curve=new M.mont(_),this.g=this.curve.g,this.n=this.curve.n,this.hash=_.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}E.PresetCurve=c;function f(_,b){Object.defineProperty(E,_,{configurable:!0,enumerable:!0,get:function(){var u=new c(b);return Object.defineProperty(E,_,{configurable:!0,enumerable:!0,value:u}),u}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:A.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:A.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:A.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:A.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:A.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:A.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:A.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=T(74011)}catch{h=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:A.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})},57447:(s,G,T)=>{"use strict";var E=T(39404),A=T(32723),M=T(47011),S=T(60480),d=T(15037),c=M.assert,f=T(61200),h=T(28545);function _(b){if(!(this instanceof _))return new _(b);typeof b=="string"&&(c(Object.prototype.hasOwnProperty.call(S,b),"Unknown curve "+b),b=S[b]),b instanceof S.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}s.exports=_,_.prototype.keyPair=function(u){return new f(this,u)},_.prototype.keyFromPrivate=function(u,k){return f.fromPrivate(this,u,k)},_.prototype.keyFromPublic=function(u,k){return f.fromPublic(this,u,k)},_.prototype.genKeyPair=function(u){u||(u={});for(var k=new A({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||d(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new E(2));;){var p=new E(k.generate(m));if(!(p.cmp(v)>0))return p.iaddn(1),this.keyFromPrivate(p)}},_.prototype._truncateToN=function(u,k,m){var v;if(E.isBN(u)||typeof u=="number")u=new E(u,16),v=u.byteLength();else if(typeof u=="object")v=u.length,u=new E(u,16);else{var p=u.toString();v=p.length+1>>>1,u=new E(p,16)}typeof m!="number"&&(m=v*8);var C=m-this.n.bitLength();return C>0&&(u=u.ushrn(C)),!k&&u.cmp(this.n)>=0?u.sub(this.n):u},_.prototype.sign=function(u,k,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),k=this.keyFromPrivate(k,m),u=this._truncateToN(u,!1,v.msgBitLength);for(var p=this.n.byteLength(),C=k.getPrivate().toArray("be",p),R=u.toArray("be",p),D=new A({hash:this.hash,entropy:C,nonce:R,pers:v.pers,persEnc:v.persEnc||"utf8"}),F=this.n.sub(new E(1)),z=0;;z++){var y=v.k?v.k(z):new E(D.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(F)>=0)){var U=this.g.mul(y);if(!U.isInfinity()){var W=U.getX(),K=W.umod(this.n);if(K.cmpn(0)!==0){var Z=y.invm(this.n).mul(K.mul(k.getPrivate()).iadd(u));if(Z=Z.umod(this.n),Z.cmpn(0)!==0){var re=(U.getY().isOdd()?1:0)|(W.cmp(K)!==0?2:0);return v.canonical&&Z.cmp(this.nh)>0&&(Z=this.n.sub(Z),re^=1),new h({r:K,s:Z,recoveryParam:re})}}}}}},_.prototype.verify=function(u,k,m,v,p){p||(p={}),u=this._truncateToN(u,!1,p.msgBitLength),m=this.keyFromPublic(m,v),k=new h(k,"hex");var C=k.r,R=k.s;if(C.cmpn(1)<0||C.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var D=R.invm(this.n),F=D.mul(u).umod(this.n),z=D.mul(C).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(F,m.getPublic(),z),y.isInfinity()?!1:y.eqXToP(C)):(y=this.g.mulAdd(F,m.getPublic(),z),y.isInfinity()?!1:y.getX().umod(this.n).cmp(C)===0)},_.prototype.recoverPubKey=function(b,u,k,m){c((3&k)===k,"The recovery param is more than two bits"),u=new h(u,m);var v=this.n,p=new E(b),C=u.r,R=u.s,D=k&1,F=k>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");F?C=this.curve.pointFromX(C.add(this.curve.n),D):C=this.curve.pointFromX(C,D);var z=u.r.invm(v),y=v.sub(p).mul(z).umod(v),U=R.mul(z).umod(v);return this.g.mulAdd(y,C,U)},_.prototype.getKeyRecoveryParam=function(b,u,k,m){if(u=new h(u,m),u.recoveryParam!==null)return u.recoveryParam;for(var v=0;v<4;v++){var p;try{p=this.recoverPubKey(b,u,v)}catch{continue}if(p.eq(k))return v}throw new Error("Unable to find valid recovery factor")}},61200:(s,G,T)=>{"use strict";var E=T(39404),A=T(47011),M=A.assert;function S(d,c){this.ec=d,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}s.exports=S,S.fromPublic=function(c,f,h){return f instanceof S?f:new S(c,{pub:f,pubEnc:h})},S.fromPrivate=function(c,f,h){return f instanceof S?f:new S(c,{priv:f,privEnc:h})},S.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},S.prototype.getPublic=function(c,f){return typeof c=="string"&&(f=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),f?this.pub.encode(f,c):this.pub},S.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},S.prototype._importPrivate=function(c,f){this.priv=new E(c,f||16),this.priv=this.priv.umod(this.ec.curve.n)},S.prototype._importPublic=function(c,f){if(c.x||c.y){this.ec.curve.type==="mont"?M(c.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&M(c.x&&c.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(c.x,c.y);return}this.pub=this.ec.curve.decodePoint(c,f)},S.prototype.derive=function(c){return c.validate()||M(c.validate(),"public point not validated"),c.mul(this.priv).getX()},S.prototype.sign=function(c,f,h){return this.ec.sign(c,this,f,h)},S.prototype.verify=function(c,f,h){return this.ec.verify(c,f,this,void 0,h)},S.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,G,T)=>{"use strict";var E=T(39404),A=T(47011),M=A.assert;function S(_,b){if(_ instanceof S)return _;this._importDER(_,b)||(M(_.r&&_.s,"Signature without r or s"),this.r=new E(_.r,16),this.s=new E(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}s.exports=S;function d(){this.place=0}function c(_,b){var u=_[b.place++];if(!(u&128))return u;var k=u&15;if(k===0||k>4||_[b.place]===0)return!1;for(var m=0,v=0,p=b.place;v<k;v++,p++)m<<=8,m|=_[p],m>>>=0;return m<=127?!1:(b.place=p,m)}function f(_){for(var b=0,u=_.length-1;!_[b]&&!(_[b+1]&128)&&b<u;)b++;return b===0?_:_.slice(b)}S.prototype._importDER=function(b,u){b=A.toArray(b,u);var k=new d;if(b[k.place++]!==48)return!1;var m=c(b,k);if(m===!1||m+k.place!==b.length||b[k.place++]!==2)return!1;var v=c(b,k);if(v===!1||b[k.place]&128)return!1;var p=b.slice(k.place,v+k.place);if(k.place+=v,b[k.place++]!==2)return!1;var C=c(b,k);if(C===!1||b.length!==C+k.place||b[k.place]&128)return!1;var R=b.slice(k.place,C+k.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;return this.r=new E(p),this.s=new E(R),this.recoveryParam=null,!0};function h(_,b){if(b<128){_.push(b);return}var u=1+(Math.log(b)/Math.LN2>>>3);for(_.push(u|128);--u;)_.push(b>>>(u<<3)&255);_.push(b)}S.prototype.toDER=function(b){var u=this.r.toArray(),k=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),k[0]&128&&(k=[0].concat(k)),u=f(u),k=f(k);!k[0]&&!(k[1]&128);)k=k.slice(1);var m=[2];h(m,u.length),m=m.concat(u),m.push(2),h(m,k.length);var v=m.concat(k),p=[48];return h(p,v.length),p=p.concat(v),A.encode(p,b)}},8650:(s,G,T)=>{"use strict";var E=T(77952),A=T(60480),M=T(47011),S=M.assert,d=M.parseBytes,c=T(46661),f=T(90220);function h(_){if(S(_==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(_);_=A[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=E.sha512}s.exports=h,h.prototype.sign=function(b,u){b=d(b);var k=this.keyFromSecret(u),m=this.hashInt(k.messagePrefix(),b),v=this.g.mul(m),p=this.encodePoint(v),C=this.hashInt(p,k.pubBytes(),b).mul(k.priv()),R=m.add(C).umod(this.curve.n);return this.makeSignature({R:v,S:R,Rencoded:p})},h.prototype.verify=function(b,u,k){if(b=d(b),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var m=this.keyFromPublic(k),v=this.hashInt(u.Rencoded(),m.pubBytes(),b),p=this.g.mul(u.S()),C=u.R().add(m.pub().mul(v));return C.eq(p)},h.prototype.hashInt=function(){for(var b=this.hash(),u=0;u<arguments.length;u++)b.update(arguments[u]);return M.intFromLE(b.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(b){return c.fromPublic(this,b)},h.prototype.keyFromSecret=function(b){return c.fromSecret(this,b)},h.prototype.makeSignature=function(b){return b instanceof f?b:new f(this,b)},h.prototype.encodePoint=function(b){var u=b.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=b.getX().isOdd()?128:0,u},h.prototype.decodePoint=function(b){b=M.parseBytes(b);var u=b.length-1,k=b.slice(0,u).concat(b[u]&-129),m=(b[u]&128)!==0,v=M.intFromLE(k);return this.curve.pointFromY(v,m)},h.prototype.encodeInt=function(b){return b.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(b){return M.intFromLE(b)},h.prototype.isPoint=function(b){return b instanceof this.pointClass}},46661:(s,G,T)=>{"use strict";var E=T(47011),A=E.assert,M=E.parseBytes,S=E.cachedProperty;function d(c,f){this.eddsa=c,this._secret=M(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=M(f.pub)}d.fromPublic=function(f,h){return h instanceof d?h:new d(f,{pub:h})},d.fromSecret=function(f,h){return h instanceof d?h:new d(f,{secret:h})},d.prototype.secret=function(){return this._secret},S(d,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),S(d,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),S(d,"privBytes",function(){var f=this.eddsa,h=this.hash(),_=f.encodingLength-1,b=h.slice(0,f.encodingLength);return b[0]&=248,b[_]&=127,b[_]|=64,b}),S(d,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),S(d,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),S(d,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),d.prototype.sign=function(f){return A(this._secret,"KeyPair can only verify"),this.eddsa.sign(f,this)},d.prototype.verify=function(f,h){return this.eddsa.verify(f,h,this)},d.prototype.getSecret=function(f){return A(this._secret,"KeyPair is public only"),E.encode(this.secret(),f)},d.prototype.getPublic=function(f){return E.encode(this.pubBytes(),f)},s.exports=d},90220:(s,G,T)=>{"use strict";var E=T(39404),A=T(47011),M=A.assert,S=A.cachedProperty,d=A.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=d(h)),Array.isArray(h)&&(M(h.length===f.encodingLength*2,"Signature has invalid size"),h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),M(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof E&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}S(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),S(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),S(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),S(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return A.encode(this.toBytes(),"hex").toUpperCase()},s.exports=c},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,G,T)=>{"use strict";var E=G,A=T(39404),M=T(43349),S=T(64367);E.assert=M,E.toArray=S.toArray,E.zero2=S.zero2,E.toHex=S.toHex,E.encode=S.encode;function d(b,u,k){var m=new Array(Math.max(b.bitLength(),k)+1),v;for(v=0;v<m.length;v+=1)m[v]=0;var p=1<<u+1,C=b.clone();for(v=0;v<m.length;v++){var R,D=C.andln(p-1);C.isOdd()?(D>(p>>1)-1?R=(p>>1)-D:R=D,C.isubn(R)):R=0,m[v]=R,C.iushrn(1)}return m}E.getNAF=d;function c(b,u){var k=[[],[]];b=b.clone(),u=u.clone();for(var m=0,v=0,p;b.cmpn(-m)>0||u.cmpn(-v)>0;){var C=b.andln(3)+m&3,R=u.andln(3)+v&3;C===3&&(C=-1),R===3&&(R=-1);var D;C&1?(p=b.andln(7)+m&7,(p===3||p===5)&&R===2?D=-C:D=C):D=0,k[0].push(D);var F;R&1?(p=u.andln(7)+v&7,(p===3||p===5)&&C===2?F=-R:F=R):F=0,k[1].push(F),2*m===D+1&&(m=1-m),2*v===F+1&&(v=1-v),b.iushrn(1),u.iushrn(1)}return k}E.getJSF=c;function f(b,u,k){var m="_"+u;b.prototype[u]=function(){return this[m]!==void 0?this[m]:this[m]=k.call(this)}}E.cachedProperty=f;function h(b){return typeof b=="string"?E.toArray(b,"hex"):b}E.parseBytes=h;function _(b){return new A(b,"hex","le")}E.intFromLE=_},37007:s=>{"use strict";var G=typeof Reflect=="object"?Reflect:null,T=G&&typeof G.apply=="function"?G.apply:function(D,F,z){return Function.prototype.apply.call(D,F,z)},E;G&&typeof G.ownKeys=="function"?E=G.ownKeys:Object.getOwnPropertySymbols?E=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:E=function(D){return Object.getOwnPropertyNames(D)};function A(R){console&&console.warn&&console.warn(R)}var M=Number.isNaN||function(D){return D!==D};function S(){S.init.call(this)}s.exports=S,s.exports.once=C,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var d=10;function c(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(R){if(typeof R!="number"||R<0||M(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");d=R}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||M(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function f(R){return R._maxListeners===void 0?S.defaultMaxListeners:R._maxListeners}S.prototype.getMaxListeners=function(){return f(this)},S.prototype.emit=function(D){for(var F=[],z=1;z<arguments.length;z++)F.push(arguments[z]);var y=D==="error",U=this._events;if(U!==void 0)y=y&&U.error===void 0;else if(!y)return!1;if(y){var W;if(F.length>0&&(W=F[0]),W instanceof Error)throw W;var K=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw K.context=W,K}var Z=U[D];if(Z===void 0)return!1;if(typeof Z=="function")T(Z,this,F);else for(var re=Z.length,X=m(Z,re),z=0;z<re;++z)T(X[z],this,F);return!0};function h(R,D,F,z){var y,U,W;if(c(F),U=R._events,U===void 0?(U=R._events=Object.create(null),R._eventsCount=0):(U.newListener!==void 0&&(R.emit("newListener",D,F.listener?F.listener:F),U=R._events),W=U[D]),W===void 0)W=U[D]=F,++R._eventsCount;else if(typeof W=="function"?W=U[D]=z?[F,W]:[W,F]:z?W.unshift(F):W.push(F),y=f(R),y>0&&W.length>y&&!W.warned){W.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=R,K.type=D,K.count=W.length,A(K)}return R}S.prototype.addListener=function(D,F){return h(this,D,F,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(D,F){return h(this,D,F,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(R,D,F){var z={fired:!1,wrapFn:void 0,target:R,type:D,listener:F},y=_.bind(z);return y.listener=F,z.wrapFn=y,y}S.prototype.once=function(D,F){return c(F),this.on(D,b(this,D,F)),this},S.prototype.prependOnceListener=function(D,F){return c(F),this.prependListener(D,b(this,D,F)),this},S.prototype.removeListener=function(D,F){var z,y,U,W,K;if(c(F),y=this._events,y===void 0)return this;if(z=y[D],z===void 0)return this;if(z===F||z.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete y[D],y.removeListener&&this.emit("removeListener",D,z.listener||F));else if(typeof z!="function"){for(U=-1,W=z.length-1;W>=0;W--)if(z[W]===F||z[W].listener===F){K=z[W].listener,U=W;break}if(U<0)return this;U===0?z.shift():v(z,U),z.length===1&&(y[D]=z[0]),y.removeListener!==void 0&&this.emit("removeListener",D,K||F)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(D){var F,z,y;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[D]),this;if(arguments.length===0){var U=Object.keys(z),W;for(y=0;y<U.length;++y)W=U[y],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=z[D],typeof F=="function")this.removeListener(D,F);else if(F!==void 0)for(y=F.length-1;y>=0;y--)this.removeListener(D,F[y]);return this};function u(R,D,F){var z=R._events;if(z===void 0)return[];var y=z[D];return y===void 0?[]:typeof y=="function"?F?[y.listener||y]:[y]:F?p(y):m(y,y.length)}S.prototype.listeners=function(D){return u(this,D,!0)},S.prototype.rawListeners=function(D){return u(this,D,!1)},S.listenerCount=function(R,D){return typeof R.listenerCount=="function"?R.listenerCount(D):k.call(R,D)},S.prototype.listenerCount=k;function k(R){var D=this._events;if(D!==void 0){var F=D[R];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?E(this._events):[]};function m(R,D){for(var F=new Array(D),z=0;z<D;++z)F[z]=R[z];return F}function v(R,D){for(;D+1<R.length;D++)R[D]=R[D+1];R.pop()}function p(R){for(var D=new Array(R.length),F=0;F<D.length;++F)D[F]=R[F].listener||R[F];return D}function C(R,D){return new Promise(function(F,z){function y(){U!==void 0&&R.removeListener("error",U),F([].slice.call(arguments))}var U;D!=="error"&&(U=function(K){R.removeListener(D,y),z(K)},R.once("error",U)),R.once(D,y)})}},68078:(s,G,T)=>{var E=T(92861).Buffer,A=T(88276);function M(S,d,c,f){if(E.isBuffer(S)||(S=E.from(S,"binary")),d&&(E.isBuffer(d)||(d=E.from(d,"binary")),d.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=c/8,_=E.alloc(h),b=E.alloc(f||0),u=E.alloc(0);h>0||f>0;){var k=new A;k.update(u),k.update(S),d&&k.update(d),u=k.digest();var m=0;if(h>0){var v=_.length-h;m=Math.min(h,u.length),u.copy(_,v,0,m),h-=m}if(m<u.length&&f>0){var p=b.length-f,C=Math.min(f,u.length-m);u.copy(b,p,m,m+C),f-=C}}return u.fill(0),{key:_,iv:b}}s.exports=M},32017:s=>{"use strict";s.exports=function G(T,E){if(T===E)return!0;if(T&&E&&typeof T=="object"&&typeof E=="object"){if(T.constructor!==E.constructor)return!1;var A,M,S;if(Array.isArray(T)){if(A=T.length,A!=E.length)return!1;for(M=A;M--!==0;)if(!G(T[M],E[M]))return!1;return!0}if(T.constructor===RegExp)return T.source===E.source&&T.flags===E.flags;if(T.valueOf!==Object.prototype.valueOf)return T.valueOf()===E.valueOf();if(T.toString!==Object.prototype.toString)return T.toString()===E.toString();if(S=Object.keys(T),A=S.length,A!==Object.keys(E).length)return!1;for(M=A;M--!==0;)if(!Object.prototype.hasOwnProperty.call(E,S[M]))return!1;for(M=A;M--!==0;){var d=S[M];if(!G(T[d],E[d]))return!1}return!0}return T!==T&&E!==E}},72492:s=>{"use strict";s.exports=function(G,T){T||(T={}),typeof T=="function"&&(T={cmp:T});var E=typeof T.cycles=="boolean"?T.cycles:!1,A=T.cmp&&function(S){return function(d){return function(c,f){var h={key:c,value:d[c]},_={key:f,value:d[f]};return S(h,_)}}}(T.cmp),M=[];return function S(d){if(d&&d.toJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),d!==void 0){if(typeof d=="number")return isFinite(d)?""+d:"null";if(typeof d!="object")return JSON.stringify(d);var c,f;if(Array.isArray(d)){for(f="[",c=0;c<d.length;c++)c&&(f+=","),f+=S(d[c])||"null";return f+"]"}if(d===null)return"null";if(M.indexOf(d)!==-1){if(E)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=M.push(d)-1,_=Object.keys(d).sort(A&&A(d));for(f="",c=0;c<_.length;c++){var b=_[c],u=S(d[b]);u&&(f&&(f+=","),f+=JSON.stringify(b)+":"+u)}return M.splice(h,1),"{"+f+"}"}}(G)}},58667:(s,G,T)=>{var E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:3460}};E.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function M(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return A[b]?!1:(A[b]=!0,!0)})}E.definitions=E.definitions.concat(M(T(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var b=h.type;b.kind==="NamedType"&&_.add(b.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var d={};(function(){E.definitions.forEach(function(_){if(_.name){var b=new Set;S(_,b),d[_.name.value]=b}})})();function c(h,_){for(var b=0;b<h.definitions.length;b++){var u=h.definitions[b];if(u.name&&u.name.value==_)return u}}function f(h,_){var b={kind:h.kind,definitions:[c(h,_)]};h.hasOwnProperty("loc")&&(b.loc=h.loc);var u=d[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var v=m;m=new Set,v.forEach(function(p){if(!k.has(p)){k.add(p);var C=d[p]||new Set;C.forEach(function(R){m.add(R)})}})}return k.forEach(function(p){var C=c(h,p);C&&b.definitions.push(C)}),b}s.exports=E,s.exports.PullRequest=f(E,"PullRequest"),s.exports.PullRequestForHead=f(E,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(E,"PullRequestMergeabilityMergeRequirements"),s.exports.CreatePullRequest=f(E,"CreatePullRequest"),s.exports.RevertPullRequest=f(E,"RevertPullRequest"),s.exports.DequeuePullRequest=f(E,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(E,"EnqueuePullRequest")},8575:(s,G,T)=>{var E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4086}};E.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function M(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return A[b]?!1:(A[b]=!0,!0)})}E.definitions=E.definitions.concat(M(T(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var b=h.type;b.kind==="NamedType"&&_.add(b.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var d={};(function(){E.definitions.forEach(function(_){if(_.name){var b=new Set;S(_,b),d[_.name.value]=b}})})();function c(h,_){for(var b=0;b<h.definitions.length;b++){var u=h.definitions[b];if(u.name&&u.name.value==_)return u}}function f(h,_){var b={kind:h.kind,definitions:[c(h,_)]};h.hasOwnProperty("loc")&&(b.loc=h.loc);var u=d[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var v=m;m=new Set,v.forEach(function(p){if(!k.has(p)){k.add(p);var C=d[p]||new Set;C.forEach(function(R){m.add(R)})}})}return k.forEach(function(p){var C=c(h,p);C&&b.definitions.push(C)}),b}s.exports=E,s.exports.PullRequest=f(E,"PullRequest"),s.exports.PullRequestForHead=f(E,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(E,"PullRequestMergeabilityMergeRequirements"),s.exports.CreatePullRequest=f(E,"CreatePullRequest"),s.exports.GetRepoProjects=f(E,"GetRepoProjects"),s.exports.GetOrgProjects=f(E,"GetOrgProjects"),s.exports.AddPullRequestToProject=f(E,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=f(E,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=f(E,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(E,"EnqueuePullRequest")},87831:(s,G,T)=>{var E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:2360}};E.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}


mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var A={};function M(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return A[b]?!1:(A[b]=!0,!0)})}E.definitions=E.definitions.concat(M(T(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var b=h.type;b.kind==="NamedType"&&_.add(b.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var d={};(function(){E.definitions.forEach(function(_){if(_.name){var b=new Set;S(_,b),d[_.name.value]=b}})})();function c(h,_){for(var b=0;b<h.definitions.length;b++){var u=h.definitions[b];if(u.name&&u.name.value==_)return u}}function f(h,_){var b={kind:h.kind,definitions:[c(h,_)]};h.hasOwnProperty("loc")&&(b.loc=h.loc);var u=d[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var v=m;m=new Set,v.forEach(function(p){if(!k.has(p)){k.add(p);var C=d[p]||new Set;C.forEach(function(R){m.add(R)})}})}return k.forEach(function(p){var C=c(h,p);C&&b.definitions.push(C)}),b}s.exports=E,s.exports.PullRequest=f(E,"PullRequest"),s.exports.PullRequestForHead=f(E,"PullRequestForHead"),s.exports.CreatePullRequest=f(E,"CreatePullRequest"),s.exports.RevertPullRequest=f(E,"RevertPullRequest")},72256:s=>{var G={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:22481}};G.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				login\r
				avatarUrl\r
				id\r
				url\r
				email\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		authoredDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	user {\r
		login\r
		avatarUrl\r
		id\r
		url\r
	}\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on Node {\r
			id\r
		}\r
		... on User {\r
			email\r
		}\r
		... on Organization {\r
			email\r
		}\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				name\r
				avatarUrl\r
				url\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
				slug\r
				id\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						... on Node {\r
							id\r
						}\r
						... on Actor {\r
							login\r
							avatarUrl\r
						}\r
						... on User {\r
							url\r
							email\r
							name\r
						}\r
						... on Team { # Team is not an Actor\r
							name\r
							avatarUrl\r
							url\r
							slug\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						... on Actor {\r
							login\r
							avatarUrl\r
						}\r
						... on Node {\r
							id\r
						}\r
						... on User {\r
							url\r
							email\r
							name\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on Node {\r
			id\r
		}\r
		... on User {\r
			email\r
		}\r
		... on Organization {\r
			email\r
		}\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					login\r
					avatarUrl\r
					id\r
					name\r
					url\r
					email\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		login\r
		avatarUrl\r
		id\r
		name\r
		url\r
		email\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issue($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			assignees(first: 10) {\r
				nodes {\r
					avatarUrl\r
					email\r
					login\r
					url\r
					id\r
				}\r
			}\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
			reactions(first: 100) {\r
				totalCount\r
			}\r
			comments(first: 1) {\r
				totalCount\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueWithComments($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
			comments(first: 50) {\r
				nodes {\r
					author {\r
						login\r
						url\r
						avatarUrl\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					body\r
					databaseId\r
					reactions(first: 100) {\r
						totalCount\r
					}\r
				}\r
				totalCount\r
			}\r
			assignees(first: 10) {\r
				nodes {\r
					avatarUrl\r
					email\r
					login\r
					url\r
					id\r
				}\r
			}\r
			reactions(first: 100) {\r
				totalCount\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updatePullRequest(input: $input) {\r
		pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		assignableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issues($query: String!) {\r
	search(first: 100, type: ISSUE, query: $query) {\r
		issueCount\r
		pageInfo {\r
			hasNextPage\r
			endCursor\r
		}\r
		edges {\r
			node {\r
				... on Issue {\r
					number\r
					url\r
					state\r
					body\r
					bodyHTML\r
					title\r
					assignees(first: 10) {\r
						nodes {\r
							avatarUrl\r
							email\r
							login\r
							url\r
							id\r
						}\r
					}\r
					author {\r
						login\r
						url\r
						avatarUrl(size: 50)\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					createdAt\r
					updatedAt\r
					labels(first: 50) {\r
						nodes {\r
							name\r
							color\r
						}\r
					}\r
					id\r
					databaseId\r
					milestone {\r
						title\r
						dueOn\r
						id\r
						createdAt\r
					}\r
					repository {\r
						name\r
						owner {\r
							login\r
						}\r
						url\r
					}\r
					reactions(first: 1) {\r
						totalCount\r
					}\r
					comments(first: 1) {\r
						totalCount\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var T={};function E(c){return c.filter(function(f){if(f.kind!=="FragmentDefinition")return!0;var h=f.name.value;return T[h]?!1:(T[h]=!0,!0)})}function A(c,f){if(c.kind==="FragmentSpread")f.add(c.name.value);else if(c.kind==="VariableDefinition"){var h=c.type;h.kind==="NamedType"&&f.add(h.name.value)}c.selectionSet&&c.selectionSet.selections.forEach(function(_){A(_,f)}),c.variableDefinitions&&c.variableDefinitions.forEach(function(_){A(_,f)}),c.definitions&&c.definitions.forEach(function(_){A(_,f)})}var M={};(function(){G.definitions.forEach(function(f){if(f.name){var h=new Set;A(f,h),M[f.name.value]=h}})})();function S(c,f){for(var h=0;h<c.definitions.length;h++){var _=c.definitions[h];if(_.name&&_.name.value==f)return _}}function d(c,f){var h={kind:c.kind,definitions:[S(c,f)]};c.hasOwnProperty("loc")&&(h.loc=c.loc);var _=M[f]||new Set,b=new Set,u=new Set;for(_.forEach(function(m){u.add(m)});u.size>0;){var k=u;u=new Set,k.forEach(function(m){if(!b.has(m)){b.add(m);var v=M[m]||new Set;v.forEach(function(p){u.add(p)})}})}return b.forEach(function(m){var v=S(c,m);v&&h.definitions.push(v)}),h}s.exports=G,s.exports.TimelineEvents=d(G,"TimelineEvents"),s.exports.IssueTimelineEvents=d(G,"IssueTimelineEvents"),s.exports.LatestReviewCommit=d(G,"LatestReviewCommit"),s.exports.LatestReviews=d(G,"LatestReviews"),s.exports.GetOrganizationTeamsCount=d(G,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=d(G,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=d(G,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=d(G,"GetReviewRequests"),s.exports.GetParticipants=d(G,"GetParticipants"),s.exports.GetPendingReviewId=d(G,"GetPendingReviewId"),s.exports.PullRequestComments=d(G,"PullRequestComments"),s.exports.LegacyPullRequestComments=d(G,"LegacyPullRequestComments"),s.exports.Viewer=d(G,"Viewer"),s.exports.PullRequestFiles=d(G,"PullRequestFiles"),s.exports.Issue=d(G,"Issue"),s.exports.IssueWithComments=d(G,"IssueWithComments"),s.exports.GetUser=d(G,"GetUser"),s.exports.PullRequestMergeability=d(G,"PullRequestMergeability"),s.exports.PullRequestState=d(G,"PullRequestState"),s.exports.PullRequestTemplates=d(G,"PullRequestTemplates"),s.exports.AddComment=d(G,"AddComment"),s.exports.AddReviewThread=d(G,"AddReviewThread"),s.exports.LegacyAddReviewThread=d(G,"LegacyAddReviewThread"),s.exports.AddReviewers=d(G,"AddReviewers"),s.exports.EditComment=d(G,"EditComment"),s.exports.ReadyForReview=d(G,"ReadyForReview"),s.exports.StartReview=d(G,"StartReview"),s.exports.SubmitReview=d(G,"SubmitReview"),s.exports.DeleteReview=d(G,"DeleteReview"),s.exports.AddReaction=d(G,"AddReaction"),s.exports.DeleteReaction=d(G,"DeleteReaction"),s.exports.UpdatePullRequest=d(G,"UpdatePullRequest"),s.exports.AddIssueComment=d(G,"AddIssueComment"),s.exports.EditIssueComment=d(G,"EditIssueComment"),s.exports.GetMentionableUsers=d(G,"GetMentionableUsers"),s.exports.GetAssignableUsers=d(G,"GetAssignableUsers"),s.exports.GetBranch=d(G,"GetBranch"),s.exports.ListBranches=d(G,"ListBranches"),s.exports.MaxIssue=d(G,"MaxIssue"),s.exports.GetMilestones=d(G,"GetMilestones"),s.exports.Issues=d(G,"Issues"),s.exports.GetViewerPermission=d(G,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=d(G,"GetRepositoryForkDetails"),s.exports.GetChecks=d(G,"GetChecks"),s.exports.GetChecksWithoutSuite=d(G,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=d(G,"MergeQueueForBranch"),s.exports.GetFileContent=d(G,"GetFileContent"),s.exports.ResolveReviewThread=d(G,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=d(G,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=d(G,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=d(G,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=d(G,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=d(G,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=d(G,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=d(G,"UnmarkFileAsViewed"),s.exports.MergePullRequest=d(G,"MergePullRequest")},77358:(s,G,T)=>{var E=T(50246),A=E.parse;function M(R){return R.replace(/[\s,]+/g," ").trim()}var S={},d={};function c(R){return M(R.source.body.substring(R.start,R.end))}function f(){S={},d={}}var h=!0;function _(R){for(var D={},F=[],z=0;z<R.definitions.length;z++){var y=R.definitions[z];if(y.kind==="FragmentDefinition"){var U=y.name.value,W=c(y.loc);d.hasOwnProperty(U)&&!d[U][W]?(h&&console.warn("Warning: fragment with name "+U+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),d[U][W]=!0):d.hasOwnProperty(U)||(d[U]={},d[U][W]=!0),D[W]||(D[W]=!0,F.push(y))}else F.push(y)}return R.definitions=F,R}function b(){h=!1}function u(R,D){var F=Object.prototype.toString.call(R);if(F==="[object Array]")return R.map(function(K){return u(K,D)});if(F!=="[object Object]")throw new Error("Unexpected input.");D&&R.loc&&delete R.loc,R.loc&&(delete R.loc.startToken,delete R.loc.endToken);var z=Object.keys(R),y,U,W;for(y in z)z.hasOwnProperty(y)&&(U=R[z[y]],W=Object.prototype.toString.call(U),(W==="[object Object]"||W==="[object Array]")&&(R[z[y]]=u(U,!0)));return R}var k=!1;function m(R){var D=M(R);if(S[D])return S[D];var F=A(R,{experimentalFragmentVariables:k});if(!F||F.kind!=="Document")throw new Error("Not a valid GraphQL document.");return F=_(F),F=u(F,!1),S[D]=F,F}function v(){k=!0}function p(){k=!1}function C(){for(var R=Array.prototype.slice.call(arguments),D=R[0],F=typeof D=="string"?D:D[0],z=1;z<R.length;z++)R[z]&&R[z].kind&&R[z].kind==="Document"?F+=R[z].loc.source.body:F+=R[z],F+=D[z];return m(F)}C.default=C,C.resetCaches=f,C.disableFragmentWarnings=b,C.enableExperimentalFragmentVariables=v,C.disableExperimentalFragmentVariables=p,s.exports=C},61702:(s,G,T)=>{"use strict";function E(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(K){return typeof K}:E=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},E(U)}Object.defineProperty(G,"__esModule",{value:!0}),G.printError=y,G.GraphQLError=void 0;var A=c(T(55569)),M=T(25888),S=T(99530),d=T(40825);function c(U){return U&&U.__esModule?U:{default:U}}function f(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")}function h(U,W){for(var K=0;K<W.length;K++){var Z=W[K];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(U,Z.key,Z)}}function _(U,W,K){return W&&h(U.prototype,W),K&&h(U,K),U}function b(U,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(W&&W.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),W&&D(U,W)}function u(U){var W=C();return function(){var Z=F(U),re;if(W){var X=F(this).constructor;re=Reflect.construct(Z,arguments,X)}else re=Z.apply(this,arguments);return k(this,re)}}function k(U,W){return W&&(E(W)==="object"||typeof W=="function")?W:m(U)}function m(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function v(U){var W=typeof Map=="function"?new Map:void 0;return v=function(Z){if(Z===null||!R(Z))return Z;if(typeof Z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof W!="undefined"){if(W.has(Z))return W.get(Z);W.set(Z,re)}function re(){return p(Z,arguments,F(this).constructor)}return re.prototype=Object.create(Z.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),D(re,Z)},v(U)}function p(U,W,K){return C()?p=Reflect.construct:p=function(re,X,P){var $=[null];$.push.apply($,X);var N=Function.bind.apply(re,$),o=new N;return P&&D(o,P.prototype),o},p.apply(null,arguments)}function C(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(U){return Function.toString.call(U).indexOf("[native code]")!==-1}function D(U,W){return D=Object.setPrototypeOf||function(Z,re){return Z.__proto__=re,Z},D(U,W)}function F(U){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},F(U)}var z=function(U){b(K,U);var W=u(K);function K(Z,re,X,P,$,N,o){var w,I,q,j,H;f(this,K),H=W.call(this,Z);var ee=Array.isArray(re)?re.length!==0?re:void 0:re?[re]:void 0,ie=X;if(!ie&&ee){var B;ie=(B=ee[0].loc)===null||B===void 0?void 0:B.source}var ne=P;!ne&&ee&&(ne=ee.reduce(function(Pe,J){return J.loc&&Pe.push(J.loc.start),Pe},[])),ne&&ne.length===0&&(ne=void 0);var Le;P&&X?Le=P.map(function(Pe){return(0,S.getLocation)(X,Pe)}):ee&&(Le=ee.reduce(function(Pe,J){return J.loc&&Pe.push((0,S.getLocation)(J.loc.source,J.loc.start)),Pe},[]));var pe=o;if(pe==null&&N!=null){var Me=N.extensions;(0,A.default)(Me)&&(pe=Me)}return Object.defineProperties(m(H),{name:{value:"GraphQLError"},message:{value:Z,enumerable:!0,writable:!0},locations:{value:(w=Le)!==null&&w!==void 0?w:void 0,enumerable:Le!=null},path:{value:$!=null?$:void 0,enumerable:$!=null},nodes:{value:ee!=null?ee:void 0},source:{value:(I=ie)!==null&&I!==void 0?I:void 0},positions:{value:(q=ne)!==null&&q!==void 0?q:void 0},originalError:{value:N},extensions:{value:(j=pe)!==null&&j!==void 0?j:void 0,enumerable:pe!=null}}),N!=null&&N.stack?(Object.defineProperty(m(H),"stack",{value:N.stack,writable:!0,configurable:!0}),k(H)):(Error.captureStackTrace?Error.captureStackTrace(m(H),K):Object.defineProperty(m(H),"stack",{value:Error().stack,writable:!0,configurable:!0}),H)}return _(K,[{key:"toString",value:function(){return y(this)}},{key:M.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),K}(v(Error));G.GraphQLError=z;function y(U){var W=U.message;if(U.nodes)for(var K=0,Z=U.nodes;K<Z.length;K++){var re=Z[K];re.loc&&(W+=`

`+(0,d.printLocation)(re.loc))}else if(U.source&&U.locations)for(var X=0,P=U.locations;X<P.length;X++){var $=P[X];W+=`

`+(0,d.printSourceLocation)(U.source,$)}return W}},51352:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.syntaxError=A;var E=T(61702);function A(M,S,d){return new E.GraphQLError("Syntax Error: ".concat(d),void 0,M,[S])}},63580:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=S;var E=M(T(61321)),A=M(T(98493));function M(d){return d&&d.__esModule?d:{default:d}}function S(d){var c=d.prototype.toJSON;typeof c=="function"||(0,E.default)(0),d.prototype.inspect=c,A.default&&(d.prototype[A.default]=c)}},93028:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=T;function T(E,A){var M=!!E;if(!M)throw new Error(A)}},29657:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=c;var E=A(T(98493));function A(m){return m&&m.__esModule?m:{default:m}}function M(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(p){return typeof p}:M=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},M(m)}var S=10,d=2;function c(m){return f(m,[])}function f(m,v){switch(M(m)){case"string":return JSON.stringify(m);case"function":return m.name?"[function ".concat(m.name,"]"):"[function]";case"object":return m===null?"null":h(m,v);default:return String(m)}}function h(m,v){if(v.indexOf(m)!==-1)return"[Circular]";var p=[].concat(v,[m]),C=u(m);if(C!==void 0){var R=C.call(m);if(R!==m)return typeof R=="string"?R:f(R,p)}else if(Array.isArray(m))return b(m,p);return _(m,p)}function _(m,v){var p=Object.keys(m);if(p.length===0)return"{}";if(v.length>d)return"["+k(m)+"]";var C=p.map(function(R){var D=f(m[R],v);return R+": "+D});return"{ "+C.join(", ")+" }"}function b(m,v){if(m.length===0)return"[]";if(v.length>d)return"[Array]";for(var p=Math.min(S,m.length),C=m.length-p,R=[],D=0;D<p;++D)R.push(f(m[D],v));return C===1?R.push("... 1 more item"):C>1&&R.push("... ".concat(C," more items")),"["+R.join(", ")+"]"}function u(m){var v=m[String(E.default)];if(typeof v=="function")return v;if(typeof m.inspect=="function")return m.inspect}function k(m){var v=Object.prototype.toString.call(m).replace(/^\[object /,"").replace(/]$/,"");if(v==="Object"&&typeof m.constructor=="function"){var p=m.constructor.name;if(typeof p=="string"&&p!=="")return p}return v}},79527:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var T=function(A,M){return A instanceof M};G.default=T},61321:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=T;function T(E,A){var M=!!E;if(!M)throw new Error(A!=null?A:"Unexpected invariant triggered.")}},55569:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=E;function T(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(S){return typeof S}:T=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},T(A)}function E(A){return T(A)=="object"&&A!==null}},98493:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,E=T;G.default=E},76257:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isNode=d,G.Token=G.Location=void 0;var E=A(T(63580));function A(c){return c&&c.__esModule?c:{default:c}}var M=function(){function c(h,_,b){this.start=h.start,this.end=_.end,this.startToken=h,this.endToken=_,this.source=b}var f=c.prototype;return f.toJSON=function(){return{start:this.start,end:this.end}},c}();G.Location=M,(0,E.default)(M);var S=function(){function c(h,_,b,u,k,m,v){this.kind=h,this.start=_,this.end=b,this.line=u,this.column=k,this.value=v,this.prev=m,this.next=null}var f=c.prototype;return f.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},c}();G.Token=S,(0,E.default)(S);function d(c){return c!=null&&typeof c.kind=="string"}},69165:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.dedentBlockStringValue=T,G.getBlockStringIndentation=A,G.printBlockString=M;function T(S){var d=S.split(/\r\n|[\n\r]/g),c=A(S);if(c!==0)for(var f=1;f<d.length;f++)d[f]=d[f].slice(c);for(var h=0;h<d.length&&E(d[h]);)++h;for(var _=d.length;_>h&&E(d[_-1]);)--_;return d.slice(h,_).join(`
`)}function E(S){for(var d=0;d<S.length;++d)if(S[d]!==" "&&S[d]!=="	")return!1;return!0}function A(S){for(var d,c=!0,f=!0,h=0,_=null,b=0;b<S.length;++b)switch(S.charCodeAt(b)){case 13:S.charCodeAt(b+1)===10&&++b;case 10:c=!1,f=!0,h=0;break;case 9:case 32:++h;break;default:f&&!c&&(_===null||h<_)&&(_=h),f=!1}return(d=_)!==null&&d!==void 0?d:0}function M(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=S.indexOf(`
`)===-1,h=S[0]===" "||S[0]==="	",_=S[S.length-1]==='"',b=S[S.length-1]==="\\",u=!f||_||b||c,k="";return u&&!(f&&h)&&(k+=`
`+d),k+=d?S.replace(/\n/g,`
`+d):S,u&&(k+=`
`),'"""'+k.replace(/"""/g,'\\"""')+'"""'}},5919:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.DirectiveLocation=void 0;var T=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});G.DirectiveLocation=T},7030:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Kind=void 0;var T=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});G.Kind=T},46083:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isPunctuatorTokenKind=c,G.Lexer=void 0;var E=T(51352),A=T(76257),M=T(73038),S=T(69165),d=function(){function F(y){var U=new A.Token(M.TokenKind.SOF,0,0,0,0,null);this.source=y,this.lastToken=U,this.token=U,this.line=1,this.lineStart=0}var z=F.prototype;return z.advance=function(){this.lastToken=this.token;var U=this.token=this.lookahead();return U},z.lookahead=function(){var U=this.token;if(U.kind!==M.TokenKind.EOF)do{var W;U=(W=U.next)!==null&&W!==void 0?W:U.next=h(this,U)}while(U.kind===M.TokenKind.COMMENT);return U},F}();G.Lexer=d;function c(F){return F===M.TokenKind.BANG||F===M.TokenKind.DOLLAR||F===M.TokenKind.AMP||F===M.TokenKind.PAREN_L||F===M.TokenKind.PAREN_R||F===M.TokenKind.SPREAD||F===M.TokenKind.COLON||F===M.TokenKind.EQUALS||F===M.TokenKind.AT||F===M.TokenKind.BRACKET_L||F===M.TokenKind.BRACKET_R||F===M.TokenKind.BRACE_L||F===M.TokenKind.PIPE||F===M.TokenKind.BRACE_R}function f(F){return isNaN(F)?M.TokenKind.EOF:F<127?JSON.stringify(String.fromCharCode(F)):'"\\u'.concat(("00"+F.toString(16).toUpperCase()).slice(-4),'"')}function h(F,z){for(var y=F.source,U=y.body,W=U.length,K=z.end;K<W;){var Z=U.charCodeAt(K),re=F.line,X=1+K-F.lineStart;switch(Z){case 65279:case 9:case 32:case 44:++K;continue;case 10:++K,++F.line,F.lineStart=K;continue;case 13:U.charCodeAt(K+1)===10?K+=2:++K,++F.line,F.lineStart=K;continue;case 33:return new A.Token(M.TokenKind.BANG,K,K+1,re,X,z);case 35:return b(y,K,re,X,z);case 36:return new A.Token(M.TokenKind.DOLLAR,K,K+1,re,X,z);case 38:return new A.Token(M.TokenKind.AMP,K,K+1,re,X,z);case 40:return new A.Token(M.TokenKind.PAREN_L,K,K+1,re,X,z);case 41:return new A.Token(M.TokenKind.PAREN_R,K,K+1,re,X,z);case 46:if(U.charCodeAt(K+1)===46&&U.charCodeAt(K+2)===46)return new A.Token(M.TokenKind.SPREAD,K,K+3,re,X,z);break;case 58:return new A.Token(M.TokenKind.COLON,K,K+1,re,X,z);case 61:return new A.Token(M.TokenKind.EQUALS,K,K+1,re,X,z);case 64:return new A.Token(M.TokenKind.AT,K,K+1,re,X,z);case 91:return new A.Token(M.TokenKind.BRACKET_L,K,K+1,re,X,z);case 93:return new A.Token(M.TokenKind.BRACKET_R,K,K+1,re,X,z);case 123:return new A.Token(M.TokenKind.BRACE_L,K,K+1,re,X,z);case 124:return new A.Token(M.TokenKind.PIPE,K,K+1,re,X,z);case 125:return new A.Token(M.TokenKind.BRACE_R,K,K+1,re,X,z);case 34:return U.charCodeAt(K+1)===34&&U.charCodeAt(K+2)===34?v(y,K,re,X,z,F):m(y,K,re,X,z);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u(y,K,Z,re,X,z);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return R(y,K,re,X,z)}throw(0,E.syntaxError)(y,K,_(Z))}var P=F.line,$=1+K-F.lineStart;return new A.Token(M.TokenKind.EOF,W,W,P,$,z)}function _(F){return F<32&&F!==9&&F!==10&&F!==13?"Cannot contain the invalid character ".concat(f(F),"."):F===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(f(F),".")}function b(F,z,y,U,W){var K=F.body,Z,re=z;do Z=K.charCodeAt(++re);while(!isNaN(Z)&&(Z>31||Z===9));return new A.Token(M.TokenKind.COMMENT,z,re,y,U,W,K.slice(z+1,re))}function u(F,z,y,U,W,K){var Z=F.body,re=y,X=z,P=!1;if(re===45&&(re=Z.charCodeAt(++X)),re===48){if(re=Z.charCodeAt(++X),re>=48&&re<=57)throw(0,E.syntaxError)(F,X,"Invalid number, unexpected digit after 0: ".concat(f(re),"."))}else X=k(F,X,re),re=Z.charCodeAt(X);if(re===46&&(P=!0,re=Z.charCodeAt(++X),X=k(F,X,re),re=Z.charCodeAt(X)),(re===69||re===101)&&(P=!0,re=Z.charCodeAt(++X),(re===43||re===45)&&(re=Z.charCodeAt(++X)),X=k(F,X,re),re=Z.charCodeAt(X)),re===46||D(re))throw(0,E.syntaxError)(F,X,"Invalid number, expected digit but got: ".concat(f(re),"."));return new A.Token(P?M.TokenKind.FLOAT:M.TokenKind.INT,z,X,U,W,K,Z.slice(z,X))}function k(F,z,y){var U=F.body,W=z,K=y;if(K>=48&&K<=57){do K=U.charCodeAt(++W);while(K>=48&&K<=57);return W}throw(0,E.syntaxError)(F,W,"Invalid number, expected digit but got: ".concat(f(K),"."))}function m(F,z,y,U,W){for(var K=F.body,Z=z+1,re=Z,X=0,P="";Z<K.length&&!isNaN(X=K.charCodeAt(Z))&&X!==10&&X!==13;){if(X===34)return P+=K.slice(re,Z),new A.Token(M.TokenKind.STRING,z,Z+1,y,U,W,P);if(X<32&&X!==9)throw(0,E.syntaxError)(F,Z,"Invalid character within String: ".concat(f(X),"."));if(++Z,X===92){switch(P+=K.slice(re,Z-1),X=K.charCodeAt(Z),X){case 34:P+='"';break;case 47:P+="/";break;case 92:P+="\\";break;case 98:P+="\b";break;case 102:P+="\f";break;case 110:P+=`
`;break;case 114:P+="\r";break;case 116:P+="	";break;case 117:{var $=p(K.charCodeAt(Z+1),K.charCodeAt(Z+2),K.charCodeAt(Z+3),K.charCodeAt(Z+4));if($<0){var N=K.slice(Z+1,Z+5);throw(0,E.syntaxError)(F,Z,"Invalid character escape sequence: \\u".concat(N,"."))}P+=String.fromCharCode($),Z+=4;break}default:throw(0,E.syntaxError)(F,Z,"Invalid character escape sequence: \\".concat(String.fromCharCode(X),"."))}++Z,re=Z}}throw(0,E.syntaxError)(F,Z,"Unterminated string.")}function v(F,z,y,U,W,K){for(var Z=F.body,re=z+3,X=re,P=0,$="";re<Z.length&&!isNaN(P=Z.charCodeAt(re));){if(P===34&&Z.charCodeAt(re+1)===34&&Z.charCodeAt(re+2)===34)return $+=Z.slice(X,re),new A.Token(M.TokenKind.BLOCK_STRING,z,re+3,y,U,W,(0,S.dedentBlockStringValue)($));if(P<32&&P!==9&&P!==10&&P!==13)throw(0,E.syntaxError)(F,re,"Invalid character within String: ".concat(f(P),"."));P===10?(++re,++K.line,K.lineStart=re):P===13?(Z.charCodeAt(re+1)===10?re+=2:++re,++K.line,K.lineStart=re):P===92&&Z.charCodeAt(re+1)===34&&Z.charCodeAt(re+2)===34&&Z.charCodeAt(re+3)===34?($+=Z.slice(X,re)+'"""',re+=4,X=re):++re}throw(0,E.syntaxError)(F,re,"Unterminated string.")}function p(F,z,y,U){return C(F)<<12|C(z)<<8|C(y)<<4|C(U)}function C(F){return F>=48&&F<=57?F-48:F>=65&&F<=70?F-55:F>=97&&F<=102?F-87:-1}function R(F,z,y,U,W){for(var K=F.body,Z=K.length,re=z+1,X=0;re!==Z&&!isNaN(X=K.charCodeAt(re))&&(X===95||X>=48&&X<=57||X>=65&&X<=90||X>=97&&X<=122);)++re;return new A.Token(M.TokenKind.NAME,z,re,y,U,W,K.slice(z,re))}function D(F){return F===95||F>=65&&F<=90||F>=97&&F<=122}},99530:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getLocation=T;function T(E,A){for(var M=/\r\n|[\n\r]/g,S=1,d=A+1,c;(c=M.exec(E.body))&&c.index<A;)S+=1,d=A+1-(c.index+c[0].length);return{line:S,column:d}}},50246:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.parse=h,G.parseValue=_,G.parseType=b,G.Parser=void 0;var E=T(51352),A=T(7030),M=T(76257),S=T(73038),d=T(46876),c=T(5919),f=T(46083);function h(v,p){var C=new u(v,p);return C.parseDocument()}function _(v,p){var C=new u(v,p);C.expectToken(S.TokenKind.SOF);var R=C.parseValueLiteral(!1);return C.expectToken(S.TokenKind.EOF),R}function b(v,p){var C=new u(v,p);C.expectToken(S.TokenKind.SOF);var R=C.parseTypeReference();return C.expectToken(S.TokenKind.EOF),R}var u=function(){function v(C,R){var D=(0,d.isSource)(C)?C:new d.Source(C);this._lexer=new f.Lexer(D),this._options=R}var p=v.prototype;return p.parseName=function(){var R=this.expectToken(S.TokenKind.NAME);return{kind:A.Kind.NAME,value:R.value,loc:this.loc(R)}},p.parseDocument=function(){var R=this._lexer.token;return{kind:A.Kind.DOCUMENT,definitions:this.many(S.TokenKind.SOF,this.parseDefinition,S.TokenKind.EOF),loc:this.loc(R)}},p.parseDefinition=function(){if(this.peek(S.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(S.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},p.parseOperationDefinition=function(){var R=this._lexer.token;if(this.peek(S.TokenKind.BRACE_L))return{kind:A.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(R)};var D=this.parseOperationType(),F;return this.peek(S.TokenKind.NAME)&&(F=this.parseName()),{kind:A.Kind.OPERATION_DEFINITION,operation:D,name:F,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}},p.parseOperationType=function(){var R=this.expectToken(S.TokenKind.NAME);switch(R.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(R)},p.parseVariableDefinitions=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseVariableDefinition,S.TokenKind.PAREN_R)},p.parseVariableDefinition=function(){var R=this._lexer.token;return{kind:A.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(S.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(S.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(R)}},p.parseVariable=function(){var R=this._lexer.token;return this.expectToken(S.TokenKind.DOLLAR),{kind:A.Kind.VARIABLE,name:this.parseName(),loc:this.loc(R)}},p.parseSelectionSet=function(){var R=this._lexer.token;return{kind:A.Kind.SELECTION_SET,selections:this.many(S.TokenKind.BRACE_L,this.parseSelection,S.TokenKind.BRACE_R),loc:this.loc(R)}},p.parseSelection=function(){return this.peek(S.TokenKind.SPREAD)?this.parseFragment():this.parseField()},p.parseField=function(){var R=this._lexer.token,D=this.parseName(),F,z;return this.expectOptionalToken(S.TokenKind.COLON)?(F=D,z=this.parseName()):z=D,{kind:A.Kind.FIELD,alias:F,name:z,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(S.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(R)}},p.parseArguments=function(R){var D=R?this.parseConstArgument:this.parseArgument;return this.optionalMany(S.TokenKind.PAREN_L,D,S.TokenKind.PAREN_R)},p.parseArgument=function(){var R=this._lexer.token,D=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:A.Kind.ARGUMENT,name:D,value:this.parseValueLiteral(!1),loc:this.loc(R)}},p.parseConstArgument=function(){var R=this._lexer.token;return{kind:A.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(S.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(R)}},p.parseFragment=function(){var R=this._lexer.token;this.expectToken(S.TokenKind.SPREAD);var D=this.expectOptionalKeyword("on");return!D&&this.peek(S.TokenKind.NAME)?{kind:A.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(R)}:{kind:A.Kind.INLINE_FRAGMENT,typeCondition:D?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}},p.parseFragmentDefinition=function(){var R,D=this._lexer.token;return this.expectKeyword("fragment"),((R=this._options)===null||R===void 0?void 0:R.experimentalFragmentVariables)===!0?{kind:A.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}:{kind:A.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}},p.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},p.parseValueLiteral=function(R){var D=this._lexer.token;switch(D.kind){case S.TokenKind.BRACKET_L:return this.parseList(R);case S.TokenKind.BRACE_L:return this.parseObject(R);case S.TokenKind.INT:return this._lexer.advance(),{kind:A.Kind.INT,value:D.value,loc:this.loc(D)};case S.TokenKind.FLOAT:return this._lexer.advance(),{kind:A.Kind.FLOAT,value:D.value,loc:this.loc(D)};case S.TokenKind.STRING:case S.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case S.TokenKind.NAME:switch(this._lexer.advance(),D.value){case"true":return{kind:A.Kind.BOOLEAN,value:!0,loc:this.loc(D)};case"false":return{kind:A.Kind.BOOLEAN,value:!1,loc:this.loc(D)};case"null":return{kind:A.Kind.NULL,loc:this.loc(D)};default:return{kind:A.Kind.ENUM,value:D.value,loc:this.loc(D)}}case S.TokenKind.DOLLAR:if(!R)return this.parseVariable();break}throw this.unexpected()},p.parseStringLiteral=function(){var R=this._lexer.token;return this._lexer.advance(),{kind:A.Kind.STRING,value:R.value,block:R.kind===S.TokenKind.BLOCK_STRING,loc:this.loc(R)}},p.parseList=function(R){var D=this,F=this._lexer.token,z=function(){return D.parseValueLiteral(R)};return{kind:A.Kind.LIST,values:this.any(S.TokenKind.BRACKET_L,z,S.TokenKind.BRACKET_R),loc:this.loc(F)}},p.parseObject=function(R){var D=this,F=this._lexer.token,z=function(){return D.parseObjectField(R)};return{kind:A.Kind.OBJECT,fields:this.any(S.TokenKind.BRACE_L,z,S.TokenKind.BRACE_R),loc:this.loc(F)}},p.parseObjectField=function(R){var D=this._lexer.token,F=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:A.Kind.OBJECT_FIELD,name:F,value:this.parseValueLiteral(R),loc:this.loc(D)}},p.parseDirectives=function(R){for(var D=[];this.peek(S.TokenKind.AT);)D.push(this.parseDirective(R));return D},p.parseDirective=function(R){var D=this._lexer.token;return this.expectToken(S.TokenKind.AT),{kind:A.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(R),loc:this.loc(D)}},p.parseTypeReference=function(){var R=this._lexer.token,D;return this.expectOptionalToken(S.TokenKind.BRACKET_L)?(D=this.parseTypeReference(),this.expectToken(S.TokenKind.BRACKET_R),D={kind:A.Kind.LIST_TYPE,type:D,loc:this.loc(R)}):D=this.parseNamedType(),this.expectOptionalToken(S.TokenKind.BANG)?{kind:A.Kind.NON_NULL_TYPE,type:D,loc:this.loc(R)}:D},p.parseNamedType=function(){var R=this._lexer.token;return{kind:A.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(R)}},p.parseTypeSystemDefinition=function(){var R=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(R.kind===S.TokenKind.NAME)switch(R.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(R)},p.peekDescription=function(){return this.peek(S.TokenKind.STRING)||this.peek(S.TokenKind.BLOCK_STRING)},p.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},p.parseSchemaDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("schema");var F=this.parseDirectives(!0),z=this.many(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);return{kind:A.Kind.SCHEMA_DEFINITION,description:D,directives:F,operationTypes:z,loc:this.loc(R)}},p.parseOperationTypeDefinition=function(){var R=this._lexer.token,D=this.parseOperationType();this.expectToken(S.TokenKind.COLON);var F=this.parseNamedType();return{kind:A.Kind.OPERATION_TYPE_DEFINITION,operation:D,type:F,loc:this.loc(R)}},p.parseScalarTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("scalar");var F=this.parseName(),z=this.parseDirectives(!0);return{kind:A.Kind.SCALAR_TYPE_DEFINITION,description:D,name:F,directives:z,loc:this.loc(R)}},p.parseObjectTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("type");var F=this.parseName(),z=this.parseImplementsInterfaces(),y=this.parseDirectives(!0),U=this.parseFieldsDefinition();return{kind:A.Kind.OBJECT_TYPE_DEFINITION,description:D,name:F,interfaces:z,directives:y,fields:U,loc:this.loc(R)}},p.parseImplementsInterfaces=function(){var R;if(!this.expectOptionalKeyword("implements"))return[];if(((R=this._options)===null||R===void 0?void 0:R.allowLegacySDLImplementsInterfaces)===!0){var D=[];this.expectOptionalToken(S.TokenKind.AMP);do D.push(this.parseNamedType());while(this.expectOptionalToken(S.TokenKind.AMP)||this.peek(S.TokenKind.NAME));return D}return this.delimitedMany(S.TokenKind.AMP,this.parseNamedType)},p.parseFieldsDefinition=function(){var R;return((R=this._options)===null||R===void 0?void 0:R.allowLegacySDLEmptyFields)===!0&&this.peek(S.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===S.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(S.TokenKind.BRACE_L,this.parseFieldDefinition,S.TokenKind.BRACE_R)},p.parseFieldDefinition=function(){var R=this._lexer.token,D=this.parseDescription(),F=this.parseName(),z=this.parseArgumentDefs();this.expectToken(S.TokenKind.COLON);var y=this.parseTypeReference(),U=this.parseDirectives(!0);return{kind:A.Kind.FIELD_DEFINITION,description:D,name:F,arguments:z,type:y,directives:U,loc:this.loc(R)}},p.parseArgumentDefs=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseInputValueDef,S.TokenKind.PAREN_R)},p.parseInputValueDef=function(){var R=this._lexer.token,D=this.parseDescription(),F=this.parseName();this.expectToken(S.TokenKind.COLON);var z=this.parseTypeReference(),y;this.expectOptionalToken(S.TokenKind.EQUALS)&&(y=this.parseValueLiteral(!0));var U=this.parseDirectives(!0);return{kind:A.Kind.INPUT_VALUE_DEFINITION,description:D,name:F,type:z,defaultValue:y,directives:U,loc:this.loc(R)}},p.parseInterfaceTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("interface");var F=this.parseName(),z=this.parseImplementsInterfaces(),y=this.parseDirectives(!0),U=this.parseFieldsDefinition();return{kind:A.Kind.INTERFACE_TYPE_DEFINITION,description:D,name:F,interfaces:z,directives:y,fields:U,loc:this.loc(R)}},p.parseUnionTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("union");var F=this.parseName(),z=this.parseDirectives(!0),y=this.parseUnionMemberTypes();return{kind:A.Kind.UNION_TYPE_DEFINITION,description:D,name:F,directives:z,types:y,loc:this.loc(R)}},p.parseUnionMemberTypes=function(){return this.expectOptionalToken(S.TokenKind.EQUALS)?this.delimitedMany(S.TokenKind.PIPE,this.parseNamedType):[]},p.parseEnumTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("enum");var F=this.parseName(),z=this.parseDirectives(!0),y=this.parseEnumValuesDefinition();return{kind:A.Kind.ENUM_TYPE_DEFINITION,description:D,name:F,directives:z,values:y,loc:this.loc(R)}},p.parseEnumValuesDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseEnumValueDefinition,S.TokenKind.BRACE_R)},p.parseEnumValueDefinition=function(){var R=this._lexer.token,D=this.parseDescription(),F=this.parseName(),z=this.parseDirectives(!0);return{kind:A.Kind.ENUM_VALUE_DEFINITION,description:D,name:F,directives:z,loc:this.loc(R)}},p.parseInputObjectTypeDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("input");var F=this.parseName(),z=this.parseDirectives(!0),y=this.parseInputFieldsDefinition();return{kind:A.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:D,name:F,directives:z,fields:y,loc:this.loc(R)}},p.parseInputFieldsDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseInputValueDef,S.TokenKind.BRACE_R)},p.parseTypeSystemExtension=function(){var R=this._lexer.lookahead();if(R.kind===S.TokenKind.NAME)switch(R.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(R)},p.parseSchemaExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var D=this.parseDirectives(!0),F=this.optionalMany(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);if(D.length===0&&F.length===0)throw this.unexpected();return{kind:A.Kind.SCHEMA_EXTENSION,directives:D,operationTypes:F,loc:this.loc(R)}},p.parseScalarTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var D=this.parseName(),F=this.parseDirectives(!0);if(F.length===0)throw this.unexpected();return{kind:A.Kind.SCALAR_TYPE_EXTENSION,name:D,directives:F,loc:this.loc(R)}},p.parseObjectTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var D=this.parseName(),F=this.parseImplementsInterfaces(),z=this.parseDirectives(!0),y=this.parseFieldsDefinition();if(F.length===0&&z.length===0&&y.length===0)throw this.unexpected();return{kind:A.Kind.OBJECT_TYPE_EXTENSION,name:D,interfaces:F,directives:z,fields:y,loc:this.loc(R)}},p.parseInterfaceTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var D=this.parseName(),F=this.parseImplementsInterfaces(),z=this.parseDirectives(!0),y=this.parseFieldsDefinition();if(F.length===0&&z.length===0&&y.length===0)throw this.unexpected();return{kind:A.Kind.INTERFACE_TYPE_EXTENSION,name:D,interfaces:F,directives:z,fields:y,loc:this.loc(R)}},p.parseUnionTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var D=this.parseName(),F=this.parseDirectives(!0),z=this.parseUnionMemberTypes();if(F.length===0&&z.length===0)throw this.unexpected();return{kind:A.Kind.UNION_TYPE_EXTENSION,name:D,directives:F,types:z,loc:this.loc(R)}},p.parseEnumTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var D=this.parseName(),F=this.parseDirectives(!0),z=this.parseEnumValuesDefinition();if(F.length===0&&z.length===0)throw this.unexpected();return{kind:A.Kind.ENUM_TYPE_EXTENSION,name:D,directives:F,values:z,loc:this.loc(R)}},p.parseInputObjectTypeExtension=function(){var R=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var D=this.parseName(),F=this.parseDirectives(!0),z=this.parseInputFieldsDefinition();if(F.length===0&&z.length===0)throw this.unexpected();return{kind:A.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:D,directives:F,fields:z,loc:this.loc(R)}},p.parseDirectiveDefinition=function(){var R=this._lexer.token,D=this.parseDescription();this.expectKeyword("directive"),this.expectToken(S.TokenKind.AT);var F=this.parseName(),z=this.parseArgumentDefs(),y=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var U=this.parseDirectiveLocations();return{kind:A.Kind.DIRECTIVE_DEFINITION,description:D,name:F,arguments:z,repeatable:y,locations:U,loc:this.loc(R)}},p.parseDirectiveLocations=function(){return this.delimitedMany(S.TokenKind.PIPE,this.parseDirectiveLocation)},p.parseDirectiveLocation=function(){var R=this._lexer.token,D=this.parseName();if(c.DirectiveLocation[D.value]!==void 0)return D;throw this.unexpected(R)},p.loc=function(R){var D;if(((D=this._options)===null||D===void 0?void 0:D.noLocation)!==!0)return new M.Location(R,this._lexer.lastToken,this._lexer.source)},p.peek=function(R){return this._lexer.token.kind===R},p.expectToken=function(R){var D=this._lexer.token;if(D.kind===R)return this._lexer.advance(),D;throw(0,E.syntaxError)(this._lexer.source,D.start,"Expected ".concat(m(R),", found ").concat(k(D),"."))},p.expectOptionalToken=function(R){var D=this._lexer.token;if(D.kind===R)return this._lexer.advance(),D},p.expectKeyword=function(R){var D=this._lexer.token;if(D.kind===S.TokenKind.NAME&&D.value===R)this._lexer.advance();else throw(0,E.syntaxError)(this._lexer.source,D.start,'Expected "'.concat(R,'", found ').concat(k(D),"."))},p.expectOptionalKeyword=function(R){var D=this._lexer.token;return D.kind===S.TokenKind.NAME&&D.value===R?(this._lexer.advance(),!0):!1},p.unexpected=function(R){var D=R!=null?R:this._lexer.token;return(0,E.syntaxError)(this._lexer.source,D.start,"Unexpected ".concat(k(D),"."))},p.any=function(R,D,F){this.expectToken(R);for(var z=[];!this.expectOptionalToken(F);)z.push(D.call(this));return z},p.optionalMany=function(R,D,F){if(this.expectOptionalToken(R)){var z=[];do z.push(D.call(this));while(!this.expectOptionalToken(F));return z}return[]},p.many=function(R,D,F){this.expectToken(R);var z=[];do z.push(D.call(this));while(!this.expectOptionalToken(F));return z},p.delimitedMany=function(R,D){this.expectOptionalToken(R);var F=[];do F.push(D.call(this));while(this.expectOptionalToken(R));return F},v}();G.Parser=u;function k(v){var p=v.value;return m(v.kind)+(p!=null?' "'.concat(p,'"'):"")}function m(v){return(0,f.isPunctuatorTokenKind)(v)?'"'.concat(v,'"'):v}},40825:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.printLocation=A,G.printSourceLocation=M;var E=T(99530);function A(f){return M(f.source,(0,E.getLocation)(f.source,f.start))}function M(f,h){var _=f.locationOffset.column-1,b=d(_)+f.body,u=h.line-1,k=f.locationOffset.line-1,m=h.line+k,v=h.line===1?_:0,p=h.column+v,C="".concat(f.name,":").concat(m,":").concat(p,`
`),R=b.split(/\r\n|[\n\r]/g),D=R[u];if(D.length>120){for(var F=Math.floor(p/80),z=p%80,y=[],U=0;U<D.length;U+=80)y.push(D.slice(U,U+80));return C+S([["".concat(m),y[0]]].concat(y.slice(1,F+1).map(function(W){return["",W]}),[[" ",d(z-1)+"^"],["",y[F+1]]]))}return C+S([["".concat(m-1),R[u-1]],["".concat(m),D],["",d(p-1)+"^"],["".concat(m+1),R[u+1]]])}function S(f){var h=f.filter(function(b){var u=b[0],k=b[1];return k!==void 0}),_=Math.max.apply(Math,h.map(function(b){var u=b[0];return u.length}));return h.map(function(b){var u=b[0],k=b[1];return c(_,u)+(k?" | "+k:" |")}).join(`
`)}function d(f){return Array(f+1).join(" ")}function c(f,h){return d(f-h.length)+h}},70585:(s,G,T)=>{"use strict";var E;E={value:!0},G.y=S;var A=T(9111),M=T(69165);function S(v){return(0,A.visit)(v,{leave:c})}var d=80,c={Name:function(p){return p.value},Variable:function(p){return"$"+p.name},Document:function(p){return h(p.definitions,`

`)+`
`},OperationDefinition:function(p){var C=p.operation,R=p.name,D=b("(",h(p.variableDefinitions,", "),")"),F=h(p.directives," "),z=p.selectionSet;return!R&&!F&&!D&&C==="query"?z:h([C,h([R,D]),F,z]," ")},VariableDefinition:function(p){var C=p.variable,R=p.type,D=p.defaultValue,F=p.directives;return C+": "+R+b(" = ",D)+b(" ",h(F," "))},SelectionSet:function(p){var C=p.selections;return _(C)},Field:function(p){var C=p.alias,R=p.name,D=p.arguments,F=p.directives,z=p.selectionSet,y=b("",C,": ")+R,U=y+b("(",h(D,", "),")");return U.length>d&&(U=y+b(`(
`,u(h(D,`
`)),`
)`)),h([U,h(F," "),z]," ")},Argument:function(p){var C=p.name,R=p.value;return C+": "+R},FragmentSpread:function(p){var C=p.name,R=p.directives;return"..."+C+b(" ",h(R," "))},InlineFragment:function(p){var C=p.typeCondition,R=p.directives,D=p.selectionSet;return h(["...",b("on ",C),h(R," "),D]," ")},FragmentDefinition:function(p){var C=p.name,R=p.typeCondition,D=p.variableDefinitions,F=p.directives,z=p.selectionSet;return"fragment ".concat(C).concat(b("(",h(D,", "),")")," ")+"on ".concat(R," ").concat(b("",h(F," ")," "))+z},IntValue:function(p){var C=p.value;return C},FloatValue:function(p){var C=p.value;return C},StringValue:function(p,C){var R=p.value,D=p.block;return D?(0,M.printBlockString)(R,C==="description"?"":"  "):JSON.stringify(R)},BooleanValue:function(p){var C=p.value;return C?"true":"false"},NullValue:function(){return"null"},EnumValue:function(p){var C=p.value;return C},ListValue:function(p){var C=p.values;return"["+h(C,", ")+"]"},ObjectValue:function(p){var C=p.fields;return"{"+h(C,", ")+"}"},ObjectField:function(p){var C=p.name,R=p.value;return C+": "+R},Directive:function(p){var C=p.name,R=p.arguments;return"@"+C+b("(",h(R,", "),")")},NamedType:function(p){var C=p.name;return C},ListType:function(p){var C=p.type;return"["+C+"]"},NonNullType:function(p){var C=p.type;return C+"!"},SchemaDefinition:f(function(v){var p=v.directives,C=v.operationTypes;return h(["schema",h(p," "),_(C)]," ")}),OperationTypeDefinition:function(p){var C=p.operation,R=p.type;return C+": "+R},ScalarTypeDefinition:f(function(v){var p=v.name,C=v.directives;return h(["scalar",p,h(C," ")]," ")}),ObjectTypeDefinition:f(function(v){var p=v.name,C=v.interfaces,R=v.directives,D=v.fields;return h(["type",p,b("implements ",h(C," & ")),h(R," "),_(D)]," ")}),FieldDefinition:f(function(v){var p=v.name,C=v.arguments,R=v.type,D=v.directives;return p+(m(C)?b(`(
`,u(h(C,`
`)),`
)`):b("(",h(C,", "),")"))+": "+R+b(" ",h(D," "))}),InputValueDefinition:f(function(v){var p=v.name,C=v.type,R=v.defaultValue,D=v.directives;return h([p+": "+C,b("= ",R),h(D," ")]," ")}),InterfaceTypeDefinition:f(function(v){var p=v.name,C=v.interfaces,R=v.directives,D=v.fields;return h(["interface",p,b("implements ",h(C," & ")),h(R," "),_(D)]," ")}),UnionTypeDefinition:f(function(v){var p=v.name,C=v.directives,R=v.types;return h(["union",p,h(C," "),R&&R.length!==0?"= "+h(R," | "):""]," ")}),EnumTypeDefinition:f(function(v){var p=v.name,C=v.directives,R=v.values;return h(["enum",p,h(C," "),_(R)]," ")}),EnumValueDefinition:f(function(v){var p=v.name,C=v.directives;return h([p,h(C," ")]," ")}),InputObjectTypeDefinition:f(function(v){var p=v.name,C=v.directives,R=v.fields;return h(["input",p,h(C," "),_(R)]," ")}),DirectiveDefinition:f(function(v){var p=v.name,C=v.arguments,R=v.repeatable,D=v.locations;return"directive @"+p+(m(C)?b(`(
`,u(h(C,`
`)),`
)`):b("(",h(C,", "),")"))+(R?" repeatable":"")+" on "+h(D," | ")}),SchemaExtension:function(p){var C=p.directives,R=p.operationTypes;return h(["extend schema",h(C," "),_(R)]," ")},ScalarTypeExtension:function(p){var C=p.name,R=p.directives;return h(["extend scalar",C,h(R," ")]," ")},ObjectTypeExtension:function(p){var C=p.name,R=p.interfaces,D=p.directives,F=p.fields;return h(["extend type",C,b("implements ",h(R," & ")),h(D," "),_(F)]," ")},InterfaceTypeExtension:function(p){var C=p.name,R=p.interfaces,D=p.directives,F=p.fields;return h(["extend interface",C,b("implements ",h(R," & ")),h(D," "),_(F)]," ")},UnionTypeExtension:function(p){var C=p.name,R=p.directives,D=p.types;return h(["extend union",C,h(R," "),D&&D.length!==0?"= "+h(D," | "):""]," ")},EnumTypeExtension:function(p){var C=p.name,R=p.directives,D=p.values;return h(["extend enum",C,h(R," "),_(D)]," ")},InputObjectTypeExtension:function(p){var C=p.name,R=p.directives,D=p.fields;return h(["extend input",C,h(R," "),_(D)]," ")}};function f(v){return function(p){return h([p.description,v(p)],`
`)}}function h(v){var p,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(p=v==null?void 0:v.filter(function(R){return R}).join(C))!==null&&p!==void 0?p:""}function _(v){return b(`{
`,u(h(v,`
`)),`
}`)}function b(v,p){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return p!=null&&p!==""?v+p+C:""}function u(v){return b("  ",v.replace(/\n/g,`
  `))}function k(v){return v.indexOf(`
`)!==-1}function m(v){return v!=null&&v.some(k)}},46876:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isSource=_,G.Source=void 0;var E=T(25888),A=d(T(29657)),M=d(T(93028)),S=d(T(79527));function d(b){return b&&b.__esModule?b:{default:b}}function c(b,u){for(var k=0;k<u.length;k++){var m=u[k];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}function f(b,u,k){return u&&c(b.prototype,u),k&&c(b,k),b}var h=function(){function b(u){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof u=="string"||(0,M.default)(0,"Body must be a string. Received: ".concat((0,A.default)(u),".")),this.body=u,this.name=k,this.locationOffset=m,this.locationOffset.line>0||(0,M.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,M.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return f(b,[{key:E.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),b}();G.Source=h;function _(b){return(0,S.default)(b,h)}},73038:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TokenKind=void 0;var T=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});G.TokenKind=T},9111:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.visit=c,G.visitInParallel=f,G.getVisitFn=h,G.BREAK=G.QueryDocumentKeys=void 0;var E=M(T(29657)),A=T(76257);function M(_){return _&&_.__esModule?_:{default:_}}var S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};G.QueryDocumentKeys=S;var d=Object.freeze({});G.BREAK=d;function c(_,b){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,k=void 0,m=Array.isArray(_),v=[_],p=-1,C=[],R=void 0,D=void 0,F=void 0,z=[],y=[],U=_;do{p++;var W=p===v.length,K=W&&C.length!==0;if(W){if(D=y.length===0?void 0:z[z.length-1],R=F,F=y.pop(),K){if(m)R=R.slice();else{for(var Z={},re=0,X=Object.keys(R);re<X.length;re++){var P=X[re];Z[P]=R[P]}R=Z}for(var $=0,N=0;N<C.length;N++){var o=C[N][0],w=C[N][1];m&&(o-=$),m&&w===null?(R.splice(o,1),$++):R[o]=w}}p=k.index,v=k.keys,C=k.edits,m=k.inArray,k=k.prev}else{if(D=F?m?p:v[p]:void 0,R=F?F[D]:U,R==null)continue;F&&z.push(D)}var I=void 0;if(!Array.isArray(R)){if(!(0,A.isNode)(R))throw new Error("Invalid AST Node: ".concat((0,E.default)(R),"."));var q=h(b,R.kind,W);if(q){if(I=q.call(b,R,D,F,z,y),I===d)break;if(I===!1){if(!W){z.pop();continue}}else if(I!==void 0&&(C.push([D,I]),!W))if((0,A.isNode)(I))R=I;else{z.pop();continue}}}if(I===void 0&&K&&C.push([D,R]),W)z.pop();else{var j;k={inArray:m,index:p,keys:v,edits:C,prev:k},m=Array.isArray(R),v=m?R:(j=u[R.kind])!==null&&j!==void 0?j:[],p=-1,C=[],F&&y.push(F),F=R}}while(k!==void 0);return C.length!==0&&(U=C[C.length-1][1]),U}function f(_){var b=new Array(_.length);return{enter:function(k){for(var m=0;m<_.length;m++)if(b[m]==null){var v=h(_[m],k.kind,!1);if(v){var p=v.apply(_[m],arguments);if(p===!1)b[m]=k;else if(p===d)b[m]=d;else if(p!==void 0)return p}}},leave:function(k){for(var m=0;m<_.length;m++)if(b[m]==null){var v=h(_[m],k.kind,!0);if(v){var p=v.apply(_[m],arguments);if(p===d)b[m]=d;else if(p!==void 0&&p!==!1)return p}}else b[m]===k&&(b[m]=null)}}}function h(_,b,u){var k=_[b];if(k){if(!u&&typeof k=="function")return k;var m=u?k.leave:k.enter;if(typeof m=="function")return m}else{var v=u?_.leave:_.enter;if(v){if(typeof v=="function")return v;var p=v[b];if(typeof p=="function")return p}}}},25888:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.SYMBOL_TO_STRING_TAG=G.SYMBOL_ASYNC_ITERATOR=G.SYMBOL_ITERATOR=void 0;var T=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";G.SYMBOL_ITERATOR=T;var E=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";G.SYMBOL_ASYNC_ITERATOR=E;var A=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";G.SYMBOL_TO_STRING_TAG=A},4729:(s,G,T)=>{"use strict";var E=T(92861).Buffer,A=T(61603).Transform,M=T(56698);function S(c,f){if(!E.isBuffer(c)&&typeof c!="string")throw new TypeError(f+" must be a string or a buffer")}function d(c){A.call(this),this._block=E.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}M(d,A),d.prototype._transform=function(c,f,h){var _=null;try{this.update(c,f)}catch(b){_=b}h(_)},d.prototype._flush=function(c){var f=null;try{this.push(this.digest())}catch(h){f=h}c(f)},d.prototype.update=function(c,f){if(S(c,"Data"),this._finalized)throw new Error("Digest already called");E.isBuffer(c)||(c=E.from(c,f));for(var h=this._block,_=0;this._blockOffset+c.length-_>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)h[b++]=c[_++];this._update(),this._blockOffset=0}for(;_<c.length;)h[this._blockOffset++]=c[_++];for(var u=0,k=c.length*8;k>0;++u)this._length[u]+=k,k=this._length[u]/4294967296|0,k>0&&(this._length[u]-=4294967296*k);return this},d.prototype._update=function(){throw new Error("_update is not implemented")},d.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var f=this._digest();c!==void 0&&(f=f.toString(c)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return f},d.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=d},92260:s=>{"use strict";function G(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function E(c,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var b=function(u){G(k,u);function k(m,v,p){return u.call(this,_(m,v,p))||this}return k}(h);b.prototype.name=h.name,b.prototype.code=c,T[c]=b}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function M(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}E("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(c,f,h){var _;typeof f=="string"&&M(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var b;if(S(c," argument"))b="The ".concat(c," ").concat(_," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";b='The "'.concat(c,'" ').concat(u," ").concat(_," ").concat(A(f,"type"))}return b+=". Received type ".concat(typeof h),b},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},92818:(s,G,T)=>{"use strict";var E=T(65606),A=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var M=T(6736),S=T(62192);T(56698)(h,M);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);M.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||E.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},35860:(s,G,T)=>{"use strict";s.exports=A;var E=T(13054);T(56698)(A,E);function A(M){if(!(this instanceof A))return new A(M);E.call(this,M)}A.prototype._transform=function(M,S,d){d(null,M)}},6736:(s,G,T)=>{"use strict";var E=T(65606);s.exports=P;var A;P.ReadableState=X;var M=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(71181),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(L){return c.from(L)}function _(L){return c.isBuffer(L)||L instanceof f}var b=T(92382),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var k=T(12389),m=T(41468),v=T(8775),p=v.getHighWaterMark,C=T(92260).F,R=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,F=C.ERR_METHOD_NOT_IMPLEMENTED,z=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,U,W;T(56698)(P,d);var K=m.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function re(L,O,oe){if(typeof L.prependListener=="function")return L.prependListener(O,oe);!L._events||!L._events[O]?L.on(O,oe):Array.isArray(L._events[O])?L._events[O].unshift(oe):L._events[O]=[oe,L._events[O]]}function X(L,O,oe){A=A||T(92818),L=L||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!L.objectMode,oe&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=p(this,L,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(y||(y=T(83141).I),this.decoder=new y(L.encoding),this.encoding=L.encoding)}function P(L){if(A=A||T(92818),!(this instanceof P))return new P(L);var O=this instanceof A;this._readableState=new X(L,this,O),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),d.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(L,O){O(L)},P.prototype.push=function(L,O){var oe=this._readableState,be;return oe.objectMode?be=!0:typeof L=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(L=c.from(L,O),O=""),be=!0),$(this,L,O,!1,be)},P.prototype.unshift=function(L){return $(this,L,null,!0,!1)};function $(L,O,oe,be,ke){u("readableAddChunk",O);var ge=L._readableState;if(O===null)ge.reading=!1,j(L,ge);else{var De;if(ke||(De=o(ge,O)),De)K(L,De);else if(ge.objectMode||O&&O.length>0)if(typeof O!="string"&&!ge.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),be)ge.endEmitted?K(L,new z):N(L,ge,O,!0);else if(ge.ended)K(L,new D);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!oe?(O=ge.decoder.write(O),ge.objectMode||O.length!==0?N(L,ge,O,!1):ie(L,ge)):N(L,ge,O,!1)}else be||(ge.reading=!1,ie(L,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function N(L,O,oe,be){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,L.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,be?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(L)),ie(L,O)}function o(L,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!L.objectMode&&(oe=new R("chunk",["string","Buffer","Uint8Array"],O)),oe}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(L){y||(y=T(83141).I);var O=new y(L);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,be="";oe!==null;)be+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var w=1073741824;function I(L){return L>=w?L=w:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function q(L,O){return L<=0||O.length===0&&O.ended?0:O.objectMode?1:L!==L?O.flowing&&O.length?O.buffer.head.data.length:O.length:(L>O.highWaterMark&&(O.highWaterMark=I(L)),L<=O.length?L:O.ended?O.length:(O.needReadable=!0,0))}P.prototype.read=function(L){u("read",L),L=parseInt(L,10);var O=this._readableState,oe=L;if(L!==0&&(O.emittedReadable=!1),L===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?fe(this):H(this),null;if(L=q(L,O),L===0&&O.ended)return O.length===0&&fe(this),null;var be=O.needReadable;u("need readable",be),(O.length===0||O.length-L<O.highWaterMark)&&(be=!0,u("length less than watermark",be)),O.ended||O.reading?(be=!1,u("reading or ended",be)):be&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(L=q(oe,O)));var ke;return L>0?ke=te(L,O):ke=null,ke===null?(O.needReadable=O.length<=O.highWaterMark,L=0):(O.length-=L,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==L&&O.ended&&fe(this)),ke!==null&&this.emit("data",ke),ke};function j(L,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(L):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(L)))}}function H(L){var O=L._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,E.nextTick(ee,L))}function ee(L){var O=L._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(L.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,J(L)}function ie(L,O){O.readingMore||(O.readingMore=!0,E.nextTick(B,L,O))}function B(L,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),L.read(0),oe===O.length)break}O.readingMore=!1}P.prototype._read=function(L){K(this,new F("_read()"))},P.prototype.pipe=function(L,O){var oe=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=L;break;case 1:be.pipes=[be.pipes,L];break;default:be.pipes.push(L);break}be.pipesCount+=1,u("pipe count=%d opts=%j",be.pipesCount,O);var ke=(!O||O.end!==!1)&&L!==E.stdout&&L!==E.stderr,ge=ke?Ge:se;be.endEmitted?E.nextTick(ge):oe.once("end",ge),L.on("unpipe",De);function De(ye,Fe){u("onunpipe"),ye===oe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Ze())}function Ge(){u("onend"),L.end()}var We=ne(oe);L.on("drain",We);var Nt=!1;function Ze(){u("cleanup"),L.removeListener("close",ce),L.removeListener("finish",Q),L.removeListener("drain",We),L.removeListener("error",Et),L.removeListener("unpipe",De),oe.removeListener("end",Ge),oe.removeListener("end",se),oe.removeListener("data",it),Nt=!0,be.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&We()}oe.on("data",it);function it(ye){u("ondata");var Fe=L.write(ye);u("dest.write",Fe),Fe===!1&&((be.pipesCount===1&&be.pipes===L||be.pipesCount>1&&Se(be.pipes,L)!==-1)&&!Nt&&(u("false write response, pause",be.awaitDrain),be.awaitDrain++),oe.pause())}function Et(ye){u("onerror",ye),se(),L.removeListener("error",Et),S(L,"error")===0&&K(L,ye)}re(L,"error",Et);function ce(){L.removeListener("finish",Q),se()}L.once("close",ce);function Q(){u("onfinish"),L.removeListener("close",ce),se()}L.once("finish",Q);function se(){u("unpipe"),oe.unpipe(L)}return L.emit("pipe",oe),be.flowing||(u("pipe resume"),oe.resume()),L};function ne(L){return function(){var oe=L._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(L,"data")&&(oe.flowing=!0,J(L))}}P.prototype.unpipe=function(L){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return L&&L!==O.pipes?this:(L||(L=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,L&&L.emit("unpipe",this,oe),this);if(!L){var be=O.pipes,ke=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ge=0;ge<ke;ge++)be[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var De=Se(O.pipes,L);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),L.emit("unpipe",this,oe),this)},P.prototype.on=function(L,O){var oe=d.prototype.on.call(this,L,O),be=this._readableState;return L==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):L==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,u("on readable",be.length,be.reading),be.length?H(this):be.reading||E.nextTick(pe,this)),oe},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(L,O){var oe=d.prototype.removeListener.call(this,L,O);return L==="readable"&&E.nextTick(Le,this),oe},P.prototype.removeAllListeners=function(L){var O=d.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&E.nextTick(Le,this),O};function Le(L){var O=L._readableState;O.readableListening=L.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:L.listenerCount("data")>0&&L.resume()}function pe(L){u("readable nexttick read 0"),L.read(0)}P.prototype.resume=function(){var L=this._readableState;return L.flowing||(u("resume"),L.flowing=!L.readableListening,Me(this,L)),L.paused=!1,this};function Me(L,O){O.resumeScheduled||(O.resumeScheduled=!0,E.nextTick(Pe,L,O))}function Pe(L,O){u("resume",O.reading),O.reading||L.read(0),O.resumeScheduled=!1,L.emit("resume"),J(L),O.flowing&&!O.reading&&L.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(L){var O=L._readableState;for(u("flow",O.flowing);O.flowing&&L.read()!==null;);}P.prototype.wrap=function(L){var O=this,oe=this._readableState,be=!1;L.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var De=oe.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),L.on("data",function(De){if(u("wrapped data"),oe.decoder&&(De=oe.decoder.write(De)),!(oe.objectMode&&De==null)&&!(!oe.objectMode&&(!De||!De.length))){var Ge=O.push(De);Ge||(be=!0,L.pause())}});for(var ke in L)this[ke]===void 0&&typeof L[ke]=="function"&&(this[ke]=function(Ge){return function(){return L[Ge].apply(L,arguments)}}(ke));for(var ge=0;ge<Z.length;ge++)L.on(Z[ge],this.emit.bind(this,Z[ge]));return this._read=function(De){u("wrapped _read",De),be&&(be=!1,L.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=T(74743)),U(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(L,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!L||L>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(L,O.decoder),oe}function fe(L){var O=L._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,E.nextTick(ve,O,L))}function ve(L,O){if(u("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,O.readable=!1,O.emit("end"),L.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(P.from=function(L,O){return W===void 0&&(W=T(45049)),W(P,L,O)});function Se(L,O){for(var oe=0,be=L.length;oe<be;oe++)if(L[oe]===O)return oe;return-1}},13054:(s,G,T)=>{"use strict";s.exports=h;var E=T(92260).F,A=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_MULTIPLE_CALLBACK,S=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=E.ERR_TRANSFORM_WITH_LENGTH_0,c=T(92818);T(56698)(h,c);function f(u,k){var m=this._transformState;m.transforming=!1;var v=m.writecb;if(v===null)return this.emit("error",new M);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),v(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){b(u,k,m)}):b(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new A("_transform()"))},h.prototype._write=function(u,k,m){var v=this._transformState;if(v.writecb=m,v.writechunk=u,v.writeencoding=k,!v.transforming){var p=this._readableState;(v.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){c.prototype._destroy.call(this,u,function(m){k(m)})};function b(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},62192:(s,G,T)=>{"use strict";var E=T(65606);s.exports=X;function A(J,te,fe){this.chunk=J,this.encoding=te,this.callback=fe,this.next=null}function M(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,J)}}var S;X.WritableState=Z;var d={deprecate:T(94643)},c=T(71181),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function _(J){return f.from(J)}function b(J){return f.isBuffer(J)||J instanceof h}var u=T(41468),k=T(8775),m=k.getHighWaterMark,v=T(92260).F,p=v.ERR_INVALID_ARG_TYPE,C=v.ERR_METHOD_NOT_IMPLEMENTED,R=v.ERR_MULTIPLE_CALLBACK,D=v.ERR_STREAM_CANNOT_PIPE,F=v.ERR_STREAM_DESTROYED,z=v.ERR_STREAM_NULL_VALUES,y=v.ERR_STREAM_WRITE_AFTER_END,U=v.ERR_UNKNOWN_ENCODING,W=u.errorOrDestroy;T(56698)(X,c);function K(){}function Z(J,te,fe){S=S||T(92818),J=J||{},typeof fe!="boolean"&&(fe=te instanceof S),this.objectMode=!!J.objectMode,fe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=J.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){j(te,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,fe=[];te;)fe.push(te),te=te.next;return fe},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var re;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(te){return re.call(this,te)?!0:this!==X?!1:te&&te._writableState instanceof Z}})):re=function(te){return te instanceof this};function X(J){S=S||T(92818);var te=this instanceof S;if(!te&&!re.call(X,this))return new X(J);this._writableState=new Z(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),c.call(this)}X.prototype.pipe=function(){W(this,new D)};function P(J,te){var fe=new y;W(J,fe),E.nextTick(te,fe)}function $(J,te,fe,ve){var Se;return fe===null?Se=new z:typeof fe!="string"&&!te.objectMode&&(Se=new p("chunk",["string","Buffer"],fe)),Se?(W(J,Se),E.nextTick(ve,Se),!1):!0}X.prototype.write=function(J,te,fe){var ve=this._writableState,Se=!1,L=!ve.objectMode&&b(J);return L&&!f.isBuffer(J)&&(J=_(J)),typeof te=="function"&&(fe=te,te=null),L?te="buffer":te||(te=ve.defaultEncoding),typeof fe!="function"&&(fe=K),ve.ending?P(this,fe):(L||$(this,ve,J,fe))&&(ve.pendingcb++,Se=o(this,ve,L,J,te,fe)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ie(this,J))},X.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new U(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(J,te,fe){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=f.from(te,fe)),te}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,fe,ve,Se,L){if(!fe){var O=N(te,ve,Se);ve!==O&&(fe=!0,Se="buffer",ve=O)}var oe=te.objectMode?1:ve.length;te.length+=oe;var be=te.length<te.highWaterMark;if(be||(te.needDrain=!0),te.writing||te.corked){var ke=te.lastBufferedRequest;te.lastBufferedRequest={chunk:ve,encoding:Se,isBuf:fe,callback:L,next:null},ke?ke.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else w(J,te,!1,oe,ve,Se,L);return be}function w(J,te,fe,ve,Se,L,O){te.writelen=ve,te.writecb=O,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new F("write")):fe?J._writev(Se,te.onwrite):J._write(Se,L,te.onwrite),te.sync=!1}function I(J,te,fe,ve,Se){--te.pendingcb,fe?(E.nextTick(Se,ve),E.nextTick(pe,J,te),J._writableState.errorEmitted=!0,W(J,ve)):(Se(ve),J._writableState.errorEmitted=!0,W(J,ve),pe(J,te))}function q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function j(J,te){var fe=J._writableState,ve=fe.sync,Se=fe.writecb;if(typeof Se!="function")throw new R;if(q(fe),te)I(J,fe,ve,te,Se);else{var L=B(fe)||J.destroyed;!L&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&ie(J,fe),ve?E.nextTick(H,J,fe,L,Se):H(J,fe,L,Se)}}function H(J,te,fe,ve){fe||ee(J,te),te.pendingcb--,ve(),pe(J,te)}function ee(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function ie(J,te){te.bufferProcessing=!0;var fe=te.bufferedRequest;if(J._writev&&fe&&fe.next){var ve=te.bufferedRequestCount,Se=new Array(ve),L=te.corkedRequestsFree;L.entry=fe;for(var O=0,oe=!0;fe;)Se[O]=fe,fe.isBuf||(oe=!1),fe=fe.next,O+=1;Se.allBuffers=oe,w(J,te,!0,te.length,Se,"",L.finish),te.pendingcb++,te.lastBufferedRequest=null,L.next?(te.corkedRequestsFree=L.next,L.next=null):te.corkedRequestsFree=new M(te),te.bufferedRequestCount=0}else{for(;fe;){var be=fe.chunk,ke=fe.encoding,ge=fe.callback,De=te.objectMode?1:be.length;if(w(J,te,!1,De,be,ke,ge),fe=fe.next,te.bufferedRequestCount--,te.writing)break}fe===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=fe,te.bufferProcessing=!1}X.prototype._write=function(J,te,fe){fe(new C("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,te,fe){var ve=this._writableState;return typeof J=="function"?(fe=J,J=null,te=null):typeof te=="function"&&(fe=te,te=null),J!=null&&this.write(J,te),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||Me(this,ve,fe),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ne(J,te){J._final(function(fe){te.pendingcb--,fe&&W(J,fe),te.prefinished=!0,J.emit("prefinish"),pe(J,te)})}function Le(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,E.nextTick(ne,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function pe(J,te){var fe=B(te);if(fe&&(Le(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var ve=J._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&J.destroy()}return fe}function Me(J,te,fe){te.ending=!0,pe(J,te),fe&&(te.finished?E.nextTick(fe):J.once("finish",fe)),te.ended=!0,J.writable=!1}function Pe(J,te,fe){var ve=J.entry;for(J.entry=null;ve;){var Se=ve.callback;te.pendingcb--,Se(fe),ve=ve.next}te.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,te){te(J)}},74743:(s,G,T)=>{"use strict";var E=T(65606),A;function M(F,z,y){return z in F?Object.defineProperty(F,z,{value:y,enumerable:!0,configurable:!0,writable:!0}):F[z]=y,F}var S=T(45826),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function k(F,z){return{value:F,done:z}}function m(F){var z=F[d];if(z!==null){var y=F[u].read();y!==null&&(F[_]=null,F[d]=null,F[c]=null,z(k(y,!1)))}}function v(F){E.nextTick(m,F)}function p(F,z){return function(y,U){F.then(function(){if(z[h]){y(k(void 0,!0));return}z[b](y,U)},U)}}var C=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var z=this,y=this[f];if(y!==null)return Promise.reject(y);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(Z,re){E.nextTick(function(){z[f]?re(z[f]):Z(k(void 0,!0))})});var U=this[_],W;if(U)W=new Promise(p(U,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));W=new Promise(this[b])}return this[_]=W,W}},M(A,Symbol.asyncIterator,function(){return this}),M(A,"return",function(){var z=this;return new Promise(function(y,U){z[u].destroy(null,function(W){if(W){U(W);return}y(k(void 0,!0))})})}),A),C),D=function(z){var y,U=Object.create(R,(y={},M(y,u,{value:z,writable:!0}),M(y,d,{value:null,writable:!0}),M(y,c,{value:null,writable:!0}),M(y,f,{value:null,writable:!0}),M(y,h,{value:z._readableState.endEmitted,writable:!0}),M(y,b,{value:function(K,Z){var re=U[u].read();re?(U[_]=null,U[d]=null,U[c]=null,K(k(re,!1))):(U[d]=K,U[c]=Z)},writable:!0}),y));return U[_]=null,S(z,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=U[c];K!==null&&(U[_]=null,U[d]=null,U[c]=null,K(W)),U[f]=W;return}var Z=U[d];Z!==null&&(U[_]=null,U[d]=null,U[c]=null,Z(k(void 0,!0))),U[h]=!0}),z.on("readable",v.bind(null,U)),U};s.exports=D},12389:(s,G,T)=>{"use strict";function E(m,v){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);v&&(C=C.filter(function(R){return Object.getOwnPropertyDescriptor(m,R).enumerable})),p.push.apply(p,C)}return p}function A(m){for(var v=1;v<arguments.length;v++){var p=arguments[v]!=null?arguments[v]:{};v%2?E(Object(p),!0).forEach(function(C){M(m,C,p[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):E(Object(p)).forEach(function(C){Object.defineProperty(m,C,Object.getOwnPropertyDescriptor(p,C))})}return m}function M(m,v,p){return v in m?Object.defineProperty(m,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[v]=p,m}function S(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){for(var p=0;p<v.length;p++){var C=v[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}function c(m,v,p){return v&&d(m.prototype,v),p&&d(m,p),m}var f=T(48287),h=f.Buffer,_=T(8460),b=_.inspect,u=b&&b.custom||"inspect";function k(m,v,p){h.prototype.copy.call(m,v,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var C={data:p,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(p){var C={data:p,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var C=this.head,R=""+C.data;C=C.next;)R+=p+C.data;return R}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var C=h.allocUnsafe(p>>>0),R=this.head,D=0;R;)k(R.data,C,D),D+=R.data.length,R=R.next;return C}},{key:"consume",value:function(p,C){var R;return p<this.head.data.length?(R=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?R=this.shift():R=C?this._getString(p):this._getBuffer(p),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var C=this.head,R=1,D=C.data;for(p-=D.length;C=C.next;){var F=C.data,z=p>F.length?F.length:p;if(z===F.length?D+=F:D+=F.slice(0,p),p-=z,p===0){z===F.length?(++R,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=F.slice(z));break}++R}return this.length-=R,D}},{key:"_getBuffer",value:function(p){var C=h.allocUnsafe(p),R=this.head,D=1;for(R.data.copy(C),p-=R.data.length;R=R.next;){var F=R.data,z=p>F.length?F.length:p;if(F.copy(C,C.length-p,0,z),p-=z,p===0){z===F.length?(++D,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=F.slice(z));break}++D}return this.length-=D,C}},{key:u,value:function(p,C){return b(this,A({},C,{depth:0,customInspect:!1}))}}]),m}()},41468:(s,G,T)=>{"use strict";var E=T(65606);function A(h,_){var b=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,E.nextTick(c,this,h)):E.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?E.nextTick(S,b):(b._writableState.errorEmitted=!0,E.nextTick(M,b,m)):E.nextTick(M,b,m):_?(E.nextTick(S,b),_(m)):E.nextTick(S,b)}),this)}function M(h,_){c(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,_){h.emit("error",_)}function f(h,_){var b=h._readableState,u=h._writableState;b&&b.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},45826:(s,G,T)=>{"use strict";var E=T(92260).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),b=0;b<h;b++)_[b]=arguments[b];c.apply(this,_)}}}function M(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||M);var _=f.readable||f.readable!==!1&&c.readable,b=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},k=c._writableState&&c._writableState.finished,m=function(){b=!1,k=!0,_||h.call(c)},v=c._readableState&&c._readableState.endEmitted,p=function(){_=!1,v=!0,b||h.call(c)},C=function(z){h.call(c,z)},R=function(){var z;if(_&&!v)return(!c._readableState||!c._readableState.ended)&&(z=new E),h.call(c,z);if(b&&!k)return(!c._writableState||!c._writableState.ended)&&(z=new E),h.call(c,z)},D=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",R),c.req?D():c.on("request",D)):b&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",C),c.on("close",R),function(){c.removeListener("complete",m),c.removeListener("abort",R),c.removeListener("request",D),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",C),c.removeListener("close",R)}}s.exports=d},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,G,T)=>{"use strict";var E;function A(m){var v=!1;return function(){v||(v=!0,m.apply(void 0,arguments))}}var M=T(92260).F,S=M.ERR_MISSING_ARGS,d=M.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,v,p,C){C=A(C);var R=!1;m.on("close",function(){R=!0}),E===void 0&&(E=T(45826)),E(m,{readable:v,writable:p},function(F){if(F)return C(F);R=!0,C()});var D=!1;return function(F){if(!R&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();C(F||new d("pipe"))}}}function _(m){m()}function b(m,v){return m.pipe(v)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function k(){for(var m=arguments.length,v=new Array(m),p=0;p<m;p++)v[p]=arguments[p];var C=u(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new S("streams");var R,D=v.map(function(F,z){var y=z<v.length-1,U=z>0;return h(F,y,U,function(W){R||(R=W),W&&D.forEach(_),!y&&(D.forEach(_),C(R))})});return v.reduce(b)}s.exports=k},8775:(s,G,T)=>{"use strict";var E=T(92260).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function M(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?c:"highWaterMark";throw new E(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:M}},71181:(s,G,T)=>{s.exports=T(37007).EventEmitter},61603:(s,G,T)=>{G=s.exports=T(6736),G.Stream=G,G.Readable=G,G.Writable=T(62192),G.Duplex=T(92818),G.Transform=T(13054),G.PassThrough=T(35860),G.finished=T(45826),G.pipeline=T(29434)},77952:(s,G,T)=>{var E=G;E.utils=T(67426),E.common=T(66166),E.sha=T(46229),E.ripemd=T(46784),E.hmac=T(28948),E.sha1=E.sha.sha1,E.sha256=E.sha.sha256,E.sha224=E.sha.sha224,E.sha384=E.sha.sha384,E.sha512=E.sha.sha512,E.ripemd160=E.ripemd.ripemd160},66166:(s,G,T)=>{"use strict";var E=T(67426),A=T(43349);function M(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}G.BlockHash=M,M.prototype.update=function(d,c){if(d=E.toArray(d,c),this.pending?this.pending=this.pending.concat(d):this.pending=d,this.pendingTotal+=d.length,this.pending.length>=this._delta8){d=this.pending;var f=d.length%this._delta8;this.pending=d.slice(d.length-f,d.length),this.pending.length===0&&(this.pending=null),d=E.join32(d,0,d.length-f,this.endian);for(var h=0;h<d.length;h+=this._delta32)this._update(d,h,h+this._delta32)}return this},M.prototype.digest=function(d){return this.update(this._pad()),A(this.pending===null),this._digest(d)},M.prototype._pad=function(){var d=this.pendingTotal,c=this._delta8,f=c-(d+this.padLength)%c,h=new Array(f+this.padLength);h[0]=128;for(var _=1;_<f;_++)h[_]=0;if(d<<=3,this.endian==="big"){for(var b=8;b<this.padLength;b++)h[_++]=0;h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=d>>>24&255,h[_++]=d>>>16&255,h[_++]=d>>>8&255,h[_++]=d&255}else for(h[_++]=d&255,h[_++]=d>>>8&255,h[_++]=d>>>16&255,h[_++]=d>>>24&255,h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=0,b=8;b<this.padLength;b++)h[_++]=0;return h}},28948:(s,G,T)=>{"use strict";var E=T(67426),A=T(43349);function M(S,d,c){if(!(this instanceof M))return new M(S,d,c);this.Hash=S,this.blockSize=S.blockSize/8,this.outSize=S.outSize/8,this.inner=null,this.outer=null,this._init(E.toArray(d,c))}s.exports=M,M.prototype._init=function(d){d.length>this.blockSize&&(d=new this.Hash().update(d).digest()),A(d.length<=this.blockSize);for(var c=d.length;c<this.blockSize;c++)d.push(0);for(c=0;c<d.length;c++)d[c]^=54;for(this.inner=new this.Hash().update(d),c=0;c<d.length;c++)d[c]^=106;this.outer=new this.Hash().update(d)},M.prototype.update=function(d,c){return this.inner.update(d,c),this},M.prototype.digest=function(d){return this.outer.update(this.inner.digest()),this.outer.digest(d)}},46784:(s,G,T)=>{"use strict";var E=T(67426),A=T(66166),M=E.rotl32,S=E.sum32,d=E.sum32_3,c=E.sum32_4,f=A.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}E.inherits(h,f),G.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(R,D){for(var F=this.h[0],z=this.h[1],y=this.h[2],U=this.h[3],W=this.h[4],K=F,Z=z,re=y,X=U,P=W,$=0;$<80;$++){var N=S(M(c(F,_($,z,y,U),R[k[$]+D],b($)),v[$]),W);F=W,W=U,U=M(y,10),y=z,z=N,N=S(M(c(K,_(79-$,Z,re,X),R[m[$]+D],u($)),p[$]),P),K=P,P=X,X=M(re,10),re=Z,Z=N}N=d(this.h[1],y,X),this.h[1]=d(this.h[2],U,P),this.h[2]=d(this.h[3],W,K),this.h[3]=d(this.h[4],F,Z),this.h[4]=d(this.h[0],z,re),this.h[0]=N},h.prototype._digest=function(R){return R==="hex"?E.toHex32(this.h,"little"):E.split32(this.h,"little")};function _(C,R,D,F){return C<=15?R^D^F:C<=31?R&D|~R&F:C<=47?(R|~D)^F:C<=63?R&F|D&~F:R^(D|~F)}function b(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function u(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,G,T)=>{"use strict";G.sha1=T(43917),G.sha224=T(47714),G.sha256=T(2287),G.sha384=T(21911),G.sha512=T(57766)},43917:(s,G,T)=>{"use strict";var E=T(67426),A=T(66166),M=T(66225),S=E.rotl32,d=E.sum32,c=E.sum32_5,f=M.ft_1,h=A.BlockHash,_=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}E.inherits(b,h),s.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(k,m){for(var v=this.W,p=0;p<16;p++)v[p]=k[m+p];for(;p<v.length;p++)v[p]=S(v[p-3]^v[p-8]^v[p-14]^v[p-16],1);var C=this.h[0],R=this.h[1],D=this.h[2],F=this.h[3],z=this.h[4];for(p=0;p<v.length;p++){var y=~~(p/20),U=c(S(C,5),f(y,R,D,F),z,v[p],_[y]);z=F,F=D,D=S(R,30),R=C,C=U}this.h[0]=d(this.h[0],C),this.h[1]=d(this.h[1],R),this.h[2]=d(this.h[2],D),this.h[3]=d(this.h[3],F),this.h[4]=d(this.h[4],z)},b.prototype._digest=function(k){return k==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},47714:(s,G,T)=>{"use strict";var E=T(67426),A=T(2287);function M(){if(!(this instanceof M))return new M;A.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}E.inherits(M,A),s.exports=M,M.blockSize=512,M.outSize=224,M.hmacStrength=192,M.padLength=64,M.prototype._digest=function(d){return d==="hex"?E.toHex32(this.h.slice(0,7),"big"):E.split32(this.h.slice(0,7),"big")}},2287:(s,G,T)=>{"use strict";var E=T(67426),A=T(66166),M=T(66225),S=T(43349),d=E.sum32,c=E.sum32_4,f=E.sum32_5,h=M.ch32,_=M.maj32,b=M.s0_256,u=M.s1_256,k=M.g0_256,m=M.g1_256,v=A.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}E.inherits(C,v),s.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(D,F){for(var z=this.W,y=0;y<16;y++)z[y]=D[F+y];for(;y<z.length;y++)z[y]=c(m(z[y-2]),z[y-7],k(z[y-15]),z[y-16]);var U=this.h[0],W=this.h[1],K=this.h[2],Z=this.h[3],re=this.h[4],X=this.h[5],P=this.h[6],$=this.h[7];for(S(this.k.length===z.length),y=0;y<z.length;y++){var N=f($,u(re),h(re,X,P),this.k[y],z[y]),o=d(b(U),_(U,W,K));$=P,P=X,X=re,re=d(Z,N),Z=K,K=W,W=U,U=d(N,o)}this.h[0]=d(this.h[0],U),this.h[1]=d(this.h[1],W),this.h[2]=d(this.h[2],K),this.h[3]=d(this.h[3],Z),this.h[4]=d(this.h[4],re),this.h[5]=d(this.h[5],X),this.h[6]=d(this.h[6],P),this.h[7]=d(this.h[7],$)},C.prototype._digest=function(D){return D==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},21911:(s,G,T)=>{"use strict";var E=T(67426),A=T(57766);function M(){if(!(this instanceof M))return new M;A.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}E.inherits(M,A),s.exports=M,M.blockSize=1024,M.outSize=384,M.hmacStrength=192,M.padLength=128,M.prototype._digest=function(d){return d==="hex"?E.toHex32(this.h.slice(0,12),"big"):E.split32(this.h.slice(0,12),"big")}},57766:(s,G,T)=>{"use strict";var E=T(67426),A=T(66166),M=T(43349),S=E.rotr64_hi,d=E.rotr64_lo,c=E.shr64_hi,f=E.shr64_lo,h=E.sum64,_=E.sum64_hi,b=E.sum64_lo,u=E.sum64_4_hi,k=E.sum64_4_lo,m=E.sum64_5_hi,v=E.sum64_5_lo,p=A.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}E.inherits(R,p),s.exports=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(o,w){for(var I=this.W,q=0;q<32;q++)I[q]=o[w+q];for(;q<I.length;q+=2){var j=P(I[q-4],I[q-3]),H=$(I[q-4],I[q-3]),ee=I[q-14],ie=I[q-13],B=re(I[q-30],I[q-29]),ne=X(I[q-30],I[q-29]),Le=I[q-32],pe=I[q-31];I[q]=u(j,H,ee,ie,B,ne,Le,pe),I[q+1]=k(j,H,ee,ie,B,ne,Le,pe)}},R.prototype._update=function(o,w){this._prepareBlock(o,w);var I=this.W,q=this.h[0],j=this.h[1],H=this.h[2],ee=this.h[3],ie=this.h[4],B=this.h[5],ne=this.h[6],Le=this.h[7],pe=this.h[8],Me=this.h[9],Pe=this.h[10],J=this.h[11],te=this.h[12],fe=this.h[13],ve=this.h[14],Se=this.h[15];M(this.k.length===I.length);for(var L=0;L<I.length;L+=2){var O=ve,oe=Se,be=K(pe,Me),ke=Z(pe,Me),ge=D(pe,Me,Pe,J,te,fe),De=F(pe,Me,Pe,J,te,fe),Ge=this.k[L],We=this.k[L+1],Nt=I[L],Ze=I[L+1],it=m(O,oe,be,ke,ge,De,Ge,We,Nt,Ze),Et=v(O,oe,be,ke,ge,De,Ge,We,Nt,Ze);O=U(q,j),oe=W(q,j),be=z(q,j,H,ee,ie,B),ke=y(q,j,H,ee,ie,B);var ce=_(O,oe,be,ke),Q=b(O,oe,be,ke);ve=te,Se=fe,te=Pe,fe=J,Pe=pe,J=Me,pe=_(ne,Le,it,Et),Me=b(Le,Le,it,Et),ne=ie,Le=B,ie=H,B=ee,H=q,ee=j,q=_(it,Et,ce,Q),j=b(it,Et,ce,Q)}h(this.h,0,q,j),h(this.h,2,H,ee),h(this.h,4,ie,B),h(this.h,6,ne,Le),h(this.h,8,pe,Me),h(this.h,10,Pe,J),h(this.h,12,te,fe),h(this.h,14,ve,Se)},R.prototype._digest=function(o){return o==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")};function D(N,o,w,I,q){var j=N&w^~N&q;return j<0&&(j+=4294967296),j}function F(N,o,w,I,q,j){var H=o&I^~o&j;return H<0&&(H+=4294967296),H}function z(N,o,w,I,q){var j=N&w^N&q^w&q;return j<0&&(j+=4294967296),j}function y(N,o,w,I,q,j){var H=o&I^o&j^I&j;return H<0&&(H+=4294967296),H}function U(N,o){var w=S(N,o,28),I=S(o,N,2),q=S(o,N,7),j=w^I^q;return j<0&&(j+=4294967296),j}function W(N,o){var w=d(N,o,28),I=d(o,N,2),q=d(o,N,7),j=w^I^q;return j<0&&(j+=4294967296),j}function K(N,o){var w=S(N,o,14),I=S(N,o,18),q=S(o,N,9),j=w^I^q;return j<0&&(j+=4294967296),j}function Z(N,o){var w=d(N,o,14),I=d(N,o,18),q=d(o,N,9),j=w^I^q;return j<0&&(j+=4294967296),j}function re(N,o){var w=S(N,o,1),I=S(N,o,8),q=c(N,o,7),j=w^I^q;return j<0&&(j+=4294967296),j}function X(N,o){var w=d(N,o,1),I=d(N,o,8),q=f(N,o,7),j=w^I^q;return j<0&&(j+=4294967296),j}function P(N,o){var w=S(N,o,19),I=S(o,N,29),q=c(N,o,6),j=w^I^q;return j<0&&(j+=4294967296),j}function $(N,o){var w=d(N,o,19),I=d(o,N,29),q=f(N,o,6),j=w^I^q;return j<0&&(j+=4294967296),j}},66225:(s,G,T)=>{"use strict";var E=T(67426),A=E.rotr32;function M(u,k,m,v){if(u===0)return S(k,m,v);if(u===1||u===3)return c(k,m,v);if(u===2)return d(k,m,v)}G.ft_1=M;function S(u,k,m){return u&k^~u&m}G.ch32=S;function d(u,k,m){return u&k^u&m^k&m}G.maj32=d;function c(u,k,m){return u^k^m}G.p32=c;function f(u){return A(u,2)^A(u,13)^A(u,22)}G.s0_256=f;function h(u){return A(u,6)^A(u,11)^A(u,25)}G.s1_256=h;function _(u){return A(u,7)^A(u,18)^u>>>3}G.g0_256=_;function b(u){return A(u,17)^A(u,19)^u>>>10}G.g1_256=b},67426:(s,G,T)=>{"use strict";var E=T(43349),A=T(56698);G.inherits=A;function M($,N){return($.charCodeAt(N)&64512)!==55296||N<0||N+1>=$.length?!1:($.charCodeAt(N+1)&64512)===56320}function S($,N){if(Array.isArray($))return $.slice();if(!$)return[];var o=[];if(typeof $=="string")if(N){if(N==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),I=0;I<$.length;I+=2)o.push(parseInt($[I]+$[I+1],16))}else for(var w=0,I=0;I<$.length;I++){var q=$.charCodeAt(I);q<128?o[w++]=q:q<2048?(o[w++]=q>>6|192,o[w++]=q&63|128):M($,I)?(q=65536+((q&1023)<<10)+($.charCodeAt(++I)&1023),o[w++]=q>>18|240,o[w++]=q>>12&63|128,o[w++]=q>>6&63|128,o[w++]=q&63|128):(o[w++]=q>>12|224,o[w++]=q>>6&63|128,o[w++]=q&63|128)}else for(I=0;I<$.length;I++)o[I]=$[I]|0;return o}G.toArray=S;function d($){for(var N="",o=0;o<$.length;o++)N+=h($[o].toString(16));return N}G.toHex=d;function c($){var N=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return N>>>0}G.htonl=c;function f($,N){for(var o="",w=0;w<$.length;w++){var I=$[w];N==="little"&&(I=c(I)),o+=_(I.toString(16))}return o}G.toHex32=f;function h($){return $.length===1?"0"+$:$}G.zero2=h;function _($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}G.zero8=_;function b($,N,o,w){var I=o-N;E(I%4===0);for(var q=new Array(I/4),j=0,H=N;j<q.length;j++,H+=4){var ee;w==="big"?ee=$[H]<<24|$[H+1]<<16|$[H+2]<<8|$[H+3]:ee=$[H+3]<<24|$[H+2]<<16|$[H+1]<<8|$[H],q[j]=ee>>>0}return q}G.join32=b;function u($,N){for(var o=new Array($.length*4),w=0,I=0;w<$.length;w++,I+=4){var q=$[w];N==="big"?(o[I]=q>>>24,o[I+1]=q>>>16&255,o[I+2]=q>>>8&255,o[I+3]=q&255):(o[I+3]=q>>>24,o[I+2]=q>>>16&255,o[I+1]=q>>>8&255,o[I]=q&255)}return o}G.split32=u;function k($,N){return $>>>N|$<<32-N}G.rotr32=k;function m($,N){return $<<N|$>>>32-N}G.rotl32=m;function v($,N){return $+N>>>0}G.sum32=v;function p($,N,o){return $+N+o>>>0}G.sum32_3=p;function C($,N,o,w){return $+N+o+w>>>0}G.sum32_4=C;function R($,N,o,w,I){return $+N+o+w+I>>>0}G.sum32_5=R;function D($,N,o,w){var I=$[N],q=$[N+1],j=w+q>>>0,H=(j<w?1:0)+o+I;$[N]=H>>>0,$[N+1]=j}G.sum64=D;function F($,N,o,w){var I=N+w>>>0,q=(I<N?1:0)+$+o;return q>>>0}G.sum64_hi=F;function z($,N,o,w){var I=N+w;return I>>>0}G.sum64_lo=z;function y($,N,o,w,I,q,j,H){var ee=0,ie=N;ie=ie+w>>>0,ee+=ie<N?1:0,ie=ie+q>>>0,ee+=ie<q?1:0,ie=ie+H>>>0,ee+=ie<H?1:0;var B=$+o+I+j+ee;return B>>>0}G.sum64_4_hi=y;function U($,N,o,w,I,q,j,H){var ee=N+w+q+H;return ee>>>0}G.sum64_4_lo=U;function W($,N,o,w,I,q,j,H,ee,ie){var B=0,ne=N;ne=ne+w>>>0,B+=ne<N?1:0,ne=ne+q>>>0,B+=ne<q?1:0,ne=ne+H>>>0,B+=ne<H?1:0,ne=ne+ie>>>0,B+=ne<ie?1:0;var Le=$+o+I+j+ee+B;return Le>>>0}G.sum64_5_hi=W;function K($,N,o,w,I,q,j,H,ee,ie){var B=N+w+q+H+ie;return B>>>0}G.sum64_5_lo=K;function Z($,N,o){var w=N<<32-o|$>>>o;return w>>>0}G.rotr64_hi=Z;function re($,N,o){var w=$<<32-o|N>>>o;return w>>>0}G.rotr64_lo=re;function X($,N,o){return $>>>o}G.shr64_hi=X;function P($,N,o){var w=$<<32-o|N>>>o;return w>>>0}G.shr64_lo=P},32723:(s,G,T)=>{"use strict";var E=T(77952),A=T(64367),M=T(43349);function S(d){if(!(this instanceof S))return new S(d);this.hash=d.hash,this.predResist=!!d.predResist,this.outLen=this.hash.outSize,this.minEntropy=d.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=A.toArray(d.entropy,d.entropyEnc||"hex"),f=A.toArray(d.nonce,d.nonceEnc||"hex"),h=A.toArray(d.pers,d.persEnc||"hex");M(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}s.exports=S,S.prototype._init=function(c,f,h){var _=c.concat(f).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var b=0;b<this.V.length;b++)this.K[b]=0,this.V[b]=1;this._update(_),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new E.hmac(this.hash,this.K)},S.prototype._update=function(c){var f=this._hmac().update(this.V).update([0]);c&&(f=f.update(c)),this.K=f.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(c,f,h,_){typeof f!="string"&&(_=h,h=f,f=null),c=A.toArray(c,f),h=A.toArray(h,_),M(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(h||[])),this._reseed=1},S.prototype.generate=function(c,f,h,_){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof f!="string"&&(_=h,h=f,f=null),h&&(h=A.toArray(h,_||"hex"),this._update(h));for(var b=[];b.length<c;)this.V=this._hmac().update(this.V).digest(),b=b.concat(this.V);var u=b.slice(0,c);return this._update(h),this._reseed++,A.encode(u,f)}},251:(s,G)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G.read=function(T,E,A,M,S){var d,c,f=S*8-M-1,h=(1<<f)-1,_=h>>1,b=-7,u=A?S-1:0,k=A?-1:1,m=T[E+u];for(u+=k,d=m&(1<<-b)-1,m>>=-b,b+=f;b>0;d=d*256+T[E+u],u+=k,b-=8);for(c=d&(1<<-b)-1,d>>=-b,b+=M;b>0;c=c*256+T[E+u],u+=k,b-=8);if(d===0)d=1-_;else{if(d===h)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,M),d=d-_}return(m?-1:1)*c*Math.pow(2,d-M)},G.write=function(T,E,A,M,S,d){var c,f,h,_=d*8-S-1,b=(1<<_)-1,u=b>>1,k=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=M?0:d-1,v=M?1:-1,p=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(f=isNaN(E)?1:0,c=b):(c=Math.floor(Math.log(E)/Math.LN2),E*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+u>=1?E+=k/h:E+=k*Math.pow(2,1-u),E*h>=2&&(c++,h/=2),c+u>=b?(f=0,c=b):c+u>=1?(f=(E*h-1)*Math.pow(2,S),c=c+u):(f=E*Math.pow(2,u-1)*Math.pow(2,S),c=0));S>=8;T[A+m]=f&255,m+=v,f/=256,S-=8);for(c=c<<S|f,_+=S;_>0;T[A+m]=c&255,m+=v,c/=256,_-=8);T[A+m-v]|=p*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(T,E){E&&(T.super_=E,T.prototype=Object.create(E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(T,E){if(E){T.super_=E;var A=function(){};A.prototype=E.prototype,T.prototype=new A,T.prototype.constructor=T}}},69749:(s,G,T)=>{"use strict";const E=T(28799),A=Symbol("max"),M=Symbol("length"),S=Symbol("lengthCalculator"),d=Symbol("allowStale"),c=Symbol("maxAge"),f=Symbol("dispose"),h=Symbol("noDisposeOnSet"),_=Symbol("lruList"),b=Symbol("cache"),u=Symbol("updateAgeOnGet"),k=()=>1;class m{constructor(y){if(typeof y=="number"&&(y={max:y}),y||(y={}),y.max&&(typeof y.max!="number"||y.max<0))throw new TypeError("max must be a non-negative number");const U=this[A]=y.max||1/0,W=y.length||k;if(this[S]=typeof W!="function"?k:W,this[d]=y.stale||!1,y.maxAge&&typeof y.maxAge!="number")throw new TypeError("maxAge must be a number");this[c]=y.maxAge||0,this[f]=y.dispose,this[h]=y.noDisposeOnSet||!1,this[u]=y.updateAgeOnGet||!1,this.reset()}set max(y){if(typeof y!="number"||y<0)throw new TypeError("max must be a non-negative number");this[A]=y||1/0,C(this)}get max(){return this[A]}set allowStale(y){this[d]=!!y}get allowStale(){return this[d]}set maxAge(y){if(typeof y!="number")throw new TypeError("maxAge must be a non-negative number");this[c]=y,C(this)}get maxAge(){return this[c]}set lengthCalculator(y){typeof y!="function"&&(y=k),y!==this[S]&&(this[S]=y,this[M]=0,this[_].forEach(U=>{U.length=this[S](U.value,U.key),this[M]+=U.length})),C(this)}get lengthCalculator(){return this[S]}get length(){return this[M]}get itemCount(){return this[_].length}rforEach(y,U){U=U||this;for(let W=this[_].tail;W!==null;){const K=W.prev;F(this,y,W,U),W=K}}forEach(y,U){U=U||this;for(let W=this[_].head;W!==null;){const K=W.next;F(this,y,W,U),W=K}}keys(){return this[_].toArray().map(y=>y.key)}values(){return this[_].toArray().map(y=>y.value)}reset(){this[f]&&this[_]&&this[_].length&&this[_].forEach(y=>this[f](y.key,y.value)),this[b]=new Map,this[_]=new E,this[M]=0}dump(){return this[_].map(y=>p(this,y)?!1:{k:y.key,v:y.value,e:y.now+(y.maxAge||0)}).toArray().filter(y=>y)}dumpLru(){return this[_]}set(y,U,W){if(W=W||this[c],W&&typeof W!="number")throw new TypeError("maxAge must be a number");const K=W?Date.now():0,Z=this[S](U,y);if(this[b].has(y)){if(Z>this[A])return R(this,this[b].get(y)),!1;const P=this[b].get(y).value;return this[f]&&(this[h]||this[f](y,P.value)),P.now=K,P.maxAge=W,P.value=U,this[M]+=Z-P.length,P.length=Z,this.get(y),C(this),!0}const re=new D(y,U,Z,K,W);return re.length>this[A]?(this[f]&&this[f](y,U),!1):(this[M]+=re.length,this[_].unshift(re),this[b].set(y,this[_].head),C(this),!0)}has(y){if(!this[b].has(y))return!1;const U=this[b].get(y).value;return!p(this,U)}get(y){return v(this,y,!0)}peek(y){return v(this,y,!1)}pop(){const y=this[_].tail;return y?(R(this,y),y.value):null}del(y){R(this,this[b].get(y))}load(y){this.reset();const U=Date.now();for(let W=y.length-1;W>=0;W--){const K=y[W],Z=K.e||0;if(Z===0)this.set(K.k,K.v);else{const re=Z-U;re>0&&this.set(K.k,K.v,re)}}}prune(){this[b].forEach((y,U)=>v(this,U,!1))}}const v=(z,y,U)=>{const W=z[b].get(y);if(W){const K=W.value;if(p(z,K)){if(R(z,W),!z[d])return}else U&&(z[u]&&(W.value.now=Date.now()),z[_].unshiftNode(W));return K.value}},p=(z,y)=>{if(!y||!y.maxAge&&!z[c])return!1;const U=Date.now()-y.now;return y.maxAge?U>y.maxAge:z[c]&&U>z[c]},C=z=>{if(z[M]>z[A])for(let y=z[_].tail;z[M]>z[A]&&y!==null;){const U=y.prev;R(z,y),y=U}},R=(z,y)=>{if(y){const U=y.value;z[f]&&z[f](U.key,U.value),z[M]-=U.length,z[b].delete(U.key),z[_].removeNode(y)}};class D{constructor(y,U,W,K,Z){this.key=y,this.value=U,this.length=W,this.now=K,this.maxAge=Z||0}}const F=(z,y,U,W)=>{let K=U.value;p(z,K)&&(R(z,U),z[d]||(K=void 0)),K&&y.call(W,K.value,K.key,z)};s.exports=m},88276:(s,G,T)=>{"use strict";var E=T(56698),A=T(4729),M=T(92861).Buffer,S=new Array(16);function d(){A.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}E(d,A),d.prototype._update=function(){for(var u=S,k=0;k<16;++k)u[k]=this._block.readInt32LE(k*4);var m=this._a,v=this._b,p=this._c,C=this._d;m=f(m,v,p,C,u[0],3614090360,7),C=f(C,m,v,p,u[1],3905402710,12),p=f(p,C,m,v,u[2],606105819,17),v=f(v,p,C,m,u[3],3250441966,22),m=f(m,v,p,C,u[4],4118548399,7),C=f(C,m,v,p,u[5],1200080426,12),p=f(p,C,m,v,u[6],2821735955,17),v=f(v,p,C,m,u[7],4249261313,22),m=f(m,v,p,C,u[8],1770035416,7),C=f(C,m,v,p,u[9],2336552879,12),p=f(p,C,m,v,u[10],4294925233,17),v=f(v,p,C,m,u[11],2304563134,22),m=f(m,v,p,C,u[12],1804603682,7),C=f(C,m,v,p,u[13],4254626195,12),p=f(p,C,m,v,u[14],2792965006,17),v=f(v,p,C,m,u[15],1236535329,22),m=h(m,v,p,C,u[1],4129170786,5),C=h(C,m,v,p,u[6],3225465664,9),p=h(p,C,m,v,u[11],643717713,14),v=h(v,p,C,m,u[0],3921069994,20),m=h(m,v,p,C,u[5],3593408605,5),C=h(C,m,v,p,u[10],38016083,9),p=h(p,C,m,v,u[15],3634488961,14),v=h(v,p,C,m,u[4],3889429448,20),m=h(m,v,p,C,u[9],568446438,5),C=h(C,m,v,p,u[14],3275163606,9),p=h(p,C,m,v,u[3],4107603335,14),v=h(v,p,C,m,u[8],1163531501,20),m=h(m,v,p,C,u[13],2850285829,5),C=h(C,m,v,p,u[2],4243563512,9),p=h(p,C,m,v,u[7],1735328473,14),v=h(v,p,C,m,u[12],2368359562,20),m=_(m,v,p,C,u[5],4294588738,4),C=_(C,m,v,p,u[8],2272392833,11),p=_(p,C,m,v,u[11],1839030562,16),v=_(v,p,C,m,u[14],4259657740,23),m=_(m,v,p,C,u[1],2763975236,4),C=_(C,m,v,p,u[4],1272893353,11),p=_(p,C,m,v,u[7],4139469664,16),v=_(v,p,C,m,u[10],3200236656,23),m=_(m,v,p,C,u[13],681279174,4),C=_(C,m,v,p,u[0],3936430074,11),p=_(p,C,m,v,u[3],3572445317,16),v=_(v,p,C,m,u[6],76029189,23),m=_(m,v,p,C,u[9],3654602809,4),C=_(C,m,v,p,u[12],3873151461,11),p=_(p,C,m,v,u[15],530742520,16),v=_(v,p,C,m,u[2],3299628645,23),m=b(m,v,p,C,u[0],4096336452,6),C=b(C,m,v,p,u[7],1126891415,10),p=b(p,C,m,v,u[14],2878612391,15),v=b(v,p,C,m,u[5],4237533241,21),m=b(m,v,p,C,u[12],1700485571,6),C=b(C,m,v,p,u[3],2399980690,10),p=b(p,C,m,v,u[10],4293915773,15),v=b(v,p,C,m,u[1],2240044497,21),m=b(m,v,p,C,u[8],1873313359,6),C=b(C,m,v,p,u[15],4264355552,10),p=b(p,C,m,v,u[6],2734768916,15),v=b(v,p,C,m,u[13],1309151649,21),m=b(m,v,p,C,u[4],4149444226,6),C=b(C,m,v,p,u[11],3174756917,10),p=b(p,C,m,v,u[2],718787259,15),v=b(v,p,C,m,u[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+v|0,this._c=this._c+p|0,this._d=this._d+C|0},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=M.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function c(u,k){return u<<k|u>>>32-k}function f(u,k,m,v,p,C,R){return c(u+(k&m|~k&v)+p+C|0,R)+k|0}function h(u,k,m,v,p,C,R){return c(u+(k&v|m&~v)+p+C|0,R)+k|0}function _(u,k,m,v,p,C,R){return c(u+(k^m^v)+p+C|0,R)+k|0}function b(u,k,m,v,p,C,R){return c(u+(m^(k|~v))+p+C|0,R)+k|0}s.exports=d},52244:(s,G,T)=>{var E=T(39404),A=T(15037);function M(S){this.rand=S||new A.Rand}s.exports=M,M.create=function(d){return new M(d)},M.prototype._randbelow=function(d){var c=d.bitLength(),f=Math.ceil(c/8);do var h=new E(this.rand.generate(f));while(h.cmp(d)>=0);return h},M.prototype._randrange=function(d,c){var f=c.sub(d);return d.add(this._randbelow(f))},M.prototype.test=function(d,c,f){var h=d.bitLength(),_=E.mont(d),b=new E(1).toRed(_);c||(c=Math.max(1,h/48|0));for(var u=d.subn(1),k=0;!u.testn(k);k++);for(var m=d.shrn(k),v=u.toRed(_),p=!0;c>0;c--){var C=this._randrange(new E(2),u);f&&f(C);var R=C.toRed(_).redPow(m);if(!(R.cmp(b)===0||R.cmp(v)===0)){for(var D=1;D<k;D++){if(R=R.redSqr(),R.cmp(b)===0)return!1;if(R.cmp(v)===0)break}if(D===k)return!1}}return p},M.prototype.getDivisor=function(d,c){var f=d.bitLength(),h=E.mont(d),_=new E(1).toRed(h);c||(c=Math.max(1,f/48|0));for(var b=d.subn(1),u=0;!b.testn(u);u++);for(var k=d.shrn(u),m=b.toRed(h);c>0;c--){var v=this._randrange(new E(2),b),p=d.gcd(v);if(p.cmpn(1)!==0)return p;var C=v.toRed(h).redPow(k);if(!(C.cmp(_)===0||C.cmp(m)===0)){for(var R=1;R<u;R++){if(C=C.redSqr(),C.cmp(_)===0)return C.fromRed().subn(1).gcd(d);if(C.cmp(m)===0)break}if(R===u)return C=C.redSqr(),C.fromRed().subn(1).gcd(d)}}return!1}},43349:s=>{s.exports=G;function G(T,E){if(!T)throw new Error(E||"Assertion failed")}G.equal=function(E,A,M){if(E!=A)throw new Error(M||"Assertion failed: "+E+" != "+A)}},64367:(s,G)=>{"use strict";var T=G;function E(S,d){if(Array.isArray(S))return S.slice();if(!S)return[];var c=[];if(typeof S!="string"){for(var f=0;f<S.length;f++)c[f]=S[f]|0;return c}if(d==="hex"){S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!==0&&(S="0"+S);for(var f=0;f<S.length;f+=2)c.push(parseInt(S[f]+S[f+1],16))}else for(var f=0;f<S.length;f++){var h=S.charCodeAt(f),_=h>>8,b=h&255;_?c.push(_,b):c.push(b)}return c}T.toArray=E;function A(S){return S.length===1?"0"+S:S}T.zero2=A;function M(S){for(var d="",c=0;c<S.length;c++)d+=A(S[c].toString(16));return d}T.toHex=M,T.encode=function(d,c){return c==="hex"?M(d):d}},83519:(s,G,T)=>{var E=T(86587);s.exports=E(A),s.exports.strict=E(M),A.proto=A(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return A(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return M(this)},configurable:!0})});function A(S){var d=function(){return d.called?d.value:(d.called=!0,d.value=S.apply(this,arguments))};return d.called=!1,d}function M(S){var d=function(){if(d.called)throw new Error(d.onceError);return d.called=!0,d.value=S.apply(this,arguments)},c=S.name||"Function wrapped with `once`";return d.onceError=c+" shouldn't be called more than once",d.called=!1,d}},21137:(s,G,T)=>{"use strict";var E=T(87568);G.certificate=T(36413);var A=E.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});G.RSAPrivateKey=A;var M=E.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});G.RSAPublicKey=M;var S=E.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});G.PublicKey=S;var d=E.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=E.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(d),this.key("subjectPrivateKey").octstr())});G.PrivateKey=c;var f=E.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});G.EncryptedPrivateKey=f;var h=E.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});G.DSAPrivateKey=h,G.DSAparam=E.define("DSAparam",function(){this.int()});var _=E.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});G.ECPrivateKey=_;var b=E.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});G.signature=E.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,G,T)=>{"use strict";var E=T(87568),A=E.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),M=E.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),S=E.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),d=E.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(S),this.key("subjectPublicKey").bitstr())}),c=E.define("RelativeDistinguishedName",function(){this.setof(M)}),f=E.define("RDNSequence",function(){this.seqof(c)}),h=E.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),_=E.define("Validity",function(){this.seq().obj(this.key("notBefore").use(A),this.key("notAfter").use(A))}),b=E.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=E.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(S),this.key("issuer").use(h),this.key("validity").use(_),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),k=E.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(S),this.key("signatureValue").bitstr())});s.exports=k},24101:(s,G,T)=>{var E=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,A=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,M=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,S=T(68078),d=T(1241),c=T(92861).Buffer;s.exports=function(f,h){var _=f.toString(),b=_.match(E),u;if(b){var m="aes"+b[1],v=c.from(b[2],"hex"),p=c.from(b[3].replace(/[\r\n]/g,""),"base64"),C=S(h,v.slice(0,8),parseInt(b[1],10)).key,R=[],D=d.createDecipheriv(m,C,v);R.push(D.update(p)),R.push(D.final()),u=c.concat(R)}else{var k=_.match(M);u=c.from(k[2].replace(/[\r\n]/g,""),"base64")}var F=_.match(A)[1];return{tag:F,data:u}}},78170:(s,G,T)=>{var E=T(21137),A=T(15579),M=T(24101),S=T(1241),d=T(78396),c=T(92861).Buffer;s.exports=f;function f(_){var b;typeof _=="object"&&!c.isBuffer(_)&&(b=_.passphrase,_=_.key),typeof _=="string"&&(_=c.from(_));var u=M(_,b),k=u.tag,m=u.data,v,p;switch(k){case"CERTIFICATE":p=E.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=E.PublicKey.decode(m,"der")),v=p.algorithm.algorithm.join("."),v){case"1.2.840.113549.1.1.1":return E.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=E.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+v)}case"ENCRYPTED PRIVATE KEY":m=E.EncryptedPrivateKey.decode(m,"der"),m=h(m,b);case"PRIVATE KEY":switch(p=E.PrivateKey.decode(m,"der"),v=p.algorithm.algorithm.join("."),v){case"1.2.840.113549.1.1.1":return E.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:E.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=E.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+v)}case"RSA PUBLIC KEY":return E.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return E.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:E.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return m=E.ECPrivateKey.decode(m,"der"),{curve:m.parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+k)}}f.signature=E.signature;function h(_,b){var u=_.algorithm.decrypt.kde.kdeparams.salt,k=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),m=A[_.algorithm.decrypt.cipher.algo.join(".")],v=_.algorithm.decrypt.cipher.iv,p=_.subjectPrivateKey,C=parseInt(m.split("-")[1],10)/8,R=d.pbkdf2Sync(b,u,k,C,"sha1"),D=S.createDecipheriv(m,R,v),F=[];return F.push(D.update(p)),F.push(D.final()),c.concat(F)}},57975:(s,G,T)=>{"use strict";var E=T(65606);function A(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function M(c,f){for(var h="",_=0,b=-1,u=0,k,m=0;m<=c.length;++m){if(m<c.length)k=c.charCodeAt(m);else{if(k===47)break;k=47}if(k===47){if(!(b===m-1||u===1))if(b!==m-1&&u===2){if(h.length<2||_!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var v=h.lastIndexOf("/");if(v!==h.length-1){v===-1?(h="",_=0):(h=h.slice(0,v),_=h.length-1-h.lastIndexOf("/")),b=m,u=0;continue}}else if(h.length===2||h.length===1){h="",_=0,b=m,u=0;continue}}f&&(h.length>0?h+="/..":h="..",_=2)}else h.length>0?h+="/"+c.slice(b+1,m):h=c.slice(b+1,m),_=m-b-1;b=m,u=0}else k===46&&u!==-1?++u:u=-1}return h}function S(c,f){var h=f.dir||f.root,_=f.base||(f.name||"")+(f.ext||"");return h?h===f.root?h+_:h+c+_:_}var d={resolve:function(){for(var f="",h=!1,_,b=arguments.length-1;b>=-1&&!h;b--){var u;b>=0?u=arguments[b]:(_===void 0&&(_=E.cwd()),u=_),A(u),u.length!==0&&(f=u+"/"+f,h=u.charCodeAt(0)===47)}return f=M(f,!h),h?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(f){if(A(f),f.length===0)return".";var h=f.charCodeAt(0)===47,_=f.charCodeAt(f.length-1)===47;return f=M(f,!h),f.length===0&&!h&&(f="."),f.length>0&&_&&(f+="/"),h?"/"+f:f},isAbsolute:function(f){return A(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,h=0;h<arguments.length;++h){var _=arguments[h];A(_),_.length>0&&(f===void 0?f=_:f+="/"+_)}return f===void 0?".":d.normalize(f)},relative:function(f,h){if(A(f),A(h),f===h||(f=d.resolve(f),h=d.resolve(h),f===h))return"";for(var _=1;_<f.length&&f.charCodeAt(_)===47;++_);for(var b=f.length,u=b-_,k=1;k<h.length&&h.charCodeAt(k)===47;++k);for(var m=h.length,v=m-k,p=u<v?u:v,C=-1,R=0;R<=p;++R){if(R===p){if(v>p){if(h.charCodeAt(k+R)===47)return h.slice(k+R+1);if(R===0)return h.slice(k+R)}else u>p&&(f.charCodeAt(_+R)===47?C=R:R===0&&(C=0));break}var D=f.charCodeAt(_+R),F=h.charCodeAt(k+R);if(D!==F)break;D===47&&(C=R)}var z="";for(R=_+C+1;R<=b;++R)(R===b||f.charCodeAt(R)===47)&&(z.length===0?z+="..":z+="/..");return z.length>0?z+h.slice(k+C):(k+=C,h.charCodeAt(k)===47&&++k,h.slice(k))},_makeLong:function(f){return f},dirname:function(f){if(A(f),f.length===0)return".";for(var h=f.charCodeAt(0),_=h===47,b=-1,u=!0,k=f.length-1;k>=1;--k)if(h=f.charCodeAt(k),h===47){if(!u){b=k;break}}else u=!1;return b===-1?_?"/":".":_&&b===1?"//":f.slice(0,b)},basename:function(f,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');A(f);var _=0,b=-1,u=!0,k;if(h!==void 0&&h.length>0&&h.length<=f.length){if(h.length===f.length&&h===f)return"";var m=h.length-1,v=-1;for(k=f.length-1;k>=0;--k){var p=f.charCodeAt(k);if(p===47){if(!u){_=k+1;break}}else v===-1&&(u=!1,v=k+1),m>=0&&(p===h.charCodeAt(m)?--m===-1&&(b=k):(m=-1,b=v))}return _===b?b=v:b===-1&&(b=f.length),f.slice(_,b)}else{for(k=f.length-1;k>=0;--k)if(f.charCodeAt(k)===47){if(!u){_=k+1;break}}else b===-1&&(u=!1,b=k+1);return b===-1?"":f.slice(_,b)}},extname:function(f){A(f);for(var h=-1,_=0,b=-1,u=!0,k=0,m=f.length-1;m>=0;--m){var v=f.charCodeAt(m);if(v===47){if(!u){_=m+1;break}continue}b===-1&&(u=!1,b=m+1),v===46?h===-1?h=m:k!==1&&(k=1):h!==-1&&(k=-1)}return h===-1||b===-1||k===0||k===1&&h===b-1&&h===_+1?"":f.slice(h,b)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return S("/",f)},parse:function(f){A(f);var h={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return h;var _=f.charCodeAt(0),b=_===47,u;b?(h.root="/",u=1):u=0;for(var k=-1,m=0,v=-1,p=!0,C=f.length-1,R=0;C>=u;--C){if(_=f.charCodeAt(C),_===47){if(!p){m=C+1;break}continue}v===-1&&(p=!1,v=C+1),_===46?k===-1?k=C:R!==1&&(R=1):k!==-1&&(R=-1)}return k===-1||v===-1||R===0||R===1&&k===v-1&&k===m+1?v!==-1&&(m===0&&b?h.base=h.name=f.slice(1,v):h.base=h.name=f.slice(m,v)):(m===0&&b?(h.name=f.slice(1,k),h.base=f.slice(1,v)):(h.name=f.slice(m,k),h.base=f.slice(m,v)),h.ext=f.slice(k,v)),m>0?h.dir=f.slice(0,m-1):b&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,s.exports=d},78396:(s,G,T)=>{G.pbkdf2=T(43832),G.pbkdf2Sync=T(21352)},43832:(s,G,T)=>{var E=T(92861).Buffer,A=T(64196),M=T(2455),S=T(21352),d=T(93382),c,f=T.g.crypto&&T.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_=[];function b(p){if(T.g.process&&!T.g.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(_[p]!==void 0)return _[p];c=c||E.alloc(8);var C=m(c,c,10,128,p).then(function(){return!0}).catch(function(){return!1});return _[p]=C,C}var u;function k(){return u||(T.g.process&&T.g.process.nextTick?u=T.g.process.nextTick:T.g.queueMicrotask?u=T.g.queueMicrotask:T.g.setImmediate?u=T.g.setImmediate:u=T.g.setTimeout,u)}function m(p,C,R,D,F){return f.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return f.deriveBits({name:"PBKDF2",salt:C,iterations:R,hash:{name:F}},z,D<<3)}).then(function(z){return E.from(z)})}function v(p,C){p.then(function(R){k()(function(){C(null,R)})},function(R){k()(function(){C(R)})})}s.exports=function(p,C,R,D,F,z){typeof F=="function"&&(z=F,F=void 0),F=F||"sha1";var y=h[F.toLowerCase()];if(!y||typeof T.g.Promise!="function"){k()(function(){var U;try{U=S(p,C,R,D,F)}catch(W){return z(W)}z(null,U)});return}if(A(R,D),p=d(p,M,"Password"),C=d(C,M,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");v(b(y).then(function(U){return U?m(p,C,R,D,y):S(p,C,R,D,F)}),z)}},2455:(s,G,T)=>{var E=T(65606),A;if(T.g.process&&T.g.process.browser)A="utf-8";else if(T.g.process&&T.g.process.version){var M=parseInt(E.version.split(".")[0].slice(1),10);A=M>=6?"utf-8":"binary"}else A="utf-8";s.exports=A},64196:s=>{var G=Math.pow(2,30)-1;s.exports=function(T,E){if(typeof T!="number")throw new TypeError("Iterations not a number");if(T<0)throw new TypeError("Bad iterations");if(typeof E!="number")throw new TypeError("Key length not a number");if(E<0||E>G||E!==E)throw new TypeError("Bad key length")}},21352:(s,G,T)=>{var E=T(20320),A=T(66011),M=T(62802),S=T(92861).Buffer,d=T(64196),c=T(2455),f=T(93382),h=S.alloc(128),_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(m,v,p){var C=u(m),R=m==="sha512"||m==="sha384"?128:64;v.length>R?v=C(v):v.length<R&&(v=S.concat([v,h],R));for(var D=S.allocUnsafe(R+_[m]),F=S.allocUnsafe(R+_[m]),z=0;z<R;z++)D[z]=v[z]^54,F[z]=v[z]^92;var y=S.allocUnsafe(R+p+4);D.copy(y,0,0,R),this.ipad1=y,this.ipad2=D,this.opad=F,this.alg=m,this.blocksize=R,this.hash=C,this.size=_[m]}b.prototype.run=function(m,v){m.copy(v,this.blocksize);var p=this.hash(v);return p.copy(this.opad,this.blocksize),this.hash(this.opad)};function u(m){function v(C){return M(m).update(C).digest()}function p(C){return new A().update(C).digest()}return m==="rmd160"||m==="ripemd160"?p:m==="md5"?E:v}function k(m,v,p,C,R){d(p,C),m=f(m,c,"Password"),v=f(v,c,"Salt"),R=R||"sha1";var D=new b(R,m,v.length),F=S.allocUnsafe(C),z=S.allocUnsafe(v.length+4);v.copy(z,0,0,v.length);for(var y=0,U=_[R],W=Math.ceil(C/U),K=1;K<=W;K++){z.writeUInt32BE(K,v.length);for(var Z=D.run(z,D.ipad1),re=Z,X=1;X<p;X++){re=D.run(re,D.ipad2);for(var P=0;P<U;P++)Z[P]^=re[P]}Z.copy(F,y),y+=U}return F}s.exports=k},93382:(s,G,T)=>{var E=T(92861).Buffer;s.exports=function(A,M,S){if(E.isBuffer(A))return A;if(typeof A=="string")return E.from(A,M);if(ArrayBuffer.isView(A))return E.from(A.buffer);throw new TypeError(S+" must be a string, a Buffer, a typed array or a DataView")}},65606:s=>{var G=s.exports={},T,E;function A(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?T=setTimeout:T=A}catch{T=A}try{typeof clearTimeout=="function"?E=clearTimeout:E=M}catch{E=M}})();function S(v){if(T===setTimeout)return setTimeout(v,0);if((T===A||!T)&&setTimeout)return T=setTimeout,setTimeout(v,0);try{return T(v,0)}catch{try{return T.call(null,v,0)}catch{return T.call(this,v,0)}}}function d(v){if(E===clearTimeout)return clearTimeout(v);if((E===M||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(v);try{return E(v)}catch{try{return E.call(null,v)}catch{return E.call(this,v)}}}var c=[],f=!1,h,_=-1;function b(){!f||!h||(f=!1,h.length?c=h.concat(c):_=-1,c.length&&u())}function u(){if(!f){var v=S(b);f=!0;for(var p=c.length;p;){for(h=c,c=[];++_<p;)h&&h[_].run();_=-1,p=c.length}h=null,f=!1,d(v)}}G.nextTick=function(v){var p=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)p[C-1]=arguments[C];c.push(new k(v,p)),c.length===1&&!f&&S(u)};function k(v,p){this.fun=v,this.array=p}k.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function m(){}G.on=m,G.addListener=m,G.once=m,G.off=m,G.removeListener=m,G.removeAllListeners=m,G.emit=m,G.prependListener=m,G.prependOnceListener=m,G.listeners=function(v){return[]},G.binding=function(v){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(v){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},97168:(s,G,T)=>{G.publicEncrypt=T(28902),G.privateDecrypt=T(77362),G.privateEncrypt=function(A,M){return G.publicEncrypt(A,M,!0)},G.publicDecrypt=function(A,M){return G.privateDecrypt(A,M,!0)}},48206:(s,G,T)=>{var E=T(47108),A=T(92861).Buffer;s.exports=function(S,d){for(var c=A.alloc(0),f=0,h;c.length<d;)h=M(f++),c=A.concat([c,E("sha1").update(S).update(h).digest()]);return c.slice(0,d)};function M(S){var d=A.allocUnsafe(4);return d.writeUInt32BE(S,0),d}},77362:(s,G,T)=>{var E=T(78170),A=T(48206),M=T(52061),S=T(39404),d=T(67332),c=T(47108),f=T(99247),h=T(92861).Buffer;s.exports=function(m,v,p){var C;m.padding?C=m.padding:p?C=1:C=4;var R=E(m),D=R.modulus.byteLength();if(v.length>D||new S(v).cmp(R.modulus)>=0)throw new Error("decryption error");var F;p?F=f(new S(v),R):F=d(v,R);var z=h.alloc(D-F.length);if(F=h.concat([z,F],D),C===4)return _(R,F);if(C===1)return b(R,F,p);if(C===3)return F;throw new Error("unknown padding")};function _(k,m){var v=k.modulus.byteLength(),p=c("sha1").update(h.alloc(0)).digest(),C=p.length;if(m[0]!==0)throw new Error("decryption error");var R=m.slice(1,C+1),D=m.slice(C+1),F=M(R,A(D,C)),z=M(D,A(F,v-C-1));if(u(p,z.slice(0,C)))throw new Error("decryption error");for(var y=C;z[y]===0;)y++;if(z[y++]!==1)throw new Error("decryption error");return z.slice(y)}function b(k,m,v){for(var p=m.slice(0,2),C=2,R=0;m[C++]!==0;)if(C>=m.length){R++;break}var D=m.slice(2,C-1);if((p.toString("hex")!=="0002"&&!v||p.toString("hex")!=="0001"&&v)&&R++,D.length<8&&R++,R)throw new Error("decryption error");return m.slice(C)}function u(k,m){k=h.from(k),m=h.from(m);var v=0,p=k.length;k.length!==m.length&&(v++,p=Math.min(k.length,m.length));for(var C=-1;++C<p;)v+=k[C]^m[C];return v}},28902:(s,G,T)=>{var E=T(78170),A=T(53209),M=T(47108),S=T(48206),d=T(52061),c=T(39404),f=T(99247),h=T(67332),_=T(92861).Buffer;s.exports=function(v,p,C){var R;v.padding?R=v.padding:C?R=1:R=4;var D=E(v),F;if(R===4)F=b(D,p);else if(R===1)F=u(D,p,C);else if(R===3){if(F=new c(p),F.cmp(D.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return C?h(F,D):f(F,D)};function b(m,v){var p=m.modulus.byteLength(),C=v.length,R=M("sha1").update(_.alloc(0)).digest(),D=R.length,F=2*D;if(C>p-F-2)throw new Error("message too long");var z=_.alloc(p-C-F-2),y=p-D-1,U=A(D),W=d(_.concat([R,z,_.alloc(1,1),v],y),S(U,y)),K=d(U,S(W,D));return new c(_.concat([_.alloc(1),K,W],p))}function u(m,v,p){var C=v.length,R=m.modulus.byteLength();if(C>R-11)throw new Error("message too long");var D;return p?D=_.alloc(R-C-3,255):D=k(R-C-3),new c(_.concat([_.from([0,p?1:2]),D,_.alloc(1),v],R))}function k(m){for(var v=_.allocUnsafe(m),p=0,C=A(m*2),R=0,D;p<m;)R===C.length&&(C=A(m*2),R=0),D=C[R++],D&&(v[p++]=D);return v}},99247:(s,G,T)=>{var E=T(39404),A=T(92861).Buffer;function M(S,d){return A.from(S.toRed(E.mont(d.modulus)).redPow(new E(d.publicExponent)).fromRed().toArray())}s.exports=M},52061:s=>{s.exports=function(T,E){for(var A=T.length,M=-1;++M<A;)T[M]^=E[M];return T}},53209:(s,G,T)=>{"use strict";var E=T(65606),A=65536,M=4294967295;function S(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var d=T(92861).Buffer,c=T.g.crypto||T.g.msCrypto;c&&c.getRandomValues?s.exports=f:s.exports=S;function f(h,_){if(h>M)throw new RangeError("requested too many random bytes");var b=d.allocUnsafe(h);if(h>0)if(h>A)for(var u=0;u<h;u+=A)c.getRandomValues(b.slice(u,u+A));else c.getRandomValues(b);return typeof _=="function"?E.nextTick(function(){_(null,b)}):b}},76983:(s,G,T)=>{"use strict";var E=T(65606);function A(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var M=T(92861),S=T(53209),d=M.Buffer,c=M.kMaxLength,f=T.g.crypto||T.g.msCrypto,h=Math.pow(2,32)-1;function _(v,p){if(typeof v!="number"||v!==v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>c||v>p)throw new RangeError("offset out of range")}function b(v,p,C){if(typeof v!="number"||v!==v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+p>C||v>c)throw new RangeError("buffer too small")}f&&f.getRandomValues||!E.browser?(G.randomFill=u,G.randomFillSync=m):(G.randomFill=A,G.randomFillSync=A);function u(v,p,C,R){if(!d.isBuffer(v)&&!(v instanceof T.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")R=p,p=0,C=v.length;else if(typeof C=="function")R=C,C=v.length-p;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return _(p,v.length),b(C,p,v.length),k(v,p,C,R)}function k(v,p,C,R){if(E.browser){var D=v.buffer,F=new Uint8Array(D,p,C);if(f.getRandomValues(F),R){E.nextTick(function(){R(null,v)});return}return v}if(R){S(C,function(y,U){if(y)return R(y);U.copy(v,p),R(null,v)});return}var z=S(C);return z.copy(v,p),v}function m(v,p,C){if(typeof p=="undefined"&&(p=0),!d.isBuffer(v)&&!(v instanceof T.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _(p,v.length),C===void 0&&(C=v.length-p),b(C,p,v.length),k(v,p,C)}},66011:(s,G,T)=>{"use strict";var E=T(48287).Buffer,A=T(56698),M=T(4729),S=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function u(){M.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}A(u,M),u.prototype._update=function(){for(var D=S,F=0;F<16;++F)D[F]=this._block.readInt32LE(F*4);for(var z=this._a|0,y=this._b|0,U=this._c|0,W=this._d|0,K=this._e|0,Z=this._a|0,re=this._b|0,X=this._c|0,P=this._d|0,$=this._e|0,N=0;N<80;N+=1){var o,w;N<16?(o=m(z,y,U,W,K,D[d[N]],_[0],f[N]),w=R(Z,re,X,P,$,D[c[N]],b[0],h[N])):N<32?(o=v(z,y,U,W,K,D[d[N]],_[1],f[N]),w=C(Z,re,X,P,$,D[c[N]],b[1],h[N])):N<48?(o=p(z,y,U,W,K,D[d[N]],_[2],f[N]),w=p(Z,re,X,P,$,D[c[N]],b[2],h[N])):N<64?(o=C(z,y,U,W,K,D[d[N]],_[3],f[N]),w=v(Z,re,X,P,$,D[c[N]],b[3],h[N])):(o=R(z,y,U,W,K,D[d[N]],_[4],f[N]),w=m(Z,re,X,P,$,D[c[N]],b[4],h[N])),z=K,K=W,W=k(U,10),U=y,y=o,Z=$,$=P,P=k(X,10),X=re,re=w}var I=this._b+U+P|0;this._b=this._c+W+$|0,this._c=this._d+K+Z|0,this._d=this._e+z+re|0,this._e=this._a+y+X|0,this._a=I},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=E.alloc?E.alloc(20):new E(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D};function k(D,F){return D<<F|D>>>32-F}function m(D,F,z,y,U,W,K,Z){return k(D+(F^z^y)+W+K|0,Z)+U|0}function v(D,F,z,y,U,W,K,Z){return k(D+(F&z|~F&y)+W+K|0,Z)+U|0}function p(D,F,z,y,U,W,K,Z){return k(D+((F|~z)^y)+W+K|0,Z)+U|0}function C(D,F,z,y,U,W,K,Z){return k(D+(F&y|z&~y)+W+K|0,Z)+U|0}function R(D,F,z,y,U,W,K,Z){return k(D+(F^(z|~y))+W+K|0,Z)+U|0}s.exports=u},92861:(s,G,T)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E=T(48287),A=E.Buffer;function M(d,c){for(var f in d)c[f]=d[f]}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?s.exports=E:(M(E,G),G.Buffer=S);function S(d,c,f){return A(d,c,f)}S.prototype=Object.create(A.prototype),M(A,S),S.from=function(d,c,f){if(typeof d=="number")throw new TypeError("Argument must not be a number");return A(d,c,f)},S.alloc=function(d,c,f){if(typeof d!="number")throw new TypeError("Argument must be a number");var h=A(d);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},S.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return A(d)},S.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(d)}},54774:(s,G,T)=>{"use strict";var E=T(65606),A=T(48287),M=A.Buffer,S={},d;for(d in A)A.hasOwnProperty(d)&&(d==="SlowBuffer"||d==="Buffer"||(S[d]=A[d]));var c=S.Buffer={};for(d in M)M.hasOwnProperty(d)&&(d==="allocUnsafe"||d==="allocUnsafeSlow"||(c[d]=M[d]));if(S.Buffer.prototype=M.prototype,(!c.from||c.from===Uint8Array.from)&&(c.from=function(f,h,_){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&typeof f.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return M(f,h,_)}),c.alloc||(c.alloc=function(f,h,_){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2147483648)throw new RangeError('The value "'+f+'" is invalid for option "size"');var b=M(f);return!h||h.length===0?b.fill(0):typeof _=="string"?b.fill(h,_):b.fill(h),b}),!S.kStringMaxLength)try{S.kStringMaxLength=E.binding("buffer").kStringMaxLength}catch{}S.constants||(S.constants={MAX_LENGTH:S.kMaxLength},S.kStringMaxLength&&(S.constants.MAX_STRING_LENGTH=S.kStringMaxLength)),s.exports=S},90392:(s,G,T)=>{var E=T(92861).Buffer;function A(M,S){this._block=E.alloc(M),this._finalSize=S,this._blockSize=M,this._len=0}A.prototype.update=function(M,S){typeof M=="string"&&(S=S||"utf8",M=E.from(M,S));for(var d=this._block,c=this._blockSize,f=M.length,h=this._len,_=0;_<f;){for(var b=h%c,u=Math.min(f-_,c-b),k=0;k<u;k++)d[b+k]=M[_+k];h+=u,_+=u,h%c===0&&this._update(d)}return this._len+=f,this},A.prototype.digest=function(M){var S=this._len%this._blockSize;this._block[S]=128,this._block.fill(0,S+1),S>=this._finalSize&&(this._update(this._block),this._block.fill(0));var d=this._len*8;if(d<=4294967295)this._block.writeUInt32BE(d,this._blockSize-4);else{var c=(d&4294967295)>>>0,f=(d-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return M?h.toString(M):h},A.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=A},62802:(s,G,T)=>{var E=s.exports=function(M){M=M.toLowerCase();var S=E[M];if(!S)throw new Error(M+" is not supported (we accept pull requests)");return new S};E.sha=T(27816),E.sha1=T(63737),E.sha224=T(26710),E.sha256=T(24107),E.sha384=T(32827),E.sha512=T(82890)},27816:(s,G,T)=>{var E=T(56698),A=T(90392),M=T(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,A.call(this,64,56)}E(c,A),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(b){return b<<5|b>>>27}function h(b){return b<<30|b>>>2}function _(b,u,k,m){return b===0?u&k|~u&m:b===2?u&k|u&m|k&m:u^k^m}c.prototype._update=function(b){for(var u=this._w,k=this._a|0,m=this._b|0,v=this._c|0,p=this._d|0,C=this._e|0,R=0;R<16;++R)u[R]=b.readInt32BE(R*4);for(;R<80;++R)u[R]=u[R-3]^u[R-8]^u[R-14]^u[R-16];for(var D=0;D<80;++D){var F=~~(D/20),z=f(k)+_(F,m,v,p)+C+u[D]+S[F]|0;C=p,p=v,v=h(m),m=k,k=z}this._a=k+this._a|0,this._b=m+this._b|0,this._c=v+this._c|0,this._d=p+this._d|0,this._e=C+this._e|0},c.prototype._hash=function(){var b=M.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},s.exports=c},63737:(s,G,T)=>{var E=T(56698),A=T(90392),M=T(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,A.call(this,64,56)}E(c,A),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(u){return u<<1|u>>>31}function h(u){return u<<5|u>>>27}function _(u){return u<<30|u>>>2}function b(u,k,m,v){return u===0?k&m|~k&v:u===2?k&m|k&v|m&v:k^m^v}c.prototype._update=function(u){for(var k=this._w,m=this._a|0,v=this._b|0,p=this._c|0,C=this._d|0,R=this._e|0,D=0;D<16;++D)k[D]=u.readInt32BE(D*4);for(;D<80;++D)k[D]=f(k[D-3]^k[D-8]^k[D-14]^k[D-16]);for(var F=0;F<80;++F){var z=~~(F/20),y=h(m)+b(z,v,p,C)+R+k[F]+S[z]|0;R=C,C=p,p=_(v),v=m,m=y}this._a=m+this._a|0,this._b=v+this._b|0,this._c=p+this._c|0,this._d=C+this._d|0,this._e=R+this._e|0},c.prototype._hash=function(){var u=M.allocUnsafe(20);return u.writeInt32BE(this._a|0,0),u.writeInt32BE(this._b|0,4),u.writeInt32BE(this._c|0,8),u.writeInt32BE(this._d|0,12),u.writeInt32BE(this._e|0,16),u},s.exports=c},26710:(s,G,T)=>{var E=T(56698),A=T(24107),M=T(90392),S=T(92861).Buffer,d=new Array(64);function c(){this.init(),this._w=d,M.call(this,64,56)}E(c,A),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=S.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=c},24107:(s,G,T)=>{var E=T(56698),A=T(90392),M=T(92861).Buffer,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);function c(){this.init(),this._w=d,A.call(this,64,56)}E(c,A),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function f(m,v,p){return p^m&(v^p)}function h(m,v,p){return m&v|p&(m|v)}function _(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function b(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function u(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function k(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}c.prototype._update=function(m){for(var v=this._w,p=this._a|0,C=this._b|0,R=this._c|0,D=this._d|0,F=this._e|0,z=this._f|0,y=this._g|0,U=this._h|0,W=0;W<16;++W)v[W]=m.readInt32BE(W*4);for(;W<64;++W)v[W]=k(v[W-2])+v[W-7]+u(v[W-15])+v[W-16]|0;for(var K=0;K<64;++K){var Z=U+b(F)+f(F,z,y)+S[K]+v[K]|0,re=_(p)+h(p,C,R)|0;U=y,y=z,z=F,F=D+Z|0,D=R,R=C,C=p,p=Z+re|0}this._a=p+this._a|0,this._b=C+this._b|0,this._c=R+this._c|0,this._d=D+this._d|0,this._e=F+this._e|0,this._f=z+this._f|0,this._g=y+this._g|0,this._h=U+this._h|0},c.prototype._hash=function(){var m=M.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},s.exports=c},32827:(s,G,T)=>{var E=T(56698),A=T(82890),M=T(90392),S=T(92861).Buffer,d=new Array(160);function c(){this.init(),this._w=d,M.call(this,128,112)}E(c,A),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=S.allocUnsafe(48);function h(_,b,u){f.writeInt32BE(_,u),f.writeInt32BE(b,u+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=c},82890:(s,G,T)=>{var E=T(56698),A=T(90392),M=T(92861).Buffer,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=new Array(160);function c(){this.init(),this._w=d,A.call(this,128,112)}E(c,A),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function f(C,R,D){return D^C&(R^D)}function h(C,R,D){return C&R|D&(C|R)}function _(C,R){return(C>>>28|R<<4)^(R>>>2|C<<30)^(R>>>7|C<<25)}function b(C,R){return(C>>>14|R<<18)^(C>>>18|R<<14)^(R>>>9|C<<23)}function u(C,R){return(C>>>1|R<<31)^(C>>>8|R<<24)^C>>>7}function k(C,R){return(C>>>1|R<<31)^(C>>>8|R<<24)^(C>>>7|R<<25)}function m(C,R){return(C>>>19|R<<13)^(R>>>29|C<<3)^C>>>6}function v(C,R){return(C>>>19|R<<13)^(R>>>29|C<<3)^(C>>>6|R<<26)}function p(C,R){return C>>>0<R>>>0?1:0}c.prototype._update=function(C){for(var R=this._w,D=this._ah|0,F=this._bh|0,z=this._ch|0,y=this._dh|0,U=this._eh|0,W=this._fh|0,K=this._gh|0,Z=this._hh|0,re=this._al|0,X=this._bl|0,P=this._cl|0,$=this._dl|0,N=this._el|0,o=this._fl|0,w=this._gl|0,I=this._hl|0,q=0;q<32;q+=2)R[q]=C.readInt32BE(q*4),R[q+1]=C.readInt32BE(q*4+4);for(;q<160;q+=2){var j=R[q-30],H=R[q-15*2+1],ee=u(j,H),ie=k(H,j);j=R[q-4],H=R[q-4+1];var B=m(j,H),ne=v(H,j),Le=R[q-7*2],pe=R[q-7*2+1],Me=R[q-16*2],Pe=R[q-16*2+1],J=ie+pe|0,te=ee+Le+p(J,ie)|0;J=J+ne|0,te=te+B+p(J,ne)|0,J=J+Pe|0,te=te+Me+p(J,Pe)|0,R[q]=te,R[q+1]=J}for(var fe=0;fe<160;fe+=2){te=R[fe],J=R[fe+1];var ve=h(D,F,z),Se=h(re,X,P),L=_(D,re),O=_(re,D),oe=b(U,N),be=b(N,U),ke=S[fe],ge=S[fe+1],De=f(U,W,K),Ge=f(N,o,w),We=I+be|0,Nt=Z+oe+p(We,I)|0;We=We+Ge|0,Nt=Nt+De+p(We,Ge)|0,We=We+ge|0,Nt=Nt+ke+p(We,ge)|0,We=We+J|0,Nt=Nt+te+p(We,J)|0;var Ze=O+Se|0,it=L+ve+p(Ze,O)|0;Z=K,I=w,K=W,w=o,W=U,o=N,N=$+We|0,U=y+Nt+p(N,$)|0,y=z,$=P,z=F,P=X,F=D,X=re,re=We+Ze|0,D=Nt+it+p(re,We)|0}this._al=this._al+re|0,this._bl=this._bl+X|0,this._cl=this._cl+P|0,this._dl=this._dl+$|0,this._el=this._el+N|0,this._fl=this._fl+o|0,this._gl=this._gl+w|0,this._hl=this._hl+I|0,this._ah=this._ah+D+p(this._al,re)|0,this._bh=this._bh+F+p(this._bl,X)|0,this._ch=this._ch+z+p(this._cl,P)|0,this._dh=this._dh+y+p(this._dl,$)|0,this._eh=this._eh+U+p(this._el,N)|0,this._fh=this._fh+W+p(this._fl,o)|0,this._gh=this._gh+K+p(this._gl,w)|0,this._hh=this._hh+Z+p(this._hl,I)|0},c.prototype._hash=function(){var C=M.allocUnsafe(64);function R(D,F,z){C.writeInt32BE(D,z),C.writeInt32BE(F,z+4)}return R(this._ah,this._al,0),R(this._bh,this._bl,8),R(this._ch,this._cl,16),R(this._dh,this._dl,24),R(this._eh,this._el,32),R(this._fh,this._fl,40),R(this._gh,this._gl,48),R(this._hh,this._hl,56),C},s.exports=c},1182:(s,G,T)=>{"use strict";const E=T(38601),A=/\s/,M=/\r|\n/,S=/^(Host|Match)$/i,d=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,c=/^(?:CertificateFile|IdentityFile|User)$/i,f=/^(Include|IdentityFile)$/i,h=1,_=2,b=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function u(v,p){return p.hasOwnProperty(v.param)&&p[v.param]===v.value}function k(v){for(const p of v)if(S.test(p.param)){for(const C of p.config)if(C.before)return C.before}return"  "}class m extends Array{compute(p){const C={},R=(D,F)=>{b.includes(D)?(C[D]||(C[D]=[])).push(F):C[D]==null&&(C[D]=F)};for(const D of this)D.type===h&&(D.param==="Host"?E(D.value,p)&&(R(D.param,D.value),D.config.filter(F=>F.type===h).forEach(F=>R(F.param,F.value))):D.param==="Match"||R(D.param,D.value));return C}find(p={}){if(typeof p=="function")return super.find(p);if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only find by Host or Match");return super.find(C=>u(C,p))}remove(p={}){if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only remove by Host or Match");const C=typeof p=="function"?super.findIndex(p):super.findIndex(R=>u(R,p));if(C>=0)return this.splice(C,1)}toString(){return this.constructor.stringify(this)}append(p){const C=k(this),R=this.length>0?this[this.length-1]:null;let D=R&&R.config||this,F=this,z=D.length>0?D[D.length-1]:R;z&&!z.after&&(z.after=`
`);for(const y in p){const U={type:h,param:y,separator:" ",value:p[y],before:"",after:`
`};S.test(y)?(D=F,z&&z.after===`
`&&(z.after+=`
`),D.push(U),D=U.config=new m):(U.before=D===F?"":C,D.push(U)),z=U}return F}prepend(p,C=!1){const R=k(this);let D=this,F=0;if(C){for(;F<this.length&&!S.test(this[F].param);)F+=1;if(F>=this.length)return this.append(p)}let z=!1,y=0;for(const U in p){y+=1;const W={type:h,param:U,separator:" ",value:p[U],before:"",after:`
`};if(S.test(U)){D.splice(F,0,W),D=W.config=new m,z=!0;continue}if(y===Object.keys(p).length&&(W.after+=`
`),!z){D.splice(F,0,W),F+=1,f.test(U)&&(W.after+=`
`);continue}W.before=R,D.push(W)}return D}static stringify(p){let C="";function R(z,y){return Array.isArray(z)?z.map(U=>R(U,A.test(U))).join(" "):y?`"${z}"`:z}function D(z){const y=z.quoted||c.test(z.param)&&A.test(z.value),U=R(z.value,y);return`${z.param}${z.separator}${U}`}const F=z=>{C+=z.before,z.type===_?C+=z.content:z.type===h&&b.includes(z.param)?[].concat(z.value).forEach(function(y,U,W){C+=D({...z,value:y}),U<W.length-1&&(C+=`
${z.before}`)}):z.type===h&&(C+=D(z)),C+=z.after,z.config&&z.config.forEach(F)};return p.forEach(F),C}static get DIRECTIVE(){return h}static get COMMENT(){return _}static parse(p){let C=0,R=z(),D=new m,F=D;function z(){return p[C++]}function y(){let N="";for(;A.test(R);)N+=R,R=z();return N}function U(){let N="";for(;M.test(R);)N+=R,R=z();return N}function W(){let N="";for(;R&&/[^ \t=]/.test(R);)N+=R,R=z();return N}function K(){let N=y();return R==="="&&(N+=R,R=z()),N+y()}function Z(){let N="",o=!1,w=!1;for(;R&&!M.test(R);)w?(N+=R==='"'?R:`\\${R}`,w=!1):R==='"'&&(!N||o)?o=!o:R==="\\"?w=!0:N+=R,R=z();if(o||w)throw new Error(`Unexpected line break at ${N}`);return N.trim()}function re(){const N=_;let o="";for(;R&&!M.test(R);)o+=R,R=z();return{type:N,content:o}}function X(){const N=[];let o="",w=!1,I=!1;for(;R&&!M.test(R);)I?(o+=R==='"'?R:`\\${R}`,I=!1):R==='"'?w=!w:R==="\\"?I=!0:w?o+=R:/[ \t]/.test(R)?o&&(N.push(o),o=""):o+=R,R=z();if(w||I)throw new Error(`Unexpected line break at ${N.concat(o).join(" ")}`);return o&&N.push(o),N.length>1?N:N[0]}function P(){const N=h,o=W(),w=d.test(o),I={type:N,param:o,separator:K(),quoted:!w&&R==='"',value:w?X():Z()};return I.quoted||delete I.quoted,I}function $(){const N=y(),o=R==="#"?re():P(),w=U();return o.before=N,o.after=w,o}for(;R;){let N=$();N.type===h&&S.test(N.param)?(D=F,D.push(N),D=N.config=new m):D.push(N)}return F}}s.exports=m},38601:s=>{"use strict";function G(A,M){for(let S of M)A=A.replace(new RegExp("\\"+S,"g"),"\\"+S);return A}function T(A,M){return A=G(A,"\\()[]{}.+^$|"),A=A.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+A+")$").test(M)}function E(A,M){const S=Array.isArray(A)?A:A.split(/,/);let d=!1;for(const c of S){if(c[0]=="!"&&T(c.slice(1),M))return!1;T(c,M)&&(d=!0)}return d}s.exports=E},88310:(s,G,T)=>{s.exports=M;var E=T(37007).EventEmitter,A=T(56698);A(M,E),M.Readable=T(46891),M.Writable=T(81999),M.Duplex=T(88101),M.Transform=T(59083),M.PassThrough=T(3681),M.finished=T(14257),M.pipeline=T(5267),M.Stream=M;function M(){E.call(this)}M.prototype.pipe=function(S,d){var c=this;function f(v){S.writable&&S.write(v)===!1&&c.pause&&c.pause()}c.on("data",f);function h(){c.readable&&c.resume&&c.resume()}S.on("drain",h),!S._isStdio&&(!d||d.end!==!1)&&(c.on("end",b),c.on("close",u));var _=!1;function b(){_||(_=!0,S.end())}function u(){_||(_=!0,typeof S.destroy=="function"&&S.destroy())}function k(v){if(m(),E.listenerCount(this,"error")===0)throw v}c.on("error",k),S.on("error",k);function m(){c.removeListener("data",f),S.removeListener("drain",h),c.removeListener("end",b),c.removeListener("close",u),c.removeListener("error",k),S.removeListener("error",k),c.removeListener("end",m),c.removeListener("close",m),S.removeListener("close",m)}return c.on("end",m),c.on("close",m),S.on("close",m),S.emit("pipe",c),S}},12463:s=>{"use strict";function G(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function E(c,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var b=function(u){G(k,u);function k(m,v,p){return u.call(this,_(m,v,p))||this}return k}(h);b.prototype.name=h.name,b.prototype.code=c,T[c]=b}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function M(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}E("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(c,f,h){var _;typeof f=="string"&&M(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var b;if(S(c," argument"))b="The ".concat(c," ").concat(_," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";b='The "'.concat(c,'" ').concat(u," ").concat(_," ").concat(A(f,"type"))}return b+=". Received type ".concat(typeof h),b},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},88101:(s,G,T)=>{"use strict";var E=T(65606),A=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var M=T(46891),S=T(81999);T(56698)(h,M);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);M.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||E.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},3681:(s,G,T)=>{"use strict";s.exports=A;var E=T(59083);T(56698)(A,E);function A(M){if(!(this instanceof A))return new A(M);E.call(this,M)}A.prototype._transform=function(M,S,d){d(null,M)}},46891:(s,G,T)=>{"use strict";var E=T(65606);s.exports=P;var A;P.ReadableState=X;var M=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(41396),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(L){return c.from(L)}function _(L){return c.isBuffer(L)||L instanceof f}var b=T(77199),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var k=T(81766),m=T(54347),v=T(66644),p=v.getHighWaterMark,C=T(12463).F,R=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,F=C.ERR_METHOD_NOT_IMPLEMENTED,z=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,U,W;T(56698)(P,d);var K=m.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function re(L,O,oe){if(typeof L.prependListener=="function")return L.prependListener(O,oe);!L._events||!L._events[O]?L.on(O,oe):Array.isArray(L._events[O])?L._events[O].unshift(oe):L._events[O]=[oe,L._events[O]]}function X(L,O,oe){A=A||T(88101),L=L||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!L.objectMode,oe&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=p(this,L,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(y||(y=T(83141).I),this.decoder=new y(L.encoding),this.encoding=L.encoding)}function P(L){if(A=A||T(88101),!(this instanceof P))return new P(L);var O=this instanceof A;this._readableState=new X(L,this,O),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),d.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(L,O){O(L)},P.prototype.push=function(L,O){var oe=this._readableState,be;return oe.objectMode?be=!0:typeof L=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(L=c.from(L,O),O=""),be=!0),$(this,L,O,!1,be)},P.prototype.unshift=function(L){return $(this,L,null,!0,!1)};function $(L,O,oe,be,ke){u("readableAddChunk",O);var ge=L._readableState;if(O===null)ge.reading=!1,j(L,ge);else{var De;if(ke||(De=o(ge,O)),De)K(L,De);else if(ge.objectMode||O&&O.length>0)if(typeof O!="string"&&!ge.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),be)ge.endEmitted?K(L,new z):N(L,ge,O,!0);else if(ge.ended)K(L,new D);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!oe?(O=ge.decoder.write(O),ge.objectMode||O.length!==0?N(L,ge,O,!1):ie(L,ge)):N(L,ge,O,!1)}else be||(ge.reading=!1,ie(L,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function N(L,O,oe,be){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,L.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,be?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(L)),ie(L,O)}function o(L,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!L.objectMode&&(oe=new R("chunk",["string","Buffer","Uint8Array"],O)),oe}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(L){y||(y=T(83141).I);var O=new y(L);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,be="";oe!==null;)be+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var w=1073741824;function I(L){return L>=w?L=w:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function q(L,O){return L<=0||O.length===0&&O.ended?0:O.objectMode?1:L!==L?O.flowing&&O.length?O.buffer.head.data.length:O.length:(L>O.highWaterMark&&(O.highWaterMark=I(L)),L<=O.length?L:O.ended?O.length:(O.needReadable=!0,0))}P.prototype.read=function(L){u("read",L),L=parseInt(L,10);var O=this._readableState,oe=L;if(L!==0&&(O.emittedReadable=!1),L===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?fe(this):H(this),null;if(L=q(L,O),L===0&&O.ended)return O.length===0&&fe(this),null;var be=O.needReadable;u("need readable",be),(O.length===0||O.length-L<O.highWaterMark)&&(be=!0,u("length less than watermark",be)),O.ended||O.reading?(be=!1,u("reading or ended",be)):be&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(L=q(oe,O)));var ke;return L>0?ke=te(L,O):ke=null,ke===null?(O.needReadable=O.length<=O.highWaterMark,L=0):(O.length-=L,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==L&&O.ended&&fe(this)),ke!==null&&this.emit("data",ke),ke};function j(L,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(L):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(L)))}}function H(L){var O=L._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,E.nextTick(ee,L))}function ee(L){var O=L._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(L.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,J(L)}function ie(L,O){O.readingMore||(O.readingMore=!0,E.nextTick(B,L,O))}function B(L,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),L.read(0),oe===O.length)break}O.readingMore=!1}P.prototype._read=function(L){K(this,new F("_read()"))},P.prototype.pipe=function(L,O){var oe=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=L;break;case 1:be.pipes=[be.pipes,L];break;default:be.pipes.push(L);break}be.pipesCount+=1,u("pipe count=%d opts=%j",be.pipesCount,O);var ke=(!O||O.end!==!1)&&L!==E.stdout&&L!==E.stderr,ge=ke?Ge:se;be.endEmitted?E.nextTick(ge):oe.once("end",ge),L.on("unpipe",De);function De(ye,Fe){u("onunpipe"),ye===oe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Ze())}function Ge(){u("onend"),L.end()}var We=ne(oe);L.on("drain",We);var Nt=!1;function Ze(){u("cleanup"),L.removeListener("close",ce),L.removeListener("finish",Q),L.removeListener("drain",We),L.removeListener("error",Et),L.removeListener("unpipe",De),oe.removeListener("end",Ge),oe.removeListener("end",se),oe.removeListener("data",it),Nt=!0,be.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&We()}oe.on("data",it);function it(ye){u("ondata");var Fe=L.write(ye);u("dest.write",Fe),Fe===!1&&((be.pipesCount===1&&be.pipes===L||be.pipesCount>1&&Se(be.pipes,L)!==-1)&&!Nt&&(u("false write response, pause",be.awaitDrain),be.awaitDrain++),oe.pause())}function Et(ye){u("onerror",ye),se(),L.removeListener("error",Et),S(L,"error")===0&&K(L,ye)}re(L,"error",Et);function ce(){L.removeListener("finish",Q),se()}L.once("close",ce);function Q(){u("onfinish"),L.removeListener("close",ce),se()}L.once("finish",Q);function se(){u("unpipe"),oe.unpipe(L)}return L.emit("pipe",oe),be.flowing||(u("pipe resume"),oe.resume()),L};function ne(L){return function(){var oe=L._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(L,"data")&&(oe.flowing=!0,J(L))}}P.prototype.unpipe=function(L){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return L&&L!==O.pipes?this:(L||(L=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,L&&L.emit("unpipe",this,oe),this);if(!L){var be=O.pipes,ke=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ge=0;ge<ke;ge++)be[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var De=Se(O.pipes,L);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),L.emit("unpipe",this,oe),this)},P.prototype.on=function(L,O){var oe=d.prototype.on.call(this,L,O),be=this._readableState;return L==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):L==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,u("on readable",be.length,be.reading),be.length?H(this):be.reading||E.nextTick(pe,this)),oe},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(L,O){var oe=d.prototype.removeListener.call(this,L,O);return L==="readable"&&E.nextTick(Le,this),oe},P.prototype.removeAllListeners=function(L){var O=d.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&E.nextTick(Le,this),O};function Le(L){var O=L._readableState;O.readableListening=L.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:L.listenerCount("data")>0&&L.resume()}function pe(L){u("readable nexttick read 0"),L.read(0)}P.prototype.resume=function(){var L=this._readableState;return L.flowing||(u("resume"),L.flowing=!L.readableListening,Me(this,L)),L.paused=!1,this};function Me(L,O){O.resumeScheduled||(O.resumeScheduled=!0,E.nextTick(Pe,L,O))}function Pe(L,O){u("resume",O.reading),O.reading||L.read(0),O.resumeScheduled=!1,L.emit("resume"),J(L),O.flowing&&!O.reading&&L.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(L){var O=L._readableState;for(u("flow",O.flowing);O.flowing&&L.read()!==null;);}P.prototype.wrap=function(L){var O=this,oe=this._readableState,be=!1;L.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var De=oe.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),L.on("data",function(De){if(u("wrapped data"),oe.decoder&&(De=oe.decoder.write(De)),!(oe.objectMode&&De==null)&&!(!oe.objectMode&&(!De||!De.length))){var Ge=O.push(De);Ge||(be=!0,L.pause())}});for(var ke in L)this[ke]===void 0&&typeof L[ke]=="function"&&(this[ke]=function(Ge){return function(){return L[Ge].apply(L,arguments)}}(ke));for(var ge=0;ge<Z.length;ge++)L.on(Z[ge],this.emit.bind(this,Z[ge]));return this._read=function(De){u("wrapped _read",De),be&&(be=!1,L.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=T(65034)),U(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(L,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!L||L>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(L,O.decoder),oe}function fe(L){var O=L._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,E.nextTick(ve,O,L))}function ve(L,O){if(u("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,O.readable=!1,O.emit("end"),L.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(P.from=function(L,O){return W===void 0&&(W=T(90968)),W(P,L,O)});function Se(L,O){for(var oe=0,be=L.length;oe<be;oe++)if(L[oe]===O)return oe;return-1}},59083:(s,G,T)=>{"use strict";s.exports=h;var E=T(12463).F,A=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_MULTIPLE_CALLBACK,S=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=E.ERR_TRANSFORM_WITH_LENGTH_0,c=T(88101);T(56698)(h,c);function f(u,k){var m=this._transformState;m.transforming=!1;var v=m.writecb;if(v===null)return this.emit("error",new M);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),v(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){b(u,k,m)}):b(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new A("_transform()"))},h.prototype._write=function(u,k,m){var v=this._transformState;if(v.writecb=m,v.writechunk=u,v.writeencoding=k,!v.transforming){var p=this._readableState;(v.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){c.prototype._destroy.call(this,u,function(m){k(m)})};function b(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},81999:(s,G,T)=>{"use strict";var E=T(65606);s.exports=X;function A(J,te,fe){this.chunk=J,this.encoding=te,this.callback=fe,this.next=null}function M(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,J)}}var S;X.WritableState=Z;var d={deprecate:T(94643)},c=T(41396),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function _(J){return f.from(J)}function b(J){return f.isBuffer(J)||J instanceof h}var u=T(54347),k=T(66644),m=k.getHighWaterMark,v=T(12463).F,p=v.ERR_INVALID_ARG_TYPE,C=v.ERR_METHOD_NOT_IMPLEMENTED,R=v.ERR_MULTIPLE_CALLBACK,D=v.ERR_STREAM_CANNOT_PIPE,F=v.ERR_STREAM_DESTROYED,z=v.ERR_STREAM_NULL_VALUES,y=v.ERR_STREAM_WRITE_AFTER_END,U=v.ERR_UNKNOWN_ENCODING,W=u.errorOrDestroy;T(56698)(X,c);function K(){}function Z(J,te,fe){S=S||T(88101),J=J||{},typeof fe!="boolean"&&(fe=te instanceof S),this.objectMode=!!J.objectMode,fe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=J.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){j(te,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,fe=[];te;)fe.push(te),te=te.next;return fe},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var re;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(te){return re.call(this,te)?!0:this!==X?!1:te&&te._writableState instanceof Z}})):re=function(te){return te instanceof this};function X(J){S=S||T(88101);var te=this instanceof S;if(!te&&!re.call(X,this))return new X(J);this._writableState=new Z(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),c.call(this)}X.prototype.pipe=function(){W(this,new D)};function P(J,te){var fe=new y;W(J,fe),E.nextTick(te,fe)}function $(J,te,fe,ve){var Se;return fe===null?Se=new z:typeof fe!="string"&&!te.objectMode&&(Se=new p("chunk",["string","Buffer"],fe)),Se?(W(J,Se),E.nextTick(ve,Se),!1):!0}X.prototype.write=function(J,te,fe){var ve=this._writableState,Se=!1,L=!ve.objectMode&&b(J);return L&&!f.isBuffer(J)&&(J=_(J)),typeof te=="function"&&(fe=te,te=null),L?te="buffer":te||(te=ve.defaultEncoding),typeof fe!="function"&&(fe=K),ve.ending?P(this,fe):(L||$(this,ve,J,fe))&&(ve.pendingcb++,Se=o(this,ve,L,J,te,fe)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ie(this,J))},X.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new U(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(J,te,fe){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=f.from(te,fe)),te}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,fe,ve,Se,L){if(!fe){var O=N(te,ve,Se);ve!==O&&(fe=!0,Se="buffer",ve=O)}var oe=te.objectMode?1:ve.length;te.length+=oe;var be=te.length<te.highWaterMark;if(be||(te.needDrain=!0),te.writing||te.corked){var ke=te.lastBufferedRequest;te.lastBufferedRequest={chunk:ve,encoding:Se,isBuf:fe,callback:L,next:null},ke?ke.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else w(J,te,!1,oe,ve,Se,L);return be}function w(J,te,fe,ve,Se,L,O){te.writelen=ve,te.writecb=O,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new F("write")):fe?J._writev(Se,te.onwrite):J._write(Se,L,te.onwrite),te.sync=!1}function I(J,te,fe,ve,Se){--te.pendingcb,fe?(E.nextTick(Se,ve),E.nextTick(pe,J,te),J._writableState.errorEmitted=!0,W(J,ve)):(Se(ve),J._writableState.errorEmitted=!0,W(J,ve),pe(J,te))}function q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function j(J,te){var fe=J._writableState,ve=fe.sync,Se=fe.writecb;if(typeof Se!="function")throw new R;if(q(fe),te)I(J,fe,ve,te,Se);else{var L=B(fe)||J.destroyed;!L&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&ie(J,fe),ve?E.nextTick(H,J,fe,L,Se):H(J,fe,L,Se)}}function H(J,te,fe,ve){fe||ee(J,te),te.pendingcb--,ve(),pe(J,te)}function ee(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function ie(J,te){te.bufferProcessing=!0;var fe=te.bufferedRequest;if(J._writev&&fe&&fe.next){var ve=te.bufferedRequestCount,Se=new Array(ve),L=te.corkedRequestsFree;L.entry=fe;for(var O=0,oe=!0;fe;)Se[O]=fe,fe.isBuf||(oe=!1),fe=fe.next,O+=1;Se.allBuffers=oe,w(J,te,!0,te.length,Se,"",L.finish),te.pendingcb++,te.lastBufferedRequest=null,L.next?(te.corkedRequestsFree=L.next,L.next=null):te.corkedRequestsFree=new M(te),te.bufferedRequestCount=0}else{for(;fe;){var be=fe.chunk,ke=fe.encoding,ge=fe.callback,De=te.objectMode?1:be.length;if(w(J,te,!1,De,be,ke,ge),fe=fe.next,te.bufferedRequestCount--,te.writing)break}fe===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=fe,te.bufferProcessing=!1}X.prototype._write=function(J,te,fe){fe(new C("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,te,fe){var ve=this._writableState;return typeof J=="function"?(fe=J,J=null,te=null):typeof te=="function"&&(fe=te,te=null),J!=null&&this.write(J,te),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||Me(this,ve,fe),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ne(J,te){J._final(function(fe){te.pendingcb--,fe&&W(J,fe),te.prefinished=!0,J.emit("prefinish"),pe(J,te)})}function Le(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,E.nextTick(ne,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function pe(J,te){var fe=B(te);if(fe&&(Le(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var ve=J._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&J.destroy()}return fe}function Me(J,te,fe){te.ending=!0,pe(J,te),fe&&(te.finished?E.nextTick(fe):J.once("finish",fe)),te.ended=!0,J.writable=!1}function Pe(J,te,fe){var ve=J.entry;for(J.entry=null;ve;){var Se=ve.callback;te.pendingcb--,Se(fe),ve=ve.next}te.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,te){te(J)}},65034:(s,G,T)=>{"use strict";var E=T(65606),A;function M(F,z,y){return z in F?Object.defineProperty(F,z,{value:y,enumerable:!0,configurable:!0,writable:!0}):F[z]=y,F}var S=T(14257),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function k(F,z){return{value:F,done:z}}function m(F){var z=F[d];if(z!==null){var y=F[u].read();y!==null&&(F[_]=null,F[d]=null,F[c]=null,z(k(y,!1)))}}function v(F){E.nextTick(m,F)}function p(F,z){return function(y,U){F.then(function(){if(z[h]){y(k(void 0,!0));return}z[b](y,U)},U)}}var C=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var z=this,y=this[f];if(y!==null)return Promise.reject(y);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(Z,re){E.nextTick(function(){z[f]?re(z[f]):Z(k(void 0,!0))})});var U=this[_],W;if(U)W=new Promise(p(U,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));W=new Promise(this[b])}return this[_]=W,W}},M(A,Symbol.asyncIterator,function(){return this}),M(A,"return",function(){var z=this;return new Promise(function(y,U){z[u].destroy(null,function(W){if(W){U(W);return}y(k(void 0,!0))})})}),A),C),D=function(z){var y,U=Object.create(R,(y={},M(y,u,{value:z,writable:!0}),M(y,d,{value:null,writable:!0}),M(y,c,{value:null,writable:!0}),M(y,f,{value:null,writable:!0}),M(y,h,{value:z._readableState.endEmitted,writable:!0}),M(y,b,{value:function(K,Z){var re=U[u].read();re?(U[_]=null,U[d]=null,U[c]=null,K(k(re,!1))):(U[d]=K,U[c]=Z)},writable:!0}),y));return U[_]=null,S(z,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=U[c];K!==null&&(U[_]=null,U[d]=null,U[c]=null,K(W)),U[f]=W;return}var Z=U[d];Z!==null&&(U[_]=null,U[d]=null,U[c]=null,Z(k(void 0,!0))),U[h]=!0}),z.on("readable",v.bind(null,U)),U};s.exports=D},81766:(s,G,T)=>{"use strict";function E(m,v){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);v&&(C=C.filter(function(R){return Object.getOwnPropertyDescriptor(m,R).enumerable})),p.push.apply(p,C)}return p}function A(m){for(var v=1;v<arguments.length;v++){var p=arguments[v]!=null?arguments[v]:{};v%2?E(Object(p),!0).forEach(function(C){M(m,C,p[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):E(Object(p)).forEach(function(C){Object.defineProperty(m,C,Object.getOwnPropertyDescriptor(p,C))})}return m}function M(m,v,p){return v in m?Object.defineProperty(m,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[v]=p,m}function S(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){for(var p=0;p<v.length;p++){var C=v[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}function c(m,v,p){return v&&d(m.prototype,v),p&&d(m,p),m}var f=T(48287),h=f.Buffer,_=T(63779),b=_.inspect,u=b&&b.custom||"inspect";function k(m,v,p){h.prototype.copy.call(m,v,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var C={data:p,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(p){var C={data:p,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var C=this.head,R=""+C.data;C=C.next;)R+=p+C.data;return R}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var C=h.allocUnsafe(p>>>0),R=this.head,D=0;R;)k(R.data,C,D),D+=R.data.length,R=R.next;return C}},{key:"consume",value:function(p,C){var R;return p<this.head.data.length?(R=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?R=this.shift():R=C?this._getString(p):this._getBuffer(p),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var C=this.head,R=1,D=C.data;for(p-=D.length;C=C.next;){var F=C.data,z=p>F.length?F.length:p;if(z===F.length?D+=F:D+=F.slice(0,p),p-=z,p===0){z===F.length?(++R,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=F.slice(z));break}++R}return this.length-=R,D}},{key:"_getBuffer",value:function(p){var C=h.allocUnsafe(p),R=this.head,D=1;for(R.data.copy(C),p-=R.data.length;R=R.next;){var F=R.data,z=p>F.length?F.length:p;if(F.copy(C,C.length-p,0,z),p-=z,p===0){z===F.length?(++D,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=F.slice(z));break}++D}return this.length-=D,C}},{key:u,value:function(p,C){return b(this,A({},C,{depth:0,customInspect:!1}))}}]),m}()},54347:(s,G,T)=>{"use strict";var E=T(65606);function A(h,_){var b=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,E.nextTick(c,this,h)):E.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?E.nextTick(S,b):(b._writableState.errorEmitted=!0,E.nextTick(M,b,m)):E.nextTick(M,b,m):_?(E.nextTick(S,b),_(m)):E.nextTick(S,b)}),this)}function M(h,_){c(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,_){h.emit("error",_)}function f(h,_){var b=h._readableState,u=h._writableState;b&&b.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},14257:(s,G,T)=>{"use strict";var E=T(12463).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),b=0;b<h;b++)_[b]=arguments[b];c.apply(this,_)}}}function M(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||M);var _=f.readable||f.readable!==!1&&c.readable,b=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},k=c._writableState&&c._writableState.finished,m=function(){b=!1,k=!0,_||h.call(c)},v=c._readableState&&c._readableState.endEmitted,p=function(){_=!1,v=!0,b||h.call(c)},C=function(z){h.call(c,z)},R=function(){var z;if(_&&!v)return(!c._readableState||!c._readableState.ended)&&(z=new E),h.call(c,z);if(b&&!k)return(!c._writableState||!c._writableState.ended)&&(z=new E),h.call(c,z)},D=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",R),c.req?D():c.on("request",D)):b&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",C),c.on("close",R),function(){c.removeListener("complete",m),c.removeListener("abort",R),c.removeListener("request",D),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",C),c.removeListener("close",R)}}s.exports=d},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,G,T)=>{"use strict";var E;function A(m){var v=!1;return function(){v||(v=!0,m.apply(void 0,arguments))}}var M=T(12463).F,S=M.ERR_MISSING_ARGS,d=M.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,v,p,C){C=A(C);var R=!1;m.on("close",function(){R=!0}),E===void 0&&(E=T(14257)),E(m,{readable:v,writable:p},function(F){if(F)return C(F);R=!0,C()});var D=!1;return function(F){if(!R&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();C(F||new d("pipe"))}}}function _(m){m()}function b(m,v){return m.pipe(v)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function k(){for(var m=arguments.length,v=new Array(m),p=0;p<m;p++)v[p]=arguments[p];var C=u(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new S("streams");var R,D=v.map(function(F,z){var y=z<v.length-1,U=z>0;return h(F,y,U,function(W){R||(R=W),W&&D.forEach(_),!y&&(D.forEach(_),C(R))})});return v.reduce(b)}s.exports=k},66644:(s,G,T)=>{"use strict";var E=T(12463).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function M(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?c:"highWaterMark";throw new E(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:M}},41396:(s,G,T)=>{s.exports=T(37007).EventEmitter},11568:(s,G,T)=>{var E=T(55537),A=T(6917),M=T(57510),S=T(86866),d=T(59817),c=G;c.request=function(f,h){typeof f=="string"?f=d.parse(f):f=M(f);var _=T.g.location.protocol.search(/^https?:$/)===-1?"http:":"",b=f.protocol||_,u=f.hostname||f.host,k=f.port,m=f.path||"/";u&&u.indexOf(":")!==-1&&(u="["+u+"]"),f.url=(u?b+"//"+u:"")+(k?":"+k:"")+m,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var v=new E(f);return h&&v.on("response",h),v},c.get=function(h,_){var b=c.request(h,_);return b.end(),b},c.ClientRequest=E,c.IncomingMessage=A.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=S,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,G,T)=>{G.fetch=S(T.g.fetch)&&S(T.g.ReadableStream),G.writableStream=S(T.g.WritableStream),G.abortController=S(T.g.AbortController);var E;function A(){if(E!==void 0)return E;if(T.g.XMLHttpRequest){E=new T.g.XMLHttpRequest;try{E.open("GET",T.g.XDomainRequest?"/":"https://example.com")}catch{E=null}}else E=null;return E}function M(d){var c=A();if(!c)return!1;try{return c.responseType=d,c.responseType===d}catch{}return!1}G.arraybuffer=G.fetch||M("arraybuffer"),G.msstream=!G.fetch&&M("ms-stream"),G.mozchunkedarraybuffer=!G.fetch&&M("moz-chunked-arraybuffer"),G.overrideMimeType=G.fetch||(A()?S(A().overrideMimeType):!1);function S(d){return typeof d=="function"}E=null},55537:(s,G,T)=>{var E=T(65606),A=T(6688),M=T(56698),S=T(6917),d=T(63242),c=S.IncomingMessage,f=S.readyStates;function h(k,m){return A.fetch&&m?"fetch":A.mozchunkedarraybuffer?"moz-chunked-arraybuffer":A.msstream?"ms-stream":A.arraybuffer&&k?"arraybuffer":"text"}var _=s.exports=function(k){var m=this;d.Writable.call(m),m._opts=k,m._body=[],m._headers={},k.auth&&m.setHeader("Authorization","Basic "+Buffer.from(k.auth).toString("base64")),Object.keys(k.headers).forEach(function(C){m.setHeader(C,k.headers[C])});var v,p=!0;if(k.mode==="disable-fetch"||"requestTimeout"in k&&!A.abortController)p=!1,v=!0;else if(k.mode==="prefer-streaming")v=!1;else if(k.mode==="allow-wrong-content-type")v=!A.overrideMimeType;else if(!k.mode||k.mode==="default"||k.mode==="prefer-fast")v=!0;else throw new Error("Invalid value for opts.mode");m._mode=h(v,p),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};M(_,d.Writable),_.prototype.setHeader=function(k,m){var v=this,p=k.toLowerCase();u.indexOf(p)===-1&&(v._headers[p]={name:k,value:m})},_.prototype.getHeader=function(k){var m=this._headers[k.toLowerCase()];return m?m.value:null},_.prototype.removeHeader=function(k){var m=this;delete m._headers[k.toLowerCase()]},_.prototype._onFinish=function(){var k=this;if(!k._destroyed){var m=k._opts;"timeout"in m&&m.timeout!==0&&k.setTimeout(m.timeout);var v=k._headers,p=null;m.method!=="GET"&&m.method!=="HEAD"&&(p=new Blob(k._body,{type:(v["content-type"]||{}).value||""}));var C=[];if(Object.keys(v).forEach(function(z){var y=v[z].name,U=v[z].value;Array.isArray(U)?U.forEach(function(W){C.push([y,W])}):C.push([y,U])}),k._mode==="fetch"){var R=null;if(A.abortController){var D=new AbortController;R=D.signal,k._fetchAbortController=D,"requestTimeout"in m&&m.requestTimeout!==0&&(k._fetchTimer=T.g.setTimeout(function(){k.emit("requestTimeout"),k._fetchAbortController&&k._fetchAbortController.abort()},m.requestTimeout))}T.g.fetch(k._opts.url,{method:k._opts.method,headers:C,body:p||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:R}).then(function(z){k._fetchResponse=z,k._resetTimers(!1),k._connect()},function(z){k._resetTimers(!0),k._destroyed||k.emit("error",z)})}else{var F=k._xhr=new T.g.XMLHttpRequest;try{F.open(k._opts.method,k._opts.url,!0)}catch(z){E.nextTick(function(){k.emit("error",z)});return}"responseType"in F&&(F.responseType=k._mode),"withCredentials"in F&&(F.withCredentials=!!m.withCredentials),k._mode==="text"&&"overrideMimeType"in F&&F.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(F.timeout=m.requestTimeout,F.ontimeout=function(){k.emit("requestTimeout")}),C.forEach(function(z){F.setRequestHeader(z[0],z[1])}),k._response=null,F.onreadystatechange=function(){switch(F.readyState){case f.LOADING:case f.DONE:k._onXHRProgress();break}},k._mode==="moz-chunked-arraybuffer"&&(F.onprogress=function(){k._onXHRProgress()}),F.onerror=function(){k._destroyed||(k._resetTimers(!0),k.emit("error",new Error("XHR error")))};try{F.send(p)}catch(z){E.nextTick(function(){k.emit("error",z)});return}}}};function b(k){try{var m=k.status;return m!==null&&m!==0}catch{return!1}}_.prototype._onXHRProgress=function(){var k=this;k._resetTimers(!1),!(!b(k._xhr)||k._destroyed)&&(k._response||k._connect(),k._response._onXHRProgress(k._resetTimers.bind(k)))},_.prototype._connect=function(){var k=this;k._destroyed||(k._response=new c(k._xhr,k._fetchResponse,k._mode,k._resetTimers.bind(k)),k._response.on("error",function(m){k.emit("error",m)}),k.emit("response",k._response))},_.prototype._write=function(k,m,v){var p=this;p._body.push(k),v()},_.prototype._resetTimers=function(k){var m=this;T.g.clearTimeout(m._socketTimer),m._socketTimer=null,k?(T.g.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=T.g.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},_.prototype.abort=_.prototype.destroy=function(k){var m=this;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),k&&m.emit("error",k)},_.prototype.end=function(k,m,v){var p=this;typeof k=="function"&&(v=k,k=void 0),d.Writable.prototype.end.call(p,k,m,v)},_.prototype.setTimeout=function(k,m){var v=this;m&&v.once("timeout",m),v._socketTimeout=k,v._resetTimers(!1)},_.prototype.flushHeaders=function(){},_.prototype.setNoDelay=function(){},_.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,G,T)=>{var E=T(65606),A=T(6688),M=T(56698),S=T(63242),d=G.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=G.IncomingMessage=function(f,h,_,b){var u=this;if(S.Readable.call(u),u._mode=_,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){E.nextTick(function(){u.emit("close")})}),_==="fetch"){let D=function(){m.read().then(function(F){if(!u._destroyed){if(b(F.done),F.done){u.push(null);return}u.push(Buffer.from(F.value)),D()}}).catch(function(F){b(!0),u._destroyed||u.emit("error",F)})};var R=D;if(u._fetchResponse=h,u.url=h.url,u.statusCode=h.status,u.statusMessage=h.statusText,h.headers.forEach(function(F,z){u.headers[z.toLowerCase()]=F,u.rawHeaders.push(z,F)}),A.writableStream){var k=new WritableStream({write:function(F){return b(!1),new Promise(function(z,y){u._destroyed?y():u.push(Buffer.from(F))?z():u._resumeFetch=z})},close:function(){b(!0),u._destroyed||u.push(null)},abort:function(F){b(!0),u._destroyed||u.emit("error",F)}});try{h.body.pipeTo(k).catch(function(F){b(!0),u._destroyed||u.emit("error",F)});return}catch{}}var m=h.body.getReader();D()}else{u._xhr=f,u._pos=0,u.url=f.responseURL,u.statusCode=f.status,u.statusMessage=f.statusText;var v=f.getAllResponseHeaders().split(/\r?\n/);if(v.forEach(function(D){var F=D.match(/^([^:]+):\s*(.*)/);if(F){var z=F[1].toLowerCase();z==="set-cookie"?(u.headers[z]===void 0&&(u.headers[z]=[]),u.headers[z].push(F[2])):u.headers[z]!==void 0?u.headers[z]+=", "+F[2]:u.headers[z]=F[2],u.rawHeaders.push(F[1],F[2])}}),u._charset="x-user-defined",!A.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var C=p.match(/;\s*charset=([^;])(;|$)/);C&&(u._charset=C[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};M(c,S.Readable),c.prototype._read=function(){var f=this,h=f._resumeFetch;h&&(f._resumeFetch=null,h())},c.prototype._onXHRProgress=function(f){var h=this,_=h._xhr,b=null;switch(h._mode){case"text":if(b=_.responseText,b.length>h._pos){var u=b.substr(h._pos);if(h._charset==="x-user-defined"){for(var k=Buffer.alloc(u.length),m=0;m<u.length;m++)k[m]=u.charCodeAt(m)&255;h.push(k)}else h.push(u,h._charset);h._pos=b.length}break;case"arraybuffer":if(_.readyState!==d.DONE||!_.response)break;b=_.response,h.push(Buffer.from(new Uint8Array(b)));break;case"moz-chunked-arraybuffer":if(b=_.response,_.readyState!==d.LOADING||!b)break;h.push(Buffer.from(new Uint8Array(b)));break;case"ms-stream":if(b=_.response,_.readyState!==d.LOADING)break;var v=new T.g.MSStreamReader;v.onprogress=function(){v.result.byteLength>h._pos&&(h.push(Buffer.from(new Uint8Array(v.result.slice(h._pos)))),h._pos=v.result.byteLength)},v.onload=function(){f(!0),h.push(null)},v.readAsArrayBuffer(b);break}h._xhr.readyState===d.DONE&&h._mode!=="ms-stream"&&(f(!0),h.push(null))}},73157:s=>{"use strict";function G(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var T={};function E(c,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var b=function(u){G(k,u);function k(m,v,p){return u.call(this,_(m,v,p))||this}return k}(h);b.prototype.name=h.name,b.prototype.code=c,T[c]=b}function A(c,f){if(Array.isArray(c)){var h=c.length;return c=c.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}else return"of ".concat(f," ").concat(String(c))}function M(c,f,h){return c.substr(!h||h<0?0:+h,f.length)===f}function S(c,f,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f}function d(c,f,h){return typeof h!="number"&&(h=0),h+f.length>c.length?!1:c.indexOf(f,h)!==-1}E("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(c,f,h){var _;typeof f=="string"&&M(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var b;if(S(c," argument"))b="The ".concat(c," ").concat(_," ").concat(A(f,"type"));else{var u=d(c,".")?"property":"argument";b='The "'.concat(c,'" ').concat(u," ").concat(_," ").concat(A(f,"type"))}return b+=". Received type ".concat(typeof h),b},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=T},63527:(s,G,T)=>{"use strict";var E=T(65606),A=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var M=T(52341),S=T(9573);T(56698)(h,M);for(var d=A(S.prototype),c=0;c<d.length;c++){var f=d[c];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);M.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||E.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},82571:(s,G,T)=>{"use strict";s.exports=A;var E=T(95689);T(56698)(A,E);function A(M){if(!(this instanceof A))return new A(M);E.call(this,M)}A.prototype._transform=function(M,S,d){d(null,M)}},52341:(s,G,T)=>{"use strict";var E=T(65606);s.exports=P;var A;P.ReadableState=X;var M=T(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},d=T(81914),c=T(48287).Buffer,f=T.g.Uint8Array||function(){};function h(L){return c.from(L)}function _(L){return c.isBuffer(L)||L instanceof f}var b=T(86833),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var k=T(10272),m=T(16057),v=T(11922),p=v.getHighWaterMark,C=T(73157).F,R=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,F=C.ERR_METHOD_NOT_IMPLEMENTED,z=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,U,W;T(56698)(P,d);var K=m.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function re(L,O,oe){if(typeof L.prependListener=="function")return L.prependListener(O,oe);!L._events||!L._events[O]?L.on(O,oe):Array.isArray(L._events[O])?L._events[O].unshift(oe):L._events[O]=[oe,L._events[O]]}function X(L,O,oe){A=A||T(63527),L=L||{},typeof oe!="boolean"&&(oe=O instanceof A),this.objectMode=!!L.objectMode,oe&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=p(this,L,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(y||(y=T(83141).I),this.decoder=new y(L.encoding),this.encoding=L.encoding)}function P(L){if(A=A||T(63527),!(this instanceof P))return new P(L);var O=this instanceof A;this._readableState=new X(L,this,O),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),d.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(L,O){O(L)},P.prototype.push=function(L,O){var oe=this._readableState,be;return oe.objectMode?be=!0:typeof L=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(L=c.from(L,O),O=""),be=!0),$(this,L,O,!1,be)},P.prototype.unshift=function(L){return $(this,L,null,!0,!1)};function $(L,O,oe,be,ke){u("readableAddChunk",O);var ge=L._readableState;if(O===null)ge.reading=!1,j(L,ge);else{var De;if(ke||(De=o(ge,O)),De)K(L,De);else if(ge.objectMode||O&&O.length>0)if(typeof O!="string"&&!ge.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=h(O)),be)ge.endEmitted?K(L,new z):N(L,ge,O,!0);else if(ge.ended)K(L,new D);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!oe?(O=ge.decoder.write(O),ge.objectMode||O.length!==0?N(L,ge,O,!1):ie(L,ge)):N(L,ge,O,!1)}else be||(ge.reading=!1,ie(L,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function N(L,O,oe,be){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,L.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,be?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&H(L)),ie(L,O)}function o(L,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!L.objectMode&&(oe=new R("chunk",["string","Buffer","Uint8Array"],O)),oe}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(L){y||(y=T(83141).I);var O=new y(L);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,be="";oe!==null;)be+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),be!==""&&this._readableState.buffer.push(be),this._readableState.length=be.length,this};var w=1073741824;function I(L){return L>=w?L=w:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function q(L,O){return L<=0||O.length===0&&O.ended?0:O.objectMode?1:L!==L?O.flowing&&O.length?O.buffer.head.data.length:O.length:(L>O.highWaterMark&&(O.highWaterMark=I(L)),L<=O.length?L:O.ended?O.length:(O.needReadable=!0,0))}P.prototype.read=function(L){u("read",L),L=parseInt(L,10);var O=this._readableState,oe=L;if(L!==0&&(O.emittedReadable=!1),L===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?fe(this):H(this),null;if(L=q(L,O),L===0&&O.ended)return O.length===0&&fe(this),null;var be=O.needReadable;u("need readable",be),(O.length===0||O.length-L<O.highWaterMark)&&(be=!0,u("length less than watermark",be)),O.ended||O.reading?(be=!1,u("reading or ended",be)):be&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(L=q(oe,O)));var ke;return L>0?ke=te(L,O):ke=null,ke===null?(O.needReadable=O.length<=O.highWaterMark,L=0):(O.length-=L,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==L&&O.ended&&fe(this)),ke!==null&&this.emit("data",ke),ke};function j(L,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?H(L):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,ee(L)))}}function H(L){var O=L._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,E.nextTick(ee,L))}function ee(L){var O=L._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(L.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,J(L)}function ie(L,O){O.readingMore||(O.readingMore=!0,E.nextTick(B,L,O))}function B(L,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),L.read(0),oe===O.length)break}O.readingMore=!1}P.prototype._read=function(L){K(this,new F("_read()"))},P.prototype.pipe=function(L,O){var oe=this,be=this._readableState;switch(be.pipesCount){case 0:be.pipes=L;break;case 1:be.pipes=[be.pipes,L];break;default:be.pipes.push(L);break}be.pipesCount+=1,u("pipe count=%d opts=%j",be.pipesCount,O);var ke=(!O||O.end!==!1)&&L!==E.stdout&&L!==E.stderr,ge=ke?Ge:se;be.endEmitted?E.nextTick(ge):oe.once("end",ge),L.on("unpipe",De);function De(ye,Fe){u("onunpipe"),ye===oe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Ze())}function Ge(){u("onend"),L.end()}var We=ne(oe);L.on("drain",We);var Nt=!1;function Ze(){u("cleanup"),L.removeListener("close",ce),L.removeListener("finish",Q),L.removeListener("drain",We),L.removeListener("error",Et),L.removeListener("unpipe",De),oe.removeListener("end",Ge),oe.removeListener("end",se),oe.removeListener("data",it),Nt=!0,be.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&We()}oe.on("data",it);function it(ye){u("ondata");var Fe=L.write(ye);u("dest.write",Fe),Fe===!1&&((be.pipesCount===1&&be.pipes===L||be.pipesCount>1&&Se(be.pipes,L)!==-1)&&!Nt&&(u("false write response, pause",be.awaitDrain),be.awaitDrain++),oe.pause())}function Et(ye){u("onerror",ye),se(),L.removeListener("error",Et),S(L,"error")===0&&K(L,ye)}re(L,"error",Et);function ce(){L.removeListener("finish",Q),se()}L.once("close",ce);function Q(){u("onfinish"),L.removeListener("close",ce),se()}L.once("finish",Q);function se(){u("unpipe"),oe.unpipe(L)}return L.emit("pipe",oe),be.flowing||(u("pipe resume"),oe.resume()),L};function ne(L){return function(){var oe=L._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(L,"data")&&(oe.flowing=!0,J(L))}}P.prototype.unpipe=function(L){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return L&&L!==O.pipes?this:(L||(L=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,L&&L.emit("unpipe",this,oe),this);if(!L){var be=O.pipes,ke=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ge=0;ge<ke;ge++)be[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var De=Se(O.pipes,L);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),L.emit("unpipe",this,oe),this)},P.prototype.on=function(L,O){var oe=d.prototype.on.call(this,L,O),be=this._readableState;return L==="data"?(be.readableListening=this.listenerCount("readable")>0,be.flowing!==!1&&this.resume()):L==="readable"&&!be.endEmitted&&!be.readableListening&&(be.readableListening=be.needReadable=!0,be.flowing=!1,be.emittedReadable=!1,u("on readable",be.length,be.reading),be.length?H(this):be.reading||E.nextTick(pe,this)),oe},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(L,O){var oe=d.prototype.removeListener.call(this,L,O);return L==="readable"&&E.nextTick(Le,this),oe},P.prototype.removeAllListeners=function(L){var O=d.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&E.nextTick(Le,this),O};function Le(L){var O=L._readableState;O.readableListening=L.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:L.listenerCount("data")>0&&L.resume()}function pe(L){u("readable nexttick read 0"),L.read(0)}P.prototype.resume=function(){var L=this._readableState;return L.flowing||(u("resume"),L.flowing=!L.readableListening,Me(this,L)),L.paused=!1,this};function Me(L,O){O.resumeScheduled||(O.resumeScheduled=!0,E.nextTick(Pe,L,O))}function Pe(L,O){u("resume",O.reading),O.reading||L.read(0),O.resumeScheduled=!1,L.emit("resume"),J(L),O.flowing&&!O.reading&&L.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(L){var O=L._readableState;for(u("flow",O.flowing);O.flowing&&L.read()!==null;);}P.prototype.wrap=function(L){var O=this,oe=this._readableState,be=!1;L.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var De=oe.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),L.on("data",function(De){if(u("wrapped data"),oe.decoder&&(De=oe.decoder.write(De)),!(oe.objectMode&&De==null)&&!(!oe.objectMode&&(!De||!De.length))){var Ge=O.push(De);Ge||(be=!0,L.pause())}});for(var ke in L)this[ke]===void 0&&typeof L[ke]=="function"&&(this[ke]=function(Ge){return function(){return L[Ge].apply(L,arguments)}}(ke));for(var ge=0;ge<Z.length;ge++)L.on(Z[ge],this.emit.bind(this,Z[ge]));return this._read=function(De){u("wrapped _read",De),be&&(be=!1,L.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return U===void 0&&(U=T(17356)),U(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),P._fromList=te,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(L,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!L||L>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(L,O.decoder),oe}function fe(L){var O=L._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,E.nextTick(ve,O,L))}function ve(L,O){if(u("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,O.readable=!1,O.emit("end"),L.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(P.from=function(L,O){return W===void 0&&(W=T(6314)),W(P,L,O)});function Se(L,O){for(var oe=0,be=L.length;oe<be;oe++)if(L[oe]===O)return oe;return-1}},95689:(s,G,T)=>{"use strict";s.exports=h;var E=T(73157).F,A=E.ERR_METHOD_NOT_IMPLEMENTED,M=E.ERR_MULTIPLE_CALLBACK,S=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=E.ERR_TRANSFORM_WITH_LENGTH_0,c=T(63527);T(56698)(h,c);function f(u,k){var m=this._transformState;m.transforming=!1;var v=m.writecb;if(v===null)return this.emit("error",new M);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),v(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);c.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){b(u,k,m)}):b(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,c.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new A("_transform()"))},h.prototype._write=function(u,k,m){var v=this._transformState;if(v.writecb=m,v.writechunk=u,v.writeencoding=k,!v.transforming){var p=this._readableState;(v.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){c.prototype._destroy.call(this,u,function(m){k(m)})};function b(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new d;if(u._transformState.transforming)throw new S;return u.push(null)}},9573:(s,G,T)=>{"use strict";var E=T(65606);s.exports=X;function A(J,te,fe){this.chunk=J,this.encoding=te,this.callback=fe,this.next=null}function M(J){var te=this;this.next=null,this.entry=null,this.finish=function(){Pe(te,J)}}var S;X.WritableState=Z;var d={deprecate:T(94643)},c=T(81914),f=T(48287).Buffer,h=T.g.Uint8Array||function(){};function _(J){return f.from(J)}function b(J){return f.isBuffer(J)||J instanceof h}var u=T(16057),k=T(11922),m=k.getHighWaterMark,v=T(73157).F,p=v.ERR_INVALID_ARG_TYPE,C=v.ERR_METHOD_NOT_IMPLEMENTED,R=v.ERR_MULTIPLE_CALLBACK,D=v.ERR_STREAM_CANNOT_PIPE,F=v.ERR_STREAM_DESTROYED,z=v.ERR_STREAM_NULL_VALUES,y=v.ERR_STREAM_WRITE_AFTER_END,U=v.ERR_UNKNOWN_ENCODING,W=u.errorOrDestroy;T(56698)(X,c);function K(){}function Z(J,te,fe){S=S||T(63527),J=J||{},typeof fe!="boolean"&&(fe=te instanceof S),this.objectMode=!!J.objectMode,fe&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=J.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){j(te,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}Z.prototype.getBuffer=function(){for(var te=this.bufferedRequest,fe=[];te;)fe.push(te),te=te.next;return fe},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var re;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(te){return re.call(this,te)?!0:this!==X?!1:te&&te._writableState instanceof Z}})):re=function(te){return te instanceof this};function X(J){S=S||T(63527);var te=this instanceof S;if(!te&&!re.call(X,this))return new X(J);this._writableState=new Z(J,this,te),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),c.call(this)}X.prototype.pipe=function(){W(this,new D)};function P(J,te){var fe=new y;W(J,fe),E.nextTick(te,fe)}function $(J,te,fe,ve){var Se;return fe===null?Se=new z:typeof fe!="string"&&!te.objectMode&&(Se=new p("chunk",["string","Buffer"],fe)),Se?(W(J,Se),E.nextTick(ve,Se),!1):!0}X.prototype.write=function(J,te,fe){var ve=this._writableState,Se=!1,L=!ve.objectMode&&b(J);return L&&!f.isBuffer(J)&&(J=_(J)),typeof te=="function"&&(fe=te,te=null),L?te="buffer":te||(te=ve.defaultEncoding),typeof fe!="function"&&(fe=K),ve.ending?P(this,fe):(L||$(this,ve,J,fe))&&(ve.pendingcb++,Se=o(this,ve,L,J,te,fe)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ie(this,J))},X.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new U(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N(J,te,fe){return!J.objectMode&&J.decodeStrings!==!1&&typeof te=="string"&&(te=f.from(te,fe)),te}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,te,fe,ve,Se,L){if(!fe){var O=N(te,ve,Se);ve!==O&&(fe=!0,Se="buffer",ve=O)}var oe=te.objectMode?1:ve.length;te.length+=oe;var be=te.length<te.highWaterMark;if(be||(te.needDrain=!0),te.writing||te.corked){var ke=te.lastBufferedRequest;te.lastBufferedRequest={chunk:ve,encoding:Se,isBuf:fe,callback:L,next:null},ke?ke.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else w(J,te,!1,oe,ve,Se,L);return be}function w(J,te,fe,ve,Se,L,O){te.writelen=ve,te.writecb=O,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new F("write")):fe?J._writev(Se,te.onwrite):J._write(Se,L,te.onwrite),te.sync=!1}function I(J,te,fe,ve,Se){--te.pendingcb,fe?(E.nextTick(Se,ve),E.nextTick(pe,J,te),J._writableState.errorEmitted=!0,W(J,ve)):(Se(ve),J._writableState.errorEmitted=!0,W(J,ve),pe(J,te))}function q(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function j(J,te){var fe=J._writableState,ve=fe.sync,Se=fe.writecb;if(typeof Se!="function")throw new R;if(q(fe),te)I(J,fe,ve,te,Se);else{var L=B(fe)||J.destroyed;!L&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&ie(J,fe),ve?E.nextTick(H,J,fe,L,Se):H(J,fe,L,Se)}}function H(J,te,fe,ve){fe||ee(J,te),te.pendingcb--,ve(),pe(J,te)}function ee(J,te){te.length===0&&te.needDrain&&(te.needDrain=!1,J.emit("drain"))}function ie(J,te){te.bufferProcessing=!0;var fe=te.bufferedRequest;if(J._writev&&fe&&fe.next){var ve=te.bufferedRequestCount,Se=new Array(ve),L=te.corkedRequestsFree;L.entry=fe;for(var O=0,oe=!0;fe;)Se[O]=fe,fe.isBuf||(oe=!1),fe=fe.next,O+=1;Se.allBuffers=oe,w(J,te,!0,te.length,Se,"",L.finish),te.pendingcb++,te.lastBufferedRequest=null,L.next?(te.corkedRequestsFree=L.next,L.next=null):te.corkedRequestsFree=new M(te),te.bufferedRequestCount=0}else{for(;fe;){var be=fe.chunk,ke=fe.encoding,ge=fe.callback,De=te.objectMode?1:be.length;if(w(J,te,!1,De,be,ke,ge),fe=fe.next,te.bufferedRequestCount--,te.writing)break}fe===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=fe,te.bufferProcessing=!1}X.prototype._write=function(J,te,fe){fe(new C("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,te,fe){var ve=this._writableState;return typeof J=="function"?(fe=J,J=null,te=null):typeof te=="function"&&(fe=te,te=null),J!=null&&this.write(J,te),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||Me(this,ve,fe),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ne(J,te){J._final(function(fe){te.pendingcb--,fe&&W(J,fe),te.prefinished=!0,J.emit("prefinish"),pe(J,te)})}function Le(J,te){!te.prefinished&&!te.finalCalled&&(typeof J._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,E.nextTick(ne,J,te)):(te.prefinished=!0,J.emit("prefinish")))}function pe(J,te){var fe=B(te);if(fe&&(Le(J,te),te.pendingcb===0&&(te.finished=!0,J.emit("finish"),te.autoDestroy))){var ve=J._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&J.destroy()}return fe}function Me(J,te,fe){te.ending=!0,pe(J,te),fe&&(te.finished?E.nextTick(fe):J.once("finish",fe)),te.ended=!0,J.writable=!1}function Pe(J,te,fe){var ve=J.entry;for(J.entry=null;ve;){var Se=ve.callback;te.pendingcb--,Se(fe),ve=ve.next}te.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,te){te(J)}},17356:(s,G,T)=>{"use strict";var E=T(65606),A;function M(F,z,y){return z in F?Object.defineProperty(F,z,{value:y,enumerable:!0,configurable:!0,writable:!0}):F[z]=y,F}var S=T(19959),d=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function k(F,z){return{value:F,done:z}}function m(F){var z=F[d];if(z!==null){var y=F[u].read();y!==null&&(F[_]=null,F[d]=null,F[c]=null,z(k(y,!1)))}}function v(F){E.nextTick(m,F)}function p(F,z){return function(y,U){F.then(function(){if(z[h]){y(k(void 0,!0));return}z[b](y,U)},U)}}var C=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((A={get stream(){return this[u]},next:function(){var z=this,y=this[f];if(y!==null)return Promise.reject(y);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(Z,re){E.nextTick(function(){z[f]?re(z[f]):Z(k(void 0,!0))})});var U=this[_],W;if(U)W=new Promise(p(U,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));W=new Promise(this[b])}return this[_]=W,W}},M(A,Symbol.asyncIterator,function(){return this}),M(A,"return",function(){var z=this;return new Promise(function(y,U){z[u].destroy(null,function(W){if(W){U(W);return}y(k(void 0,!0))})})}),A),C),D=function(z){var y,U=Object.create(R,(y={},M(y,u,{value:z,writable:!0}),M(y,d,{value:null,writable:!0}),M(y,c,{value:null,writable:!0}),M(y,f,{value:null,writable:!0}),M(y,h,{value:z._readableState.endEmitted,writable:!0}),M(y,b,{value:function(K,Z){var re=U[u].read();re?(U[_]=null,U[d]=null,U[c]=null,K(k(re,!1))):(U[d]=K,U[c]=Z)},writable:!0}),y));return U[_]=null,S(z,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=U[c];K!==null&&(U[_]=null,U[d]=null,U[c]=null,K(W)),U[f]=W;return}var Z=U[d];Z!==null&&(U[_]=null,U[d]=null,U[c]=null,Z(k(void 0,!0))),U[h]=!0}),z.on("readable",v.bind(null,U)),U};s.exports=D},10272:(s,G,T)=>{"use strict";function E(m,v){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);v&&(C=C.filter(function(R){return Object.getOwnPropertyDescriptor(m,R).enumerable})),p.push.apply(p,C)}return p}function A(m){for(var v=1;v<arguments.length;v++){var p=arguments[v]!=null?arguments[v]:{};v%2?E(Object(p),!0).forEach(function(C){M(m,C,p[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):E(Object(p)).forEach(function(C){Object.defineProperty(m,C,Object.getOwnPropertyDescriptor(p,C))})}return m}function M(m,v,p){return v in m?Object.defineProperty(m,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[v]=p,m}function S(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){for(var p=0;p<v.length;p++){var C=v[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}function c(m,v,p){return v&&d(m.prototype,v),p&&d(m,p),m}var f=T(48287),h=f.Buffer,_=T(59169),b=_.inspect,u=b&&b.custom||"inspect";function k(m,v,p){h.prototype.copy.call(m,v,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return c(m,[{key:"push",value:function(p){var C={data:p,next:null};this.length>0?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(p){var C={data:p,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var C=this.head,R=""+C.data;C=C.next;)R+=p+C.data;return R}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var C=h.allocUnsafe(p>>>0),R=this.head,D=0;R;)k(R.data,C,D),D+=R.data.length,R=R.next;return C}},{key:"consume",value:function(p,C){var R;return p<this.head.data.length?(R=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?R=this.shift():R=C?this._getString(p):this._getBuffer(p),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var C=this.head,R=1,D=C.data;for(p-=D.length;C=C.next;){var F=C.data,z=p>F.length?F.length:p;if(z===F.length?D+=F:D+=F.slice(0,p),p-=z,p===0){z===F.length?(++R,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=F.slice(z));break}++R}return this.length-=R,D}},{key:"_getBuffer",value:function(p){var C=h.allocUnsafe(p),R=this.head,D=1;for(R.data.copy(C),p-=R.data.length;R=R.next;){var F=R.data,z=p>F.length?F.length:p;if(F.copy(C,C.length-p,0,z),p-=z,p===0){z===F.length?(++D,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=F.slice(z));break}++D}return this.length-=D,C}},{key:u,value:function(p,C){return b(this,A({},C,{depth:0,customInspect:!1}))}}]),m}()},16057:(s,G,T)=>{"use strict";var E=T(65606);function A(h,_){var b=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,E.nextTick(c,this,h)):E.nextTick(c,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?E.nextTick(S,b):(b._writableState.errorEmitted=!0,E.nextTick(M,b,m)):E.nextTick(M,b,m):_?(E.nextTick(S,b),_(m)):E.nextTick(S,b)}),this)}function M(h,_){c(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function d(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(h,_){h.emit("error",_)}function f(h,_){var b=h._readableState,u=h._writableState;b&&b.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:A,undestroy:d,errorOrDestroy:f}},19959:(s,G,T)=>{"use strict";var E=T(73157).F.ERR_STREAM_PREMATURE_CLOSE;function A(c){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),b=0;b<h;b++)_[b]=arguments[b];c.apply(this,_)}}}function M(){}function S(c){return c.setHeader&&typeof c.abort=="function"}function d(c,f,h){if(typeof f=="function")return d(c,null,f);f||(f={}),h=A(h||M);var _=f.readable||f.readable!==!1&&c.readable,b=f.writable||f.writable!==!1&&c.writable,u=function(){c.writable||m()},k=c._writableState&&c._writableState.finished,m=function(){b=!1,k=!0,_||h.call(c)},v=c._readableState&&c._readableState.endEmitted,p=function(){_=!1,v=!0,b||h.call(c)},C=function(z){h.call(c,z)},R=function(){var z;if(_&&!v)return(!c._readableState||!c._readableState.ended)&&(z=new E),h.call(c,z);if(b&&!k)return(!c._writableState||!c._writableState.ended)&&(z=new E),h.call(c,z)},D=function(){c.req.on("finish",m)};return S(c)?(c.on("complete",m),c.on("abort",R),c.req?D():c.on("request",D)):b&&!c._writableState&&(c.on("end",u),c.on("close",u)),c.on("end",p),c.on("finish",m),f.error!==!1&&c.on("error",C),c.on("close",R),function(){c.removeListener("complete",m),c.removeListener("abort",R),c.removeListener("request",D),c.req&&c.req.removeListener("finish",m),c.removeListener("end",u),c.removeListener("close",u),c.removeListener("finish",m),c.removeListener("end",p),c.removeListener("error",C),c.removeListener("close",R)}}s.exports=d},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,G,T)=>{"use strict";var E;function A(m){var v=!1;return function(){v||(v=!0,m.apply(void 0,arguments))}}var M=T(73157).F,S=M.ERR_MISSING_ARGS,d=M.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,v,p,C){C=A(C);var R=!1;m.on("close",function(){R=!0}),E===void 0&&(E=T(19959)),E(m,{readable:v,writable:p},function(F){if(F)return C(F);R=!0,C()});var D=!1;return function(F){if(!R&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();C(F||new d("pipe"))}}}function _(m){m()}function b(m,v){return m.pipe(v)}function u(m){return!m.length||typeof m[m.length-1]!="function"?c:m.pop()}function k(){for(var m=arguments.length,v=new Array(m),p=0;p<m;p++)v[p]=arguments[p];var C=u(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new S("streams");var R,D=v.map(function(F,z){var y=z<v.length-1,U=z>0;return h(F,y,U,function(W){R||(R=W),W&&D.forEach(_),!y&&(D.forEach(_),C(R))})});return v.reduce(b)}s.exports=k},11922:(s,G,T)=>{"use strict";var E=T(73157).F.ERR_INVALID_OPT_VALUE;function A(S,d,c){return S.highWaterMark!=null?S.highWaterMark:d?S[c]:null}function M(S,d,c,f){var h=A(d,f,c);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?c:"highWaterMark";throw new E(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:M}},81914:(s,G,T)=>{s.exports=T(37007).EventEmitter},63242:(s,G,T)=>{G=s.exports=T(52341),G.Stream=G,G.Readable=G,G.Writable=T(9573),G.Duplex=T(63527),G.Transform=T(95689),G.PassThrough=T(82571),G.finished=T(19959),G.pipeline=T(37413)},83141:(s,G,T)=>{"use strict";var E=T(92861).Buffer,A=E.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M(D){if(!D)return"utf8";for(var F;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(F)return;D=(""+D).toLowerCase(),F=!0}}function S(D){var F=M(D);if(typeof F!="string"&&(E.isEncoding===A||!A(D)))throw new Error("Unknown encoding: "+D);return F||D}G.I=d;function d(D){this.encoding=S(D);var F;switch(this.encoding){case"utf16le":this.text=k,this.end=m,F=4;break;case"utf8":this.fillLast=_,F=4;break;case"base64":this.text=v,this.end=p,F=3;break;default:this.write=C,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(F)}d.prototype.write=function(D){if(D.length===0)return"";var F,z;if(this.lastNeed){if(F=this.fillLast(D),F===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<D.length?F?F+this.text(D,z):this.text(D,z):F||""},d.prototype.end=u,d.prototype.text=b,d.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function c(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function f(D,F,z){var y=F.length-1;if(y<z)return 0;var U=c(F[y]);return U>=0?(U>0&&(D.lastNeed=U-1),U):--y<z||U===-2?0:(U=c(F[y]),U>=0?(U>0&&(D.lastNeed=U-2),U):--y<z||U===-2?0:(U=c(F[y]),U>=0?(U>0&&(U===2?U=0:D.lastNeed=U-3),U):0))}function h(D,F,z){if((F[0]&192)!==128)return D.lastNeed=0,"\uFFFD";if(D.lastNeed>1&&F.length>1){if((F[1]&192)!==128)return D.lastNeed=1,"\uFFFD";if(D.lastNeed>2&&F.length>2&&(F[2]&192)!==128)return D.lastNeed=2,"\uFFFD"}}function _(D){var F=this.lastTotal-this.lastNeed,z=h(this,D,F);if(z!==void 0)return z;if(this.lastNeed<=D.length)return D.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,F,0,D.length),this.lastNeed-=D.length}function b(D,F){var z=f(this,D,F);if(!this.lastNeed)return D.toString("utf8",F);this.lastTotal=z;var y=D.length-(z-this.lastNeed);return D.copy(this.lastChar,0,y),D.toString("utf8",F,y)}function u(D){var F=D&&D.length?this.write(D):"";return this.lastNeed?F+"\uFFFD":F}function k(D,F){if((D.length-F)%2===0){var z=D.toString("utf16le",F);if(z){var y=z.charCodeAt(z.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",F,D.length-1)}function m(D){var F=D&&D.length?this.write(D):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,z)}return F}function v(D,F){var z=(D.length-F)%3;return z===0?D.toString("base64",F):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",F,D.length-z))}function p(D){var F=D&&D.length?this.write(D):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function C(D){return D.toString(this.encoding)}function R(D){return D&&D.length?this.write(D):""}},9423:(s,G,T)=>{"use strict";T.d(G,{A:()=>S});function E(d){var c,f=d.Symbol;return typeof f=="function"?f.observable?c=f.observable:(c=f("observable"),f.observable=c):c="@@observable",c}s=T.hmd(s);var A;typeof self!="undefined"?A=self:typeof window!="undefined"?A=window:typeof T.g!="undefined"?A=T.g:A=s;var M=E(A);const S=M},32909:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;var E=T(67291);Object.defineProperty(G,"ExperimentationService",{enumerable:!0,get:function(){return E.ExperimentationService}})},67291:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;const E=T(32845),A=T(73770),M=T(45761);class S extends M.ExperimentationServiceAutoPolling{constructor(c){super(c.telemetry,c.filterProviders||[],c.refetchInterval!=null?c.refetchInterval:0,c.assignmentContextTelemetryPropertyName,c.telemetryEventName,c.storageKey,c.keyValueStorage),this.options=c,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new E.TasApiFeatureProvider(new A.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}G.ExperimentationService=S,S.REFRESH_RATE_IN_MINUTES=30},45761:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceAutoPolling=void 0;const E=T(1714),A=T(23257);class M extends E.ExperimentationServiceBase{constructor(d,c,f,h,_,b,u){if(super(d,h,_,b,u),this.telemetry=d,this.filterProviders=c,this.refreshRateMs=f,this.assignmentContextTelemetryPropertyName=h,this.telemetryEventName=_,this.storageKey=b,this.storage=u,f<1e3&&f!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");f>0&&(this.pollingService=new A.PollingService(f),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(d=!1){if(this.pollingService){this.pollingService.StopPolling();let c=await super.getFeaturesAsync(d);return this.pollingService.StartPolling(),c}else return await super.getFeaturesAsync(d)}}G.ExperimentationServiceAutoPolling=M},1714:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceBase=void 0;const E=T(48823);class A{get features(){return this._features}set features(S){this._features=S,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(S,d,c,f,h){this.telemetry=S,this.assignmentContextTelemetryPropertyName=d,this.telemetryEventName=c,this.storageKey=f,this.storage=h,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(h=new E.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((_,b)=>{this.resolveInitialFetchPromise=_})}async getFeaturesAsync(S=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async c=>await c.getFeatures()));const d=await this.fetchPromise;this.updateFeatures(d,S)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(S,d=!1){let c={features:[],assignmentContext:"",configs:[]};for(let f of S){for(let h of f.features)c.features.includes(h)||c.features.push(h);for(let h of f.configs){const _=c.configs.find(b=>b.Id===h.Id);_?_.Parameters=Object.assign(Object.assign({},_.Parameters),h.Parameters):c.configs.push(h)}c.assignmentContext+=f.assignmentContext}(d||!this.featuresConsumed)&&(this.features=c),this.storage&&this.storage.setValue(this.storageKey,c)}async loadCachedFeatureData(){let S;this.storage&&(S=await this.storage.getValue(this.storageKey),S!==void 0&&S.configs===void 0&&(S.configs=[])),this.features.features.length===0&&(this.features=S||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(S){return this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isCachedFlightEnabled(S){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isFlightEnabledAsync(S){const d=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(S),d.features.includes(S)}getTreatmentVariable(S,d){this.featuresConsumed=!0,this.PostEventToTelemetry(`${S}.${d}`);const c=this.features.configs.find(f=>f.Id===S);return c==null?void 0:c.Parameters[d]}async getTreatmentVariableAsync(S,d,c){if(c){const f=this.featuresConsumed,h=this.getTreatmentVariable(S,d);if(h===void 0)this.featuresConsumed=f;else return h}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(S,d)}PostEventToTelemetry(S){this.cachedTelemetryEvents.includes(S)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",S]])),this.cachedTelemetryEvents.push(S))}invokeInit(){this.init()}addFeatureProvider(...S){if(!(S==null||this.featureProviders==null))for(let d of S)this.featureProviders.push(d)}}G.ExperimentationServiceBase=A},96790:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseFeatureProvider=void 0;class T{constructor(A){this.telemetry=A,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let A=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,A}}G.BaseFeatureProvider=T},76492:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.FilteredFeatureProvider=void 0;const E=T(96790);class A extends E.BaseFeatureProvider{constructor(S,d){super(S),this.telemetry=S,this.filterProviders=d,this.cachedTelemetryEvents=[]}getFilters(){let S=new Map;for(let d of this.filterProviders){let c=d.getFilters();for(let f of c.keys()){let h=c.get(f);S.set(f,h)}}return S}PostEventToTelemetry(S){if(this.cachedTelemetryEvents.includes(S))return;const d=JSON.stringify(S);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",d]])),this.cachedTelemetryEvents.push(S)}}G.FilteredFeatureProvider=A},32845:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TasApiFeatureProvider=G.TASAPI_FETCHERROR_EVENTNAME=void 0;const E=T(76492);G.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const A="ErrorType";class M extends E.FilteredFeatureProvider{constructor(d,c,f){super(c,f),this.httpClient=d,this.telemetry=c,this.filterProviders=f}async fetch(){let d=this.getFilters(),c={};for(let u of d.keys()){const k=d.get(u);c[u]=k}let f;try{f=await this.httpClient.get({headers:c})}catch(u){const k=u,m=new Map;k.response?m.set(A,"ServerError"):k.request?m.set(A,"NoResponse"):m.set(A,"GenericError"),this.telemetry.postEvent(G.TASAPI_FETCHERROR_EVENTNAME,m)}if(!f)throw Error(G.TASAPI_FETCHERROR_EVENTNAME);d.keys.length>0&&this.PostEventToTelemetry(c);let h=f.data,_=h.Configs,b=[];for(let u of _)if(u.Parameters)for(let k of Object.keys(u.Parameters)){const m=k+(u.Parameters[k]?"":"cf");b.includes(m)||b.push(m)}return{features:b,assignmentContext:h.AssignmentContext,configs:_}}}G.TasApiFeatureProvider=M},73770:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.AxiosHttpClient=void 0;const E=T(86425);class A{constructor(S){this.endpoint=S}get(S){return E.default.get(this.endpoint,Object.assign(Object.assign({},S),{proxy:!1}))}}G.AxiosHttpClient=A},48823:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MemoryKeyValueStorage=void 0;class T{constructor(){this.storage=new Map}async getValue(A,M){return this.storage.has(A)?await Promise.resolve(this.storage.get(A)):await Promise.resolve(M||void 0)}setValue(A,M){this.storage.set(A,M)}}G.MemoryKeyValueStorage=T},23257:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PollingService=void 0;class T{constructor(A){this.fetchInterval=A}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(A){this.onTick=A}StartPolling(A=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(A&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}G.PollingService=T},48318:function(s,G,T){(function(E){"use strict";var A=function(){try{if(E.URLSearchParams&&new E.URLSearchParams("foo=bar").get("foo")==="bar")return E.URLSearchParams}catch{}return null}(),M=A&&new A({a:1}).toString()==="a=1",S=A&&new A("s=%2B").get("s")==="+",d="__URLSearchParams__",c=A?function(){var y=new A;return y.append("s"," &"),y.toString()==="s=+%26"}():!0,f=_.prototype,h=!!(E.Symbol&&E.Symbol.iterator);if(A&&M&&S&&c)return;function _(y){y=y||"",(y instanceof URLSearchParams||y instanceof _)&&(y=y.toString()),this[d]=R(y)}f.append=function(y,U){D(this[d],y,U)},f.delete=function(y){delete this[d][y]},f.get=function(y){var U=this[d];return this.has(y)?U[y][0]:null},f.getAll=function(y){var U=this[d];return this.has(y)?U[y].slice(0):[]},f.has=function(y){return z(this[d],y)},f.set=function(U,W){this[d][U]=[""+W]},f.toString=function(){var y=this[d],U=[],W,K,Z,re;for(K in y)for(Z=v(K),W=0,re=y[K];W<re.length;W++)U.push(Z+"="+v(re[W]));return U.join("&")};var b=!S,u=!b&&A&&!M&&E.Proxy,k;u?(k=new Proxy(A,{construct:function(y,U){return new y(new _(U[0]).toString())}}),k.toString=Function.prototype.toString.bind(_)):k=_,Object.defineProperty(E,"URLSearchParams",{value:k});var m=E.URLSearchParams.prototype;m.polyfill=!0,m.forEach=m.forEach||function(y,U){var W=R(this.toString());Object.getOwnPropertyNames(W).forEach(function(K){W[K].forEach(function(Z){y.call(U,Z,K,this)},this)},this)},m.sort=m.sort||function(){var y=R(this.toString()),U=[],W,K,Z;for(W in y)U.push(W);for(U.sort(),K=0;K<U.length;K++)this.delete(U[K]);for(K=0;K<U.length;K++){var re=U[K],X=y[re];for(Z=0;Z<X.length;Z++)this.append(re,X[Z])}},m.keys=m.keys||function(){var y=[];return this.forEach(function(U,W){y.push(W)}),C(y)},m.values=m.values||function(){var y=[];return this.forEach(function(U){y.push(U)}),C(y)},m.entries=m.entries||function(){var y=[];return this.forEach(function(U,W){y.push([W,U])}),C(y)},h&&(m[E.Symbol.iterator]=m[E.Symbol.iterator]||m.entries);function v(y){var U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(y).replace(/[!'\(\)~]|%20|%00/g,function(W){return U[W]})}function p(y){return y.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(U){return decodeURIComponent(U)})}function C(y){var U={next:function(){var W=y.shift();return{done:W===void 0,value:W}}};return h&&(U[E.Symbol.iterator]=function(){return U}),U}function R(y){var U={};if(typeof y=="object")if(F(y))for(var W=0;W<y.length;W++){var K=y[W];if(F(K)&&K.length===2)D(U,K[0],K[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var Z in y)y.hasOwnProperty(Z)&&D(U,Z,y[Z]);else{y.indexOf("?")===0&&(y=y.slice(1));for(var re=y.split("&"),X=0;X<re.length;X++){var P=re[X],$=P.indexOf("=");-1<$?D(U,p(P.slice(0,$)),p(P.slice($+1))):P&&D(U,p(P),"")}}return U}function D(y,U,W){var K=typeof W=="string"?W:W!=null&&typeof W.toString=="function"?W.toString():JSON.stringify(W);z(y,U)?y[U].push(K):y[U]=[K]}function F(y){return!!y&&Object.prototype.toString.call(y)==="[object Array]"}function z(y,U){return Object.prototype.hasOwnProperty.call(y,U)}})(typeof T.g!="undefined"?T.g:typeof window!="undefined"?window:this)},94643:(s,G,T)=>{s.exports=E;function E(M,S){if(A("noDeprecation"))return M;var d=!1;function c(){if(!d){if(A("throwDeprecation"))throw new Error(S);A("traceDeprecation")?console.trace(S):console.warn(S),d=!0}return M.apply(this,arguments)}return c}function A(M){try{if(!T.g.localStorage)return!1}catch{return!1}var S=T.g.localStorage[M];return S==null?!1:String(S).toLowerCase()==="true"}},41566:(s,G,T)=>{"use strict";var E;E={value:!0},G.Z7=E=G.M$=void 0;var A=T(12493);Object.defineProperty(G,"M$",{enumerable:!0,get:function(){return A.getExperimentationService}}),E={enumerable:!0,get:function(){return A.getExperimentationServiceAsync}};var M=T(8967);Object.defineProperty(G,"Z7",{enumerable:!0,get:function(){return M.TargetPopulation}})},98142:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MementoKeyValueStorage=void 0;class T{constructor(A){this.mementoGlobalStorage=A}async getValue(A,M){return await this.mementoGlobalStorage.get(A)||M}setValue(A,M){this.mementoGlobalStorage.update(A,M)}}G.MementoKeyValueStorage=T},59052:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});class T{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(A){return!1}isCachedFlightEnabled(A){return Promise.resolve(!1)}isFlightEnabledAsync(A){return Promise.resolve(!1)}getTreatmentVariable(A,M){}getTreatmentVariableAsync(A,M){return Promise.resolve(void 0)}}G.default=T},8967:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TargetPopulation=G.Filters=G.VSCodeFilterProvider=void 0;const E=T(91398);class A{constructor(c,f,h){this.extensionName=c,this.extensionVersion=f,this.targetPopulation=h}static trimVersionSuffix(c){const f=/\-[a-zA-Z0-9]+$/;return c.split(f)[0]}getFilterValue(c){switch(c){case M.ApplicationVersion:return A.trimVersionSuffix(E.version);case M.Build:return E.env.appName;case M.ClientId:return E.env.machineId;case M.ExtensionName:return this.extensionName;case M.ExtensionVersion:return A.trimVersionSuffix(this.extensionVersion);case M.Language:return E.env.language;case M.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let c=new Map,f=Object.values(M);for(let h of f)c.set(h,this.getFilterValue(h));return c}}G.VSCodeFilterProvider=A;var M;(function(d){d.Market="X-MSEdge-Market",d.CorpNet="X-FD-Corpnet",d.ApplicationVersion="X-VSCode-AppVersion",d.Build="X-VSCode-Build",d.ClientId="X-MSEdge-ClientId",d.ExtensionName="X-VSCode-ExtensionName",d.ExtensionVersion="X-VSCode-ExtensionVersion",d.Language="X-VSCode-Language",d.TargetPopulation="X-VSCode-TargetPopulation"})(M||(G.Filters=M={}));var S;(function(d){d.Team="team",d.Internal="internal",d.Insiders="insider",d.Public="public"})(S||(G.TargetPopulation=S={}))},12493:(s,G,T)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getExperimentationServiceAsync=G.getExperimentationService=void 0;const E=T(8967),A=T(32909),M=T(91398),S=T(98142),d=T(59052),c="https://default.exp-tas.com/vscode/ab",f="query-expfeature",h="abexp.assignmentcontext",_="VSCode.ABExp.FeatureData",b=1e3*60*30;function u(m,v,p,C,R,...D){if(!R)throw new Error("Memento storage was not provided.");const F=M.workspace.getConfiguration("telemetry");if(!(M.env.isTelemetryEnabled===void 0?F.get("enableTelemetry",!0):M.env.isTelemetryEnabled))return new d.default;const U=[new E.VSCodeFilterProvider(m,v,p),...D],W=new S.MementoKeyValueStorage(R);return new A.ExperimentationService({filterProviders:U,telemetry:C,storageKey:_,keyValueStorage:W,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:h,telemetryEventName:f,endpoint:c,refetchInterval:b})}G.getExperimentationService=u;async function k(m,v,p,C,R,...D){const F=u(m,v,p,C,R,...D);return await F.initializePromise,F}G.getExperimentationServiceAsync=k},86587:s=>{s.exports=G;function G(T,E){if(T&&E)return G(T)(E);if(typeof T!="function")throw new TypeError("need wrapper function");return Object.keys(T).forEach(function(M){A[M]=T[M]}),A;function A(){for(var M=new Array(arguments.length),S=0;S<M.length;S++)M[S]=arguments[S];var d=T.apply(this,M),c=M[M.length-1];return typeof d=="function"&&d!==c&&Object.keys(c).forEach(function(f){d[f]=c[f]}),d}}},57510:s=>{s.exports=T;var G=Object.prototype.hasOwnProperty;function T(){for(var E={},A=0;A<arguments.length;A++){var M=arguments[A];for(var S in M)G.call(M,S)&&(E[S]=M[S])}return E}},40259:s=>{"use strict";s.exports=function(G){G.prototype[Symbol.iterator]=function*(){for(let T=this.head;T;T=T.next)yield T.value}}},28799:(s,G,T)=>{"use strict";s.exports=E,E.Node=d,E.create=E;function E(c){var f=this;if(f instanceof E||(f=new E),f.tail=null,f.head=null,f.length=0,c&&typeof c.forEach=="function")c.forEach(function(b){f.push(b)});else if(arguments.length>0)for(var h=0,_=arguments.length;h<_;h++)f.push(arguments[h]);return f}E.prototype.removeNode=function(c){if(c.list!==this)throw new Error("removing node which does not belong to this list");var f=c.next,h=c.prev;return f&&(f.prev=h),h&&(h.next=f),c===this.head&&(this.head=f),c===this.tail&&(this.tail=h),c.list.length--,c.next=null,c.prev=null,c.list=null,f},E.prototype.unshiftNode=function(c){if(c!==this.head){c.list&&c.list.removeNode(c);var f=this.head;c.list=this,c.next=f,f&&(f.prev=c),this.head=c,this.tail||(this.tail=c),this.length++}},E.prototype.pushNode=function(c){if(c!==this.tail){c.list&&c.list.removeNode(c);var f=this.tail;c.list=this,c.prev=f,f&&(f.next=c),this.tail=c,this.head||(this.head=c),this.length++}},E.prototype.push=function(){for(var c=0,f=arguments.length;c<f;c++)M(this,arguments[c]);return this.length},E.prototype.unshift=function(){for(var c=0,f=arguments.length;c<f;c++)S(this,arguments[c]);return this.length},E.prototype.pop=function(){if(this.tail){var c=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,c}},E.prototype.shift=function(){if(this.head){var c=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,c}},E.prototype.forEach=function(c,f){f=f||this;for(var h=this.head,_=0;h!==null;_++)c.call(f,h.value,_,this),h=h.next},E.prototype.forEachReverse=function(c,f){f=f||this;for(var h=this.tail,_=this.length-1;h!==null;_--)c.call(f,h.value,_,this),h=h.prev},E.prototype.get=function(c){for(var f=0,h=this.head;h!==null&&f<c;f++)h=h.next;if(f===c&&h!==null)return h.value},E.prototype.getReverse=function(c){for(var f=0,h=this.tail;h!==null&&f<c;f++)h=h.prev;if(f===c&&h!==null)return h.value},E.prototype.map=function(c,f){f=f||this;for(var h=new E,_=this.head;_!==null;)h.push(c.call(f,_.value,this)),_=_.next;return h},E.prototype.mapReverse=function(c,f){f=f||this;for(var h=new E,_=this.tail;_!==null;)h.push(c.call(f,_.value,this)),_=_.prev;return h},E.prototype.reduce=function(c,f){var h,_=this.head;if(arguments.length>1)h=f;else if(this.head)_=this.head.next,h=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;_!==null;b++)h=c(h,_.value,b),_=_.next;return h},E.prototype.reduceReverse=function(c,f){var h,_=this.tail;if(arguments.length>1)h=f;else if(this.tail)_=this.tail.prev,h=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;_!==null;b--)h=c(h,_.value,b),_=_.prev;return h},E.prototype.toArray=function(){for(var c=new Array(this.length),f=0,h=this.head;h!==null;f++)c[f]=h.value,h=h.next;return c},E.prototype.toArrayReverse=function(){for(var c=new Array(this.length),f=0,h=this.tail;h!==null;f++)c[f]=h.value,h=h.prev;return c},E.prototype.slice=function(c,f){f=f||this.length,f<0&&(f+=this.length),c=c||0,c<0&&(c+=this.length);var h=new E;if(f<c||f<0)return h;c<0&&(c=0),f>this.length&&(f=this.length);for(var _=0,b=this.head;b!==null&&_<c;_++)b=b.next;for(;b!==null&&_<f;_++,b=b.next)h.push(b.value);return h},E.prototype.sliceReverse=function(c,f){f=f||this.length,f<0&&(f+=this.length),c=c||0,c<0&&(c+=this.length);var h=new E;if(f<c||f<0)return h;c<0&&(c=0),f>this.length&&(f=this.length);for(var _=this.length,b=this.tail;b!==null&&_>f;_--)b=b.prev;for(;b!==null&&_>c;_--,b=b.prev)h.push(b.value);return h},E.prototype.splice=function(c,f,...h){c>this.length&&(c=this.length-1),c<0&&(c=this.length+c);for(var _=0,b=this.head;b!==null&&_<c;_++)b=b.next;for(var u=[],_=0;b&&_<f;_++)u.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var _=0;_<h.length;_++)b=A(this,b,h[_]);return u},E.prototype.reverse=function(){for(var c=this.head,f=this.tail,h=c;h!==null;h=h.prev){var _=h.prev;h.prev=h.next,h.next=_}return this.head=f,this.tail=c,this};function A(c,f,h){var _=f===c.head?new d(h,null,f,c):new d(h,f,f.next,c);return _.next===null&&(c.tail=_),_.prev===null&&(c.head=_),c.length++,_}function M(c,f){c.tail=new d(f,c.tail,null,c),c.head||(c.head=c.tail),c.length++}function S(c,f){c.head=new d(f,null,c.head,c),c.tail||(c.tail=c.head),c.length++}function d(c,f,h,_){if(!(this instanceof d))return new d(c,f,h,_);this.list=_,this.value=c,f?(f.next=this,this.prev=f):this.prev=null,h?(h.prev=this,this.next=h):this.next=null}try{T(40259)(E)}catch{}},16064:(s,G,T)=>{s.exports=T(43619).Observable},43619:(s,G)=>{"use strict";var T;T={value:!0},G.Observable=void 0;function E(W,K){if(!(W instanceof K))throw new TypeError("Cannot call a class as a function")}function A(W,K){for(var Z=0;Z<K.length;Z++){var re=K[Z];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(W,re.key,re)}}function M(W,K,Z){return K&&A(W.prototype,K),Z&&A(W,Z),W}var S=function(){return typeof Symbol=="function"},d=function(W){return S()&&!!Symbol[W]},c=function(W){return d(W)?Symbol[W]:"@@"+W};S()&&!d("observable")&&(Symbol.observable=Symbol("observable"));var f=c("iterator"),h=c("observable"),_=c("species");function b(W,K){var Z=W[K];if(Z!=null){if(typeof Z!="function")throw new TypeError(Z+" is not a function");return Z}}function u(W){var K=W.constructor;return K!==void 0&&(K=K[_],K===null&&(K=void 0)),K!==void 0?K:U}function k(W){return W instanceof U}function m(W){m.log?m.log(W):setTimeout(function(){throw W})}function v(W){Promise.resolve().then(function(){try{W()}catch(K){m(K)}})}function p(W){var K=W._cleanup;if(K!==void 0&&(W._cleanup=void 0,!!K))try{if(typeof K=="function")K();else{var Z=b(K,"unsubscribe");Z&&Z.call(K)}}catch(re){m(re)}}function C(W){W._observer=void 0,W._queue=void 0,W._state="closed"}function R(W){var K=W._queue;if(K){W._queue=void 0,W._state="ready";for(var Z=0;Z<K.length&&(D(W,K[Z].type,K[Z].value),W._state!=="closed");++Z);}}function D(W,K,Z){W._state="running";var re=W._observer;try{var X=b(re,K);switch(K){case"next":X&&X.call(re,Z);break;case"error":if(C(W),X)X.call(re,Z);else throw Z;break;case"complete":C(W),X&&X.call(re);break}}catch(P){m(P)}W._state==="closed"?p(W):W._state==="running"&&(W._state="ready")}function F(W,K,Z){if(W._state!=="closed"){if(W._state==="buffering"){W._queue.push({type:K,value:Z});return}if(W._state!=="ready"){W._state="buffering",W._queue=[{type:K,value:Z}],v(function(){return R(W)});return}D(W,K,Z)}}var z=function(){function W(K,Z){E(this,W),this._cleanup=void 0,this._observer=K,this._queue=void 0,this._state="initializing";var re=new y(this);try{this._cleanup=Z.call(void 0,re)}catch(X){re.error(X)}this._state==="initializing"&&(this._state="ready")}return M(W,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(C(this),p(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),W}(),y=function(){function W(K){E(this,W),this._subscription=K}return M(W,[{key:"next",value:function(Z){F(this._subscription,"next",Z)}},{key:"error",value:function(Z){F(this._subscription,"error",Z)}},{key:"complete",value:function(){F(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),W}(),U=function(){function W(K){if(E(this,W),!(this instanceof W))throw new TypeError("Observable cannot be called as a function");if(typeof K!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=K}return M(W,[{key:"subscribe",value:function(Z){return(typeof Z!="object"||Z===null)&&(Z={next:Z,error:arguments[1],complete:arguments[2]}),new z(Z,this._subscriber)}},{key:"forEach",value:function(Z){var re=this;return new Promise(function(X,P){if(typeof Z!="function"){P(new TypeError(Z+" is not a function"));return}function $(){N.unsubscribe(),X()}var N=re.subscribe({next:function(o){try{Z(o,$)}catch(w){P(w),N.unsubscribe()}},error:P,complete:X})})}},{key:"map",value:function(Z){var re=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var X=u(this);return new X(function(P){return re.subscribe({next:function($){try{$=Z($)}catch(N){return P.error(N)}P.next($)},error:function($){P.error($)},complete:function(){P.complete()}})})}},{key:"filter",value:function(Z){var re=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var X=u(this);return new X(function(P){return re.subscribe({next:function($){try{if(!Z($))return}catch(N){return P.error(N)}P.next($)},error:function($){P.error($)},complete:function(){P.complete()}})})}},{key:"reduce",value:function(Z){var re=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var X=u(this),P=arguments.length>1,$=!1,N=arguments[1],o=N;return new X(function(w){return re.subscribe({next:function(I){var q=!$;if($=!0,!q||P)try{o=Z(o,I)}catch(j){return w.error(j)}else o=I},error:function(I){w.error(I)},complete:function(){if(!$&&!P)return w.error(new TypeError("Cannot reduce an empty sequence"));w.next(o),w.complete()}})})}},{key:"concat",value:function(){for(var Z=this,re=arguments.length,X=new Array(re),P=0;P<re;P++)X[P]=arguments[P];var $=u(this);return new $(function(N){var o,w=0;function I(q){o=q.subscribe({next:function(j){N.next(j)},error:function(j){N.error(j)},complete:function(){w===X.length?(o=void 0,N.complete()):I($.from(X[w++]))}})}return I(Z),function(){o&&(o.unsubscribe(),o=void 0)}})}},{key:"flatMap",value:function(Z){var re=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var X=u(this);return new X(function(P){var $=[],N=re.subscribe({next:function(w){if(Z)try{w=Z(w)}catch(q){return P.error(q)}var I=X.from(w).subscribe({next:function(q){P.next(q)},error:function(q){P.error(q)},complete:function(){var q=$.indexOf(I);q>=0&&$.splice(q,1),o()}});$.push(I)},error:function(w){P.error(w)},complete:function(){o()}});function o(){N.closed&&$.length===0&&P.complete()}return function(){$.forEach(function(w){return w.unsubscribe()}),N.unsubscribe()}})}},{key:h,value:function(){return this}}],[{key:"from",value:function(Z){var re=typeof this=="function"?this:W;if(Z==null)throw new TypeError(Z+" is not an object");var X=b(Z,h);if(X){var P=X.call(Z);if(Object(P)!==P)throw new TypeError(P+" is not an object");return k(P)&&P.constructor===re?P:new re(function($){return P.subscribe($)})}if(d("iterator")&&(X=b(Z,f),X))return new re(function($){v(function(){if(!$.closed){var N=!0,o=!1,w=void 0;try{for(var I=X.call(Z)[Symbol.iterator](),q;!(N=(q=I.next()).done);N=!0){var j=q.value;if($.next(j),$.closed)return}}catch(H){o=!0,w=H}finally{try{!N&&I.return!=null&&I.return()}finally{if(o)throw w}}$.complete()}})});if(Array.isArray(Z))return new re(function($){v(function(){if(!$.closed){for(var N=0;N<Z.length;++N)if($.next(Z[N]),$.closed)return;$.complete()}})});throw new TypeError(Z+" is not observable")}},{key:"of",value:function(){for(var Z=arguments.length,re=new Array(Z),X=0;X<Z;X++)re[X]=arguments[X];var P=typeof this=="function"?this:W;return new P(function($){v(function(){if(!$.closed){for(var N=0;N<re.length;++N)if($.next(re[N]),$.closed)return;$.complete()}})})}},{key:_,get:function(){return this}}]),W}();G.Observable=U,S()&&Object.defineProperty(U,Symbol("extensions"),{value:{symbol:h,hostReportError:m},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},11138:()=>{},86425:(s,G,T)=>{"use strict";var E=T(65606);function A(de,me){return function(){return de.apply(me,arguments)}}const{toString:M}=Object.prototype,{getPrototypeOf:S}=Object,d=(de=>me=>{const we=M.call(me);return de[we]||(de[we]=we.slice(8,-1).toLowerCase())})(Object.create(null)),c=de=>(de=de.toLowerCase(),me=>d(me)===de),f=de=>me=>typeof me===de,{isArray:h}=Array,_=f("undefined");function b(de){return de!==null&&!_(de)&&de.constructor!==null&&!_(de.constructor)&&v(de.constructor.isBuffer)&&de.constructor.isBuffer(de)}const u=c("ArrayBuffer");function k(de){let me;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?me=ArrayBuffer.isView(de):me=de&&de.buffer&&u(de.buffer),me}const m=f("string"),v=f("function"),p=f("number"),C=de=>de!==null&&typeof de=="object",R=de=>de===!0||de===!1,D=de=>{if(d(de)!=="object")return!1;const me=S(de);return(me===null||me===Object.prototype||Object.getPrototypeOf(me)===null)&&!(Symbol.toStringTag in de)&&!(Symbol.iterator in de)},F=c("Date"),z=c("File"),y=c("Blob"),U=c("FileList"),W=de=>C(de)&&v(de.pipe),K=de=>{let me;return de&&(typeof FormData=="function"&&de instanceof FormData||v(de.append)&&((me=d(de))==="formdata"||me==="object"&&v(de.toString)&&de.toString()==="[object FormData]"))},Z=c("URLSearchParams"),[re,X,P,$]=["ReadableStream","Request","Response","Headers"].map(c),N=de=>de.trim?de.trim():de.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function o(de,me,{allOwnKeys:we=!1}={}){if(de===null||typeof de=="undefined")return;let Ae,qe;if(typeof de!="object"&&(de=[de]),h(de))for(Ae=0,qe=de.length;Ae<qe;Ae++)me.call(null,de[Ae],Ae,de);else{const ze=we?Object.getOwnPropertyNames(de):Object.keys(de),Je=ze.length;let wt;for(Ae=0;Ae<Je;Ae++)wt=ze[Ae],me.call(null,de[wt],wt,de)}}function w(de,me){me=me.toLowerCase();const we=Object.keys(de);let Ae=we.length,qe;for(;Ae-- >0;)if(qe=we[Ae],me===qe.toLowerCase())return qe;return null}const I=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:T.g,q=de=>!_(de)&&de!==I;function j(){const{caseless:de}=q(this)&&this||{},me={},we=(Ae,qe)=>{const ze=de&&w(me,qe)||qe;D(me[ze])&&D(Ae)?me[ze]=j(me[ze],Ae):D(Ae)?me[ze]=j({},Ae):h(Ae)?me[ze]=Ae.slice():me[ze]=Ae};for(let Ae=0,qe=arguments.length;Ae<qe;Ae++)arguments[Ae]&&o(arguments[Ae],we);return me}const H=(de,me,we,{allOwnKeys:Ae}={})=>(o(me,(qe,ze)=>{we&&v(qe)?de[ze]=A(qe,we):de[ze]=qe},{allOwnKeys:Ae}),de),ee=de=>(de.charCodeAt(0)===65279&&(de=de.slice(1)),de),ie=(de,me,we,Ae)=>{de.prototype=Object.create(me.prototype,Ae),de.prototype.constructor=de,Object.defineProperty(de,"super",{value:me.prototype}),we&&Object.assign(de.prototype,we)},B=(de,me,we,Ae)=>{let qe,ze,Je;const wt={};if(me=me||{},de==null)return me;do{for(qe=Object.getOwnPropertyNames(de),ze=qe.length;ze-- >0;)Je=qe[ze],(!Ae||Ae(Je,de,me))&&!wt[Je]&&(me[Je]=de[Je],wt[Je]=!0);de=we!==!1&&S(de)}while(de&&(!we||we(de,me))&&de!==Object.prototype);return me},ne=(de,me,we)=>{de=String(de),(we===void 0||we>de.length)&&(we=de.length),we-=me.length;const Ae=de.indexOf(me,we);return Ae!==-1&&Ae===we},Le=de=>{if(!de)return null;if(h(de))return de;let me=de.length;if(!p(me))return null;const we=new Array(me);for(;me-- >0;)we[me]=de[me];return we},pe=(de=>me=>de&&me instanceof de)(typeof Uint8Array!="undefined"&&S(Uint8Array)),Me=(de,me)=>{const Ae=(de&&de[Symbol.iterator]).call(de);let qe;for(;(qe=Ae.next())&&!qe.done;){const ze=qe.value;me.call(de,ze[0],ze[1])}},Pe=(de,me)=>{let we;const Ae=[];for(;(we=de.exec(me))!==null;)Ae.push(we);return Ae},J=c("HTMLFormElement"),te=de=>de.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(we,Ae,qe){return Ae.toUpperCase()+qe}),fe=(({hasOwnProperty:de})=>(me,we)=>de.call(me,we))(Object.prototype),ve=c("RegExp"),Se=(de,me)=>{const we=Object.getOwnPropertyDescriptors(de),Ae={};o(we,(qe,ze)=>{let Je;(Je=me(qe,ze,de))!==!1&&(Ae[ze]=Je||qe)}),Object.defineProperties(de,Ae)},L=de=>{Se(de,(me,we)=>{if(v(de)&&["arguments","caller","callee"].indexOf(we)!==-1)return!1;const Ae=de[we];if(v(Ae)){if(me.enumerable=!1,"writable"in me){me.writable=!1;return}me.set||(me.set=()=>{throw Error("Can not rewrite read-only method '"+we+"'")})}})},O=(de,me)=>{const we={},Ae=qe=>{qe.forEach(ze=>{we[ze]=!0})};return h(de)?Ae(de):Ae(String(de).split(me)),we},oe=()=>{},be=(de,me)=>de!=null&&Number.isFinite(de=+de)?de:me,ke="abcdefghijklmnopqrstuvwxyz",ge="0123456789",De={DIGIT:ge,ALPHA:ke,ALPHA_DIGIT:ke+ke.toUpperCase()+ge},Ge=(de=16,me=De.ALPHA_DIGIT)=>{let we="";const{length:Ae}=me;for(;de--;)we+=me[Math.random()*Ae|0];return we};function We(de){return!!(de&&v(de.append)&&de[Symbol.toStringTag]==="FormData"&&de[Symbol.iterator])}const Nt=de=>{const me=new Array(10),we=(Ae,qe)=>{if(C(Ae)){if(me.indexOf(Ae)>=0)return;if(!("toJSON"in Ae)){me[qe]=Ae;const ze=h(Ae)?[]:{};return o(Ae,(Je,wt)=>{const Ot=we(Je,qe+1);!_(Ot)&&(ze[wt]=Ot)}),me[qe]=void 0,ze}}return Ae};return we(de,0)},Ze=c("AsyncFunction"),it=de=>de&&(C(de)||v(de))&&v(de.then)&&v(de.catch),Et=((de,me)=>de?setImmediate:me?((we,Ae)=>(I.addEventListener("message",({source:qe,data:ze})=>{qe===I&&ze===we&&Ae.length&&Ae.shift()()},!1),qe=>{Ae.push(qe),I.postMessage(we,"*")}))(`axios@${Math.random()}`,[]):we=>setTimeout(we))(typeof setImmediate=="function",v(I.postMessage)),ce=typeof queueMicrotask!="undefined"?queueMicrotask.bind(I):typeof E!="undefined"&&E.nextTick||Et;var Q={isArray:h,isArrayBuffer:u,isBuffer:b,isFormData:K,isArrayBufferView:k,isString:m,isNumber:p,isBoolean:R,isObject:C,isPlainObject:D,isReadableStream:re,isRequest:X,isResponse:P,isHeaders:$,isUndefined:_,isDate:F,isFile:z,isBlob:y,isRegExp:ve,isFunction:v,isStream:W,isURLSearchParams:Z,isTypedArray:pe,isFileList:U,forEach:o,merge:j,extend:H,trim:N,stripBOM:ee,inherits:ie,toFlatObject:B,kindOf:d,kindOfTest:c,endsWith:ne,toArray:Le,forEachEntry:Me,matchAll:Pe,isHTMLForm:J,hasOwnProperty:fe,hasOwnProp:fe,reduceDescriptors:Se,freezeMethods:L,toObjectSet:O,toCamelCase:te,noop:oe,toFiniteNumber:be,findKey:w,global:I,isContextDefined:q,ALPHABET:De,generateString:Ge,isSpecCompliantForm:We,toJSONObject:Nt,isAsyncFn:Ze,isThenable:it,setImmediate:Et,asap:ce};function se(de,me,we,Ae,qe){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=de,this.name="AxiosError",me&&(this.code=me),we&&(this.config=we),Ae&&(this.request=Ae),qe&&(this.response=qe)}Q.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ye=se.prototype,Fe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(de=>{Fe[de]={value:de}}),Object.defineProperties(se,Fe),Object.defineProperty(ye,"isAxiosError",{value:!0}),se.from=(de,me,we,Ae,qe,ze)=>{const Je=Object.create(ye);return Q.toFlatObject(de,Je,function(Ot){return Ot!==Error.prototype},wt=>wt!=="isAxiosError"),se.call(Je,de.message,me,we,Ae,qe),Je.cause=de,Je.name=de.name,ze&&Object.assign(Je,ze),Je};var Ye=null;function Ue(de){return Q.isPlainObject(de)||Q.isArray(de)}function et(de){return Q.endsWith(de,"[]")?de.slice(0,-2):de}function It(de,me,we){return de?de.concat(me).map(function(qe,ze){return qe=et(qe),!we&&ze?"["+qe+"]":qe}).join(we?".":""):me}function at(de){return Q.isArray(de)&&!de.some(Ue)}const ct=Q.toFlatObject(Q,{},null,function(me){return/^is[A-Z]/.test(me)});function pt(de,me,we){if(!Q.isObject(de))throw new TypeError("target must be an object");me=me||new FormData,we=Q.toFlatObject(we,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Pi,ci){return!Q.isUndefined(ci[Pi])});const Ae=we.metaTokens,qe=we.visitor||Xt,ze=we.dots,Je=we.indexes,Ot=(we.Blob||typeof Blob!="undefined"&&Blob)&&Q.isSpecCompliantForm(me);if(!Q.isFunction(qe))throw new TypeError("visitor must be a function");function Ht(_i){if(_i===null)return"";if(Q.isDate(_i))return _i.toISOString();if(!Ot&&Q.isBlob(_i))throw new se("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(_i)||Q.isTypedArray(_i)?Ot&&typeof Blob=="function"?new Blob([_i]):Buffer.from(_i):_i}function Xt(_i,Pi,ci){let Er=_i;if(_i&&!ci&&typeof _i=="object"){if(Q.endsWith(Pi,"{}"))Pi=Ae?Pi:Pi.slice(0,-2),_i=JSON.stringify(_i);else if(Q.isArray(_i)&&at(_i)||(Q.isFileList(_i)||Q.endsWith(Pi,"[]"))&&(Er=Q.toArray(_i)))return Pi=et(Pi),Er.forEach(function(Oi,Dr){!(Q.isUndefined(Oi)||Oi===null)&&me.append(Je===!0?It([Pi],Dr,ze):Je===null?Pi:Pi+"[]",Ht(Oi))}),!1}return Ue(_i)?!0:(me.append(It(ci,Pi,ze),Ht(_i)),!1)}const fi=[],or=Object.assign(ct,{defaultVisitor:Xt,convertValue:Ht,isVisitable:Ue});function hr(_i,Pi){if(!Q.isUndefined(_i)){if(fi.indexOf(_i)!==-1)throw Error("Circular reference detected in "+Pi.join("."));fi.push(_i),Q.forEach(_i,function(Er,Mr){(!(Q.isUndefined(Er)||Er===null)&&qe.call(me,Er,Q.isString(Mr)?Mr.trim():Mr,Pi,or))===!0&&hr(Er,Pi?Pi.concat(Mr):[Mr])}),fi.pop()}}if(!Q.isObject(de))throw new TypeError("data must be an object");return hr(de),me}function St(de){const me={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(de).replace(/[!'()~]|%20|%00/g,function(Ae){return me[Ae]})}function Rt(de,me){this._pairs=[],de&&pt(de,this,me)}const pi=Rt.prototype;pi.append=function(me,we){this._pairs.push([me,we])},pi.toString=function(me){const we=me?function(Ae){return me.call(this,Ae,St)}:St;return this._pairs.map(function(qe){return we(qe[0])+"="+we(qe[1])},"").join("&")};function kt(de){return encodeURIComponent(de).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ut(de,me,we){if(!me)return de;const Ae=we&&we.encode||kt,qe=we&&we.serialize;let ze;if(qe?ze=qe(me,we):ze=Q.isURLSearchParams(me)?me.toString():new Rt(me,we).toString(Ae),ze){const Je=de.indexOf("#");Je!==-1&&(de=de.slice(0,Je)),de+=(de.indexOf("?")===-1?"?":"&")+ze}return de}class Ki{constructor(){this.handlers=[]}use(me,we,Ae){return this.handlers.push({fulfilled:me,rejected:we,synchronous:Ae?Ae.synchronous:!1,runWhen:Ae?Ae.runWhen:null}),this.handlers.length-1}eject(me){this.handlers[me]&&(this.handlers[me]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(me){Q.forEach(this.handlers,function(Ae){Ae!==null&&me(Ae)})}}var Pt=Ki,Qt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qi=typeof URLSearchParams!="undefined"?URLSearchParams:Rt,vt=typeof FormData!="undefined"?FormData:null,lt=typeof Blob!="undefined"?Blob:null,Tr={isBrowser:!0,classes:{URLSearchParams:qi,FormData:vt,Blob:lt},protocols:["http","https","file","blob","url","data"]};const Jt=typeof window!="undefined"&&typeof document!="undefined",ri=(de=>Jt&&["ReactNative","NativeScript","NS"].indexOf(de)<0)(typeof navigator!="undefined"&&navigator.product),dr=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oe=Jt&&window.location.href||"http://localhost";var Qe=Object.freeze({__proto__:null,hasBrowserEnv:Jt,hasStandardBrowserWebWorkerEnv:dr,hasStandardBrowserEnv:ri,origin:Oe}),bt={...Qe,...Tr};function dt(de,me){return pt(de,new bt.classes.URLSearchParams,Object.assign({visitor:function(we,Ae,qe,ze){return bt.isNode&&Q.isBuffer(we)?(this.append(Ae,we.toString("base64")),!1):ze.defaultVisitor.apply(this,arguments)}},me))}function gt(de){return Q.matchAll(/\w+|\[(\w*)]/g,de).map(me=>me[0]==="[]"?"":me[1]||me[0])}function oi(de){const me={},we=Object.keys(de);let Ae;const qe=we.length;let ze;for(Ae=0;Ae<qe;Ae++)ze=we[Ae],me[ze]=de[ze];return me}function Dt(de){function me(we,Ae,qe,ze){let Je=we[ze++];if(Je==="__proto__")return!0;const wt=Number.isFinite(+Je),Ot=ze>=we.length;return Je=!Je&&Q.isArray(qe)?qe.length:Je,Ot?(Q.hasOwnProp(qe,Je)?qe[Je]=[qe[Je],Ae]:qe[Je]=Ae,!wt):((!qe[Je]||!Q.isObject(qe[Je]))&&(qe[Je]=[]),me(we,Ae,qe[Je],ze)&&Q.isArray(qe[Je])&&(qe[Je]=oi(qe[Je])),!wt)}if(Q.isFormData(de)&&Q.isFunction(de.entries)){const we={};return Q.forEachEntry(de,(Ae,qe)=>{me(gt(Ae),qe,we,0)}),we}return null}function jt(de,me,we){if(Q.isString(de))try{return(me||JSON.parse)(de),Q.trim(de)}catch(Ae){if(Ae.name!=="SyntaxError")throw Ae}return(we||JSON.stringify)(de)}const qt={transitional:Qt,adapter:["xhr","http","fetch"],transformRequest:[function(me,we){const Ae=we.getContentType()||"",qe=Ae.indexOf("application/json")>-1,ze=Q.isObject(me);if(ze&&Q.isHTMLForm(me)&&(me=new FormData(me)),Q.isFormData(me))return qe?JSON.stringify(Dt(me)):me;if(Q.isArrayBuffer(me)||Q.isBuffer(me)||Q.isStream(me)||Q.isFile(me)||Q.isBlob(me)||Q.isReadableStream(me))return me;if(Q.isArrayBufferView(me))return me.buffer;if(Q.isURLSearchParams(me))return we.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),me.toString();let wt;if(ze){if(Ae.indexOf("application/x-www-form-urlencoded")>-1)return dt(me,this.formSerializer).toString();if((wt=Q.isFileList(me))||Ae.indexOf("multipart/form-data")>-1){const Ot=this.env&&this.env.FormData;return pt(wt?{"files[]":me}:me,Ot&&new Ot,this.formSerializer)}}return ze||qe?(we.setContentType("application/json",!1),jt(me)):me}],transformResponse:[function(me){const we=this.transitional||qt.transitional,Ae=we&&we.forcedJSONParsing,qe=this.responseType==="json";if(Q.isResponse(me)||Q.isReadableStream(me))return me;if(me&&Q.isString(me)&&(Ae&&!this.responseType||qe)){const Je=!(we&&we.silentJSONParsing)&&qe;try{return JSON.parse(me)}catch(wt){if(Je)throw wt.name==="SyntaxError"?se.from(wt,se.ERR_BAD_RESPONSE,this,null,this.response):wt}}return me}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(me){return me>=200&&me<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],de=>{qt.headers[de]={}});var ut=qt;const Tt=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Mt=de=>{const me={};let we,Ae,qe;return de&&de.split(`
`).forEach(function(Je){qe=Je.indexOf(":"),we=Je.substring(0,qe).trim().toLowerCase(),Ae=Je.substring(qe+1).trim(),!(!we||me[we]&&Tt[we])&&(we==="set-cookie"?me[we]?me[we].push(Ae):me[we]=[Ae]:me[we]=me[we]?me[we]+", "+Ae:Ae)}),me};const vi=Symbol("internals");function li(de){return de&&String(de).trim().toLowerCase()}function $t(de){return de===!1||de==null?de:Q.isArray(de)?de.map($t):String(de)}function Ti(de){const me=Object.create(null),we=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Ae;for(;Ae=we.exec(de);)me[Ae[1]]=Ae[2];return me}const mi=de=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(de.trim());function Mi(de,me,we,Ae,qe){if(Q.isFunction(Ae))return Ae.call(this,me,we);if(qe&&(me=we),!!Q.isString(me)){if(Q.isString(Ae))return me.indexOf(Ae)!==-1;if(Q.isRegExp(Ae))return Ae.test(me)}}function Ii(de){return de.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(me,we,Ae)=>we.toUpperCase()+Ae)}function Qi(de,me){const we=Q.toCamelCase(" "+me);["get","set","has"].forEach(Ae=>{Object.defineProperty(de,Ae+we,{value:function(qe,ze,Je){return this[Ae].call(this,me,qe,ze,Je)},configurable:!0})})}class Di{constructor(me){me&&this.set(me)}set(me,we,Ae){const qe=this;function ze(wt,Ot,Ht){const Xt=li(Ot);if(!Xt)throw new Error("header name must be a non-empty string");const fi=Q.findKey(qe,Xt);(!fi||qe[fi]===void 0||Ht===!0||Ht===void 0&&qe[fi]!==!1)&&(qe[fi||Ot]=$t(wt))}const Je=(wt,Ot)=>Q.forEach(wt,(Ht,Xt)=>ze(Ht,Xt,Ot));if(Q.isPlainObject(me)||me instanceof this.constructor)Je(me,we);else if(Q.isString(me)&&(me=me.trim())&&!mi(me))Je(Mt(me),we);else if(Q.isHeaders(me))for(const[wt,Ot]of me.entries())ze(Ot,wt,Ae);else me!=null&&ze(we,me,Ae);return this}get(me,we){if(me=li(me),me){const Ae=Q.findKey(this,me);if(Ae){const qe=this[Ae];if(!we)return qe;if(we===!0)return Ti(qe);if(Q.isFunction(we))return we.call(this,qe,Ae);if(Q.isRegExp(we))return we.exec(qe);throw new TypeError("parser must be boolean|regexp|function")}}}has(me,we){if(me=li(me),me){const Ae=Q.findKey(this,me);return!!(Ae&&this[Ae]!==void 0&&(!we||Mi(this,this[Ae],Ae,we)))}return!1}delete(me,we){const Ae=this;let qe=!1;function ze(Je){if(Je=li(Je),Je){const wt=Q.findKey(Ae,Je);wt&&(!we||Mi(Ae,Ae[wt],wt,we))&&(delete Ae[wt],qe=!0)}}return Q.isArray(me)?me.forEach(ze):ze(me),qe}clear(me){const we=Object.keys(this);let Ae=we.length,qe=!1;for(;Ae--;){const ze=we[Ae];(!me||Mi(this,this[ze],ze,me,!0))&&(delete this[ze],qe=!0)}return qe}normalize(me){const we=this,Ae={};return Q.forEach(this,(qe,ze)=>{const Je=Q.findKey(Ae,ze);if(Je){we[Je]=$t(qe),delete we[ze];return}const wt=me?Ii(ze):String(ze).trim();wt!==ze&&delete we[ze],we[wt]=$t(qe),Ae[wt]=!0}),this}concat(...me){return this.constructor.concat(this,...me)}toJSON(me){const we=Object.create(null);return Q.forEach(this,(Ae,qe)=>{Ae!=null&&Ae!==!1&&(we[qe]=me&&Q.isArray(Ae)?Ae.join(", "):Ae)}),we}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([me,we])=>me+": "+we).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(me){return me instanceof this?me:new this(me)}static concat(me,...we){const Ae=new this(me);return we.forEach(qe=>Ae.set(qe)),Ae}static accessor(me){const Ae=(this[vi]=this[vi]={accessors:{}}).accessors,qe=this.prototype;function ze(Je){const wt=li(Je);Ae[wt]||(Qi(qe,Je),Ae[wt]=!0)}return Q.isArray(me)?me.forEach(ze):ze(me),this}}Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Q.reduceDescriptors(Di.prototype,({value:de},me)=>{let we=me[0].toUpperCase()+me.slice(1);return{get:()=>de,set(Ae){this[we]=Ae}}}),Q.freezeMethods(Di);var Ci=Di;function Bi(de,me){const we=this||ut,Ae=me||we,qe=Ci.from(Ae.headers);let ze=Ae.data;return Q.forEach(de,function(wt){ze=wt.call(we,ze,qe.normalize(),me?me.status:void 0)}),qe.normalize(),ze}function Yt(de){return!!(de&&de.__CANCEL__)}function ui(de,me,we){se.call(this,de==null?"canceled":de,se.ERR_CANCELED,me,we),this.name="CanceledError"}Q.inherits(ui,se,{__CANCEL__:!0});function ai(de,me,we){const Ae=we.config.validateStatus;!we.status||!Ae||Ae(we.status)?de(we):me(new se("Request failed with status code "+we.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(we.status/100)-4],we.config,we.request,we))}function zi(de){const me=/^([-+\w]{1,25})(:?\/\/|:)/.exec(de);return me&&me[1]||""}function gi(de,me){de=de||10;const we=new Array(de),Ae=new Array(de);let qe=0,ze=0,Je;return me=me!==void 0?me:1e3,function(Ot){const Ht=Date.now(),Xt=Ae[ze];Je||(Je=Ht),we[qe]=Ot,Ae[qe]=Ht;let fi=ze,or=0;for(;fi!==qe;)or+=we[fi++],fi=fi%de;if(qe=(qe+1)%de,qe===ze&&(ze=(ze+1)%de),Ht-Je<me)return;const hr=Xt&&Ht-Xt;return hr?Math.round(or*1e3/hr):void 0}}function xi(de,me){let we=0,Ae=1e3/me,qe,ze;const Je=(Ht,Xt=Date.now())=>{we=Xt,qe=null,ze&&(clearTimeout(ze),ze=null),de.apply(null,Ht)};return[(...Ht)=>{const Xt=Date.now(),fi=Xt-we;fi>=Ae?Je(Ht,Xt):(qe=Ht,ze||(ze=setTimeout(()=>{ze=null,Je(qe)},Ae-fi)))},()=>qe&&Je(qe)]}const $i=(de,me,we=3)=>{let Ae=0;const qe=gi(50,250);return xi(ze=>{const Je=ze.loaded,wt=ze.lengthComputable?ze.total:void 0,Ot=Je-Ae,Ht=qe(Ot),Xt=Je<=wt;Ae=Je;const fi={loaded:Je,total:wt,progress:wt?Je/wt:void 0,bytes:Ot,rate:Ht||void 0,estimated:Ht&&wt&&Xt?(wt-Je)/Ht:void 0,event:ze,lengthComputable:wt!=null,[me?"download":"upload"]:!0};de(fi)},we)},sr=(de,me)=>{const we=de!=null;return[Ae=>me[0]({lengthComputable:we,total:de,loaded:Ae}),me[1]]},Gi=de=>(...me)=>Q.asap(()=>de(...me));var gr=bt.hasStandardBrowserEnv?function(){const me=/(msie|trident)/i.test(navigator.userAgent),we=document.createElement("a");let Ae;function qe(ze){let Je=ze;return me&&(we.setAttribute("href",Je),Je=we.href),we.setAttribute("href",Je),{href:we.href,protocol:we.protocol?we.protocol.replace(/:$/,""):"",host:we.host,search:we.search?we.search.replace(/^\?/,""):"",hash:we.hash?we.hash.replace(/^#/,""):"",hostname:we.hostname,port:we.port,pathname:we.pathname.charAt(0)==="/"?we.pathname:"/"+we.pathname}}return Ae=qe(window.location.href),function(Je){const wt=Q.isString(Je)?qe(Je):Je;return wt.protocol===Ae.protocol&&wt.host===Ae.host}}():function(){return function(){return!0}}(),Sr=bt.hasStandardBrowserEnv?{write(de,me,we,Ae,qe,ze){const Je=[de+"="+encodeURIComponent(me)];Q.isNumber(we)&&Je.push("expires="+new Date(we).toGMTString()),Q.isString(Ae)&&Je.push("path="+Ae),Q.isString(qe)&&Je.push("domain="+qe),ze===!0&&Je.push("secure"),document.cookie=Je.join("; ")},read(de){const me=document.cookie.match(new RegExp("(^|;\\s*)("+de+")=([^;]*)"));return me?decodeURIComponent(me[3]):null},remove(de){this.write(de,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nr(de){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(de)}function Rr(de,me){return me?de.replace(/\/?\/$/,"")+"/"+me.replace(/^\/+/,""):de}function br(de,me){return de&&!nr(me)?Rr(de,me):me}const fr=de=>de instanceof Ci?{...de}:de;function ki(de,me){me=me||{};const we={};function Ae(Ht,Xt,fi){return Q.isPlainObject(Ht)&&Q.isPlainObject(Xt)?Q.merge.call({caseless:fi},Ht,Xt):Q.isPlainObject(Xt)?Q.merge({},Xt):Q.isArray(Xt)?Xt.slice():Xt}function qe(Ht,Xt,fi){if(Q.isUndefined(Xt)){if(!Q.isUndefined(Ht))return Ae(void 0,Ht,fi)}else return Ae(Ht,Xt,fi)}function ze(Ht,Xt){if(!Q.isUndefined(Xt))return Ae(void 0,Xt)}function Je(Ht,Xt){if(Q.isUndefined(Xt)){if(!Q.isUndefined(Ht))return Ae(void 0,Ht)}else return Ae(void 0,Xt)}function wt(Ht,Xt,fi){if(fi in me)return Ae(Ht,Xt);if(fi in de)return Ae(void 0,Ht)}const Ot={url:ze,method:ze,data:ze,baseURL:Je,transformRequest:Je,transformResponse:Je,paramsSerializer:Je,timeout:Je,timeoutMessage:Je,withCredentials:Je,withXSRFToken:Je,adapter:Je,responseType:Je,xsrfCookieName:Je,xsrfHeaderName:Je,onUploadProgress:Je,onDownloadProgress:Je,decompress:Je,maxContentLength:Je,maxBodyLength:Je,beforeRedirect:Je,transport:Je,httpAgent:Je,httpsAgent:Je,cancelToken:Je,socketPath:Je,responseEncoding:Je,validateStatus:wt,headers:(Ht,Xt)=>qe(fr(Ht),fr(Xt),!0)};return Q.forEach(Object.keys(Object.assign({},de,me)),function(Xt){const fi=Ot[Xt]||qe,or=fi(de[Xt],me[Xt],Xt);Q.isUndefined(or)&&fi!==wt||(we[Xt]=or)}),we}var bi=de=>{const me=ki({},de);let{data:we,withXSRFToken:Ae,xsrfHeaderName:qe,xsrfCookieName:ze,headers:Je,auth:wt}=me;me.headers=Je=Ci.from(Je),me.url=Ut(br(me.baseURL,me.url),de.params,de.paramsSerializer),wt&&Je.set("Authorization","Basic "+btoa((wt.username||"")+":"+(wt.password?unescape(encodeURIComponent(wt.password)):"")));let Ot;if(Q.isFormData(we)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)Je.setContentType(void 0);else if((Ot=Je.getContentType())!==!1){const[Ht,...Xt]=Ot?Ot.split(";").map(fi=>fi.trim()).filter(Boolean):[];Je.setContentType([Ht||"multipart/form-data",...Xt].join("; "))}}if(bt.hasStandardBrowserEnv&&(Ae&&Q.isFunction(Ae)&&(Ae=Ae(me)),Ae||Ae!==!1&&gr(me.url))){const Ht=qe&&ze&&Sr.read(ze);Ht&&Je.set(qe,Ht)}return me},Tn=typeof XMLHttpRequest!="undefined"&&function(de){return new Promise(function(we,Ae){const qe=bi(de);let ze=qe.data;const Je=Ci.from(qe.headers).normalize();let{responseType:wt,onUploadProgress:Ot,onDownloadProgress:Ht}=qe,Xt,fi,or,hr,_i;function Pi(){hr&&hr(),_i&&_i(),qe.cancelToken&&qe.cancelToken.unsubscribe(Xt),qe.signal&&qe.signal.removeEventListener("abort",Xt)}let ci=new XMLHttpRequest;ci.open(qe.method.toUpperCase(),qe.url,!0),ci.timeout=qe.timeout;function Er(){if(!ci)return;const Oi=Ci.from("getAllResponseHeaders"in ci&&ci.getAllResponseHeaders()),yn={data:!wt||wt==="text"||wt==="json"?ci.responseText:ci.response,status:ci.status,statusText:ci.statusText,headers:Oi,config:de,request:ci};ai(function(cn){we(cn),Pi()},function(cn){Ae(cn),Pi()},yn),ci=null}"onloadend"in ci?ci.onloadend=Er:ci.onreadystatechange=function(){!ci||ci.readyState!==4||ci.status===0&&!(ci.responseURL&&ci.responseURL.indexOf("file:")===0)||setTimeout(Er)},ci.onabort=function(){ci&&(Ae(new se("Request aborted",se.ECONNABORTED,de,ci)),ci=null)},ci.onerror=function(){Ae(new se("Network Error",se.ERR_NETWORK,de,ci)),ci=null},ci.ontimeout=function(){let Dr=qe.timeout?"timeout of "+qe.timeout+"ms exceeded":"timeout exceeded";const yn=qe.transitional||Qt;qe.timeoutErrorMessage&&(Dr=qe.timeoutErrorMessage),Ae(new se(Dr,yn.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,de,ci)),ci=null},ze===void 0&&Je.setContentType(null),"setRequestHeader"in ci&&Q.forEach(Je.toJSON(),function(Dr,yn){ci.setRequestHeader(yn,Dr)}),Q.isUndefined(qe.withCredentials)||(ci.withCredentials=!!qe.withCredentials),wt&&wt!=="json"&&(ci.responseType=qe.responseType),Ht&&([or,_i]=$i(Ht,!0),ci.addEventListener("progress",or)),Ot&&ci.upload&&([fi,hr]=$i(Ot),ci.upload.addEventListener("progress",fi),ci.upload.addEventListener("loadend",hr)),(qe.cancelToken||qe.signal)&&(Xt=Oi=>{ci&&(Ae(!Oi||Oi.type?new ui(null,de,ci):Oi),ci.abort(),ci=null)},qe.cancelToken&&qe.cancelToken.subscribe(Xt),qe.signal&&(qe.signal.aborted?Xt():qe.signal.addEventListener("abort",Xt)));const Mr=zi(qe.url);if(Mr&&bt.protocols.indexOf(Mr)===-1){Ae(new se("Unsupported protocol "+Mr+":",se.ERR_BAD_REQUEST,de));return}ci.send(ze||null)})},vn=(de,me)=>{let we=new AbortController,Ae;const qe=function(Ot){if(!Ae){Ae=!0,Je();const Ht=Ot instanceof Error?Ot:this.reason;we.abort(Ht instanceof se?Ht:new ui(Ht instanceof Error?Ht.message:Ht))}};let ze=me&&setTimeout(()=>{qe(new se(`timeout ${me} of ms exceeded`,se.ETIMEDOUT))},me);const Je=()=>{de&&(ze&&clearTimeout(ze),ze=null,de.forEach(Ot=>{Ot&&(Ot.removeEventListener?Ot.removeEventListener("abort",qe):Ot.unsubscribe(qe))}),de=null)};de.forEach(Ot=>Ot&&Ot.addEventListener&&Ot.addEventListener("abort",qe));const{signal:wt}=we;return wt.unsubscribe=Je,[wt,()=>{ze&&clearTimeout(ze),ze=null}]};const Lr=function*(de,me){let we=de.byteLength;if(!me||we<me){yield de;return}let Ae=0,qe;for(;Ae<we;)qe=Ae+me,yield de.slice(Ae,qe),Ae=qe},Cn=async function*(de,me,we){for await(const Ae of de)yield*Lr(ArrayBuffer.isView(Ae)?Ae:await we(String(Ae)),me)},ln=(de,me,we,Ae,qe)=>{const ze=Cn(de,me,qe);let Je=0,wt,Ot=Ht=>{wt||(wt=!0,Ae&&Ae(Ht))};return new ReadableStream({async pull(Ht){try{const{done:Xt,value:fi}=await ze.next();if(Xt){Ot(),Ht.close();return}let or=fi.byteLength;if(we){let hr=Je+=or;we(hr)}Ht.enqueue(new Uint8Array(fi))}catch(Xt){throw Ot(Xt),Xt}},cancel(Ht){return Ot(Ht),ze.return()}},{highWaterMark:2})},tr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Dn=tr&&typeof ReadableStream=="function",Ir=tr&&(typeof TextEncoder=="function"?(de=>me=>de.encode(me))(new TextEncoder):async de=>new Uint8Array(await new Response(de).arrayBuffer())),Zr=(de,...me)=>{try{return!!de(...me)}catch{return!1}},Fn=Dn&&Zr(()=>{let de=!1;const me=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return de=!0,"half"}}).headers.has("Content-Type");return de&&!me}),gn=64*1024,Nn=Dn&&Zr(()=>Q.isReadableStream(new Response("").body)),bn={stream:Nn&&(de=>de.body)};tr&&(de=>{["text","arrayBuffer","blob","formData","stream"].forEach(me=>{!bn[me]&&(bn[me]=Q.isFunction(de[me])?we=>we[me]():(we,Ae)=>{throw new se(`Response type '${me}' is not supported`,se.ERR_NOT_SUPPORT,Ae)})})})(new Response);const Kn=async de=>{if(de==null)return 0;if(Q.isBlob(de))return de.size;if(Q.isSpecCompliantForm(de))return(await new Request(de).arrayBuffer()).byteLength;if(Q.isArrayBufferView(de)||Q.isArrayBuffer(de))return de.byteLength;if(Q.isURLSearchParams(de)&&(de=de+""),Q.isString(de))return(await Ir(de)).byteLength},Oa=async(de,me)=>{const we=Q.toFiniteNumber(de.getContentLength());return we==null?Kn(me):we};var _a=tr&&(async de=>{let{url:me,method:we,data:Ae,signal:qe,cancelToken:ze,timeout:Je,onDownloadProgress:wt,onUploadProgress:Ot,responseType:Ht,headers:Xt,withCredentials:fi="same-origin",fetchOptions:or}=bi(de);Ht=Ht?(Ht+"").toLowerCase():"text";let[hr,_i]=qe||ze||Je?vn([qe,ze],Je):[],Pi,ci;const Er=()=>{!Pi&&setTimeout(()=>{hr&&hr.unsubscribe()}),Pi=!0};let Mr;try{if(Ot&&Fn&&we!=="get"&&we!=="head"&&(Mr=await Oa(Xt,Ae))!==0){let Fr=new Request(me,{method:"POST",body:Ae,duplex:"half"}),cn;if(Q.isFormData(Ae)&&(cn=Fr.headers.get("content-type"))&&Xt.setContentType(cn),Fr.body){const[Mn,Pr]=sr(Mr,$i(Gi(Ot)));Ae=ln(Fr.body,gn,Mn,Pr,Ir)}}Q.isString(fi)||(fi=fi?"include":"omit"),ci=new Request(me,{...or,signal:hr,method:we.toUpperCase(),headers:Xt.normalize().toJSON(),body:Ae,duplex:"half",credentials:fi});let Oi=await fetch(ci);const Dr=Nn&&(Ht==="stream"||Ht==="response");if(Nn&&(wt||Dr)){const Fr={};["status","statusText","headers"].forEach(Ja=>{Fr[Ja]=Oi[Ja]});const cn=Q.toFiniteNumber(Oi.headers.get("content-length")),[Mn,Pr]=wt&&sr(cn,$i(Gi(wt),!0))||[];Oi=new Response(ln(Oi.body,gn,Mn,()=>{Pr&&Pr(),Dr&&Er()},Ir),Fr)}Ht=Ht||"text";let yn=await bn[Q.findKey(bn,Ht)||"text"](Oi,de);return!Dr&&Er(),_i&&_i(),await new Promise((Fr,cn)=>{ai(Fr,cn,{data:yn,headers:Ci.from(Oi.headers),status:Oi.status,statusText:Oi.statusText,config:de,request:ci})})}catch(Oi){throw Er(),Oi&&Oi.name==="TypeError"&&/fetch/i.test(Oi.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,de,ci),{cause:Oi.cause||Oi}):se.from(Oi,Oi&&Oi.code,de,ci)}});const un={http:Ye,xhr:Tn,fetch:_a};Q.forEach(un,(de,me)=>{if(de){try{Object.defineProperty(de,"name",{value:me})}catch{}Object.defineProperty(de,"adapterName",{value:me})}});const oa=de=>`- ${de}`,Ur=de=>Q.isFunction(de)||de===null||de===!1;var ka={getAdapter:de=>{de=Q.isArray(de)?de:[de];const{length:me}=de;let we,Ae;const qe={};for(let ze=0;ze<me;ze++){we=de[ze];let Je;if(Ae=we,!Ur(we)&&(Ae=un[(Je=String(we)).toLowerCase()],Ae===void 0))throw new se(`Unknown adapter '${Je}'`);if(Ae)break;qe[Je||"#"+ze]=Ae}if(!Ae){const ze=Object.entries(qe).map(([wt,Ot])=>`adapter ${wt} `+(Ot===!1?"is not supported by the environment":"is not available in the build"));let Je=me?ze.length>1?`since :
`+ze.map(oa).join(`
`):" "+oa(ze[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+Je,"ERR_NOT_SUPPORT")}return Ae},adapters:un};function Wr(de){if(de.cancelToken&&de.cancelToken.throwIfRequested(),de.signal&&de.signal.aborted)throw new ui(null,de)}function Yi(de){return Wr(de),de.headers=Ci.from(de.headers),de.data=Bi.call(de,de.transformRequest),["post","put","patch"].indexOf(de.method)!==-1&&de.headers.setContentType("application/x-www-form-urlencoded",!1),ka.getAdapter(de.adapter||ut.adapter)(de).then(function(Ae){return Wr(de),Ae.data=Bi.call(de,de.transformResponse,Ae),Ae.headers=Ci.from(Ae.headers),Ae},function(Ae){return Yt(Ae)||(Wr(de),Ae&&Ae.response&&(Ae.response.data=Bi.call(de,de.transformResponse,Ae.response),Ae.response.headers=Ci.from(Ae.response.headers))),Promise.reject(Ae)})}const ir="1.7.4",Hi={};["object","boolean","number","function","string","symbol"].forEach((de,me)=>{Hi[de]=function(Ae){return typeof Ae===de||"a"+(me<1?"n ":" ")+de}});const $e={};Hi.transitional=function(me,we,Ae){function qe(ze,Je){return"[Axios v"+ir+"] Transitional option '"+ze+"'"+Je+(Ae?". "+Ae:"")}return(ze,Je,wt)=>{if(me===!1)throw new se(qe(Je," has been removed"+(we?" in "+we:"")),se.ERR_DEPRECATED);return we&&!$e[Je]&&($e[Je]=!0,console.warn(qe(Je," has been deprecated since v"+we+" and will be removed in the near future"))),me?me(ze,Je,wt):!0}};function _t(de,me,we){if(typeof de!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const Ae=Object.keys(de);let qe=Ae.length;for(;qe-- >0;){const ze=Ae[qe],Je=me[ze];if(Je){const wt=de[ze],Ot=wt===void 0||Je(wt,ze,de);if(Ot!==!0)throw new se("option "+ze+" must be "+Ot,se.ERR_BAD_OPTION_VALUE);continue}if(we!==!0)throw new se("Unknown option "+ze,se.ERR_BAD_OPTION)}}var yt={assertOptions:_t,validators:Hi};const Ct=yt.validators;class Ft{constructor(me){this.defaults=me,this.interceptors={request:new Pt,response:new Pt}}async request(me,we){try{return await this._request(me,we)}catch(Ae){if(Ae instanceof Error){let qe;Error.captureStackTrace?Error.captureStackTrace(qe={}):qe=new Error;const ze=qe.stack?qe.stack.replace(/^.+\n/,""):"";try{Ae.stack?ze&&!String(Ae.stack).endsWith(ze.replace(/^.+\n.+\n/,""))&&(Ae.stack+=`
`+ze):Ae.stack=ze}catch{}}throw Ae}}_request(me,we){typeof me=="string"?(we=we||{},we.url=me):we=me||{},we=ki(this.defaults,we);const{transitional:Ae,paramsSerializer:qe,headers:ze}=we;Ae!==void 0&&yt.assertOptions(Ae,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),qe!=null&&(Q.isFunction(qe)?we.paramsSerializer={serialize:qe}:yt.assertOptions(qe,{encode:Ct.function,serialize:Ct.function},!0)),we.method=(we.method||this.defaults.method||"get").toLowerCase();let Je=ze&&Q.merge(ze.common,ze[we.method]);ze&&Q.forEach(["delete","get","head","post","put","patch","common"],_i=>{delete ze[_i]}),we.headers=Ci.concat(Je,ze);const wt=[];let Ot=!0;this.interceptors.request.forEach(function(Pi){typeof Pi.runWhen=="function"&&Pi.runWhen(we)===!1||(Ot=Ot&&Pi.synchronous,wt.unshift(Pi.fulfilled,Pi.rejected))});const Ht=[];this.interceptors.response.forEach(function(Pi){Ht.push(Pi.fulfilled,Pi.rejected)});let Xt,fi=0,or;if(!Ot){const _i=[Yi.bind(this),void 0];for(_i.unshift.apply(_i,wt),_i.push.apply(_i,Ht),or=_i.length,Xt=Promise.resolve(we);fi<or;)Xt=Xt.then(_i[fi++],_i[fi++]);return Xt}or=wt.length;let hr=we;for(fi=0;fi<or;){const _i=wt[fi++],Pi=wt[fi++];try{hr=_i(hr)}catch(ci){Pi.call(this,ci);break}}try{Xt=Yi.call(this,hr)}catch(_i){return Promise.reject(_i)}for(fi=0,or=Ht.length;fi<or;)Xt=Xt.then(Ht[fi++],Ht[fi++]);return Xt}getUri(me){me=ki(this.defaults,me);const we=br(me.baseURL,me.url);return Ut(we,me.params,me.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(me){Ft.prototype[me]=function(we,Ae){return this.request(ki(Ae||{},{method:me,url:we,data:(Ae||{}).data}))}}),Q.forEach(["post","put","patch"],function(me){function we(Ae){return function(ze,Je,wt){return this.request(ki(wt||{},{method:me,headers:Ae?{"Content-Type":"multipart/form-data"}:{},url:ze,data:Je}))}}Ft.prototype[me]=we(),Ft.prototype[me+"Form"]=we(!0)});var wi=Ft;class hi{constructor(me){if(typeof me!="function")throw new TypeError("executor must be a function.");let we;this.promise=new Promise(function(ze){we=ze});const Ae=this;this.promise.then(qe=>{if(!Ae._listeners)return;let ze=Ae._listeners.length;for(;ze-- >0;)Ae._listeners[ze](qe);Ae._listeners=null}),this.promise.then=qe=>{let ze;const Je=new Promise(wt=>{Ae.subscribe(wt),ze=wt}).then(qe);return Je.cancel=function(){Ae.unsubscribe(ze)},Je},me(function(ze,Je,wt){Ae.reason||(Ae.reason=new ui(ze,Je,wt),we(Ae.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(me){if(this.reason){me(this.reason);return}this._listeners?this._listeners.push(me):this._listeners=[me]}unsubscribe(me){if(!this._listeners)return;const we=this._listeners.indexOf(me);we!==-1&&this._listeners.splice(we,1)}static source(){let me;return{token:new hi(function(qe){me=qe}),cancel:me}}}var je=hi;function ht(de){return function(we){return de.apply(null,we)}}function rt(de){return Q.isObject(de)&&de.isAxiosError===!0}const Bt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bt).forEach(([de,me])=>{Bt[me]=de});var ei=Bt;function Gt(de){const me=new wi(de),we=A(wi.prototype.request,me);return Q.extend(we,wi.prototype,me,{allOwnKeys:!0}),Q.extend(we,me,null,{allOwnKeys:!0}),we.create=function(qe){return Gt(ki(de,qe))},we}const zt=Gt(ut);zt.Axios=wi,zt.CanceledError=ui,zt.CancelToken=je,zt.isCancel=Yt,zt.VERSION=ir,zt.toFormData=pt,zt.AxiosError=se,zt.Cancel=zt.CanceledError,zt.all=function(me){return Promise.all(me)},zt.spread=ht,zt.isAxiosError=rt,zt.mergeConfig=ki,zt.AxiosHeaders=Ci,zt.formToJSON=de=>Dt(Q.isHTMLForm(de)?new FormData(de):de),zt.getAdapter=ka.getAdapter,zt.HttpStatusCode=ei,zt.default=zt,s.exports=zt},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.0"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},sa={};function ni(s){var G=sa[s];if(G!==void 0)return G.exports;var T=sa[s]={id:s,loaded:!1,exports:{}};return Ya[s].call(T.exports,T,T.exports,ni),T.loaded=!0,T.exports}ni.n=s=>{var G=s&&s.__esModule?()=>s.default:()=>s;return ni.d(G,{a:G}),G},ni.d=(s,G)=>{for(var T in G)ni.o(G,T)&&!ni.o(s,T)&&Object.defineProperty(s,T,{enumerable:!0,get:G[T]})},ni.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ni.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),ni.o=(s,G)=>Object.prototype.hasOwnProperty.call(s,G),ni.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},ni.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var Nu={};(()=>{"use strict";ni.r(Nu),ni.d(Nu,{activate:()=>WS,deactivate:()=>XS});var s=ni(91398);const G=async(r,e,t)=>{const i=await Promise.resolve().then(ni.bind(ni,14523)),n=await Promise.resolve().then(ni.bind(ni,28643)),a=new i.AppInsightsCore,l=new n.PostChannel,g={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[l]]};if(t){g.extensionConfig={};const Y={alwaysUseXhrOverride:!0,httpXHROverride:t};g.extensionConfig[l.identifier]=Y}const V=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(g,[]),a.addTelemetryInitializer(Y=>{var ae,le;V&&(Y.ext=(ae=Y.ext)!=null?ae:{},Y.ext.utc=(le=Y.ext.utc)!=null?le:{},Y.ext.utc.flags=8462029)}),a},T=async(r,e,t)=>{const i=await G(r,e,t);return{logEvent:(a,l)=>{try{i==null||i.track({name:a,baseData:{name:a,properties:l==null?void 0:l.properties,measurements:l==null?void 0:l.measurements}})}catch(g){throw new Error(`Failed to log event to app insights!
`+g.message)}},flush:async()=>{try{i==null||i.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var E;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(E||(E={}));class A{constructor(e,t){this._instantiationStatus=E.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==E.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==E.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===E.NOT_INSTANTIATED&&(this._instantiationStatus=E.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=E.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=E.INSTANTIATED}))}}class M{constructor(e,t,i){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,i),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,i,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logUsage(e,{properties:t,measurements:i})}sendTelemetryEvent(e,t,i){this.internalSendTelemetryEvent(e,t,i,!1)}sendDangerousTelemetryEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,i,!0)}internalSendTelemetryErrorEvent(e,t,i,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryErrorEvent(e,t,i){this.internalSendTelemetryErrorEvent(e,t,i,!1)}sendDangerousTelemetryErrorEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,i,!0)}internalSendTelemetryException(e,t,i,n){n?this.telemetrySender.sendErrorData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryException(e,t,i){this.internalSendTelemetryException(e,t,i,!1)}sendDangerousTelemetryException(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,i,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class S{static applyReplacements(e,t){for(const i of Object.keys(e))for(const n of t)n.lookup.test(i)&&(n.replacementString!==void 0?e[i]=n.replacementString:delete e[i])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return S._instance||(S._instance=new S),S._instance}}const d=async(r,e)=>{let t;try{const n=await Promise.resolve().then(ni.bind(ni,94731));t=new n.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(n){return Promise.reject(n)}return{logEvent:(n,a)=>{const l={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&S.applyReplacements(l,e),t==null||t.track({name:n,data:l})},flush:async()=>{t==null||t.flush()}}};class c extends M{constructor(e,t){let i=l=>d(l,t);S.shouldUseOneDataSystemSDK(e)&&(i=l=>T(l,s));const n={release:navigator.appVersion,platform:"web",architecture:"web"},a=new A(e,i);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:S.getAdditionalCommonProperties(n)})}}var f=Object.defineProperty,h=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_=(r,e,t)=>h(r,typeof e!="symbol"?e+"":e,t);function b(r){return{dispose:r}}function u(r){return b(()=>k(r))}function k(r){for(;r.length;){const e=r.pop();e==null||e.dispose()}}function m(r,e){return e.push(r),r}class v{constructor(){_(this,"_isDisposed",!1),_(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,k(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var p=Object.defineProperty,C=(r,e,t)=>e in r?p(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>C(r,typeof e!="symbol"?e+"":e,t);const D="PullRequestTree";class F extends v{constructor(){super(),R(this,"_outputChannel"),R(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`PERF_MARKER> Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`PERF_MARKER> End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){return typeof e!="string"&&(e instanceof Error?e=e.message:"toString"in e?e=e.toString():e=JSON.stringify(e)),t?`${t}> ${e}`:e}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const y=new F;var U=ni(57975),W=ni(74353),K=ni.n(W),Z=ni(6279),re=ni.n(Z),X=ni(53581),P=ni.n(X),$=Object.defineProperty,N=(r,e,t)=>e in r?$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,o=(r,e,t)=>N(r,typeof e!="symbol"?e+"":e,t);K().extend(re(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),K().extend(P()),K().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function w(r,e){const t=Object.create(null);return r.filter(i=>{const n=e(i);return t[n]?!1:(t[n]=!0,!0)})}function I(...r){return(e,t=null,i)=>{const n=combinedDisposable(r.map(a=>a(l=>e.call(t,l))));return i&&i.push(n),n}}function q(r,e){return(t,i=null,n)=>r(a=>e(a)&&t.call(i,a),null,n)}function j(r){return(e,t=null,i)=>{const n=r(a=>(n.dispose(),e.call(t,a)),null,i);return n}}function H(r){return/^[a-zA-Z]:\\/.test(r)}function ee(r,e,t=U.sep){return r===e?!0:(r.charAt(r.length-1)!==t&&(r+=t),H(r)&&(r=r.toLowerCase(),e=e.toLowerCase()),e.startsWith(r))}function ie(r,e){return r.reduce((t,i)=>{const n=e(i);return t[n]=[...t[n]||[],i],t},Object.create(null))}class B extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function ne(r){return!!r.errors}function Le(r){let e=!0;if(r.errors&&Array.isArray(r.errors)){for(const t of r.errors)if(!t.field||!t.value||!t.code){e=!1;break}}else e=!1;return e}function pe(r){if(!(r instanceof Error))return typeof r=="string"?r:r.gitErrorCode?`${r.message}. Please check git output for more details`:r.stderr?`${r.stderr}. Please check git output for more details`:"Error";let e=r.message,t;if(r.message==="Validation Failed"&&Le(r))t=r.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.code})`).join(", ");else{if(r.message.startsWith("Validation Failed:"))return r.message;if(ne(r)&&r.errors)return r.errors.map(i=>typeof i=="string"?i:i.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Me(r){return new Promise(e=>{const t=r(i=>{t.dispose(),e(i)})})}async function Pe(r,e){return Promise.race([r,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function J(r){const e=K()(r),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function te(r,e,t=!1){r.startsWith("#")&&(r=r.substring(1));const i=ve(r);if(e){const n=Se(i.r,i.g,i.b),a=.6,l=.18,g=.3,x=(i.r*.2126+i.g*.7152+i.b*.0722)/255,V=Math.max(0,Math.min((x-a)*-1e3,1)),Y=(a-x)*100*V,ae=ve(L(n.h,n.s,n.l+Y)),le=`#${L(n.h,n.s,n.l+Y)}`,_e=t?`#${fe({...i,a:l})}`:`rgba(${i.r},${i.g},${i.b},${l})`,Ee=t?`#${fe({...ae,a:g})}`:`rgba(${ae.r},${ae.g},${ae.b},${g})`;return{textColor:le,backgroundColor:_e,borderColor:Ee}}else return{textColor:`#${O(i)}`,backgroundColor:`#${r}`,borderColor:`#${r}`}}const fe=r=>{const e=[r.r,r.g,r.b];return r.a&&e.push(Math.floor(r.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function ve(r){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function Se(r,e,t){r/=255,e/=255,t/=255;let i=Math.min(r,e,t),n=Math.max(r,e,t),a=n-i,l=0,g=0,x=0;return a==0?l=0:n==r?l=(e-t)/a%6:n==e?l=(t-r)/a+2:l=(r-e)/a+4,l=Math.round(l*60),l<0&&(l+=360),x=(n+i)/2,g=a==0?0:a/(1-Math.abs(2*x-1)),g=+(g*100).toFixed(1),x=+(x*100).toFixed(1),{h:l,s:g,l:x}}function L(r,e,t){const i=t/100,n=e*Math.min(i,1-i)/100,a=l=>{const g=(l+r/30)%12,x=i-n*Math.max(Math.min(g-3,9-g,1),-1);return Math.round(255*x).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function O(r){return(.299*r.r+.587*r.g+.114*r.b)/255>.5?"000000":"ffffff"}var oe=(r=>(r[r.Period=46]="Period",r[r.Slash=47]="Slash",r[r.A=65]="A",r[r.Z=90]="Z",r[r.Backslash=92]="Backslash",r[r.a=97]="a",r[r.z=122]="z",r))(oe||{});function be(r,e){return r<e?-1:r>e?1:0}function ke(r,e,t=0,i=r.length,n=0,a=e.length){for(;t<i&&n<a;t++,n++){const x=r.charCodeAt(t),V=e.charCodeAt(n);if(x<V)return-1;if(x>V)return 1}const l=i-t,g=a-n;return l<g?-1:l>g?1:0}function ge(r,e){return De(r,e,0,r.length,0,e.length)}function De(r,e,t=0,i=r.length,n=0,a=e.length){for(;t<i&&n<a;t++,n++){let x=r.charCodeAt(t),V=e.charCodeAt(n);if(x===V)continue;const Y=x-V;if(!(Y===32&&We(V))&&!(Y===-32&&We(x)))return Ge(x)&&Ge(V)?Y:ke(r.toLowerCase(),e.toLowerCase(),t,i,n,a)}const l=i-t,g=a-n;return l<g?-1:l>g?1:0}function Ge(r){return r>=97&&r<=122}function We(r){return r>=65&&r<=90}class Nt{constructor(){o(this,"_value",""),o(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Ze{constructor(e=!0){this._caseSensitive=e,o(this,"_value"),o(this,"_from"),o(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ke(e,this._value,0,e.length,this._from,this._to):De(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class it{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,o(this,"_value"),o(this,"_from"),o(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ke(e,this._value,0,e.length,this._from,this._to):De(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var Et=(r=>(r[r.Scheme=1]="Scheme",r[r.Authority=2]="Authority",r[r.Path=3]="Path",r[r.Query=4]="Query",r[r.Fragment=5]="Fragment",r))(Et||{});class ce{constructor(e){this._ignorePathCasing=e,o(this,"_pathIterator"),o(this,"_value"),o(this,"_states",[]),o(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new it(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return ge(e,this._value.scheme);if(this._states[this._stateIdx]===2)return ge(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return be(e,this._value.query);if(this._states[this._stateIdx]===5)return be(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function Q(r){const t=r.extensionUri.path,i=t.lastIndexOf(".");return i===-1?!1:t.substr(i+1).length>1}class se{constructor(){o(this,"segment"),o(this,"value"),o(this,"key"),o(this,"left"),o(this,"mid"),o(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class ye{constructor(e){o(this,"_iter"),o(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new ye(new ce(e))}static forPaths(){return new ye(new it)}static forStrings(){return new ye(new Nt)}static forConfigKeys(){return new ye(new Ze)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;for(this._root||(this._root=new se,this._root.segment=i.value()),n=this._root;;){const l=i.cmp(n.segment);if(l>0)n.left||(n.left=new se,n.left.segment=i.value()),n=n.left;else if(l<0)n.right||(n.right=new se,n.right.segment=i.value()),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new se,n.mid.segment=i.value()),n=n.mid;else break}const a=n.value;return n.value=t,n.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),n=[];let a=this._root;for(;a;){const l=i.cmp(a.segment);if(l>0)n.push([1,a]),a=a.left;else if(l<0)n.push([-1,a]),a=a.right;else if(i.hasNext())i.next(),n.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;n.length>0&&a.isEmpty();){let[g,x]=n.pop();switch(g){case 1:x.left=void 0;break;case 0:x.mid=void 0;break;case-1:x.right=void 0;break}a=x}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,n;for(;i;){const a=t.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Fe(r,e,t){const i=[];r.replace(e,(l,...g)=>{const x=t(l,...g);return i.push(x),""});const n=await Promise.all(i);let a=0;return r.replace(e,()=>n[a++])}async function Ye(r,e,t){const i=Math.ceil(r.length/e);for(let n=0;n<i;n++){const a=r.slice(n*e,(n+1)*e);await Promise.all(a.map(t))}}var Ue=Object.defineProperty,et=(r,e,t)=>e in r?Ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,It=(r,e,t)=>et(r,typeof e!="symbol"?e+"":e,t),at=(r=>(r[r.Head=0]="Head",r[r.RemoteHead=1]="RemoteHead",r[r.Tag=2]="Tag",r))(at||{}),ct=(r=>(r.BadConfigFile="BadConfigFile",r.AuthenticationFailed="AuthenticationFailed",r.NoUserNameConfigured="NoUserNameConfigured",r.NoUserEmailConfigured="NoUserEmailConfigured",r.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",r.NotAGitRepository="NotAGitRepository",r.NotAtRepositoryRoot="NotAtRepositoryRoot",r.Conflict="Conflict",r.StashConflict="StashConflict",r.UnmergedChanges="UnmergedChanges",r.PushRejected="PushRejected",r.RemoteConnectionError="RemoteConnectionError",r.DirtyWorkTree="DirtyWorkTree",r.CantOpenResource="CantOpenResource",r.GitNotFound="GitNotFound",r.CantCreatePipe="CantCreatePipe",r.CantAccessRemote="CantAccessRemote",r.RepositoryNotFound="RepositoryNotFound",r.RepositoryIsLocked="RepositoryIsLocked",r.BranchNotFullyMerged="BranchNotFullyMerged",r.NoRemoteReference="NoRemoteReference",r.InvalidBranchName="InvalidBranchName",r.BranchAlreadyExists="BranchAlreadyExists",r.NoLocalChanges="NoLocalChanges",r.NoStashFound="NoStashFound",r.LocalChangesOverwritten="LocalChangesOverwritten",r.NoUpstreamBranch="NoUpstreamBranch",r.IsInSubmodule="IsInSubmodule",r.WrongCase="WrongCase",r.CantLockRef="CantLockRef",r.CantRebaseMultipleBranches="CantRebaseMultipleBranches",r.PatchDoesNotApply="PatchDoesNotApply",r))(ct||{}),pt=(r=>(r[r.INDEX_MODIFIED=0]="INDEX_MODIFIED",r[r.INDEX_ADDED=1]="INDEX_ADDED",r[r.INDEX_DELETED=2]="INDEX_DELETED",r[r.INDEX_RENAMED=3]="INDEX_RENAMED",r[r.INDEX_COPIED=4]="INDEX_COPIED",r[r.MODIFIED=5]="MODIFIED",r[r.DELETED=6]="DELETED",r[r.UNTRACKED=7]="UNTRACKED",r[r.IGNORED=8]="IGNORED",r[r.INTENT_TO_ADD=9]="INTENT_TO_ADD",r[r.ADDED_BY_US=10]="ADDED_BY_US",r[r.ADDED_BY_THEM=11]="ADDED_BY_THEM",r[r.DELETED_BY_US=12]="DELETED_BY_US",r[r.DELETED_BY_THEM=13]="DELETED_BY_THEM",r[r.BOTH_ADDED=14]="BOTH_ADDED",r[r.BOTH_DELETED=15]="BOTH_DELETED",r[r.BOTH_MODIFIED=16]="BOTH_MODIFIED",r))(pt||{});const St=class ev extends v{constructor(){super(...arguments),It(this,"_providers",new Map),It(this,"_onDidOpenRepository",new s.EventEmitter),It(this,"onDidOpenRepository",this._onDidOpenRepository.event),It(this,"_onDidCloseRepository",new s.EventEmitter),It(this,"onDidCloseRepository",this._onDidCloseRepository.event),It(this,"_onDidChangeState",new s.EventEmitter),It(this,"onDidChangeState",this._onDidChangeState.event),It(this,"_onDidPublish",new s.EventEmitter),It(this,"onDidPublish",this._onDidPublish.event),It(this,"_titleAndDescriptionProviders",new Set),It(this,"_reviewerCommentsProviders",new Set)}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,i)=>t+i.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){y.appendLine("Registering git provider");const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(e.onDidOpenRepository(i=>{y.appendLine(`Repository ${i.rootUri} has been opened`),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),e.onDidChangeState&&this._register(e.onDidChangeState(i=>this._onDidChangeState.fire(i))),e.onDidPublish&&this._register(e.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),e.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=e==null?void 0:e.repositories;i&&i.length>0&&i.forEach(n=>this._onDidCloseRepository.fire(n)),this._providers.delete(t)}}}getGitProvider(e){const t=ye.forUris();return this._providers.forEach(i=>{const n=i.repositories;if(n&&n.length>0)for(const a of n)t.set(a.rootUri,i)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(i=>i.dispose())}}_nextHandle(){return ev._handlePool++}registerTitleAndDescriptionProvider(e,t){const i={title:e,provider:t};return this._titleAndDescriptionProviders.add(i),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(i)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const i={title:e,provider:t};return this._reviewerCommentsProviders.add(i),this._register({dispose:()=>this._reviewerCommentsProviders.delete(i)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}};It(St,"_handlePool",0);let Rt=St;var pi;(r=>{function e(t){return t&&t.thread&&t.text!==void 0}r.is=e})(pi||(pi={}));const kt=new Map;function Ut(r,e,t){kt.set(r,{handler:e,repoRootUri:t.rootUri.toString()})}function Ki(r){kt.delete(r)}function Pt(r){const e=[];for(const t of kt.values())t.handler.hasCommentThread(r)&&e.push(t);if(e.length>0)return e.sort((t,i)=>i.repoRootUri.length-t.repoRootUri.length),e[0].handler;y.warn(`Unable to find handler for comment thread ${r.gitHubThreadId}`)}function Qt(){for(const r of kt.values())if(r.handler.commentController.activeCommentThread)return r.handler}var qi;(r=>{r.VIEWED_FILES="github:viewedFiles",r.UNVIEWED_FILES="github:unviewedFiles",r.IN_REVIEW_MODE="github:inReviewMode",r.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",r.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",r.ACTIVE_PR_COUNT="github:activePRCount",r.LOADING_PRS_TREE="github:loadingPrsTree",r.LOADING_ISSUES_TREE="github:loadingIssuesTree",r.CREATE_PR_PERMISSIONS="github:createPrPermissions",r.RESOLVING_CONFLICTS="github:resolvingConflicts",r.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",r.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",r.CREATING="pr:creating"})(qi||(qi={}));var vt;(r=>{r.OPEN_CHAT="workbench.action.chat.open",r.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(n,a,l){return s.commands.executeCommand(n,a,l)}r.executeCommand=e;function t(n){return e(`${n}.focus`)}r.focusView=t;function i(n,a){return e("setContext",n,a)}r.setContext=i})(vt||(vt={}));const lt="githubPullRequests",Tr="terminalLinksHandler",Jt="createOnPublishBranch",ri="useReviewMode",dr="fileListLayout",Oe="assignCreated",Qe="pushBranch",bt="ignoredPullRequestBranches",dt="neverIgnoreDefaultBranch",gt="overrideDefaultBranch",oi="pullBranch",Dt="pullRequestDescription",jt="notifications",qt="postCreate",ut="queries",Tt="labelCreated",Mt="focusedMode",vi="createDraft",li="quickDiff",$t="setAutoMerge",Ti="showPullRequestNumberInTree",mi="defaultMergeMethod",Mi="defaultDeletionMethod",Ii="selectLocalBranch",Qi="selectRemote",Di="remotes",Ci="pullPullRequestBranchBeforeCheckout",Bi="upstreamRemote",Yt="defaultCreateOption",ui="createDefaultBaseBranch",ai="githubIssues",zi="assignWhenWorking",gi="issueCompletions",xi="userCompletions",$i="enabled",sr="ignoreUserCompletionTrigger",Gi="createInsertFormat",gr="issueBranchTitle",Sr="useBranchForIssues",nr="workingIssueFormatScm",Rr="ignoreCompletionTrigger",br="issueCompletionFormatScm",fr="createIssueTriggers",ki="default",bi="ignoreMilestones",Cr="allowFetch",Tn="alwaysPromptForNewIssueRepo",Nr="experimental.chat",vn="experimental.useQuickChat",Lr="experimental.notificationsView",Cn="experimental.notificationsViewPageSize",ln="experimental.notificationsScore",tr="git",Dn="pullBeforeCheckout",Ir="openDiffOnClick",Zr="showInlineOpenFileAction",Fn="autoStash",gn="github-enterprise",Nn="uri",bn="editor",Kn="wordWrap",Oa="comments",_a="openView",un="explorer",oa="autoReveal";var Ur=ni(48287),ka=ni(74945),Wr=ni.n(ka),Yi=(r=>(r[r.Query=0]="Query",r[r.All=1]="All",r[r.LocalPullRequest=2]="LocalPullRequest",r))(Yi||{}),ir=(r=>(r.Approve="APPROVE",r.RequestChanges="REQUEST_CHANGES",r.Comment="COMMENT",r))(ir||{}),Hi=(r=>(r[r.Open=0]="Open",r[r.Merged=1]="Merged",r[r.Closed=2]="Closed",r))(Hi||{}),$e=(r=>(r[r.Mergeable=0]="Mergeable",r[r.NotMergeable=1]="NotMergeable",r[r.Conflict=2]="Conflict",r[r.Unknown=3]="Unknown",r[r.Behind=4]="Behind",r))($e||{}),_t=(r=>(r[r.AwaitingChecks=0]="AwaitingChecks",r[r.Locked=1]="Locked",r[r.Mergeable=2]="Mergeable",r[r.Queued=3]="Queued",r[r.Unmergeable=4]="Unmergeable",r))(_t||{});function yt(r){return Ft(r)?r.id:r.login}function Ct(r){var e,t,i;return Ft(r)?(t=(e=r.name)!=null?e:r.slug)!=null?t:r.id:(i=r.specialDisplayName)!=null?i:r.login}function Ft(r){return"org"in r}function wi(r){return"isAuthor"in r&&"isCommenter"in r}var hi=(r=>(r.Issue="Issue",r.PullRequest="PullRequest",r))(hi||{}),je=(r=>(r.Success="success",r.Failure="failure",r.Neutral="neutral",r.Pending="pending",r.Unknown="unknown",r))(je||{}),ht=ni(32017),rt=ni.n(ht),Bt=ni(77358),ei=ni.n(Bt),Gt=(r=>(r.LEFT="LEFT",r.RIGHT="RIGHT",r))(Gt||{}),zt=(r=>(r.DISMISSED="DISMISSED",r.VIEWED="VIEWED",r.UNVIEWED="UNVIEWED",r))(zt||{}),de=(r=>(r.LINE="LINE",r.FILE="FILE",r))(de||{});const me={"copilot-pull-request-reviewer":{name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use.")}};var we=(r=>(r[r.ADD=0]="ADD",r[r.COPY=1]="COPY",r[r.DELETE=2]="DELETE",r[r.MODIFY=3]="MODIFY",r[r.RENAME=4]="RENAME",r[r.TYPE=5]="TYPE",r[r.UNKNOWN=6]="UNKNOWN",r[r.UNMERGED=7]="UNMERGED",r))(we||{});class Ae{constructor(e,t,i,n,a,l,g){this.baseCommit=e,this.status=t,this.fileName=i,this.previousFileName=n,this.patch=a,this.diffHunks=l,this.blobUrl=g}}class qe{constructor(e,t,i,n,a){this.baseCommit=e,this.blobUrl=t,this.status=i,this.fileName=n,this.previousFileName=a}}var ze=Object.defineProperty,Je=(r,e,t)=>e in r?ze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wt=(r,e,t)=>Je(r,typeof e!="symbol"?e+"":e,t),Ot=(r=>(r[r.Context=0]="Context",r[r.Add=1]="Add",r[r.Delete=2]="Delete",r[r.Control=3]="Control",r))(Ot||{});class Ht{constructor(e,t,i,n,a,l=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=i,this.positionInHunk=n,this._raw=a,this.endwithLineBreak=l}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function Xt(r){switch(r[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class fi{constructor(e,t,i,n,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=i,this.newLength=n,this.positionInHunk=a,wt(this,"diffLines",[])}}const or=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function hr(r){let e=0,t=0;for(;(t=r.indexOf("\r",t))!==-1;)t++,e++;return e}function*_i(r){let e=0;for(;e!==-1&&e<r.length;){const t=e;e=r.indexOf(`
`,e);let n=(e!==-1?e:r.length)-t;e!==-1&&(e>0&&r[e-1]==="\r"&&n--,e++),yield r.substr(t,n)}}function*Pi(r){const e=_i(r);let t=e.next(),i,n=-1,a=-1,l=-1;for(;!t.done;){const g=t.value;if(or.test(g)){i&&(yield i,i=void 0),n===-1&&(n=0);const x=or.exec(g),V=a=Number(x[1]),Y=Number(x[3])||1,ae=l=Number(x[5]),le=Number(x[7])||1;i=new fi(V,Y,ae,le,n),i.diffLines.push(new Ht(3,-1,-1,n,g))}else if(i){const x=Xt(g);if(x===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new Ht(x,x!==1?a:-1,x!==2?l:-1,n,g));const V=1+hr(g);switch(x){case 0:a+=V,l+=V;break;case 2:a+=V;break;case 1:l+=V;break}}}n!==-1&&++n,t=e.next()}i&&(yield i)}function ci(r){const e=Pi(r);let t=e.next();const i=[];for(;!t.done;){const n=t.value;i.push(n),t=e.next()}return i}function Er(r){const e=[],t=x=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:x.oldLineNumber,newLineNumber:x.newLineNumber,positionInHunk:0});let i,n;const a=(x,V)=>{x.diffLines.push(V),V.type===2?x.oldLength++:V.type===1?x.newLength++:V.type===0&&(x.oldLength++,x.newLength++)},l=x=>x.diffLines.some(V=>V.type!==0),g=x=>l(x)&&x.diffLines[x.diffLines.length-1].type===0;for(const x of r.diffLines)x.type===0?(i||(i=t(x)),a(i,x),g(i)&&(n||(n=t(x)),a(n,x))):(i||r.oldLineNumber===1&&(x.type===2||x.type===1))&&(i||(i=t(x)),g(i)&&(e.push(i),i=n,n=void 0),(x.type===2||x.type===1)&&a(i,x));return i&&e.push(i),e}function Mr(r,e){const t=r.split(/\r?\n/),i=Pi(e);let n=i.next();const a=[],l=[];let g=0,x=!0;for(;!n.done;){const V=n.value;a.push(V);const Y=V.oldLineNumber;for(let ae=g+1;ae<Y;ae++)l.push(t[ae-1]);g=Y+V.oldLength-1;for(let ae=0;ae<V.diffLines.length;ae++){const le=V.diffLines[ae];if(!(le.type===2||le.type===3))if(le.type===1)l.push(le.text);else{const _e=le.text;l.push(_e)}}if(n=i.next(),n.done){for(let ae=V.diffLines.length-1;ae>=0;ae--)if(V.diffLines[ae].type!==2){x=V.diffLines[ae].endwithLineBreak;break}}}if(x)if(g<t.length)for(let V=g+1;V<=t.length;V++)l.push(t[V-1]);else l.push("");return l.join(`
`)}function Oi(r){switch(r){case"removed":return we.DELETE;case"added":return we.ADD;case"renamed":return we.RENAME;case"modified":return we.MODIFY;default:return we.UNKNOWN}}async function Dr(r,e){var t;const i=[];for(let n=0;n<r.length;n++){const a=r[n],l=Oi(a.status);if(!a.patch&&l!==we.RENAME&&l!==we.MODIFY&&!(l===we.ADD&&a.additions===0)){i.push(new qe(e,a.blob_url,l,a.filename,a.previous_filename));continue}const g=a.patch?ci(a.patch):void 0;i.push(new Ae(e,l,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",g,a.blob_url))}return i}var yn=ni(1182),Fr=Object.defineProperty,cn=(r,e,t)=>e in r?Fr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mn=(r,e,t)=>cn(r,typeof e!="symbol"?e+"":e,t);const Pr=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Ja=/^([a-z-+]+):\/\//,yo=r=>{const e=Ja.exec(r);if(e){const[l,g]=e;if(g.includes("ssh"))r=r.slice(l.length);else return}const t=Pr.exec(r);if(!t)return;const[,i,n,a]=t;return{User:i,Host:n,path:a}},Xa=(r,e=ws.current)=>{const t=yo(r);return t&&e(t)};function vr(r){return{...r,Hostname:r.Host}}function La(...r){const e=r.filter(t=>!!t);return t=>e.reduce((i,n)=>{try{return{...i,...n(i)}}catch{return y.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),i}},t)}function sl(r){const e=(0,yn.parse)(r);return t=>e.compute(t.Host)}const Za=class{static fromConfig(e){return La(vr,sl(e))}};Mn(Za,"default",vr),Mn(Za,"current",Za.default);let ws=Za;var Sa=Object.defineProperty,ol=(r,e,t)=>e in r?Sa(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,On=(r,e,t)=>ol(r,typeof e!="symbol"?e+"":e,t),wo=(r=>(r[r.Local=0]="Local",r[r.HTTP=1]="HTTP",r[r.SSH=2]="SSH",r[r.GIT=3]="GIT",r[r.OTHER=4]="OTHER",r))(wo||{});const _s=class tv{constructor(e){if(On(this,"type",4),On(this,"host",""),On(this,"owner",""),On(this,"repositoryName",""),On(this,"url"),!this.parseSshProtocol(e))try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{y.error(`Failed to parse '${e}'`,tv.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=Xa(e);if(!t)return!1;const{Hostname:i,HostName:n,path:a}=t;return this.host=n||i,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.lastIndexOf("/"),n=t.substr(i+1);if(!(n===""||n==="/"))return n.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const i=e.normalizeUri();return i?t.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}};On(_s,"ID","Protocol");let wn=_s;var ks=ni(91565),yr=(r=>(r[r.None=0]="None",r[r.GitHubDotCom=1]="GitHubDotCom",r[r.Enterprise=2]="Enterprise",r))(yr||{}),Si=(r=>(r.github="github",r.githubEnterprise="github-enterprise",r))(Si||{});class dn extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function es(r){var e;return!!((e=r.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}var Ss=Object.defineProperty,Rs=(r,e,t)=>e in r?Ss(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mu=(r,e,t)=>Rs(r,typeof e!="symbol"?e+"":e,t);const Ua=class iv{static initialize(e){iv.icons={reactions:{THUMBS_UP:e.asAbsolutePath(U.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:e.asAbsolutePath(U.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:e.asAbsolutePath(U.join("resources","icons","reactions","confused.png")),EYES:e.asAbsolutePath(U.join("resources","icons","reactions","eyes.png")),HEART:e.asAbsolutePath(U.join("resources","icons","reactions","heart.png")),HOORAY:e.asAbsolutePath(U.join("resources","icons","reactions","hooray.png")),LAUGH:e.asAbsolutePath(U.join("resources","icons","reactions","laugh.png")),ROCKET:e.asAbsolutePath(U.join("resources","icons","reactions","rocket.png"))}}}};Mu(Ua,"icons");let Pn=Ua;var ur=(r=>(r[r.Committed=0]="Committed",r[r.Mentioned=1]="Mentioned",r[r.Subscribed=2]="Subscribed",r[r.Commented=3]="Commented",r[r.Reviewed=4]="Reviewed",r[r.NewCommitsSinceReview=5]="NewCommitsSinceReview",r[r.Labeled=6]="Labeled",r[r.Milestoned=7]="Milestoned",r[r.Assigned=8]="Assigned",r[r.HeadRefDeleted=9]="HeadRefDeleted",r[r.Merged=10]="Merged",r[r.Other=11]="Other",r))(ur||{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Es=function(r,e){return Es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},Es(r,e)};function Ln(r,e){Es(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xt=function(){return xt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xt.apply(this,arguments)};function ll(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function ul(r,e,t,i){var n=arguments.length,a=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,i);else for(var g=r.length-1;g>=0;g--)(l=r[g])&&(a=(n<3?l(a):n>3?l(e,t,a):l(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a}function kr(r,e){return function(t,i){e(t,i,r)}}function Br(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Qn(r,e,t,i){function n(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function g(Y){try{V(i.next(Y))}catch(ae){l(ae)}}function x(Y){try{V(i.throw(Y))}catch(ae){l(ae)}}function V(Y){Y.done?a(Y.value):n(Y.value).then(g,x)}V((i=i.apply(r,e||[])).next())})}function mr(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,l;return l={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function g(V){return function(Y){return x([V,Y])}}function x(V){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(a=V[0]&2?n.return:V[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,V[1])).done)return a;switch(n=0,a&&(V=[V[0]&2,a.value]),V[0]){case 0:case 1:a=V;break;case 4:return t.label++,{value:V[1],done:!1};case 5:t.label++,n=V[1],V=[0];continue;case 7:V=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(V[0]===6||V[0]===2)){t=0;continue}if(V[0]===3&&(!a||V[1]>a[0]&&V[1]<a[3])){t.label=V[1];break}if(V[0]===6&&t.label<a[1]){t.label=a[1],a=V;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(V);break}a[2]&&t.ops.pop(),t.trys.pop();continue}V=e.call(r,t)}catch(Y){V=[6,Y],n=0}finally{i=a=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function Md(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function Ra(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function la(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ea(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],l;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(g){l={error:g}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(l)throw l.error}}return a}function Ba(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Ea(arguments[e]));return r}function _o(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var a=arguments[e],l=0,g=a.length;l<g;l++,n++)i[n]=a[l];return i}function Ts(r){return this instanceof Ts?(this.v=r,this):new Ts(r)}function Pu(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,a=[];return n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n;function l(le){i[le]&&(n[le]=function(_e){return new Promise(function(Ee,Be){a.push([le,_e,Ee,Be])>1||g(le,_e)})})}function g(le,_e){try{x(i[le](_e))}catch(Ee){ae(a[0][3],Ee)}}function x(le){le.value instanceof Ts?Promise.resolve(le.value.v).then(V,Y):ae(a[0][2],le)}function V(le){g("next",le)}function Y(le){g("throw",le)}function ae(le,_e){le(_e),a.shift(),a.length&&g(a[0][0],a[0][1])}}function Pd(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,a){e[n]=r[n]?function(l){return(t=!t)?{value:Ts(r[n](l)),done:n==="return"}:a?a(l):l}:a}}function Ad(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof la=="function"?la(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=r[a]&&function(l){return new Promise(function(g,x){l=r[a](l),n(g,x,l.done,l.value)})}}function n(a,l,g,x){Promise.resolve(x).then(function(V){a({value:V,done:g})},l)}}function xd(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function Id(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function Dd(r){return r&&r.__esModule?r:{default:r}}function Au(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function Fd(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var Un=ni(9111),cl=ni(65606),ko="Invariant Violation",dl=Object.setPrototypeOf,xu=dl===void 0?function(r,e){return r.__proto__=e,r}:dl,qr=function(r){Ln(e,r);function e(t){t===void 0&&(t=ko);var i=r.call(this,typeof t=="number"?ko+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return i.framesToPop=1,i.name=ko,xu(i,e.prototype),i}return e}(Error);function Ji(r,e){if(!r)throw new qr(e)}function fl(r){return function(){return console[r].apply(console,arguments)}}(function(r){r.warn=fl("warn"),r.error=fl("error")})(Ji||(Ji={}));var Bn={env:{}};if(typeof cl=="object")Bn=cl;else try{Function("stub","process = stub")(Bn)}catch{}var Od=null;const So=null;var hl=ni(72492),Iu=ni.n(hl),Ro=Object.prototype,ml=Ro.toString,Du=Ro.hasOwnProperty,Cs=new Map;function qn(r,e){try{return Ns(r,e)}finally{Cs.clear()}}function Ns(r,e){if(r===e)return!0;var t=ml.call(r),i=ml.call(e);if(t!==i)return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":{if(Ms(r,e))return!0;var n=Object.keys(r),a=Object.keys(e),l=n.length;if(l!==a.length)return!1;for(var g=0;g<l;++g)if(!Du.call(e,n[g]))return!1;for(var g=0;g<l;++g){var x=n[g];if(!Ns(r[x],e[x]))return!1}return!0}case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!==r)return e!==e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==""+e;case"[object Map]":case"[object Set]":{if(r.size!==e.size)return!1;if(Ms(r,e))return!0;for(var V=r.entries(),Y=t==="[object Map]";;){var ae=V.next();if(ae.done)break;var le=ae.value,_e=le[0],Ee=le[1];if(!e.has(_e)||Y&&!Ns(Ee,e.get(_e)))return!1}return!0}}return!1}function Ms(r,e){var t=Cs.get(r);if(t){if(t.has(e))return!0}else Cs.set(r,t=new Set);return t.add(e),!1}const pl=null;var Ps=ni(65606);function Ld(r){return["StringValue","BooleanValue","EnumValue"].indexOf(r.kind)>-1}function Ud(r){return["IntValue","FloatValue"].indexOf(r.kind)>-1}function Fu(r){return r.kind==="StringValue"}function Te(r){return r.kind==="BooleanValue"}function he(r){return r.kind==="IntValue"}function Ne(r){return r.kind==="FloatValue"}function xe(r){return r.kind==="Variable"}function Ve(r){return r.kind==="ObjectValue"}function Xe(r){return r.kind==="ListValue"}function nt(r){return r.kind==="EnumValue"}function mt(r){return r.kind==="NullValue"}function Wt(r,e,t,i){if(he(t)||Ne(t))r[e.value]=Number(t.value);else if(Te(t)||Fu(t))r[e.value]=t.value;else if(Ve(t)){var n={};t.fields.map(function(l){return Wt(n,l.name,l.value,i)}),r[e.value]=n}else if(xe(t)){var a=(i||{})[t.name.value];r[e.value]=a}else if(Xe(t))r[e.value]=t.values.map(function(l){var g={};return Wt(g,e,l,i),g[e.value]});else if(nt(t))r[e.value]=t.value;else if(mt(t))r[e.value]=null;else throw new qr(17)}function Zt(r,e){var t=null;r.directives&&(t={},r.directives.forEach(function(n){t[n.name.value]={},n.arguments&&n.arguments.forEach(function(a){var l=a.name,g=a.value;return Wt(t[n.name.value],l,g,e)})}));var i=null;return r.arguments&&r.arguments.length&&(i={},r.arguments.forEach(function(n){var a=n.name,l=n.value;return Wt(i,a,l,e)})),Ni(r.name.value,i,t)}var si=["connection","include","skip","client","rest","export"];function Ni(r,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var n=e,a={};return i.forEach(function(x){a[x]=n[x]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var l=r;if(e){var g=Iu()(e);l+="("+g+")"}return t&&Object.keys(t).forEach(function(x){si.indexOf(x)===-1&&(t[x]&&Object.keys(t[x]).length?l+="@"+x+"("+JSON.stringify(t[x])+")":l+="@"+x)}),l}function Li(r,e){if(r.arguments&&r.arguments.length){var t={};return r.arguments.forEach(function(i){var n=i.name,a=i.value;return Wt(t,n,a,e)}),t}return null}function Ri(r){return r.alias?r.alias.value:r.name.value}function Fi(r){return r.kind==="Field"}function Vi(r){return r.kind==="InlineFragment"}function st(r){return r&&r.type==="id"&&typeof r.generated=="boolean"}function wr(r,e){return e===void 0&&(e=!1),xt({type:"id",generated:e},typeof r=="string"?{id:r,typename:void 0}:r)}function An(r){return r!=null&&typeof r=="object"&&r.type==="json"}function qa(r){throw new InvariantError(18)}function Ta(r,e){switch(e===void 0&&(e=qa),r.kind){case"Variable":return e(r);case"NullValue":return null;case"IntValue":return parseInt(r.value,10);case"FloatValue":return parseFloat(r.value);case"ListValue":return r.values.map(function(l){return Ta(l,e)});case"ObjectValue":{for(var t={},i=0,n=r.fields;i<n.length;i++){var a=n[i];t[a.name.value]=Ta(a.value,e)}return t}default:return r.value}}function Ou(r,e){if(r.directives&&r.directives.length){var t={};return r.directives.forEach(function(i){t[i.name.value]=Li(i,e)}),t}return null}function As(r,e){return e===void 0&&(e={}),vl(r.directives).every(function(t){var i=t.directive,n=t.ifArgument,a=!1;return n.value.kind==="Variable"?(a=e[n.value.name.value],Ji(a!==void 0,13)):a=n.value.value,i.name.value==="skip"?!a:a})}function xs(r){var e=[];return(0,Un.visit)(r,{Directive:function(t){e.push(t.name.value)}}),e}function Ca(r,e){return xs(e).some(function(t){return r.indexOf(t)>-1})}function Lu(r){return r&&Ca(["client"],r)&&Ca(["export"],r)}function Uu(r){var e=r.name.value;return e==="skip"||e==="include"}function vl(r){return r?r.filter(Uu).map(function(e){var t=e.arguments,i=e.name.value;Ji(t&&t.length===1,14);var n=t[0];Ji(n.name&&n.name.value==="if",15);var a=n.value;return Ji(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:n}}):[]}function Is(r,e){var t=e,i=[];r.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new qr(11);a.kind==="FragmentDefinition"&&i.push(a)}),typeof t=="undefined"&&(Ji(i.length===1,12),t=i[0].name.value);var n=xt(xt({},r),{definitions:_o([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],r.definitions)});return n}function ts(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(n){r[n]=i[n]})}),r}function Bd(r){Yn(r);var e=r.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Yn(r){Ji(r&&r.kind==="Document",2);var e=r.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new qr(3);return t});return Ji(e.length<=1,4),r}function ua(r){return Yn(r),r.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Bu(r){var e=ua(r);return invariant(e,5),e}function is(r){return r.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function rs(r){return r.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function gl(r){var e=ua(r);return Ji(e&&e.operation==="query",6),e}function qu(r){Ji(r.kind==="Document",7),Ji(r.definitions.length<=1,8);var e=r.definitions[0];return Ji(e.kind==="FragmentDefinition",9),e}function Eo(r){Yn(r);for(var e,t=0,i=r.definitions;t<i.length;t++){var n=i[t];if(n.kind==="OperationDefinition"){var a=n.operation;if(a==="query"||a==="mutation"||a==="subscription")return n}n.kind==="FragmentDefinition"&&!e&&(e=n)}if(e)return e;throw new qr(10)}function Ds(r){r===void 0&&(r=[]);var e={};return r.forEach(function(t){e[t.name.value]=t}),e}function Fs(r){if(r&&r.variableDefinitions&&r.variableDefinitions.length){var e=r.variableDefinitions.filter(function(t){var i=t.defaultValue;return i}).map(function(t){var i=t.variable,n=t.defaultValue,a={};return Wt(a,i.name,n),a});return ts.apply(void 0,_o([{}],e))}return{}}function tt(r){var e=new Set;if(r.variableDefinitions)for(var t=0,i=r.variableDefinitions;t<i.length;t++){var n=i[t];e.add(n.variable.name.value)}return e}function Vt(r,e,t){var i=0;return r.forEach(function(n,a){e.call(this,n,a,r)&&(r[i++]=n)},t),r.length=i,r}var ti={kind:"Field",name:{kind:"Name",value:"__typename"}};function yi(r,e){return r.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&yi(e[t.name.value],e)})}function ji(r){return yi(ua(r)||qu(r),Ds(rs(r)))?null:r}function Zi(r){return function(t){return r.some(function(i){return i.name&&i.name===t.name.value||i.test&&i.test(t)})}}function rr(r,e){var t=Object.create(null),i=[],n=Object.create(null),a=[],l=ji((0,Un.visit)(e,{Variable:{enter:function(g,x,V){V.kind!=="VariableDefinition"&&(t[g.name.value]=!0)}},Field:{enter:function(g){if(r&&g.directives){var x=r.some(function(V){return V.remove});if(x&&g.directives&&g.directives.some(Zi(r)))return g.arguments&&g.arguments.forEach(function(V){V.value.kind==="Variable"&&i.push({name:V.value.name.value})}),g.selectionSet&&qd(g.selectionSet).forEach(function(V){a.push({name:V.name.value})}),null}}},FragmentSpread:{enter:function(g){n[g.name.value]=!0}},Directive:{enter:function(g){if(Zi(r)(g))return null}}}));return l&&Vt(i,function(g){return!t[g.name]}).length&&(l=mv(i,l)),l&&Vt(a,function(g){return!n[g.name]}).length&&(l=pv(a,l)),l}function Hr(r){return(0,Un.visit)(Yn(r),{SelectionSet:{enter:function(e,t,i){if(!(i&&i.kind==="OperationDefinition")){var n=e.selections;if(n){var a=n.some(function(g){return Fi(g)&&(g.name.value==="__typename"||g.name.value.lastIndexOf("__",0)===0)});if(!a){var l=i;if(!(Fi(l)&&l.directives&&l.directives.some(function(g){return g.name.value==="export"})))return xt(xt({},e),{selections:_o(n,[ti])})}}}}}})}var $r={test:function(r){var e=r.name.value==="connection";return e&&(!r.arguments||r.arguments.some(function(t){return t.name.value==="key"})),e}};function Gr(r){return rr([$r],Yn(r))}function Kr(r,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(i){return Jn(r,i,t)})}function Jn(r,e,t){return t===void 0&&(t=!0),Fi(e)?e.directives?e.directives.some(Zi(r))||t&&Kr(r,e.selectionSet,t):!1:!0}function Vr(r,e){Yn(e);var t;return ji(visit(e,{SelectionSet:{enter:function(i,n,a,l){var g=l.join("-");if(!t||g===t||!g.startsWith(t))if(i.selections){var x=i.selections.filter(function(V){return Jn(r,V)});return Kr(r,i,!1)&&(t=g),__assign(__assign({},i),{selections:x})}else return null}}}))}function Hu(r){return function(t){return r.some(function(i){return t.value&&t.value.kind==="Variable"&&t.value.name&&(i.name===t.value.name.value||i.test&&i.test(t))})}}function mv(r,e){var t=Hu(r);return ji((0,Un.visit)(e,{OperationDefinition:{enter:function(i){return xt(xt({},i),{variableDefinitions:i.variableDefinitions.filter(function(n){return!r.some(function(a){return a.name===n.variable.name.value})})})}},Field:{enter:function(i){var n=r.some(function(l){return l.remove});if(n){var a=0;if(i.arguments.forEach(function(l){t(l)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(i){if(t(i))return null}}}))}function pv(r,e){function t(i){if(r.some(function(n){return n.name===i.name.value}))return null}return ji((0,Un.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function qd(r){var e=[];return r.selections.forEach(function(t){(Fi(t)||Vi(t))&&t.selectionSet?qd(t.selectionSet).forEach(function(i){return e.push(i)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function vv(r){var e=Eo(r),t=e.operation;if(t==="query")return r;var i=(0,Un.visit)(r,{OperationDefinition:{enter:function(n){return xt(xt({},n),{operation:"query"})}}});return i}function gv(r){Yn(r);var e=rr([{test:function(t){return t.name.value==="client"},remove:!0}],r);return e&&(e=(0,Un.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var i=t.selectionSet.selections.every(function(n){return Fi(n)&&n.name.value==="__typename"});if(i)return null}}}})),e}var $u=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),bv=Object.prototype.toString;function yv(r){return Gu(r,new Map)}function Gu(r,e){switch(bv.call(r)){case"[object Array]":{if(e.has(r))return e.get(r);var t=r.slice(0);return e.set(r,t),t.forEach(function(n,a){t[a]=Gu(n,e)}),t}case"[object Object]":{if(e.has(r))return e.get(r);var i=Object.create(Object.getPrototypeOf(r));return e.set(r,i),Object.keys(r).forEach(function(n){i[n]=Gu(r[n],e)}),i}default:return r}}function wv(){return typeof Ps!="undefined"?"production":"development"}function Vu(r){return wv()===r}function Hd(){return Vu("production")===!0}function _v(){return Vu("development")===!0}function ju(){return Vu("test")===!0}function zu(r){try{return r()}catch(e){console.error&&console.error(e)}}function ns(r){return r.errors&&r.errors.length}function $d(r){return Object.freeze(r),Object.getOwnPropertyNames(r).forEach(function(e){r[e]!==null&&(typeof r[e]=="object"||typeof r[e]=="function")&&!Object.isFrozen(r[e])&&$d(r[e])}),r}function iR(r){if(_v()||ju()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return $d(r)}return r}var kv=Object.prototype.hasOwnProperty;function Gd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Wu(r)}function Wu(r){var e=r[0]||{},t=r.length;if(t>1){var i=[];e=Ku(e,i);for(var n=1;n<t;++n)e=jd(e,r[n],i)}return e}function Vd(r){return r!==null&&typeof r=="object"}function jd(r,e,t){return Vd(e)&&Vd(r)?(Object.isExtensible&&!Object.isExtensible(r)&&(r=Ku(r,t)),Object.keys(e).forEach(function(i){var n=e[i];if(kv.call(r,i)){var a=r[i];n!==a&&(r[i]=jd(Ku(a,t),n,t))}else r[i]=n}),r):e}function Ku(r,e){return r!==null&&typeof r=="object"&&e.indexOf(r)<0&&(Array.isArray(r)?r=r.slice(0):r=xt({__proto__:Object.getPrototypeOf(r)},r),e.push(r)),r}var zd=Object.create({});function rR(r,e){e===void 0&&(e="warn"),!Hd()&&!zd[r]&&(ju()||(zd[r]=!0),e==="error"?console.error(r):console.warn(r))}function nR(r){return JSON.parse(JSON.stringify(r))}var Sv=ni(16064),Rv=ni.n(Sv),Ev=Rv();const _n=Ev;function Tv(r){for(var e=["query","operationName","variables","extensions","context"],t=0,i=Object.keys(r);t<i.length;t++){var n=i[t];if(e.indexOf(n)<0)throw new qr(2)}return r}var aR=function(r){Ln(e,r);function e(t,i){var n=r.call(this,t)||this;return n.link=i,n}return e}(Error);function bl(r){return r.request.length<=1}function sR(r){var e=!1;return new Promise(function(t,i){r.subscribe({next:function(n){e||(e=!0,t(n))},error:i})})}var oR=null;function lR(r){return new Observable(function(e){r.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function Wd(r){return new _n(function(e){e.error(r)})}function Cv(r){var e={variables:r.variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query};return e.operationName||(e.operationName=typeof e.query!="string"?is(e.query):""),e}function Nv(r,e){var t=xt({},r),i=function(a){typeof a=="function"?t=xt({},t,a(t)):t=xt({},t,a)},n=function(){return xt({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:n}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Mv(e)}}),e}function Mv(r){var e=r.query,t=r.variables,i=r.operationName;return JSON.stringify([i,e,t])}function Kd(r,e){return e?e(r):_n.of()}function To(r){return typeof r=="function"?new Xn(r):r}function Qd(){return new Xn(function(){return _n.of()})}function Pv(r){return r.length===0?Qd():r.map(To).reduce(function(e,t){return e.concat(t)})}function Yd(r,e,t){var i=To(e),n=To(t||new Xn(Kd));return bl(i)&&bl(n)?new Xn(function(a){return r(a)?i.request(a)||_n.of():n.request(a)||_n.of()}):new Xn(function(a,l){return r(a)?i.request(a,l)||_n.of():n.request(a,l)||_n.of()})}var Av=function(r,e){var t=To(r);if(bl(t))return t;var i=To(e);return bl(i)?new Xn(function(n){return t.request(n,function(a){return i.request(a)||_n.of()})||_n.of()}):new Xn(function(n,a){return t.request(n,function(l){return i.request(l,a)||_n.of()})||_n.of()})},Xn=function(){function r(e){e&&(this.request=e)}return r.prototype.split=function(e,t,i){return this.concat(Yd(e,t,i||new r(Kd)))},r.prototype.concat=function(e){return Av(this,e)},r.prototype.request=function(e,t){throw new qr(1)},r.empty=Qd,r.from=Pv,r.split=Yd,r.execute=yl,r}();function yl(r,e){return r.request(Nv(e.context,Cv(Tv(e))))||_n.of()}var xv=ni(9423),Ar;(function(r){r[r.loading=1]="loading",r[r.setVariables=2]="setVariables",r[r.fetchMore=3]="fetchMore",r[r.refetch=4]="refetch",r[r.poll=6]="poll",r[r.ready=7]="ready",r[r.error=8]="error"})(Ar||(Ar={}));function Jd(r){return r<7}var Co=function(r){Ln(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype[xv.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(_n);function Os(r){return Array.isArray(r)&&r.length>0}function Iv(r){return r.hasOwnProperty("graphQLErrors")}var Dv=function(r){var e="";return Os(r.graphQLErrors)&&r.graphQLErrors.forEach(function(t){var i=t?t.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),r.networkError&&(e+="Network error: "+r.networkError.message+`
`),e=e.replace(/\n$/,""),e},Ha=function(r){Ln(e,r);function e(t){var i=t.graphQLErrors,n=t.networkError,a=t.errorMessage,l=t.extraInfo,g=r.call(this,a)||this;return g.graphQLErrors=i||[],g.networkError=n||null,a?g.message=a:g.message=Dv(g),g.extraInfo=l,g.__proto__=e.prototype,g}return e}(Error),as;(function(r){r[r.normal=1]="normal",r[r.refetch=2]="refetch",r[r.poll=3]="poll"})(as||(as={}));var Fv=function(r,e){return e===void 0&&(e="none"),r&&(r.networkError||e==="none"&&Os(r.graphQLErrors))},Ov=function(r){Ln(e,r);function e(t){var i=t.queryManager,n=t.options,a=t.shouldSubscribe,l=a===void 0?!0:a,g=r.call(this,function(V){return g.onSubscribe(V)})||this;g.observers=new Set,g.subscriptions=new Set,g.isTornDown=!1,g.options=n,g.variables=n.variables||{},g.queryId=i.generateQueryId(),g.shouldSubscribe=l;var x=ua(n.query);return g.queryName=x&&x.name&&x.name.value,g.queryManager=i,g}return e.prototype.result=function(){var t=this;return new Promise(function(i,n){var a={next:function(g){i(g),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){l.unsubscribe()},0)},error:n},l=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:Ar.error}}var i=this.queryManager.getCurrentQueryResult(this),n=i.data,a=i.partial,l=this.queryManager.queryStore.get(this.queryId),g,x=this.options.fetchPolicy,V=x==="network-only"||x==="no-cache";if(l){var Y=l.networkStatus;if(Fv(l,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:Y,error:new Ha({graphQLErrors:l.graphQLErrors,networkError:l.networkError})};l.variables&&(this.options.variables=xt(xt({},this.options.variables),l.variables),this.variables=this.options.variables),g={data:n,loading:Jd(Y),networkStatus:Y},l.graphQLErrors&&this.options.errorPolicy==="all"&&(g.errors=l.graphQLErrors)}else{var ae=V||a&&x!=="cache-only";g={data:n,loading:ae,networkStatus:ae?Ar.loading:Ar.ready}}return a||this.updateLastResult(xt(xt({},g),{stale:!1})),xt(xt({},g),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var i=this.lastResultSnapshot;return!(i&&t&&i.networkStatus===t.networkStatus&&i.stale===t.stale&&qn(i.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new qr(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),qn(this.variables,t)||(this.variables=xt(xt({},this.variables),t)),qn(this.options.variables,this.variables)||(this.options.variables=xt(xt({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,xt(xt({},this.options),{fetchPolicy:i}),as.refetch))},e.prototype.fetchMore=function(t){var i=this;Ji(t.updateQuery,2);var n=xt(xt({},t.query?t:xt(xt(xt({},this.options),t),{variables:xt(xt({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,n,as.normal,this.queryId).then(function(l){return i.updateQuery(function(g){return t.updateQuery(g,{fetchMoreResult:l.data,variables:n.variables})}),i.queryManager.stopQuery(a),l},function(l){throw i.queryManager.stopQuery(a),l})},e.prototype.subscribeToMore=function(t){var i=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var l=t.updateQuery;l&&i.updateQuery(function(g,x){var V=x.variables;return l(g,{subscriptionData:a,variables:V})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(n),function(){i.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(t){var i=this.options.fetchPolicy;this.options=xt(xt({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var n=t.fetchPolicy;return this.setVariables(this.options.variables,i!==n&&(i==="cache-only"||i==="standby"||n==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,i,n){return i===void 0&&(i=!1),n===void 0&&(n=!0),this.isTornDown=!1,t=t||this.variables,!i&&qn(t,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var i=this.queryManager,n=i.getQueryWithPreviousResult(this.queryId),a=n.previousResult,l=n.variables,g=n.document,x=zu(function(){return t(a,{variables:l})});x&&(i.dataStore.markUpdateQueryResult(g,l,x),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){Xd(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var i=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:yv(t),i},e.prototype.onSubscribe=function(t){var i=this;try{var n=t._subscription._observer;n&&!n.error&&(n.error=Lv)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){i.observers.delete(t)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,i=this,n=i.queryManager,a=i.queryId;this.shouldSubscribe&&n.addObservableQuery(a,this),this.options.pollInterval&&(Xd(this),n.startPollingQuery(this.options,a));var l=function(g){t.updateLastResult(xt(xt({},t.lastResult),{errors:g.graphQLErrors,networkStatus:Ar.error,loading:!1})),Qu(t.observers,"error",t.lastError=g)};n.observeQuery(a,this.options,{next:function(g){if(t.lastError||t.isDifferentFromLastResult(g)){var x=t.updateLastResult(g),V=t.options,Y=V.query,ae=V.variables,le=V.fetchPolicy;n.transform(Y).hasClientExports?n.getLocalState().addExportedVariables(Y,ae).then(function(_e){var Ee=t.variables;t.variables=t.options.variables=_e,!g.loading&&x&&le!=="cache-only"&&n.transform(Y).serverQuery&&!qn(Ee,_e)?t.refetch():Qu(t.observers,"next",g)}):Qu(t.observers,"next",g)}},error:l}).catch(l)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Co);function Lv(r){}function Qu(r,e,t){var i=[];r.forEach(function(n){return n[e]&&i.push(n)}),i.forEach(function(n){return n[e](t)})}function Xd(r){var e=r.options.fetchPolicy;Ji(e!=="cache-first"&&e!=="cache-only",3)}var Uv=function(){function r(){this.store={}}return r.prototype.getStore=function(){return this.store},r.prototype.get=function(e){return this.store[e]},r.prototype.initMutation=function(e,t,i){this.store[e]={mutation:t,variables:i||{},loading:!0,error:null}},r.prototype.markMutationError=function(e,t){var i=this.store[e];i&&(i.loading=!1,i.error=t)},r.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},r.prototype.reset=function(){this.store={}},r}(),Bv=function(){function r(){this.store={}}return r.prototype.getStore=function(){return this.store},r.prototype.get=function(e){return this.store[e]},r.prototype.initQuery=function(e){var t=this.store[e.queryId];Ji(!t||t.document===e.document||qn(t.document,e.document),19);var i=!1,n=null;e.storePreviousVariables&&t&&t.networkStatus!==Ar.loading&&(qn(t.variables,e.variables)||(i=!0,n=t.variables));var a;i?a=Ar.setVariables:e.isPoll?a=Ar.poll:e.isRefetch?a=Ar.refetch:a=Ar.loading;var l=[];t&&t.graphQLErrors&&(l=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:n,networkError:null,graphQLErrors:l,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Ar.fetchMore)},r.prototype.markQueryResult=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Os(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Ar.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=Ar.ready))},r.prototype.markQueryError=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=Ar.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},r.prototype.markQueryResultClient=function(e,t){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,t&&(i.networkStatus=Ar.ready))},r.prototype.stopQuery=function(e){delete this.store[e]},r.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?t.stopQuery(i):t.store[i].networkStatus=Ar.loading})},r}();function qv(r){return r.charAt(0).toUpperCase()+r.slice(1)}var Zd=function(){function r(e){var t=e.cache,i=e.client,n=e.resolvers,a=e.fragmentMatcher;this.cache=t,i&&(this.client=i),n&&this.addResolvers(n),a&&this.setFragmentMatcher(a)}return r.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){t.resolvers=Gd(t.resolvers,i)}):this.resolvers=Gd(this.resolvers,e)},r.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},r.prototype.getResolvers=function(){return this.resolvers||{}},r.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,n=e.context,a=e.variables,l=e.onlyRunForcedResolvers,g=l===void 0?!1:l;return Qn(this,void 0,void 0,function(){return mr(this,function(x){return t?[2,this.resolveDocument(t,i.data,n,a,this.fragmentMatcher,g).then(function(V){return xt(xt({},i),{data:V.result})})]:[2,i]})})},r.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},r.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},r.prototype.clientQuery=function(e){return Ca(["client"],e)&&this.resolvers?e:null},r.prototype.serverQuery=function(e){return this.resolvers?gv(e):e},r.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,i=xt(xt({},e),{cache:t,getCacheKey:function(n){if(t.config)return t.config.dataIdFromObject(n);Ji(!1,6)}});return i},r.prototype.addExportedVariables=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),Qn(this,void 0,void 0,function(){return mr(this,function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then(function(a){return xt(xt({},t),a.exportedVariables)})]:[2,xt({},t)]})})},r.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Un.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(t=i.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),t))return Un.BREAK}}}),t},r.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:vv(e),variables:t,returnPartialData:!0,optimistic:!1}).result},r.prototype.resolveDocument=function(e,t,i,n,a,l){return i===void 0&&(i={}),n===void 0&&(n={}),a===void 0&&(a=function(){return!0}),l===void 0&&(l=!1),Qn(this,void 0,void 0,function(){var g,x,V,Y,ae,le,_e,Ee,Be;return mr(this,function(ue){return g=Eo(e),x=rs(e),V=Ds(x),Y=g.operation,ae=Y?qv(Y):"Query",le=this,_e=le.cache,Ee=le.client,Be={fragmentMap:V,context:xt(xt({},i),{cache:_e,client:Ee}),variables:n,fragmentMatcher:a,defaultOperationType:ae,exportedVariables:{},onlyRunForcedResolvers:l},[2,this.resolveSelectionSet(g.selectionSet,t,Be).then(function(Re){return{result:Re,exportedVariables:Be.exportedVariables}})]})})},r.prototype.resolveSelectionSet=function(e,t,i){return Qn(this,void 0,void 0,function(){var n,a,l,g,x,V=this;return mr(this,function(Y){return n=i.fragmentMap,a=i.context,l=i.variables,g=[t],x=function(ae){return Qn(V,void 0,void 0,function(){var le,_e;return mr(this,function(Ee){return As(ae,l)?Fi(ae)?[2,this.resolveField(ae,t,i).then(function(Be){var ue;typeof Be!="undefined"&&g.push((ue={},ue[Ri(ae)]=Be,ue))})]:(Vi(ae)?le=ae:(le=n[ae.name.value],Ji(le,7)),le&&le.typeCondition&&(_e=le.typeCondition.name.value,i.fragmentMatcher(t,_e,a))?[2,this.resolveSelectionSet(le.selectionSet,t,i).then(function(Be){g.push(Be)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(x)).then(function(){return Wu(g)})]})})},r.prototype.resolveField=function(e,t,i){return Qn(this,void 0,void 0,function(){var n,a,l,g,x,V,Y,ae,le,_e=this;return mr(this,function(Ee){return n=i.variables,a=e.name.value,l=Ri(e),g=a!==l,x=t[l]||t[a],V=Promise.resolve(x),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(Y=t.__typename||i.defaultOperationType,ae=this.resolvers&&this.resolvers[Y],ae&&(le=ae[g?a:l],le&&(V=Promise.resolve(le(t,Li(e,n),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,V.then(function(Be){if(Be===void 0&&(Be=x),e.directives&&e.directives.forEach(function(ue){ue.name.value==="export"&&ue.arguments&&ue.arguments.forEach(function(Re){Re.name.value==="as"&&Re.value.kind==="StringValue"&&(i.exportedVariables[Re.value.value]=Be)})}),!e.selectionSet||Be==null)return Be;if(Array.isArray(Be))return _e.resolveSubSelectedArray(e,Be,i);if(e.selectionSet)return _e.resolveSelectionSet(e.selectionSet,Be,i)})]})})},r.prototype.resolveSubSelectedArray=function(e,t,i){var n=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return n.resolveSubSelectedArray(e,a,i);if(e.selectionSet)return n.resolveSelectionSet(e.selectionSet,a,i)}))},r}();function ef(r){var e=new Set,t=null;return new Co(function(i){return e.add(i),t=t||r.subscribe({next:function(n){e.forEach(function(a){return a.next&&a.next(n)})},error:function(n){e.forEach(function(a){return a.error&&a.error(n)})},complete:function(){e.forEach(function(n){return n.complete&&n.complete()})}}),function(){e.delete(i)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function Hv(r,e){return new Co(function(t){var i=t.next,n=t.error,a=t.complete,l=0,g=!1,x={next:function(Y){++l,new Promise(function(ae){ae(e(Y))}).then(function(ae){--l,i&&i.call(t,ae),g&&x.complete()},function(ae){--l,n&&n.call(t,ae)})},error:function(Y){n&&n.call(t,Y)},complete:function(){g=!0,l||a&&a.call(t)}},V=r.subscribe(x);return function(){return V.unsubscribe()}})}var $v=Object.prototype.hasOwnProperty,Gv=function(){function r(e){var t=e.link,i=e.queryDeduplication,n=i===void 0?!1:i,a=e.store,l=e.onBroadcast,g=l===void 0?function(){}:l,x=e.ssrMode,V=x===void 0?!1:x,Y=e.clientAwareness,ae=Y===void 0?{}:Y,le=e.localState,_e=e.assumeImmutableResults;this.mutationStore=new Uv,this.queryStore=new Bv,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new($u?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=n,this.dataStore=a,this.onBroadcast=g,this.clientAwareness=ae,this.localState=le||new Zd({cache:a.getCache()}),this.ssrMode=V,this.assumeImmutableResults=!!_e}return r.prototype.stop=function(){var e=this;this.queries.forEach(function(t,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(t){t(new qr(8))})},r.prototype.mutate=function(e){var t=e.mutation,i=e.variables,n=e.optimisticResponse,a=e.updateQueries,l=e.refetchQueries,g=l===void 0?[]:l,x=e.awaitRefetchQueries,V=x===void 0?!1:x,Y=e.update,ae=e.errorPolicy,le=ae===void 0?"none":ae,_e=e.fetchPolicy,Ee=e.context,Be=Ee===void 0?{}:Ee;return Qn(this,void 0,void 0,function(){var ue,Re,Ce,Ie=this;return mr(this,function(He){switch(He.label){case 0:return Ji(t,9),Ji(!_e||_e==="no-cache",10),ue=this.generateQueryId(),t=this.transform(t).document,this.setQuery(ue,function(){return{document:t}}),i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,Be)]:[3,2];case 1:i=He.sent(),He.label=2;case 2:return Re=function(){var Ke={};return a&&Ie.queries.forEach(function(ot,ft){var Lt=ot.observableQuery;if(Lt){var At=Lt.queryName;At&&$v.call(a,At)&&(Ke[ft]={updater:a[At],query:Ie.queryStore.get(ft)})}}),Ke},this.mutationStore.initMutation(ue,t,i),this.dataStore.markMutationInit({mutationId:ue,document:t,variables:i,updateQueries:Re(),update:Y,optimisticResponse:n}),this.broadcastQueries(),Ce=this,[2,new Promise(function(Ke,ot){var ft,Lt;Ce.getObservableFromLink(t,xt(xt({},Be),{optimisticResponse:n}),i,!1).subscribe({next:function(At){if(ns(At)&&le==="none"){Lt=new Ha({graphQLErrors:At.errors});return}Ce.mutationStore.markMutationResult(ue),_e!=="no-cache"&&Ce.dataStore.markMutationResult({mutationId:ue,result:At,document:t,variables:i,updateQueries:Re(),update:Y}),ft=At},error:function(At){Ce.mutationStore.markMutationError(ue,At),Ce.dataStore.markMutationComplete({mutationId:ue,optimisticResponse:n}),Ce.broadcastQueries(),Ce.setQuery(ue,function(){return{document:null}}),ot(new Ha({networkError:At}))},complete:function(){if(Lt&&Ce.mutationStore.markMutationError(ue,Lt),Ce.dataStore.markMutationComplete({mutationId:ue,optimisticResponse:n}),Ce.broadcastQueries(),Lt){ot(Lt);return}typeof g=="function"&&(g=g(ft));var At=[];Os(g)&&g.forEach(function(Ui){if(typeof Ui=="string")Ce.queries.forEach(function(ar){var lr=ar.observableQuery;lr&&lr.queryName===Ui&&At.push(lr.refetch())});else{var Wi={query:Ui.query,variables:Ui.variables,fetchPolicy:"network-only"};Ui.context&&(Wi.context=Ui.context),At.push(Ce.query(Wi))}}),Promise.all(V?At:[]).then(function(){Ce.setQuery(ue,function(){return{document:null}}),le==="ignore"&&ft&&ns(ft)&&delete ft.errors,Ke(ft)})}})})]}})})},r.prototype.fetchQuery=function(e,t,i,n){return Qn(this,void 0,void 0,function(){var a,l,g,x,V,Y,ae,le,_e,Ee,Be,ue,Re,Ce,Ie,He,Ke,ot,ft=this;return mr(this,function(Lt){switch(Lt.label){case 0:return a=t.metadata,l=a===void 0?null:a,g=t.fetchPolicy,x=g===void 0?"cache-first":g,V=t.context,Y=V===void 0?{}:V,ae=this.transform(t.query).document,le=this.getVariables(ae,t.variables),this.transform(ae).hasClientExports?[4,this.localState.addExportedVariables(ae,le,Y)]:[3,2];case 1:le=Lt.sent(),Lt.label=2;case 2:if(t=xt(xt({},t),{variables:le}),Ee=x==="network-only"||x==="no-cache",Be=Ee,Ee||(ue=this.dataStore.getCache().diff({query:ae,variables:le,returnPartialData:!0,optimistic:!1}),Re=ue.complete,Ce=ue.result,Be=!Re||x==="cache-and-network",_e=Ce),Ie=Be&&x!=="cache-only"&&x!=="standby",Ca(["live"],ae)&&(Ie=!0),He=this.idCounter++,Ke=x!=="no-cache"?this.updateQueryWatch(e,ae,t):void 0,this.setQuery(e,function(){return{document:ae,lastRequestId:He,invalidated:!0,cancel:Ke}}),this.invalidate(n),this.queryStore.initQuery({queryId:e,document:ae,storePreviousVariables:Ie,variables:le,isPoll:i===as.poll,isRefetch:i===as.refetch,metadata:l,fetchMoreForQueryId:n}),this.broadcastQueries(),Ie){if(ot=this.fetchRequest({requestId:He,queryId:e,document:ae,options:t,fetchMoreForQueryId:n}).catch(function(At){throw Iv(At)?At:(He>=ft.getQuery(e).lastRequestId&&(ft.queryStore.markQueryError(e,At,n),ft.invalidate(e),ft.invalidate(n),ft.broadcastQueries()),new Ha({networkError:At}))}),x!=="cache-and-network")return[2,ot];ot.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Ie),this.invalidate(e),this.invalidate(n),this.transform(ae).hasForcedResolvers?[2,this.localState.runResolvers({document:ae,remoteResult:{data:_e},context:Y,variables:le,onlyRunForcedResolvers:!0}).then(function(At){return ft.markQueryResult(e,At,t,n),ft.broadcastQueries(),At})]:(this.broadcastQueries(),[2,{data:_e}])}})})},r.prototype.markQueryResult=function(e,t,i,n){var a=i.fetchPolicy,l=i.variables,g=i.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,l,n,g==="ignore"||g==="all")},r.prototype.queryListenerForObserver=function(e,t,i){var n=this;function a(l,g){if(i[l])try{i[l](g)}catch{}}return function(l,g){if(n.invalidate(e,!1),!!l){var x=n.getQuery(e),V=x.observableQuery,Y=x.document,ae=V?V.options.fetchPolicy:t.fetchPolicy;if(ae!=="standby"){var le=Jd(l.networkStatus),_e=V&&V.getLastResult(),Ee=!!(_e&&_e.networkStatus!==l.networkStatus),Be=t.returnPartialData||!g&&l.previousVariables||Ee&&t.notifyOnNetworkStatusChange||ae==="cache-only"||ae==="cache-and-network";if(!(le&&!Be)){var ue=Os(l.graphQLErrors),Re=V&&V.options.errorPolicy||t.errorPolicy||"none";if(Re==="none"&&ue||l.networkError)return a("error",new Ha({graphQLErrors:l.graphQLErrors,networkError:l.networkError}));try{var Ce=void 0,Ie=void 0;if(g)ae!=="no-cache"&&ae!=="network-only"&&n.setQuery(e,function(){return{newData:null}}),Ce=g.result,Ie=!g.complete;else{var He=V&&V.getLastError(),Ke=Re!=="none"&&(He&&He.graphQLErrors)!==l.graphQLErrors;if(_e&&_e.data&&!Ke)Ce=_e.data,Ie=!1;else{var ot=n.dataStore.getCache().diff({query:Y,variables:l.previousVariables||l.variables,returnPartialData:!0,optimistic:!0});Ce=ot.result,Ie=!ot.complete}}var ft=Ie&&!(t.returnPartialData||ae==="cache-only"),Lt={data:ft?_e&&_e.data:Ce,loading:le,networkStatus:l.networkStatus,stale:ft};Re==="all"&&ue&&(Lt.errors=l.graphQLErrors),a("next",Lt)}catch(At){a("error",new Ha({networkError:At}))}}}}}},r.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.dataStore.getCache(),n=i.transformDocument(e),a=Gr(i.transformForLink(n)),l=this.localState.clientQuery(n),g=this.localState.serverQuery(a),x={document:n,hasClientExports:Lu(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:l,serverQuery:g,defaultVars:Fs(ua(n))},V=function(Y){Y&&!t.has(Y)&&t.set(Y,x)};V(e),V(n),V(l),V(g)}return t.get(e)},r.prototype.getVariables=function(e,t){return xt(xt({},this.transform(e).defaultVars),t)},r.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),Ji(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=xt({},e);return new Ov({queryManager:this,options:i,shouldSubscribe:t})},r.prototype.query=function(e){var t=this;return Ji(e.query,12),Ji(e.query.kind==="Document",13),Ji(!e.returnPartialData,14),Ji(!e.pollInterval,15),new Promise(function(i,n){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,n),a.result().then(i,n).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},r.prototype.generateQueryId=function(){return String(this.idCounter++)},r.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},r.prototype.addQueryListener=function(e,t){this.setQuery(e,function(i){var n=i.listeners;return n.add(t),{invalidated:!1}})},r.prototype.updateQueryWatch=function(e,t,i){var n=this,a=this.getQuery(e).cancel;a&&a();var l=function(){var g=null,x=n.getQuery(e).observableQuery;if(x){var V=x.getLastResult();V&&(g=V.data)}return g};return this.dataStore.getCache().watch({query:t,variables:i.variables,optimistic:!0,previousResult:l,callback:function(g){n.setQuery(e,function(){return{invalidated:!0,newData:g}})}})},r.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},r.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},r.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new qr(16))});var e=[];return this.queries.forEach(function(t,i){var n=t.observableQuery;n&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},r.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},r.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(n,a){var l=n.observableQuery;if(l){var g=l.options.fetchPolicy;l.resetLastResults(),g!=="cache-only"&&(e||g!=="standby")&&i.push(l.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(i)},r.prototype.observeQuery=function(e,t,i){return this.addQueryListener(e,this.queryListenerForObserver(e,t,i)),this.fetchQuery(e,t)},r.prototype.startQuery=function(e,t,i){return this.addQueryListener(e,i),this.fetchQuery(e,t).catch(function(){}),e},r.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,n=e.fetchPolicy,a=e.variables;i=this.transform(i).document,a=this.getVariables(i,a);var l=function(x){return t.getObservableFromLink(i,{},x,!1).map(function(V){if((!n||n!=="no-cache")&&(t.dataStore.markSubscriptionResult(V,i,x),t.broadcastQueries()),ns(V))throw new Ha({graphQLErrors:V.errors});return V})};if(this.transform(i).hasClientExports){var g=this.localState.addExportedVariables(i,a).then(l);return new Co(function(x){var V=null;return g.then(function(Y){return V=Y.subscribe(x)},x.error),function(){return V&&V.unsubscribe()}})}return l(a)},r.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},r.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},r.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var i=e.options,n=i.variables,a=i.query,l=i.fetchPolicy,g=i.returnPartialData,x=e.getLastResult(),V=this.getQuery(e.queryId).newData;if(V&&V.complete)return{data:V.result,partial:!1};if(l==="no-cache"||l==="network-only")return{data:void 0,partial:!1};var Y=this.dataStore.getCache().diff({query:a,variables:n,previousResult:x?x.data:void 0,returnPartialData:!0,optimistic:t}),ae=Y.result,le=Y.complete;return{data:le||g?ae:void 0,partial:!le}},r.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;Ji(i,17),t=i}else t=e;var n=t.options,a=n.variables,l=n.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:l}},r.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,i){t.invalidated&&t.listeners.forEach(function(n){n&&n(e.queryStore.get(i),t.newData)})})},r.prototype.getLocalState=function(){return this.localState},r.prototype.getObservableFromLink=function(e,t,i,n){var a=this;n===void 0&&(n=this.queryDeduplication);var l,g=this.transform(e).serverQuery;if(g){var x=this,V=x.inFlightLinkObservables,Y=x.link,ae={query:g,variables:i,operationName:is(g)||void 0,context:this.prepareContext(xt(xt({},t),{forceFetch:!n}))};if(t=ae.context,n){var le=V.get(g)||new Map;V.set(g,le);var _e=JSON.stringify(i);if(l=le.get(_e),!l){le.set(_e,l=ef(yl(Y,ae)));var Ee=function(){le.delete(_e),le.size||V.delete(g),Be.unsubscribe()},Be=l.subscribe({next:Ee,error:Ee,complete:Ee})}}else l=ef(yl(Y,ae))}else l=Co.of({data:{}}),t=this.prepareContext(t);var ue=this.transform(e).clientQuery;return ue&&(l=Hv(l,function(Re){return a.localState.runResolvers({document:ue,remoteResult:Re,context:t,variables:i})})),l},r.prototype.fetchRequest=function(e){var t=this,i=e.requestId,n=e.queryId,a=e.document,l=e.options,g=e.fetchMoreForQueryId,x=l.variables,V=l.errorPolicy,Y=V===void 0?"none":V,ae=l.fetchPolicy,le,_e;return new Promise(function(Ee,Be){var ue=t.getObservableFromLink(a,l.context,x),Re="fetchRequest:"+n;t.fetchQueryRejectFns.set(Re,Be);var Ce=function(){t.fetchQueryRejectFns.delete(Re),t.setQuery(n,function(He){var Ke=He.subscriptions;Ke.delete(Ie)})},Ie=ue.map(function(He){if(i>=t.getQuery(n).lastRequestId&&(t.markQueryResult(n,He,l,g),t.queryStore.markQueryResult(n,He,g),t.invalidate(n),t.invalidate(g),t.broadcastQueries()),Y==="none"&&Os(He.errors))return Be(new Ha({graphQLErrors:He.errors}));if(Y==="all"&&(_e=He.errors),g||ae==="no-cache")le=He.data;else{var Ke=t.dataStore.getCache().diff({variables:x,query:a,optimistic:!1,returnPartialData:!0}),ot=Ke.result,ft=Ke.complete;(ft||l.returnPartialData)&&(le=ot)}}).subscribe({error:function(He){Ce(),Be(He)},complete:function(){Ce(),Ee({data:le,errors:_e,loading:!1,networkStatus:Ar.ready,stale:!1})}});t.setQuery(n,function(He){var Ke=He.subscriptions;Ke.add(Ie)})})},r.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},r.prototype.setQuery=function(e,t){var i=this.getQuery(e),n=xt(xt({},i),t(i));this.queries.set(e,n)},r.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},r.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return xt(xt({},t),{clientAwareness:this.clientAwareness})},r.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Ar.ready&&t.networkStatus!==Ar.error},r.prototype.startPollingQuery=function(e,t,i){var n=this,a=e.pollInterval;if(Ji(a,18),!this.ssrMode){var l=this.pollingInfoByQueryId.get(t);l||this.pollingInfoByQueryId.set(t,l={}),l.interval=a,l.options=xt(xt({},e),{fetchPolicy:"network-only"});var g=function(){var V=n.pollingInfoByQueryId.get(t);V&&(n.checkInFlight(t)?x():n.fetchQuery(t,V.options,as.poll).then(x,x))},x=function(){var V=n.pollingInfoByQueryId.get(t);V&&(clearTimeout(V.timeout),V.timeout=setTimeout(g,V.interval))};i&&this.addQueryListener(t,i),x()}return t},r.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},r}(),Vv=function(){function r(e){this.cache=e}return r.prototype.getCache=function(){return this.cache},r.prototype.markQueryResult=function(e,t,i,n,a){a===void 0&&(a=!1);var l=!ns(e);a&&ns(e)&&e.data&&(l=!0),!n&&l&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:i})},r.prototype.markSubscriptionResult=function(e,t,i){ns(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:i})},r.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(n){var a=t.cache;t.cache=n;try{t.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},r.prototype.markMutationResult=function(e){var t=this;if(!ns(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],n=e.updateQueries;n&&Object.keys(n).forEach(function(a){var l=n[a],g=l.query,x=l.updater,V=t.cache.diff({query:g.document,variables:g.variables,returnPartialData:!0,optimistic:!1}),Y=V.result,ae=V.complete;if(ae){var le=zu(function(){return x(Y,{mutationResult:e.result,queryName:is(g.document)||void 0,queryVariables:g.variables})});le&&i.push({result:le,dataId:"ROOT_QUERY",query:g.document,variables:g.variables})}}),this.cache.performTransaction(function(a){i.forEach(function(g){return a.write(g)});var l=e.update;l&&zu(function(){return l(a,e.result)})})}},r.prototype.markMutationComplete=function(e){var t=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(t)},r.prototype.markUpdateQueryResult=function(e,t,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:t,query:e})},r.prototype.reset=function(){return this.cache.reset()},r}(),jv="2.6.10",zv=!1,Wv=function(){function r(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,n=e.ssrMode,a=n===void 0?!1:n,l=e.ssrForceFetchDelay,g=l===void 0?0:l,x=e.connectToDevTools,V=e.queryDeduplication,Y=V===void 0?!0:V,ae=e.defaultOptions,le=e.assumeImmutableResults,_e=le===void 0?!1:le,Ee=e.resolvers,Be=e.typeDefs,ue=e.fragmentMatcher,Re=e.name,Ce=e.version,Ie=e.link;if(!Ie&&Ee&&(Ie=Xn.empty()),!Ie||!i)throw new qr(4);this.link=Ie,this.cache=i,this.store=new Vv(i),this.disableNetworkFetches=a||g>0,this.queryDeduplication=Y,this.defaultOptions=ae||{},this.typeDefs=Be,g&&setTimeout(function(){return t.disableNetworkFetches=!1},g),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var He=!1;(typeof x=="undefined"?He:x&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=jv,this.localState=new Zd({cache:i,client:this,resolvers:Ee,fragmentMatcher:ue}),this.queryManager=new Gv({link:this.link,store:this.store,queryDeduplication:Y,ssrMode:a,clientAwareness:{name:Re,version:Ce},localState:this.localState,assumeImmutableResults:_e,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return r.prototype.stop=function(){this.queryManager.stop()},r.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=xt(xt({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=xt(xt({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},r.prototype.query=function(e){return this.defaultOptions.query&&(e=xt(xt({},this.defaultOptions.query),e)),Ji(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=xt(xt({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},r.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=xt(xt({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},r.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},r.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},r.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},r.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},r.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},r.prototype.__requestRaw=function(e){return yl(this.link,e)},r.prototype.initQueryManager=function(){return this.queryManager},r.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},r.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},r.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(i){return i!==e})}},r.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(i){return i!==e})}},r.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},r.prototype.extract=function(e){return this.cache.extract(e)},r.prototype.restore=function(e){return this.cache.restore(e)},r.prototype.addResolvers=function(e){this.localState.addResolvers(e)},r.prototype.setResolvers=function(e){this.localState.setResolvers(e)},r.prototype.getResolvers=function(){return this.localState.getResolvers()},r.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},r}();const uR=null;var wl,Kv=new Uint8Array(16);function Qv(){if(!wl&&(wl=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wl(Kv)}const Yv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Jv(r){return typeof r=="string"&&Yv.test(r)}const Xv=Jv;for(var en=[],Yu=0;Yu<256;++Yu)en.push((Yu+256).toString(16).substr(1));function Zv(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(en[r[e+0]]+en[r[e+1]]+en[r[e+2]]+en[r[e+3]]+"-"+en[r[e+4]]+en[r[e+5]]+"-"+en[r[e+6]]+en[r[e+7]]+"-"+en[r[e+8]]+en[r[e+9]]+"-"+en[r[e+10]]+en[r[e+11]]+en[r[e+12]]+en[r[e+13]]+en[r[e+14]]+en[r[e+15]]).toLowerCase();if(!Xv(t))throw TypeError("Stringified UUID is invalid");return t}const eg=Zv;function tg(r,e,t){r=r||{};var i=r.random||(r.rng||Qv)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=i[n];return e}return eg(i)}const tf=tg;var ig=Object.defineProperty,rg=(r,e,t)=>e in r?ig(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ls=(r,e,t)=>rg(r,typeof e!="symbol"?e+"":e,t);const Ju="PullRequestOverview";function Xu(){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<32;t++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}class rf extends v{constructor(){super(),Ls(this,"_webview"),Ls(this,"_waitForReady"),Ls(this,"_onIsReady",this._register(new s.EventEmitter)),Ls(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var i;const n={seq:e.req,res:t};(i=this._webview)==null||i.postMessage(n)}async _throwError(e,t){var i;const n={seq:e==null?void 0:e.req,err:t};(i=this._webview)==null||i.postMessage(n)}}class nf extends rf{constructor(e){super(),this._extensionUri=e,Ls(this,"viewType"),Ls(this,"_view")}resolveWebviewView(e,t,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():vt.focusView(this.viewType)}}const ng=/:([-+_a-z0-9]+):/g;let No,Zu;async function ag(r){No===void 0&&(Zu===void 0&&(Zu=sg(r)),await Zu)}async function sg(r){const e=s.Uri.joinPath(r.extensionUri,"resources","emojis.json");No=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function og(r){return No===void 0?r:r.replace(ng,(e,t)=>(No==null?void 0:No[t])||e)}const lg="[a-zA-Z0-9-]+",af=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],sf=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],ug=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var cg=Object.defineProperty,dg=(r,e,t)=>e in r?cg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fn=(r,e,t)=>dg(r,typeof e!="symbol"?e+"":e,t),ec;(r=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}r.is=e})(ec||(ec={}));class Mo{constructor(e){fn(this,"parent"),fn(this,"mode"),fn(this,"originalAuthor"),fn(this,"label"),fn(this,"reactions"),fn(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Mo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Mo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const of=class rv extends Mo{constructor(e,t,i,n,a){super(e),this.input=t,fn(this,"commentId"),fn(this,"id"),fn(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:n.login,iconPath:n.avatarUrl?s.Uri.parse(`${n.avatarUrl}&s=64`):void 0},this.label=i?s.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=rv.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){return new s.MarkdownString(this.input)}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};fn(of,"idPool",0);let Hn=of;const lf=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,fg=/<img .*src=['"](?<src>.+?)['"].*?>/g,uf=class nv extends Mo{constructor(e,t,i,n){super(i),this.context=e,this.githubRepositories=n,fn(this,"commentId"),fn(this,"timestamp"),fn(this,"rawComment"),fn(this,"_rawBody"),fn(this,"replacedBody"),this.rawComment=t,this.originalAuthor={name:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const a=t.user?Va.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const g=await a;g.length>0&&(this.author.iconPath=g[0]),this.refresh()}),this.commentId=t.id.toString(),Nf(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0;const l=[];t.canEdit&&l.push("canEdit"),t.canDelete&&l.push("canDelete"),this.suggestion!==void 0&&l.push("hasSuggestion"),this.contextValue=l.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let i=!1;Nf(this,e.reactions)&&(i=!0);const n=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0,this.label!==n&&(i=!0);const a=[];e.canEdit&&a.push("canEdit"),e.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion");const l=this.contextValue;this.contextValue=a.join(","),l!==this.contextValue&&(i=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(lf),i=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return i||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(fg,(t,i,n,a,{src:l})=>`![image](${l})`)}replaceSuggestion(e){return e.replace(new RegExp(lf,"g"),(t,...i)=>{var n;return`***
Suggested change:
\`\`\`
${(n=i[3])!=null?n:""}
\`\`\`
***`})}async createLocalFilePath(e,t,i,n){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${i}-${n}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepositories;if(!t||t.length===0)return e;const i=new RegExp(`https://github.com/(.+)/${t[0].remote.repositoryName}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Fe(e,i,async(n,a,l,g,x,V,Y,ae)=>{if(ae&&ae>0&&e.charAt(ae-1)==="(")return n;const le=t.find(Ce=>Ce.remote.owner.toLocaleLowerCase()===a.toLocaleLowerCase());if(!le)return n;const _e=parseInt(x),Ee=Y?parseInt(Y):_e+1,Be=await le.getLines(l,g,_e,Ee);if(!Be)return n;const ue=await this.createLocalFilePath(le.rootUri,g,_e,Ee),Re=Y?`Lines ${_e} to ${Ee} in \`${l.substring(0,7)}\``:`Line ${_e} in \`${l.substring(0,7)}\``;return`
***
[${g}](${ue!=null?ue:n})${ue?` ([view on GitHub](${n}))`:""}

${Re}
\`\`\`
${Be}
\`\`\`
***`})}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=ag(this.context);if(y.trace("Replace comment body",nv.ID),e instanceof s.MarkdownString){const x=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion(x))}const i=this.replaceNewlines(e),n=(await s.workspace.openTextDocument(this.parent.uri)).languageId,a=new RegExp(`([^/[\`]|^)@(${lg})`,"g"),l=i.replace(a,(x,V,Y,ae)=>{var le,_e;if(((_e=(le=i.substring(0,ae).match(/```/g))==null?void 0:le.length)!=null?_e:0)%2===1||x.includes("]")||x.includes(")"))return x;const Ee=x.substring(x.startsWith("@")?1:2);return(n==="javascript"||n==="typescript")&&af.includes(Ee)||n==="php"&&sf.includes(Ee)?x:`${x.startsWith("@")?"":x.charAt(0)}[@${Ee}](${U.dirname(this.rawComment.user.url)}/${Ee})`}),g=await this.replacePermalink(l);return await t,this.postpendSpecialAuthorComment(og(this.replaceImg(this.replaceSuggestion(g))))}async doSetBody(e,t){this._rawBody=e;const i=await this.replaceBody(e);i!==this.replacedBody&&(this.replacedBody=i,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){return this.mode===s.CommentMode.Editing?this._rawBody:new s.MarkdownString(this.replacedBody)}getCancelEditBody(){return new s.MarkdownString(this.rawComment.body)}};fn(uf,"ID","GHPRComment");let Or=uf;async function ss(r,e,t,i,n=!1){var a;const l=[],g=[];for(const V of t){const Y=yt(V);e.has(Y)||(g.push(V),e.add(Y))}const x=await Va.avatarCirclesAsImageDataUris(r,g,16,16,n);for(let V=0;V<g.length;V++){const Y=g[V];let ae;wi(Y)&&(ae=Y.isAuthor&&Y.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):Y.isAuthor?s.l10n.t("Recently edited these files"):Y.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),l.push({label:Ft(Y)?`${Y.org}/${Y.slug}`:Y.login,description:Y.name,user:Y,picked:i,detail:ae,iconPath:(a=x[V])!=null?a:hg(Y)})}return l}async function cf(r,e,t,i,n,a){var l;const[g,x]=await Promise.all([r.getAssignableUsers(),n?r.getPullRequestParticipants(n.githubRepository,n.number):void 0]),V=x==null?void 0:x.viewer,Y=(l=x==null?void 0:x.participants)!=null?l:[];let ae=g[t];ae=ae!=null?ae:[];const le=new Set,_e=[];if(i.length&&_e.push(ss(r.context,le,i!=null?i:[],!0)),V&&!le.has(V.login)&&ae.findIndex(Be=>Be.login===V.login)!==-1&&_e.push(ss(r.context,le,[V],!1)),Y.length&&_e.push(ss(r.context,le,Y,!1)),_e.length!==0&&_e.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),ae.length){const Be=ae.length>80;_e.push(ss(r.context,le,ae,!1,Be))}const Ee=(await Promise.all(_e)).flat();if(Ee.length===0&&Ee.push({label:s.l10n.t("No assignees available for this repository")}),a){const Be=V!=null?V:await r.getCurrentUser(e);Ee.length!==0&&Ee.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),Ee.unshift({label:s.l10n.t("Assign yourself"),user:Be})}return Ee}function hg(r){return Ft(r)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function mg(r,e,t,i,n,a,l){var g;if(!a)return[];const x=await r.getAssignableUsers(),ae=[...(g=(t?await r.getTeamReviewers(l):[])[e])!=null?g:[]];x[e]&&ae.push(...x[e]);const le=new Set([i.login]),_e=[];n.length&&_e.push(ss(r.context,le,n.map(ue=>ue.reviewer),!0)),_e.push(ss(r.context,le,a,!1));const Ee=ae.length>60;_e.push(ss(r.context,le,ae,!1,Ee));const Be=(await Promise.all(_e)).flat();return Be.length===0&&Be.push({label:s.l10n.t("No reviewers available for this repository")}),Be}async function df(r,e,t,i,n,a,l){const g=s.window.createQuickPick(),x=100,V=s.l10n.t("Add reviewers");g.busy=!0,g.canSelectMany=!0,g.matchOnDescription=!0,g.placeholder=V,t&&(g.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),g.show();const Y=async ae=>{const le=setTimeout(()=>{g.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),_e=performance.now();g.items=await mg(r,e,t,n,a,l,ae),y.appendLine(`Setting quick pick reviewers took ${performance.now()-_e}ms`,"QuickPicks"),clearTimeout(le),g.selectedItems=g.items.filter(Ee=>Ee.picked),g.placeholder=V};return await Y(i!==0&&i<=x?Bs.Try:Bs.None),g.onDidTriggerButton(()=>{g.busy=!0,g.ignoreFocusOut=!0,Y(Bs.Force).then(()=>{g.ignoreFocusOut=!1,g.busy=!1})}),g}function pg(r){return!!r.id&&!!r.project}async function ff(r,e,t,i){try{let n=[];async function a(){const g=await r.getAllProjects(e);return!g||!g.length?[{label:s.l10n.t("No projects created for this repository.")}]:g.map(V=>{const Y={iconPath:new s.ThemeIcon("github-project"),label:V.title,id:V.id,project:V};return t&&t.find(ae=>ae.id===V.id)&&n.push(Y),Y})}const l=s.window.createQuickPick();l.busy=!0,l.canSelectMany=!0,l.title=s.l10n.t("Set projects"),l.show(),l.items=await a(),l.items.length===1&&(l.canSelectMany=!1),l.selectedItems=n,l.busy=!1,r.getOrgProjects(!0),l.onDidAccept(async()=>{l.hide();const g=l.selectedItems.map(x=>pg(x)?x.project:void 0).filter(x=>x!==void 0);g&&await i(g)})}catch(n){s.window.showErrorMessage(`Failed to add project: ${pe(n)}`)}}function vg(r){return!!r.id&&!!r.milestone}async function hf(r,e,t,i){try{const n={label:s.l10n.t("Remove Milestone")};let a;async function l(){const x=await e.getMilestones();if(!x||!x.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const V=x.map(Y=>{const ae={iconPath:new s.ThemeIcon("milestone"),label:Y.title,id:Y.id,milestone:Y};return t&&t.id===Y.id&&(a=ae),ae});return t&&(V.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),V.unshift(n)),V}const g=s.window.createQuickPick();g.busy=!0,g.canSelectMany=!1,g.title=s.l10n.t("Set milestone"),g.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],g.onDidTriggerButton(x=>{g.hide();const V=s.window.createInputBox();V.title=s.l10n.t("Create new milestone"),V.placeholder=s.l10n.t("New milestone title"),g.value!==""&&(V.value=g.value),V.show(),V.onDidAccept(async()=>{if(V.hide(),V.value!==""){if(V.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const Y of g.items)if(Y.label===V.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",V.value));return}try{const Y=await r.createMilestone(e,V.value);Y!==void 0&&await i(Y)}catch(Y){Y.errors&&Array.isArray(Y.errors)&&Y.errors.find(ae=>ae.code==="already_exists")!==void 0?s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone already exists and might be closed")):s.window.showErrorMessage(`Failed to create milestone: ${pe(Y)}`)}}})}),g.show(),g.items=await l(),g.activeItems=a?[a]:t?[g.items[1]]:[g.items[0]],g.busy=!1,g.onDidAccept(async()=>{g.hide();const x=g.selectedItems[0];x&&vg(x)?await i(x.milestone):x&&x===n&&await i(void 0)})}catch(n){s.window.showErrorMessage(`Failed to add milestone: ${pe(n)}`)}}async function mf(r,e,t,i){const n=await r.getLabels(void 0,{owner:t,repo:i}),a=n.map(l=>{var g;return{label:l.name,description:(g=l.description)!=null?g:void 0,picked:e.some(x=>x.name===l.name),iconPath:Va.asImageDataURI(Ur.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${l.color}"/>
				</svg>`,"utf8"))}});return{newLabels:n,labelPicks:a}}async function gg(r,e){async function t(){return(await r.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const i=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return i?i.label:void 0}var bg=ni(65606),yg=Object.defineProperty,wg=(r,e,t)=>e in r?yg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$a=(r,e,t)=>wg(r,typeof e!="symbol"?e+"":e,t);const _l=class wa extends rf{constructor(e,t,i,n,a,l=wa._viewType){super(),this._telemetry=e,this._extensionUri=t,$a(this,"_panel"),$a(this,"_descriptionNode"),$a(this,"_item"),$a(this,"_folderRepositoryManager"),$a(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=a,this._panel=this._register(s.window.createWebviewPanel(l,n,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(g=>{if(this._folderRepositoryManager&&this._item){const x=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:x})}}))}static async createOrShow(e,t,i,n,a=!1){const l=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(wa.currentPanel)wa.currentPanel._panel.reveal(l,!0);else{const g=`Issue #${n.number.toString()}`;wa.currentPanel=new wa(e,t,l||s.ViewColumn.Active,g,i)}await wa.currentPanel.update(i,n)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(e){return Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e)]).then(t=>{const[i,n,a]=t;if(!i)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${e.number.toString()}`),y.debug("pr.initialize",wa.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,titleHTML:this._item.titleHTML,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:n,repositoryDefaultBranch:a,canEdit:!0,status:{statuses:[]},isIssue:!0,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark}})}).catch(t=>{s.window.showErrorMessage(pe(t))})}async update(e,t){return this._folderRepositoryManager=e,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(),this.updateIssue(t)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}async addLabels(e){const t=s.window.createQuickPick();try{let i=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await mf(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(g=>(i=g.newLabels,g.labelPicks)),t.selectedItems=t.items.filter(g=>g.picked),t.busy=!1;const n=Me(t.onDidAccept).then(()=>t.selectedItems),a=Me(t.onDidHide),l=await Promise.race([n,a]);if(t.busy=!0,l){await this._item.setLabels(l.map(x=>x.label));const g=l.map(x=>i.find(V=>V.name===x.label));this._item.item.labels=g,await this._replyMessage(e,{added:g})}}catch(i){s.window.showErrorMessage(pe(i))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args);const t=this._item.item.labels.findIndex(i=>i.name===e.args);this._item.item.labels.splice(t,1),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(pe(t))}}webviewDebug(e){y.debug(e.args,wa.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${pe(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${pe(t)}`)})}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(pe(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(i=>{this._replyMessage(e,{})}).catch(i=>{this._throwError(e,i),s.window.showErrorMessage(pe(i))})})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t?this._replyMessage(e,{value:t}):this._throwError(e,"Close cancelled")})}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}set _currentPanel(e){wa.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=Xu(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${bg.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};$a(_l,"ID","IssueOverviewPanel"),$a(_l,"currentPanel"),$a(_l,"_viewType","IssueOverview");let pf=_l;var kl;(r=>{async function e(t,i){const n=await t.getBranchNameForPullRequest(i),a=[],l=await t.getPullRequestRepositoryDefaultBranch(i);if(i.isResolved()){const V=i.head.ref,Y=t.findRepo(le=>le.remote.owner===i.head.owner&&le.remote.repositoryName===i.remote.repositoryName);!(l===i.head.ref)&&!i.isRemoteHeadDeleted&&a.push({label:s.l10n.t("Delete remote branch {0}",`${Y==null?void 0:Y.remote.remoteName}/${V}`),description:`${i.remote.normalizedHost}/${i.head.repositoryCloneUrl.owner}/${i.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(n){const V=s.workspace.getConfiguration(lt).get(`${Mi}.${Ii}`);a.push({label:s.l10n.t("Delete local branch {0}",n.branch),type:"local",picked:!!V});const Y=s.workspace.getConfiguration(lt).get(`${Mi}.${Qi}`);n.remote&&n.createdForPullRequest&&!n.remoteInUse&&a.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",n.remote),type:"remote",picked:!!Y})}if(s.env.remoteName==="codespaces"&&a.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!a.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",i.number)),{isReply:!0,message:{cancelled:!0}};const g=await s.window.showQuickPick(a,{canPickMany:!0,ignoreFocusOut:!0}),x=[];if(g){const V=i.equals(t.activePullRequest),Y=g.map(async ae=>{switch(ae.type){case"remoteHead":await t.deleteBranch(i),x.push(ae.type),await t.repository.fetch({prune:!0}),t.repository.rootUri.scheme===ii.VscodeVfs&&await t.repository.checkout(l);return;case"local":if(V){if(t.repository.state.workingTreeChanges.length){const le=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},le)===le)await s.commands.executeCommand("git.cleanAll");else return}await t.repository.checkout(l)}return await t.repository.deleteBranch(n.branch,!0),x.push(ae.type);case"remote":return x.push(ae.type),t.repository.removeRemote(n.remote);case"suspend":return x.push(ae.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(Y),s.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:x}}}else return{isReply:!0,message:{cancelled:!0}}}r.deleteBranch=e})(kl||(kl={}));var os=(r=>(r.Comment="comment",r.Approve="approve",r.RequestChanges="requestChanges",r))(os||{}),Sl=(r=>(r[r.None=0]="None",r[r.Available=1]="Available",r[r.ReviewedWithComments=2]="ReviewedWithComments",r[r.ReviewedWithoutComments=3]="ReviewedWithoutComments",r))(Sl||{}),_g=Object.defineProperty,kg=(r,e,t)=>e in r?_g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ls=(r,e,t)=>kg(r,typeof e!="symbol"?e+"":e,t);const tc=class aa extends pf{constructor(e,t,i,n,a){super(e,t,i,n,a,Ju),ls(this,"_repositoryDefaultBranch"),ls(this,"_existingReviewers",[]),ls(this,"_teamsCount",0),ls(this,"_prListeners",[]),ls(this,"_isUpdating",!1),this._panel.iconPath={dark:s.Uri.joinPath(t,"resources/icons/dark/pr_webview.svg"),light:s.Uri.joinPath(t,"resources/icons/pr_webview.svg")},this.registerPrListeners(),this._register(Uh(l=>{l&&this._item.update(l),this._postMessage({command:"update-state",state:this._item.state})})),this.setVisibilityContext(),this._register(this._panel.onDidChangeViewState(()=>this.setVisibilityContext())),this._register(a.onDidMergePullRequest(l=>{this._postMessage({command:"update-state",state:Hi.Merged})})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updatePullRequest(this._item)})),this._register(s.commands.registerCommand("review.approveDescription",l=>this.approvePullRequestCommand(l))),this._register(s.commands.registerCommand("review.commentDescription",l=>this.submitReviewCommand(l))),this._register(s.commands.registerCommand("review.requestChangesDescription",l=>this.requestChangesCommand(l))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>pa(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>pa(this._item,this._item._telemetry)))}static async createOrShow(e,t,i,n,a=!1,l=!0){const g=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(aa.currentPanel)aa.currentPanel._panel.reveal(g,l);else{const x=`Pull Request #${n.number.toString()}`;aa.currentPanel=new aa(e,t,g||s.ViewColumn.Active,x,i)}await aa.currentPanel.update(i,n)}set _currentPanel(e){aa.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerPrListeners(){k(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChangeComments(()=>{this._isUpdating||this.refreshPanel()}))}setVisibilityContext(){return vt.setContext(qi.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){const i=e.find(n=>yt(n.reviewer)===t.login);return i==null?void 0:i.state}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||s.workspace.getConfiguration(lt).get("experimentalUpdateBranchWithGitHub",!1)}async updatePullRequest(e){return Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.credentialStore.getIsEmu(e.remote.authProviderId)]).then(t=>{var i,n;const[a,l,g,x,V,Y,ae,le,_e,Ee,Be,ue,Re,Ce]=t;if(!a)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=a,this.registerPrListeners(),this._repositoryDefaultBranch=g,this._teamsCount=Ee,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const Ie=e.equals(this._folderRepositoryManager.activePullRequest),He=Y.hasWritePermission,Ke=Y.mergeMethodsAvailability,ot=He||_e,ft=Rl(Ke);this._existingReviewers=$f(V,l,a.author);const Lt=a.base&&!!a.head&&!a.base.repositoryCloneUrl.equals(a.head.repositoryCloneUrl),At=this.isUpdateBranchWithGitHubEnabled(),Ui=Lt&&Al(),Wi=this.getCurrentUserReviewState(this._existingReviewers,le);y.debug("pr.initialize",aa.ID);const ar={number:a.number,title:a.title,titleHTML:a.titleHTML,url:a.html_url,createdAt:a.createdAt,body:a.body,bodyHTML:a.bodyHTML,labels:a.item.labels,author:{id:a.author.id,login:a.author.login,name:a.author.name,avatarUrl:a.userAvatar,url:a.author.url},state:a.state,events:l,isCurrentlyCheckedOut:Ie,isRemoteBaseDeleted:a.isRemoteBaseDeleted,base:a.base.label,isRemoteHeadDeleted:a.isRemoteHeadDeleted,isLocalHeadDeleted:!ae,head:(n=(i=a.head)==null?void 0:i.label)!=null?n:"",repositoryDefaultBranch:g,canEdit:ot,hasWritePermission:He,status:x[0],reviewRequirement:x[1],canUpdateBranch:a.item.viewerCanUpdate&&!ue&&At,mergeable:Re.mergeability,reviewers:this._existingReviewers,isDraft:a.isDraft,mergeMethodsAvailability:Ke,defaultMergeMethod:ft,autoMerge:a.autoMerge,allowAutoMerge:a.allowAutoMerge,autoMergeMethod:a.autoMergeMethod,mergeQueueMethod:Be,mergeQueueEntry:a.mergeQueueEntry,mergeCommitMeta:a.mergeCommitMeta,squashCommitMeta:a.squashCommitMeta,isIssue:!1,projectItems:a.item.projectItems,milestone:a.milestone,assignees:a.assignees,continueOnGitHub:Ui,emailForCommit:Ce?void 0:le.email,isAuthor:le.login===a.author.login,currentUserReviewState:Wi,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:a.githubRepository.remote.isEnterprise,revertable:a.state===Hi.Merged};this._postMessage({command:"pr.initialize",pullrequest:ar}),a.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(a,!0)}).catch(t=>{s.window.showErrorMessage(pe(t))})}async update(e,t){return this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview()),s.window.withProgress({location:{viewId:"pr:github"}},()=>this.updatePullRequest(t))}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.copy-prlink":return this.copyPrLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return pa(this._item,this._item._telemetry);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview();case"pr.re-request-review":return this.reRequestReview(e);case"pr.revert":return this.revert(e)}}gotoChangesSinceReview(){this._item.showChangesSinceReview=!0}async changeReviewers(e){let t;try{t=await df(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const i=Me(t.onDidAccept).then(()=>t.selectedItems.filter(l=>l.user)),n=Me(t.onDidHide),a=await Promise.race([i,n]);if(t.busy=!0,a){const l=[],g=[];a.forEach(ae=>{(Ft(ae.user)?g:l).push(ae.user.id)});const x=[],V=[];this._existingReviewers.forEach(ae=>{let le=Ft(ae.reviewer)?g:l,_e=Ft(ae.reviewer)?V:x;le.find(Ee=>Ee===ae.reviewer.id)||_e.push(ae.reviewer.id)}),await this._item.requestReview(l,g),await this._item.deleteReviewRequest(x,V);const Y=a.map(ae=>({reviewer:ae.user,state:"REQUESTED"}));this._existingReviewers=Y,await this._replyMessage(e,{reviewers:Y})}}catch(i){y.error(pe(i),aa.ID),s.window.showErrorMessage(pe(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async addMilestone(e){return hf(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(pe(t))}}async changeProjects(e){var t;return ff(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(i=>i.project),i=>this.updateProjects(i,e))}async updateProjects(e,t){if(e){const n={projectItems:await this._item.updateProjects(e)};return this._replyMessage(t,n)}}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async changeAssignees(e){var t,i,n;const a=s.window.createQuickPick();try{a.busy=!0,a.canSelectMany=!0,a.matchOnDescription=!0,a.show(),a.items=await cf(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),a.selectedItems=a.items.filter(V=>V.picked),a.busy=!1;const l=Me(a.onDidAccept).then(()=>a.selectedItems.filter(V=>V.user)),g=Me(a.onDidHide),x=await Promise.race([l,g]);if(a.busy=!0,x){const V=x.map(ae=>ae.user),Y=(n=(i=this._item.assignees)==null?void 0:i.filter(ae=>!V.find(le=>le.login===ae.login)))!=null?n:[];this._item.assignees=V,await this._item.addAssignees(V.map(ae=>ae.login)),await this._item.deleteAssignees(Y.map(ae=>ae.login)),await this._replyMessage(e,{assignees:V})}}catch(l){s.window.showErrorMessage(pe(l))}finally{a.hide(),a.dispose()}}async addAssigneeYourself(e){var t,i;try{const n=await this._folderRepositoryManager.getCurrentUser();((t=this._item.assignees)==null?void 0:t.find(l=>l.login===n.login))||(this._item.assignees=(i=this._item.assignees)==null?void 0:i.concat(n),await this._item.addAssignees([n.login])),this._replyMessage(e,{assignees:this._item.assignees})}catch(n){s.window.showErrorMessage(pe(n))}}async applyPatch(e){try{const t=e.args.comment,n=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),l=new TextEncoder;await s.workspace.fs.writeFile(a,l.encode(n[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){y.error(`Applying patch failed: ${t}`,aa.ID),s.window.showErrorMessage(`Applying patch failed: ${pe(t)}`)}}async openDiff(e){try{const t=e.args.comment;return Yr.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){y.error(`Open diff view failed: ${pe(t)}`,aa.ID)}}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._item.getTimelineEvents();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}mergePullRequest(e){const{title:t,description:i,method:n,email:a}=e.args;this._folderRepositoryManager.mergePullRequest(this._item,t,i,n,a).then(l=>{s.commands.executeCommand("pr.refreshList"),l.merged||s.window.showErrorMessage(`Merging PR failed: ${l.message}`);const g={state:l.merged?Hi.Merged:Hi.Open,revertable:l.merged,events:l.timeline};this._replyMessage(e,g)}).catch(l=>{s.window.showErrorMessage(`Unable to merge pull request. ${pe(l)}`),this._throwError(e,{})})}async changeEmail(e){const t=await gg(this._item.githubRepository,e.args);return this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await kl.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(`Unable to set PR ready for review. ${pe(t)}`),this._throwError(e,{})})}async checkoutDefaultBranch(e){var t;try{const i=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(e.args),i&&await this._folderRepositoryManager.cleanupAfterPullRequest(i,this._item)}finally{this._replyMessage(e,{})}}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const n={command:"pr.submitting-review",lastReviewType:t};this._postMessage(n);try{const a=await i(e.body);this.updateReviewers(a);const l={command:"pr.append-review",review:a,reviewers:this._existingReviewers};await this._postMessage(l)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",pe(a))),this._throwError(void 0,`${pe(a)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",pe(i))),this._throwError(e,`${pe(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,os.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,os.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(ir.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,os.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){let t;const i=[],n=[];for(const a of this._existingReviewers){let l,g;a&&Ft(a.reviewer)?(l=a.reviewer.id,g=n):a&&!Ft(a.reviewer)&&(l=a.reviewer.id,g=i),g&&l&&(a.state==="REQUESTED"||l===e.args)&&(g.push(l),l===e.args&&(t=a))}this._item.requestReview(i,n).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const i={revertable:!t};return this._replyMessage(e,i)})}async copyPrLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(uc(this._item))}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){if(!this.isUpdateBranchWithGitHubEnabled())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),this._replyMessage(e,{});if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=$e.Unknown,n=5;do i=(await this._item.getMergeability()).mergeability,n--,await new Promise(l=>setTimeout(l,1e3));while(n>0&&i===$e.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refreshPanel(),this._replyMessage(e,a)}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}dispose(){super.dispose(),k(this._prListeners)}};ls(tc,"ID","PullRequestOverviewPanel"),ls(tc,"currentPanel");let Zn=tc;function Rl(r){const e=s.workspace.getConfiguration(lt).get(mi);return e&&r.hasOwnProperty(e)&&r[e]?e:["merge","squash","rebase"].find(i=>r[i])}var Sg=Object.defineProperty,Rg=(r,e,t)=>e in r?Sg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Eg=(r,e,t)=>Rg(r,typeof e!="symbol"?e+"":e,t);class vf extends v{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,Eg(this,"_commentController")}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const i=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});i&&t.push(i)}return t}}var Tg=Object.defineProperty,Cg=(r,e,t)=>e in r?Tg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Us=(r,e,t)=>Cg(r,typeof e!="symbol"?e+"":e,t);const gf=class av extends vf{constructor(e,t,i,n){if(super(t,n),this.pullRequestModel=e,Us(this,"_pendingCommentThreadAdds",[]),Us(this,"_commentHandlerId"),Us(this,"_commentThreadCache",{}),Us(this,"_context"),Us(this,"_githubRepositories"),this._commentController=i,this._context=t.context,this._commentHandlerId=tf(),Ut(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(i=>{Mf(i,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==ii.Pr)return;const i=xr(t);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],i=n=>{const a=xr(n.uri);if(a&&a.prNumber===this.pullRequestModel.number)return n.editor?Promise.resolve(n.editor.document):(y.trace(`Opening text document for PR editor ${n.uri.toString()}`,av.ID),s.workspace.openTextDocument(n.uri))};for(const n of e){const a=[];n instanceof s.TabInputText?a.push({uri:n.uri}):n instanceof s.TabInputTextDiff?a.push({uri:n.original},{uri:n.modified}):a.push({uri:n.document.uri,editor:n}),t.push(...a.map(i).filter(l=>!!l))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,i=ie(t,a=>a.path),n=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:l,isBase:g}=xr(a.uri),x=this.getCommentThreadCacheKey(l,g);this._commentThreadCache[x]||i[l]&&(this._commentThreadCache[x]=i[l].filter(V=>(V.diffSide===Gt.LEFT&&g||V.diffSide===Gt.RIGHT&&!g)&&V.endLine!==null).map(V=>{const Y=V.endLine-1,ae=V.subjectType===de.FILE?void 0:Io(V.startLine-1,Y,a.lineAt(Y).range.end.character);return Do(this._context,a.uri,ae,V,this._commentController,n.login,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(Ju))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(i=>i.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await Yr.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const i of e)t.push(await s.workspace.openTextDocument(i.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const i=await this.openAllTextDocuments();await this.addThreadsForEditors(i)}e.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}onDidChangeReviewThreads(e){e.added.forEach(async t=>{const i=t.path,n=this._pendingCommentThreadAdds.findIndex(g=>{const x=this._folderRepoManager.gitRelativeRootPath(g.uri.path)===t.path,V=g.range===void 0&&t.subjectType===de.FILE||g.range&&g.range.end.line+1===t.endLine;return x&&V});let a;if(n>-1)a=this._pendingCommentThreadAdds[n],a.gitHubThreadId=t.id,a.comments=t.comments.map(g=>new Or(this._context,g,a,this._githubRepositories)),Cf(this._context,a,t,this._githubRepositories),this._pendingCommentThreadAdds.splice(n,1);else{const x=(await this.getPREditors(s.window.visibleTextEditors)).find(V=>{const Y=xr(V.uri),ae=t.diffSide===Gt.RIGHT&&!(Y!=null&&Y.isBase)||t.diffSide===Gt.LEFT&&(Y==null?void 0:Y.isBase);return(Y==null?void 0:Y.fileName)===i&&ae});if(x){const V=t.endLine-1,Y=t.subjectType===de.FILE?void 0:Io(t.startLine-1,V,x.lineAt(V).range.end.character);a=Do(this._context,x.uri,Y,t,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this._githubRepositories)}}if(!a)return;const l=this.getCommentThreadCacheKey(t.path,t.diffSide===Gt.LEFT);this._commentThreadCache[l]?this._commentThreadCache[l].push(a):this._commentThreadCache[l]=[a]}),e.changed.forEach(t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Gt.LEFT),n=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id):-1;if(n>-1){const a=this._commentThreadCache[i][n];Cl(this._context,a,t,this._githubRepositories)}}),e.removed.forEach(async t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Gt.LEFT),n=this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id);if(n>-1){const a=this._commentThreadCache[i][n];this._commentThreadCache[i].splice(n,1),a.dispose()}})}hasCommentThread(e){if(e.uri.scheme!==ii.Pr)return!1;const t=xr(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=xr(e.uri);return t!=null&&t.isBase?Gt.LEFT:Gt.RIGHT}async createOrReplyComment(e,t,i,n){var a;const l=e.comments.length,g=i?!1:n!==void 0?n:this.pullRequestModel.hasPendingReview,x=await this.optimisticallyAddComment(e,t,g);try{if(l)await this.reply(e,t,i);else{const V=this._folderRepoManager.gitRelativeRootPath(e.uri.path),Y=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,V,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,Y,i)}i&&await this.pullRequestModel.submitReview()}catch(V){(a=V.graphQLErrors)!=null&&a.length&&V.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Y=>{Y==="Refresh"&&this.pullRequestModel.invalidate()}):s.window.showErrorMessage(`Creating comment failed: ${V}`),e.comments=e.comments.map(Y=>(Y instanceof Hn&&Y.id===x&&(Y.mode=s.CommentMode.Editing),Y))}}reply(e,t,i){const n=e.comments[0];if(n instanceof Or)return this.pullRequestModel.createCommentReply(t,n.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),n=new Hn(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Or&&a.commentId===t.commentId?n:a),n.id}async editComment(e,t){if(t instanceof Or){const i=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(n){s.window.showErrorMessage(`Editing comment failed ${n}`),e.comments=e.comments.map(a=>a instanceof Hn&&a.id===i?new Or(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Or?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(i=>!(i instanceof Hn&&i.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var i;const n=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),n)await this.reply(e,t,!1);else{const l=this._folderRepoManager.gitRelativeRootPath(e.uri.path),g=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,l,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,g)}this.setContextKey(!0)}catch(l){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=l==null?void 0:l.message)!=null?i:l}),e.comments=e.comments.map(g=>(g instanceof Hn&&g.id===a&&(g.mode=s.CommentMode.Editing),g))}}async openReview(){await Zn.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),Zn.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,i){const n=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new Hn(e,t,i,n);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Hs(e)}async createCommentOnResolve(e,t){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,t){e.parent.uri.scheme===ii.Pr&&(e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t))}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{k(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),Ki(this._commentHandlerId)}};Us(gf,"ID","PullRequestCommentController");let Ng=gf;var Mg=Object.defineProperty,Pg=(r,e,t)=>e in r?Mg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,El=(r,e,t)=>Pg(r,typeof e!="symbol"?e+"":e,t);class Ag extends v{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,El(this,"_prCommentHandlers",{}),El(this,"_prCommentingRangeProviders",{}),El(this,"_activeChangeListeners",new Map),El(this,"resourceHints",{schemes:[ii.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const i=e.uri,n=xr(i);return!n||!this._prCommentingRangeProviders[n.prNumber]?void 0:this._prCommentingRangeProviders[n.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[n.prNumber])(e,t)}async toggleReaction(e,t){const i=e.parent.uri,n=xr(i);return!n||!this._prCommentHandlers[n.prNumber]||!this._prCommentHandlers[n.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[n.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[n.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(i)||this._activeChangeListeners.set(i,i.onDidChangeActivePullRequest(a=>{var l;a.old&&((l=this._prCommentHandlers[a.old])==null||l.dispose())}));const n=new Ng(t,i,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:n,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]=t,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function Po(r,e){const t=r.definitions,n=e.definitions.concat(t);return{...e,...r,definitions:n}}var Ao=(r=>(r.prTitle="PR_TITLE",r.commitOrPrTitle="COMMIT_OR_PR_TITLE",r.mergeMessage="MERGE_MESSAGE",r))(Ao||{}),Tl=(r=>(r.prBody="PR_BODY",r.commitMessages="COMMIT_MESSAGES",r.blank="BLANK",r.prTitle="PR_TITLE",r))(Tl||{});function xg(r){return r.__typename==="CheckRun"}var Ig=Object.defineProperty,Dg=(r,e,t)=>e in r?Ig(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jr=(r,e,t)=>Dg(r,typeof e!="symbol"?e+"":e,t);const bf=class vo{constructor(e,t,i,n=!1){jr(this,"id"),jr(this,"graphNodeId"),jr(this,"number"),jr(this,"title"),jr(this,"titleHTML"),jr(this,"html_url"),jr(this,"state",Hi.Open),jr(this,"author"),jr(this,"assignees"),jr(this,"createdAt"),jr(this,"updatedAt"),jr(this,"milestone"),jr(this,"githubRepository"),jr(this,"remote"),jr(this,"item"),jr(this,"bodyHTML"),jr(this,"_onDidInvalidate",new s.EventEmitter),jr(this,"onDidInvalidate",this._onDidInvalidate.event),this.githubRepository=e,this.remote=t,this.item=i,n||this.update(i)}invalidate(){this._onDidInvalidate.fire()}get isOpen(){return this.state===Hi.Open}get isClosed(){return this.state===Hi.Closed}get isMerged(){return this.state===Hi.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),i=t.toString;return t.toString=function(n){return i.call(t,!0)},t}}}get body(){return this.item?this.item.body:""}updateState(e){e.toLowerCase()==="open"?this.state=Hi.Open:this.state=Hi.Closed}update(e){this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.title=e.title,e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&(this.bodyHTML=e.bodyHTML),this.html_url=e.url,this.author=e.user,this.milestone=e.milestone,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.updateState(e.state),e.assignees&&(this.assignees=e.assignees),this.item=e}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}async edit(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:n}=await t({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:e.body,title:e.title}}});return n!=null&&n.updatePullRequest.pullRequest&&(this.item.body=n.updatePullRequest.pullRequest.body,this.bodyHTML=n.updatePullRequest.pullRequest.bodyHTML,this.title=n.updatePullRequest.pullRequest.title,this.titleHTML=n.updatePullRequest.pullRequest.titleHTML,this.invalidate()),n.updatePullRequest.pullRequest}catch(t){throw new Error(pe(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(e)}async createIssueComment(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:n}=await t({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return Af(n.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:i,schema:n}=await this.githubRepository.ensure(),{data:a}=await i({mutation:n.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return Af(a.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error(pe(i))}}async deleteIssueComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(e)})}catch(t){throw new Error(pe(t))}}async setLabels(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();try{await t.call(t.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:e})}catch{y.error(`Failed to add labels to PR #${this.number}`,vo.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:e})}async removeProjects(e){var t;const{mutate:i,schema:n}=await this.githubRepository.ensure();try{await Promise.all(e.map(a=>i({mutation:n.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(l=>l.project.id===a.project.id))}catch(a){y.error(a,vo.ID)}}async addProjects(e){const{mutate:t,schema:i}=await this.githubRepository.ensure();try{const n=await Promise.all(e.map(a=>t({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,l)=>({project:a,id:n[l].data.addProjectV2ItemById.item.id})))}catch(n){y.error(n,vo.ID)}}async updateProjects(e){var t,i;const n=e.filter(l=>{var g;return!((g=this.item.projectItems)!=null&&g.find(x=>x.project.id===l.id))}),a=(i=(t=this.item.projectItems)==null?void 0:t.filter(l=>!e.find(g=>g.id===l.project.id)))!=null?i:[];return await this.removeProjects(a),await this.addProjects(n),this.item.projectItems}async getIssueTimelineEvents(){y.debug(`Fetch timeline events of issue #${this.number} - enter`,vo.ID);const e=this.githubRepository,{query:t,remote:i,schema:n}=await e.ensure();try{const{data:a}=await t({query:n.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}});if(a.repository===null)return y.error("Unexpected null repository when getting issue timeline events",vo.ID),[];const l=a.repository.pullRequest.timelineItems.nodes;return nc(l,e)}catch(a){return console.log(a),[]}}};jr(bf,"ID","IssueModel");let Qr=bf;var Fg=ni(58667),yf=ni.n(Fg),Og=ni(8575),Lg=ni.n(Og),Ug=ni(87831),wf=ni.n(Ug),Bg=ni(72256),xo=ni.n(Bg),qg=Object.defineProperty,Hg=(r,e,t)=>e in r?qg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hn=(r,e,t)=>Hg(r,typeof e!="symbol"?e+"":e,t);const _f=20,kf="GraphQL";var $n=(r=>(r.Unknown="unknown",r.Admin="ADMIN",r.Maintain="MAINTAIN",r.Read="READ",r.Triage="TRIAGE",r.Write="WRITE",r))($n||{}),Bs=(r=>(r[r.None=0]="None",r[r.Try=1]="Try",r[r.Force=2]="Force",r))(Bs||{}),Sf=(r=>(r.Unprocessable="UNPROCESSABLE",r))(Sf||{});const Rf=class sv extends v{constructor(e,t,i,n,a,l=!1){super(),this._id=e,this.remote=t,this.rootUri=i,this._credentialStore=n,this._telemetry=a,hn(this,"_initialized",!1),hn(this,"_hub"),hn(this,"_metadata"),hn(this,"commentsController"),hn(this,"commentsHandler"),hn(this,"_pullRequestModels",new Map),hn(this,"_queriesSchema"),hn(this,"_areQueriesLimited",!1),hn(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),hn(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),hn(this,"query",async(g,x=!1,V)=>{var Y,ae;const le=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!le){const Ee=(Y=g.query.definitions[0].name)==null?void 0:Y.value;return y.debug(`Not available for query: ${Ee!=null?Ee:"unknown"}`,kf),{data:null,loading:!1,networkStatus:Ar.error,stale:!1}}let _e;try{_e=await le.query(g)}catch(Ee){if(y.error(`Error querying GraphQL API: ${Ee.message}${Ee.graphQLErrors?`. ${Ee.graphQLErrors.map(Be=>{var ue;return(ue=Be.extensions)==null?void 0:ue.code}).join(",")}`:""}`,this.id),V)return g.query=V.query,this.query(g,x);if(Ee.graphQLErrors&&Ee.graphQLErrors.length&&Ee.graphQLErrors.some(Be=>{var ue;return((ue=Be.extensions)==null?void 0:ue.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=Po(xo(),wf()),g.query=this.schema[g.query.definitions[0].name.value],_e=await le.query(g);else if(!(x&&es(Ee)))if((ae=Ee.message)!=null&&ae.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),_e=await le.query(g);else throw Ee.graphQLErrors&&Ee.graphQLErrors.length&&Ee.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(g),Ee}return _e}),hn(this,"mutate",async(g,x)=>{var V;const Y=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!Y)return y.debug(`Not available for query: ${g.context}`,kf),{data:null,loading:!1,networkStatus:Ar.error,stale:!1};let ae;try{ae=await Y.mutate(g)}catch(le){if(x){if(g.mutation=x.mutation,(V=g.variables)!=null&&V.input)for(const _e of x.deleteProps)delete g.variables.input[_e];return this.mutate(g)}else le.graphQLErrors&&le.graphQLErrors.length&&le.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(g);throw le}return ae}),hn(this,"_repoAccessAndMergeMethods"),hn(this,"_branchHasMergeQueue",new Map),hn(this,"_useFallbackChecks",!1),this._queriesSchema=Po(xo(),yf()),l||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new dn:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}get pullRequestModels(){return this._pullRequestModels}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=s.comments.createCommentController(`github-browse-${this.remote.normalizedHost}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new Ag(this.commentsController,this._telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(e){console.log(e)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${sv.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===yr.GitHubDotCom&&this._credentialStore.isAuthenticated(Si.github)?!0:!!(this.remote.githubServerType===yr.Enterprise&&this._credentialStore.isAuthenticated(Si.githubEnterprise))}async codespacesTokenError(e){var t;if(Al()&&((t=await this._metadata)!=null&&t.fork))throw this._telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return y.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;y.debug("Fetch metadata for repo - enter",this.id);const{octokit:i}=await this.ensure(),n=await i.call(i.api.repos.get,{owner:e,repo:t});return y.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...n.data,currentUser:i.currentUser}}async getMetadata(){var e;if(this._metadata){const i=await this._metadata;return y.debug(`Using cached metadata ${(e=i.owner)==null?void 0:e.login}/${i.name}`,this.id),i}y.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),y.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=cs.remoteAsGitHub(Il(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(y.warn(`Unable to resolve remote: ${e}`),es(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=Po(xo(),wf())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=Po(xo(),Lg()):this._queriesSchema=Po(xo(),yf())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=jf();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){y.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{y.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),n=await e({query:i.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch pull request templates - done",this.id),n.data.repository.pullRequestTemplates.map(a=>a.body)}catch(e){y.error(`Fetching pull request templates failed: ${e}`,this.id)}}async getRepoAccessAndMergeMethods(e=!1){var t,i,n,a,l,g;try{if(!this._repoAccessAndMergeMethods||e){y.debug("Fetch repo permissions and available merge methods - enter",this.id);const x=await this.getMetadata();y.debug("Fetch repo permissions and available merge methods - done",this.id);const V=(i=(t=x.permissions)==null?void 0:t.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:V,mergeMethodsAvailability:{merge:(n=x.allow_merge_commit)!=null?n:!1,squash:(a=x.allow_squash_merge)!=null?a:!1,rebase:(l=x.allow_rebase_merge)!=null?l:!1},viewerCanAutoMerge:(g=x.allow_auto_merge&&V)!=null?g:!1}}return this._repoAccessAndMergeMethods}catch(x){y.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${x}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,i;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{y.debug("Fetch branch has merge queue - enter",this.id);const{query:n,remote:a,schema:l}=await this.ensure();if(!l.MergeQueueForBranch)return;const g=await n({query:l.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});y.debug("Fetch branch has merge queue - done",this.id);const x=Lf((i=(t=g.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:i.mergeMethod);return x&&this._branchHasMergeQueue.set(e,x),x}catch(n){y.error(`Fetching branch has merge queue failed: ${n}`,this.id)}}async commit(e,t,i){y.debug(`Committing files to branch ${e} - enter`,this.id);let n=!1;try{const{octokit:a,remote:l}=await this.ensure(),g=(await a.call(a.api.repos.getBranch,{owner:l.owner,repo:l.repositoryName,branch:e})).data.commit.sha,x=(await a.call(a.api.repos.getCommit,{owner:l.owner,repo:l.repositoryName,ref:g})).data.commit.tree.sha,V=[];for(const[le,_e]of i)V.push({path:le.substring(1),mode:"100644",content:_e.toString()});const Y=(await a.call(a.api.git.createTree,{owner:l.owner,repo:l.repositoryName,base_tree:x,tree:V})).data.sha,ae=(await a.call(a.api.git.createCommit,{owner:l.owner,repo:l.repositoryName,message:t,tree:Y,parents:[g]})).data.sha;await a.call(a.api.git.updateRef,{owner:l.owner,repo:l.repositoryName,ref:`heads/${e}`,sha:ae}),n=!0}catch(a){y.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return y.debug(`Committing files to branch ${e} - done`,this.id),n}async getAllPullRequests(e){let t;try{y.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();t=i.remote;const n=i.octokit,a=await n.call(n.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:_f,page:e||1}),l=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return y.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const g=a.data.map(x=>x.head.repo?this.createOrUpdatePullRequestModel(Nl(x,this)):(y.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(x=>x!==null);return y.debug("Fetch all pull requests - done",this.id),{items:g,hasMorePages:l}}catch(i){if(y.error(`Fetching all pull requests failed: ${i}`,this.id),i.code===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(e,t){var i;let n;try{y.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();n=a.remote;const{query:l,schema:g}=a,{data:x}=await l({query:g.PullRequestForHead,variables:{owner:n.owner,name:n.repositoryName,headRefName:e}});if(y.debug("Fetch pull requests for branch - done",this.id),x!=null&&x.repository&&x.repository.pullRequests.nodes.length>0){const V=x.repository.pullRequests.nodes.map(ae=>Fo(ae,this)).filter(ae=>{var le;return((le=ae.head)==null?void 0:le.repo.owner)===t});if(V.length===0)return;const Y=(i=V.find(ae=>ae.state.toLowerCase()==="open"))!=null?i:V[0];return this.createOrUpdatePullRequestModel(Y)}}catch(a){y.error(`Fetching pull request for branch failed: ${a}`,this.id),a.code===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${n==null?void 0:n.remoteName}' failed, please check if the repository ${n==null?void 0:n.owner}/${n==null?void 0:n.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){y.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:i}=await this.ensure();const n=[];try{const{data:a}=await e({query:i.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(l=>{n.push(l)})}catch(a){return y.error(`Unable to fetch org projects: ${a}`,this.id),n}return y.debug("Fetch org projects - done",this.id),n}async getProjects(){var e;try{y.debug("Fetch projects - enter",this.id);let{query:t,remote:i,schema:n}=await this.ensure();if(!n.GetRepoProjects){const g=await this.ensureAdditionalScopes();t=g.query,i=g.remote,n=g.schema}const{data:a}=await t({query:n.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});y.debug("Fetch projects - done",this.id);const l=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(g=>{l.push(g)}),l}catch(t){y.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{y.debug("Fetch milestones - enter",this.id);const{query:i,remote:n,schema:a}=await this.ensure(),l=["OPEN"];e&&l.push("CLOSED");const{data:g}=await i({query:a.GetMilestones,variables:{owner:n.owner,name:n.repositoryName,states:l}});y.debug("Fetch milestones - done",this.id);const x=[];return g&&((t=g.repository)!=null&&t.milestones)&&g.repository.milestones.nodes&&g.repository.milestones.nodes.forEach(V=>{const Y=ic(V);Y&&x.push(Y)}),x}catch(i){y.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(e,t,i,n){var a;y.debug("Fetch milestones - enter",this.id);const{query:l,remote:g,schema:x}=await this.ensure(),{data:V}=await l({query:x.GetFileContent,variables:{owner:g.owner,name:g.repositoryName,expression:`${e}:${t}`}});if((a=V.repository)!=null&&a.object.text)return V.repository.object.text.split(`
`).slice(i-1,n).join(`
`)}async getIssues(e,t){try{y.debug("Fetch issues with query - enter",this.id);const{query:i,schema:n}=await this.ensure(),{data:a}=await i({query:n.Issues,variables:{query:`${t} type:issue`}});y.debug("Fetch issues with query - done",this.id);const l=[];return a&&a.search.edges&&a.search.edges.forEach(g=>{g.node.id&&l.push(Bf(g.node,this))}),{items:l,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(i){y.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async getMaxIssue(){try{y.debug("Fetch max issue - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:n}=await e({query:i.MaxIssue,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch max issue - done",this.id),n!=null&&n.repository&&n.repository.issues.edges.length===1?n.repository.issues.edges[0].node.number:void 0}catch(e){y.error(`Unable to fetch issues with query: ${e}`,this.id);return}}async getViewerPermission(){try{y.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:n}=await e({query:i.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch viewer permission - done",this.id),a0(n)}catch(e){return y.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async fork(){try{y.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure();return(await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName})).data.clone_url}catch(e){y.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{y.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:n}=await e({query:i.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch repository fork details - done",this.id),n.repository}catch(e){y.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return(await this._credentialStore.getCurrentUser(this.remote.authProviderId)).login}async getAuthenticatedUserEmails(){try{y.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticated,{});return y.debug("Fetch authenticated user emails - done",this.id),t.map(i=>i.email)}catch(e){return y.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e){let t=this._pullRequestModels.get(e.number);return t?t.update(e):(t=new Yr(this._credentialStore,this._telemetry,this,this.remote,e),t.onDidInvalidate(()=>this.getPullRequest(e.number)),this._pullRequestModels.set(e.number,t),this._onDidAddPullRequest.fire(t)),t}async createPullRequest(e){try{y.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:i,schema:n}=await this.ensure(),{data:a}=await i({mutation:n.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(y.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(Fo(a.createPullRequest.pullRequest,this))}catch(t){throw y.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,i,n){try{y.debug("Revert pull request - enter",this.id);const{mutate:a,schema:l}=await this.ensure(),{data:g}=await a({mutation:l.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:i,draft:n}}});if(y.debug("Revert pull request - done",this.id),!g)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(Fo(g.revertPullRequest.revertPullRequest,this))}catch(a){throw y.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e){try{const{query:t,remote:i,schema:n}=await this.ensure();y.debug(`Fetch pull request ${i.owner}/${i.repositoryName} ${e} - enter`,this.id);const{data:a}=await t({query:n.PullRequest,variables:{owner:i.owner,name:i.repositoryName,number:e}},!0);if(a.repository===null){y.error("Unexpected null repository when getting PR",this.id);return}return y.debug(`Fetch pull request ${e} - done`,this.id),this.createOrUpdatePullRequestModel(Fo(a.repository.pullRequest,this))}catch(t){y.error(`Unable to fetch PR: ${t}`,this.id);return}}async getIssue(e,t=!1){try{y.debug(`Fetch issue ${e} - enter`,this.id);const{query:i,remote:n,schema:a}=await this.ensure(),{data:l}=await i({query:t?a.IssueWithComments:a.Issue,variables:{owner:n.owner,name:n.repositoryName,number:e}},!0);if(l.repository===null){y.error("Unexpected null repository when getting issue",this.id);return}return y.debug(`Fetch issue ${e} - done`,this.id),new Qr(this,n,Bf(l.repository.pullRequest,this))}catch(i){y.error(`Unable to fetch issue: ${i}`,this.id);return}}async getFile(e,t){var i;const{octokit:n,remote:a}=await this.ensure();let l="",g;y.debug(`Fetch file ${e} - enter`,this.id);try{if(g=await n.call(n.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(g.data))throw new Error(`Unexpected array response when getting file ${e}`);l=(i=g.data.content)!=null?i:""}catch(V){if(y.error(`Unable to fetch file ${e}: ${V}`,this.id),V.status===404)return new Uint8Array(0);throw V}if(l===""&&g.data.encoding==="none"){y.debug(`Fetch blob file ${e} - enter`,this.id);const V=g.data.sha;g=await n.call(n.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:V}),l=g.data.content,y.debug(`Fetch blob file ${e} - done`,this.id)}const x=Ur.Buffer.from(l,g.data.encoding);return y.debug(`Fetch file ${e}, file length ${l.length} - done`,this.id),x}async hasBranch(e){var t,i;y.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:n,remote:a,schema:l}=await this.ensure(),{data:g}=await n({query:l.GetBranch,variables:{owner:a.owner,name:a.repositoryName,qualifiedName:`refs/heads/${e}`}});return y.appendLine(`Fetch branch ${e} - done: ${((t=g.repository)==null?void 0:t.ref)!==null}`,this.id),((i=g.repository)==null?void 0:i.ref)!==null}async listBranches(e,t){const{query:i,remote:n,schema:a}=await this.ensure();y.debug(`List branches for ${e}/${t} - enter`,this.id);let l=null,g=!1;const x=[],V=(await this.getMetadataForRepo(e,t)).default_branch,Y=new Date().getTime();do try{const{data:ae}=await i({query:a.ListBranches,variables:{owner:n.owner,name:n.repositoryName,first:100,after:l}});if(x.push(...ae.repository.refs.nodes.map(le=>le.name)),new Date().getTime()-Y>5e3){y.warn("List branches timeout hit.",this.id);break}g=ae.repository.refs.pageInfo.hasNextPage,l=ae.repository.refs.pageInfo.endCursor}catch(ae){throw y.debug(`List branches for ${e}/${t} failed`,this.id),ae}while(g);return y.debug(`List branches for ${e}/${t} - done`,this.id),x.includes(V)||x.unshift(V),x}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(i){y.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){y.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let n=null,a=!1;const l=[];do try{const g=await e({query:i.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:n}});if(g.data.repository===null)return y.error("Unexpected null repository when getting mentionable users",this.id),[];l.push(...g.data.repository.mentionableUsers.nodes.map(x=>({login:x.login,avatarUrl:Vn(x.avatarUrl,void 0,this.remote.isEnterprise),name:x.name,url:x.url,email:x.email,id:x.id}))),a=g.data.repository.mentionableUsers.pageInfo.hasNextPage,n=g.data.repository.mentionableUsers.pageInfo.endCursor}catch(g){return y.debug(`Unable to fetch mentionable users: ${g}`,this.id),l}while(a);return l}async getAssignableUsers(){y.debug("Fetch assignable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let n=null,a=!1;const l=[];do try{const g=await e({query:i.GetAssignableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:n}},!0);if(g.data.repository===null)return y.error("Unexpected null repository when getting assignable users",this.id),[];l.push(...g.data.repository.assignableUsers.nodes.map(x=>({login:x.login,avatarUrl:Vn(x.avatarUrl,void 0,this.remote.isEnterprise),name:x.name,url:x.url,email:x.email,id:x.id}))),a=g.data.repository.assignableUsers.pageInfo.hasNextPage,n=g.data.repository.assignableUsers.pageInfo.endCursor}catch(g){return y.debug(`Unable to fetch assignable users: ${g}`,this.id),g.graphQLErrors&&g.graphQLErrors.length>0&&g.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${g.graphQLErrors[0].message}`),l}while(a);return l}async getOrgTeamsCount(){if(y.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:i}=await this.ensureAdditionalScopes();try{const a=(await e({query:i.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return y.debug("Fetch Teams Count - done",this.id),a}catch(n){return y.debug(`Unable to fetch teams Count: ${n}`,this.id),n.graphQLErrors&&n.graphQLErrors.length>0&&n.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${n.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(y.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return y.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:i,schema:n}=await this.ensureAdditionalScopes();let a=null,l=!1;const g=[];do try{const x=await t({query:n.GetOrganizationTeams,variables:{login:i.owner,after:a,repoName:i.repositoryName}});x.data.organization.teams.nodes.forEach(V=>{const Y={avatarUrl:Vn(V.avatarUrl,void 0,this.remote.isEnterprise),name:V.name,url:V.url,slug:V.slug,id:V.id,org:i.owner};g.push({...Y,repositoryNames:V.repositories.nodes.map(ae=>ae.name)})}),l=x.data.organization.teams.pageInfo.hasNextPage,a=x.data.organization.teams.pageInfo.endCursor}catch(x){return y.debug(`Unable to fetch teams: ${x}`,this.id),x.graphQLErrors&&x.graphQLErrors.length>0&&x.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${x.graphQLErrors[0].message}`),g}while(l);return y.debug("Fetch Teams - exit",this.id),g}async getPullRequestParticipants(e){y.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:i,schema:n}=await this.ensure(),a=[];try{const l=await t({query:n.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:e,first:18}});if(l.data.repository===null)return y.error("Unexpected null repository when fetching participants",this.id),[];a.push(...l.data.repository.pullRequest.participants.nodes.map(g=>({login:g.login,avatarUrl:Vn(g.avatarUrl,void 0,this.remote.isEnterprise),name:g.name,url:g.url,email:g.email,id:g.id})))}catch(l){y.debug(`Unable to fetch participants from a PullRequest: ${l}`,this.id),l.graphQLErrors&&l.graphQLErrors.length>0&&l.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${l.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){y.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:n}=await this.ensure(),{data:a}=await n.call(n.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:e,head:t});return y.debug("Compare commits - done",this.id),a}catch(i){y.error(`Unable to compare commits between ${e} and ${t}: ${i}`,this.id)}}isCurrentUser(e){return this._credentialStore.isCurrentUser(e)}async getStatusChecks(e){var t,i,n;y.debug("Get Status Checks - enter",this.id);const{query:a,remote:l,schema:g}=await this.ensure(),x=this._useFallbackChecks;let V;try{V=await a({query:x?g.GetChecksWithoutSuite:g.GetChecks,variables:{owner:l.owner,name:l.repositoryName,number:e}})}catch(Ee){if(es(Ee)&&!x)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw y.error(`Unable to fetch PR checks: ${Ee}`,this.id),Ee}if(V.data.repository===null||V.data.repository.pullRequest.commits.nodes===void 0||V.data.repository.pullRequest.commits.nodes.length===0)return y.error(`Unable to fetch PR checks: ${(t=V.errors)==null?void 0:t.map(Ee=>Ee.message).join(", ")}`,this.id),[null,null];const Y=V.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,ae=Y?{state:this.mapStateAsCheckState(Y.state),statuses:Y.contexts.nodes.map(Ee=>{var Be,ue,Re,Ce,Ie,He,Ke,ot,ft;return xg(Ee)?{id:Ee.id,url:(ue=(Be=Ee.checkSuite)==null?void 0:Be.app)==null?void 0:ue.url,avatarUrl:((Ce=(Re=Ee.checkSuite)==null?void 0:Re.app)==null?void 0:Ce.logoUrl)&&Vn(Ee.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(Ee.conclusion),description:Ee.title,context:Ee.name,workflowName:(He=(Ie=Ee.checkSuite)==null?void 0:Ie.workflowRun)==null?void 0:He.workflow.name,event:(ot=(Ke=Ee.checkSuite)==null?void 0:Ke.workflowRun)==null?void 0:ot.event,targetUrl:Ee.detailsUrl,isRequired:Ee.isRequired}:{id:Ee.id,url:(ft=Ee.targetUrl)!=null?ft:void 0,avatarUrl:Ee.avatarUrl?Vn(Ee.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(Ee.state),description:Ee.description,context:Ee.context,workflowName:void 0,event:void 0,targetUrl:Ee.targetUrl,isRequired:Ee.isRequired}})}:{state:je.Success,statuses:[]};let le=null;const _e=(i=V.data.repository.pullRequest.baseRef)==null?void 0:i.refUpdateRule;if(_e){const Ee=V.data.repository.pullRequest.url;for(const Ie of _e.requiredStatusCheckContexts||[])ae.statuses.some(He=>He.context===Ie)||(ae.state=je.Pending,ae.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:je.Pending,description:s.l10n.t("Waiting for status to be reported"),context:Ie,workflowName:void 0,event:void 0,targetUrl:Ee,isRequired:!0}));const Be=(n=_e.requiredApprovingReviewCount)!=null?n:0,ue=V.data.repository.pullRequest.latestReviews.nodes.filter(Ie=>Ie.authorCanPushToRepository&&Ie.state==="APPROVED"),Re=V.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(Ie=>Ie.authorCanPushToRepository);let Ce=je.Success;ue.length<Be&&(Ce=je.Failure,Re.length&&(Ce=je.Pending)),Be>0&&(le={count:Be,approvals:ue.map(Ie=>Ie.author.login),requestedChanges:Re.map(Ie=>Ie.author.login),state:Ce})}return y.debug("Get Status Checks - done",this.id),[ae.statuses.length?ae:null,le]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return je.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return je.Failure;case"SUCCESS":return je.Success;case"NEUTRAL":case"SKIPPED":return je.Neutral}return je.Unknown}};hn(Rf,"ID","GitHubRepository");let Rn=Rf;const $g=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,us=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function qs(r){if(!r)return;const e={owner:void 0,name:void 0,issueNumber:0};return r.length===7?(e.owner=r[2],e.name=r[3],e.issueNumber=parseInt(r[5]),e):r.length===16?(e.owner=r[3]||r[11],e.name=r[4]||r[12],e.issueNumber=parseInt(r[7]||r[14]),e.commentNumber=r[9]!==void 0?parseInt(r[9]):void 0,e):void 0}function Io(r,e,t){return r!==e&&t===void 0?t=300:t||(t=0),new s.Range(r,0,e,t)}function Do(r,e,t,i,n,a,l){const g=n.createCommentThread(e,t,[]);g.gitHubThreadId=i.id,g.comments=i.comments.map(Y=>new Or(r,Y,g,l));const x=Ef(i.isResolved);let V=s.CommentThreadApplicability.Current;return i.viewerCanResolve&&!i.isResolved?g.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(g.contextValue="canUnresolve"),i.isOutdated&&(g.contextValue+="outdated",V=s.CommentThreadApplicability.Outdated),g.state={resolved:x,applicability:V},Hs(g),g.collapsibleState=Tf(i,void 0,a),g}function Ef(r){return r?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const Gg="commentExpandState",cR="collapseAll",Vg="expandUnresolved";function Tf(r,e,t){var i,n;const a=t&&((i=r.comments[r.comments.length-1].user)==null?void 0:i.login)===t,l=r.comments.length===1&&r.comments[0].body.startsWith("```suggestion")&&r.comments[0].body.endsWith("```");return r.isResolved||!r.isOutdated&&a&&!l?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((n=s.workspace.getConfiguration(lt))==null?void 0:n.get(Gg))===Vg),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function Cf(r,e,t,i,n){if(!e.range)return;const a=s.window.visibleTextEditors;for(let l of a)if(l.document.uri.toString()===e.uri.toString()){const g=l.document.lineAt(e.range.end.line),x=new s.Range(e.range.start.line,0,e.range.end.line,g.text.length);Cl(r,e,t,i,n,x);break}}function Cl(r,e,t,i,n,a){var l,g;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const x=Ef(t.isResolved);if(((l=e.state)==null?void 0:l.resolved)!==x&&(e.state={resolved:x,applicability:(g=e.state)==null?void 0:g.applicability}),e.collapsibleState=Tf(t,n),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((V,Y)=>V.commentId===`${t.comments[Y].id}`)){let V=0;for(const Y of e.comments)Y instanceof Or&&Y.update(t.comments[V]),V++}else e.comments=t.comments.map(V=>new Or(r,V,e,i));Hs(e)}function Hs(r){var e;if(((e=r.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){r.label=s.l10n.t("Marked as resolved");return}if(r.comments.length){const t=w(r.comments,i=>i.originalAuthor.name).map(i=>`@${i.originalAuthor.name}`).join(", ");r.label=s.l10n.t("Participants: {0}",t)}else r.label=s.l10n.t("Start discussion")}function Nf(r,e){let t=!1;const i=r.reactions,n=Pl().map((a,l)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const g=e.find(V=>V.label===a.label);let x;return g?x={label:g.label,authorHasReacted:g.viewerHasReacted,count:g.count,iconPath:a.icon||"",reactors:g.reactors.map(V=>({name:V}))}:x={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!i||i[l].authorHasReacted!==x.authorHasReacted||i[l].count!==x.count)&&(t=!0),x});return r.reactions=n,t}function Mf(r,e){e||(r.comments=r.comments.map(t=>(t instanceof Or&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function kn(r){return r===Si.githubEnterprise}function $s(r,e){var t,i,n;return{login:r.login,url:r.html_url,avatarUrl:e?Vn(r.avatar_url,(t=r.gravatar_id)!=null?t:void 0,e.remote.isEnterprise):r.avatar_url,id:r.node_id,email:(i=r.email)!=null?i:void 0,specialDisplayName:me[r.login]?(n=r.name)!=null?n:me[r.login].name:void 0}}function Pf(r){return{label:r.label,ref:r.ref,sha:r.sha,repo:{cloneUrl:r.repo.clone_url,isInOrganization:!!r.repo.organization,owner:r.repo.owner.login,name:r.repo.name}}}function Nl(r,e){const{number:t,body:i,title:n,html_url:a,user:l,state:g,assignees:x,created_at:V,updated_at:Y,head:ae,base:le,labels:_e,node_id:Ee,id:Be,draft:ue}=r,Re={id:Be,graphNodeId:Ee,number:t,body:i!=null?i:"",title:n,titleHTML:n,url:a,user:$s(l,e),state:g,merged:r.merged||!1,assignees:x?x.map(Ce=>$s(Ce,e)):void 0,createdAt:V,updatedAt:Y,viewerCanUpdate:!1,head:ae.repo?Pf(ae):void 0,base:Pf(le),labels:_e.map(Ce=>({name:"",color:"",...Ce})),isDraft:ue,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,commentCount:0};return"mergeable"in r&&(Re.mergeable=r.mergeable?$e.Mergeable:$e.NotMergeable),Re}function jg(r,e){const{number:t,body:i,title:n,html_url:a,user:l,state:g,assignees:x,created_at:V,updated_at:Y,labels:ae,node_id:le,id:_e,comments:Ee}=r;return{id:_e,graphNodeId:le,number:t,body:i!=null?i:"",title:n,titleHTML:n,url:a,user:$s(l,e),state:g,assignees:x?x.map(ue=>$s(ue,e)):void 0,createdAt:V,updatedAt:Y,labels:ae.map(ue=>{var Re,Ce,Ie;return typeof ue=="string"?{name:ue,color:""}:{name:(Re=ue.name)!=null?Re:"",color:(Ce=ue.color)!=null?Ce:"",description:(Ie=ue.description)!=null?Ie:void 0}}),projectItems:[],reactionCount:0,commentCount:Ee}}function zg(r,e){return{event:ur.Reviewed,comments:[],submittedAt:r.submitted_at,body:r.body,bodyHTML:r.body,htmlUrl:r.html_url,user:$s(r.user,e),authorAssociation:r.user.type,state:r.state,id:r.id}}function Wg(r){const e=[],t=Pi(r.diffHunk);let i=t.next();for(;!i.done;){const n=i.value;e.push(n),i=t.next()}return e}function Kg(r){switch(r){case"PullRequestCommit":return ur.Committed;case"LabeledEvent":return ur.Labeled;case"MilestonedEvent":return ur.Milestoned;case"AssignedEvent":return ur.Assigned;case"HeadRefDeletedEvent":return ur.HeadRefDeleted;case"IssueComment":return ur.Commented;case"PullRequestReview":return ur.Reviewed;case"MergedEvent":return ur.Merged;default:return ur.Other}}function Ml(r,e){var t,i,n,a;return{id:r.id,prReviewDatabaseId:r.comments.edges&&r.comments.edges.length?(t=r.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:r.isResolved,viewerCanResolve:r.viewerCanResolve,viewerCanUnresolve:r.viewerCanUnresolve,path:r.path,startLine:(i=r.startLine)!=null?i:r.line,endLine:r.line,originalStartLine:(n=r.originalStartLine)!=null?n:r.originalLine,originalEndLine:r.originalLine,diffSide:r.diffSide,isOutdated:r.isOutdated,comments:r.comments.nodes.map(l=>Gs(l,r.isResolved,e)),subjectType:(a=r.subjectType)!=null?a:de.LINE}}function Gs(r,e,t){var i,n,a;const l=me[(n=(i=r.author)==null?void 0:i.login)!=null?n:""],g={id:r.databaseId,url:r.url,body:r.body,specialDisplayBodyPostfix:l==null?void 0:l.postComment,bodyHTML:r.bodyHTML,path:r.path,canEdit:r.viewerCanDelete,canDelete:r.viewerCanDelete,pullRequestReviewId:r.pullRequestReview&&r.pullRequestReview.databaseId,diffHunk:r.diffHunk,position:r.position,commitId:r.commit.oid,originalPosition:r.originalPosition,originalCommitId:r.originalCommit&&r.originalCommit.oid,user:r.author?{...Gn(r.author,t),specialDisplayName:l?(a=r.author.name)!=null?a:l.name:void 0}:void 0,createdAt:r.createdAt,htmlUrl:r.url,graphNodeId:r.id,isDraft:r.state==="PENDING",inReplyToId:r.replyTo&&r.replyTo.databaseId,reactions:xf(r.reactionGroups),isResolved:e},x=Wg(g);return g.diffHunks=x,g}function Af(r,e){var t,i,n;return{id:r.databaseId,url:r.url,body:r.body,specialDisplayBodyPostfix:(n=me[(i=(t=r.author)==null?void 0:t.login)!=null?i:""])==null?void 0:n.postComment,bodyHTML:r.bodyHTML,canEdit:r.viewerCanDelete,canDelete:r.viewerCanDelete,user:Gn(r.author,e),createdAt:r.createdAt,htmlUrl:r.url,graphNodeId:r.id,diffHunk:""}}function xf(r){const e=Pl().reduce((i,n)=>(i[n.title]=n,i),{});return r.filter(i=>i.reactors.totalCount>0).map(i=>({label:e[i.content].label,count:i.reactors.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted,reactors:i.reactors.nodes.map(a=>a.login)}))}function If(r,e,t){if(t)return{label:`${t.owner.login}:${r}`,ref:r,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:r}}}function Gn(r,e){var t;return r?{login:r.login,url:r.url,avatarUrl:Vn(r.avatarUrl,void 0,e.remote.isEnterprise),email:r.email,id:r.id,specialDisplayName:me[r.login]?(t=r.name)!=null?t:me[r.login].name:void 0}:{login:"",url:"",id:""}}function Qg(r,e){var t,i;if(!r.repository)return[];const n=[];for(const a of r.repository.pullRequest.reviewRequests.nodes)if((t=a.requestedReviewer)!=null&&t.login){const l={login:a.requestedReviewer.login,url:a.requestedReviewer.url,avatarUrl:Vn(a.requestedReviewer.avatarUrl,void 0,e.isEnterprise),email:a.requestedReviewer.email,name:a.requestedReviewer.name,id:a.requestedReviewer.id,specialDisplayName:me[a.requestedReviewer.login]?(i=a.requestedReviewer.name)!=null?i:me[a.requestedReviewer.login].name:void 0};n.push(l)}else if(a.requestedReviewer){const l={name:a.requestedReviewer.name,url:a.requestedReviewer.url,avatarUrl:Vn(a.requestedReviewer.avatarUrl,void 0,e.isEnterprise),id:a.requestedReviewer.id,org:e.owner,slug:a.requestedReviewer.slug};n.push(l)}return n}function Df(r,e){return r?{login:r.login,url:r.url,avatarUrl:Vn(r.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function Ff(r){if(r)return r.map(e=>({id:e.id,project:e.project}))}function ic(r){if(r)return{title:r.title,dueOn:r.dueOn,createdAt:r.createdAt,id:r.id,number:r.number}}function Of(r){if(!r)return null;let e;switch(r.state){case"AWAITING_CHECKS":{e=_t.AwaitingChecks;break}case"LOCKED":{e=_t.Locked;break}case"QUEUED":{e=_t.Queued;break}case"MERGEABLE":{e=_t.Mergeable;break}case"UNMERGEABLE":{e=_t.Unmergeable;break}}return{position:r.position,state:e,url:r.mergeQueue.url}}function Lf(r){switch(r){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function rc(r,e){let t;switch(r){case void 0:case"UNKNOWN":t=$e.Unknown;break;case"MERGEABLE":t=$e.Mergeable;break;case"CONFLICTING":t=$e.Conflict;break}return t!==$e.Conflict&&(e==="BLOCKED"?t=$e.NotMergeable:e==="BEHIND"&&(t=$e.Behind)),t}function Fo(r,e){var t,i,n,a,l,g,x,V;const Y={id:r.databaseId,graphNodeId:r.id,url:r.url,number:r.number,state:r.state,body:r.body,bodyHTML:r.bodyHTML,title:r.title,titleHTML:r.titleHTML,createdAt:r.createdAt,updatedAt:r.updatedAt,isRemoteHeadDeleted:!r.headRef,head:If((i=(t=r.headRef)==null?void 0:t.name)!=null?i:r.headRefName,r.headRefOid,r.headRepository),isRemoteBaseDeleted:!r.baseRef,base:If((a=(n=r.baseRef)==null?void 0:n.name)!=null?a:r.baseRefName,r.baseRefOid,r.baseRepository),user:Gn(r.author,e),merged:r.merged,mergeable:rc(r.mergeable,r.mergeStateStatus),mergeQueueEntry:Of(r.mergeQueueEntry),hasComments:r.reviewThreads.totalCount>0,autoMerge:!!r.autoMergeRequest,autoMergeMethod:Lf((l=r.autoMergeRequest)==null?void 0:l.mergeMethod),allowAutoMerge:r.viewerCanEnableAutoMerge||r.viewerCanDisableAutoMerge,viewerCanUpdate:r.viewerCanUpdate,labels:r.labels.nodes,isDraft:r.isDraft,suggestedReviewers:Zg(r.suggestedReviewers),comments:Jg((g=r.comments)==null?void 0:g.nodes,e),projectItems:Ff((x=r.projectItems)==null?void 0:x.nodes),milestone:ic(r.milestone),assignees:(V=r.assignees)==null?void 0:V.nodes.map(ae=>Gn(ae,e)),commits:Yg(r.commits.nodes),reactionCount:r.reactions.totalCount,commentCount:r.comments.totalCount};return Y.mergeCommitMeta=Uf(r.baseRepository.mergeCommitTitle,r.baseRepository.mergeCommitMessage,Y),Y.squashCommitMeta=Uf(r.baseRepository.squashMergeCommitTitle,r.baseRepository.squashMergeCommitMessage,Y),Y}function Uf(r,e,t){var i,n;if(r===void 0||e===void 0)return;let a="",l="";const g=`(#${t.number})`;switch(r){case Ao.prTitle:{a=`${t.title} ${g}`;break}case Ao.mergeMessage:{a=`Merge pull request #${t.number} from ${(n=(i=t.head)==null?void 0:i.label)!=null?n:""}`;break}case Ao.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${g}`:a=`${t.title} ${g}`;break}}switch(e){case Tl.prBody:{l=t.body;break}case Tl.commitMessages:{if(t.commits.length===1&&r===Ao.commitOrPrTitle){const x=t.commits[0].message.split(`
`);l=x.length>1?x.slice(1).join(`
`).trim():""}else l=t.commits.map(x=>`* ${x.message}`).join(`

`);break}case Tl.prTitle:{l=t.title;break}}return{title:a,description:l}}function Yg(r){return r.map(e=>({message:e.commit.message}))}function Jg(r,e){if(!r)return;const t=[];for(const i of r)t.push({author:Gn(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt});return t}function Bf(r,e){var t,i,n,a,l,g,x,V,Y;return{id:r.databaseId,graphNodeId:r.id,url:r.url,number:r.number,state:r.state,body:r.body,bodyHTML:r.bodyHTML,title:r.title,titleHTML:r.titleHTML,createdAt:r.createdAt,updatedAt:r.updatedAt,assignees:(t=r.assignees)==null?void 0:t.nodes.map(ae=>Gn(ae,e)),user:Gn(r.author,e),labels:r.labels.nodes,milestone:ic(r.milestone),repositoryName:(n=(i=r.repository)==null?void 0:i.name)!=null?n:e.remote.repositoryName,repositoryOwner:(l=(a=r.repository)==null?void 0:a.owner.login)!=null?l:e.remote.owner,repositoryUrl:(x=(g=r.repository)==null?void 0:g.url)!=null?x:e.remote.url,projectItems:Ff((V=r.projectItems)==null?void 0:V.nodes),comments:(Y=r.comments.nodes)==null?void 0:Y.map(ae=>Xg(ae)),reactionCount:r.reactions.totalCount,commentCount:r.comments.totalCount}}function Xg(r){return{author:r.author,body:r.body,databaseId:r.databaseId,reactionCount:r.reactions.totalCount,createdAt:r.createdAt}}function Zg(r){return r?r.map(t=>({login:t.reviewer.login,avatarUrl:t.reviewer.avatarUrl,name:t.reviewer.name,url:t.reviewer.url,isAuthor:t.isAuthor,isCommenter:t.isCommenter,id:t.reviewer.id})).sort(qf):[]}function qf(r,e){return r.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function e0(r,e){var t,i,n,a;const l=(i=(t=r.name)!=null?t:r.slug)!=null?i:r.id,g=(a=(n=e.name)!=null?n:e.slug)!=null?a:e.id;return l.localeCompare(g,"en",{sensitivity:"accent"})}function t0(r,e){return{event:ur.Reviewed,comments:r.comments.nodes.map(t=>Gs(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:r.submittedAt,body:r.body,bodyHTML:r.bodyHTML,htmlUrl:r.url,user:Gn(r.author,e),authorAssociation:r.authorAssociation,state:r.state,id:r.databaseId}}function nc(r,e){const t=[];return r.forEach(i=>{const n=Kg(i.__typename);switch(n){case ur.Commented:const a=i;t.push({htmlUrl:a.url,body:a.body,bodyHTML:a.bodyHTML,user:Gn(a.author,e),event:n,canEdit:a.viewerCanUpdate,canDelete:a.viewerCanDelete,id:a.databaseId,graphNodeId:a.id,createdAt:a.createdAt});return;case ur.Reviewed:const l=i;t.push({event:n,comments:[],submittedAt:l.submittedAt,body:l.body,bodyHTML:l.bodyHTML,htmlUrl:l.url,user:Gn(l.author,e),authorAssociation:l.authorAssociation,state:l.state,id:l.databaseId});return;case ur.Committed:const g=i;t.push({id:g.id,event:n,sha:g.commit.oid,author:g.commit.author.user?Gn(g.commit.author.user,e):{login:g.commit.committer.name},htmlUrl:g.url,message:g.commit.message,authoredDate:new Date(g.commit.authoredDate)});return;case ur.Merged:const x=i;t.push({id:x.id,event:n,user:Df(x.actor,e),createdAt:x.createdAt,mergeRef:x.mergeRef.name,sha:x.commit.oid,commitUrl:x.commit.commitUrl,url:x.url,graphNodeId:x.id});return;case ur.Assigned:const V=i;t.push({id:V.id,event:n,user:Gn(V.user,e),actor:V.actor});return;case ur.HeadRefDeleted:const Y=i;t.push({id:Y.id,event:n,actor:Df(Y.actor,e),createdAt:Y.createdAt,headRef:Y.headRefName});return;default:break}}),t}function i0(r,e){var t;return{login:r.user.login,name:r.user.name,avatarUrl:Vn((t=r.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:r.user.url,bio:r.user.bio,company:r.user.company,location:r.user.location,commitContributions:r0(r.user.contributionsCollection),id:r.user.id}}function r0(r){const e=[];return r.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function Pl(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:Pn.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:Pn.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:Pn.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:Pn.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:Pn.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:Pn.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:Pn.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:Pn.icons.reactions.EYES}]}async function ac(r,e){let t=1,i=[],n=!1;do{const a=await r({...e,per_page:100,page:t});i=i.concat(a.data),n=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1,t+=1}while(n);return i}function n0(r){const e=[];return r.forEach(t=>{var i,n;t.event===ur.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===ur.Reviewed&&e.push({login:t.user.login,name:(i=t.user.name)!=null?i:t.user.login}),t.event===ur.Commented&&e.push({login:t.user.login,name:(n=t.user.name)!=null?n:t.user.login})}),e}function a0(r){var e;return r&&((e=r.repository)!=null&&e.viewerPermission)&&Object.values($n).includes(r.repository.viewerPermission)?r.repository.viewerPermission:$n.Unknown}function Hf(r,e){return e.path.toLowerCase()===r.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(r.rootUri.path.toLowerCase())&&e.path.substring(r.rootUri.path.length).startsWith("/")}function sc(r,e){const t=[];for(const i of r.repositories.reverse())Hf(i,e)&&t.push(i);if(t.length>0)return t.sort((i,n)=>n.rootUri.path.length-i.rootUri.path.length),t[0]}function $f(r,e,t){const i=e.filter(l=>l.event===ur.Reviewed).filter(l=>l.state!=="PENDING");let n=[];const a=new Map;a.set(t.login,!0);for(let l=i.length-1;l>=0;l--){const g=i[l],x=g.user;g.state&&!a.get(x.login)&&(a.set(x.login,!0),n.push({reviewer:x,state:g.state}))}return r.forEach(l=>{if(!a.get(yt(l)))n.push({reviewer:l,state:"REQUESTED"});else{const g=n.find(x=>yt(x.reviewer)===yt(l));g.state="REQUESTED"}}),n=n.sort((l,g)=>l.state==="REQUESTED"&&g.state!=="REQUESTED"?1:g.state==="REQUESTED"&&l.state!=="REQUESTED"||Ct(l.reviewer).toLowerCase()<Ct(g.reviewer).toLowerCase()?-1:1),n}function s0(r){if(!r.subject.url)return;const e=r.repository.owner.login,t=r.repository.name,i=r.subject.url.split("/").pop();return{owner:e,name:t,key:Gf(e,t,i),id:r.id,itemID:i,subject:{title:r.subject.title,type:r.subject.type,url:r.subject.url},lastReadAt:new Date(r.last_read_at),reason:r.reason,unread:r.unread,updatedAd:new Date(r.updated_at)}}function Gf(r,e,t){return`${r}/${e}#${t}`}function o0(r,e,t,i){if(e&&i&&i.sha!==e){let n=r.length-1,a=!1,l=[];for(let g=r.length-1;g>0;g--)if(r[g].event===ur.Committed&&r[g].sha===e){l.unshift({id:e,event:ur.NewCommitsSinceReview}),r.splice(n+1,0,...l);break}else a&&r[g].event===ur.Committed?(l.unshift(r[g]),r.splice(g,1)):!a&&r[g].event===ur.Reviewed&&r[g].user.login===t&&(n=g,a=!0)}}function l0(r,e){return`is:pull-request ${e.replace(/\$\{user\}/g,r)} type:pr`}function Al(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function oc(r){return s.workspace.getConfiguration(gn).update(Nn,r,s.ConfigurationTarget.Workspace)}function Vs(){const r=s.workspace.getConfiguration(gn).get(Nn,"");if(r){let e=s.Uri.parse(r,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function ea(){return!!Vs()}function u0(r,e=200){return r?`https://www.gravatar.com/avatar/${r}?s=${e}&d=retro`:void 0}function Vn(r,e,t){var i;return t?e?u0(ks.n1("sha256").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0:r}function c0(r){return s.Uri.parse(`https://${r.remote.host}/${r.remote.owner}/${r.remote.repositoryName}/pulls`)}function d0(r){return s.Uri.parse(`https://${r.remote.host}/${r.remote.owner}/${r.remote.repositoryName}/issues`)}function Vf(r){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return r.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const f0=/-([0-9]+)([d])/;function h0(r){const e=r?f0.exec(r):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const i=`${t.getMonth()+1}`,n=`${t.getDate()}`;return`${t.getFullYear()}-${i.padStart(2,"0")}-${n.padStart(2,"0")}`}const m0=/\$\{([^-]*?)(-.*?)?\}/g;async function js(r,e,t,i){return r.replace(m0,(n,a,l)=>{let g;switch(a){case"user":g=i||n;break;case"issueNumber":g=e?`${e.number}`:n;break;case"issueNumberLabel":g=e?`${Oo(e,t)}`:n;break;case"issueTitle":g=e?e.title:n;break;case"repository":g=t?t.repo:n;break;case"owner":g=t?t.owner:n;break;case"sanitizedIssueTitle":g=e?Vf(e.title):n;break;case"sanitizedLowercaseIssueTitle":g=e?Vf(e.title).toLowerCase():n;break;case"today":g=h0(l);break;default:g=n;break}return y.debug(`${n} -> ${g}`,"VariableSubstitution"),g})}function Oo(r,e){const t={issueNumber:r.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==r.remote.owner.toLowerCase()||e.repo.toLowerCase()!==r.remote.repositoryName.toLowerCase())&&(t.owner=r.remote.owner,t.name=r.remote.repositoryName),lc(t)}function lc(r){return!r.owner||!r.name?`#${r.issueNumber}`:`${r.owner}/${r.name}#${r.issueNumber}`}function jf(){const r=s.workspace.getConfiguration(lt).get(gt);if(r)return y.debug("Using override setting for default branch",Rn.ID),r}async function zf(r){const e=[],t=[],i=[];for(const n of r){for(const a of await n.computeAllGitHubRemotes())a.githubServerType===yr.GitHubDotCom?e.push(a):a.githubServerType===yr.Enterprise&&t.push(a);i.push(...await n.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:i}}function uc(r){const e=s.Uri.parse(r.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function Wf(r){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=te(r.color,e,!0);return`<span style="color:${t.textColor};background-color:${t.backgroundColor};">&nbsp;&nbsp;${r.name.trim()}&nbsp;&nbsp;</span>`}class xl{constructor(e,t,i){this.remoteName=e,this.url=t,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Vs())==null?void 0:e.authority)?Si.githubEnterprise:Si.github}get isEnterprise(){return kn(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function Il(r,e,t){if(!e)return null;const i=new wn(e);return t&&i.update({type:t.type}),i.host?new xl(r,e,i):null}function Na(r){const e=[];for(const t of r.state.remotes){const i=[];t.fetchUrl&&i.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&i.push(t.pushUrl),i.forEach(n=>{const a=Il(t.name,n);a&&e.push(a)})}return e}class cs extends xl{constructor(e,t,i,n){super(e,t,i),this.githubServerType=n}static remoteAsGitHub(e,t){return new cs(e.remoteName,e.url,e.gitProtocol,t)}}var p0=Object.defineProperty,v0=(r,e,t)=>e in r?p0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,g0=(r,e,t)=>v0(r,typeof e!="symbol"?e+"":e,t);class Kf{constructor(e,t,i,n,a,l,g){this.ref=e,this.label=t,this.sha=i,this.owner=a,this.name=l,this.isInOrganization=g,g0(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new wn(n)}}function b0(r,e){var t;const i=e.repositoryCloneUrl.repositoryName.toLowerCase(),n=e.owner.toLowerCase();for(const a of r.state.remotes){const l=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!l)continue;const g=Il(a.name,l),x=g==null?void 0:g.owner.toLowerCase(),V=g==null?void 0:g.repositoryName.toLowerCase();if(x===n&&V===i)return a}}var y0=Object.defineProperty,w0=(r,e,t)=>e in r?y0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ds=(r,e,t)=>w0(r,typeof e!="symbol"?e+"":e,t);const Qf=class ov{constructor(e,t,i,n){this.pullRequest=e,this.folderRepoManager=t,this.change=i,this.sha=n,ds(this,"_filePath"),ds(this,"_parentFilePath"),ds(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof Ae&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==we.RENAME)try{const i=(e=this.sha)!=null?e:this.pullRequest.head.sha,n=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,i,this.fileName);t=ci(n)}catch(i){y.error(`Failed to parse patch for outdated comments: ${i}`,ov.ID)}return t}};ds(Qf,"ID","FileChangeModel");let cc=Qf;class dc extends cc{constructor(e,t,i,n,a,l,g){if(super(t,e,i,l),ds(this,"_show"),this._filePath=n,this._parentFilePath=a,g)try{this.showBase()}catch{y.warn(`Unable to preload file content for ${n.fsPath} at commit ${l}`)}}async showBase(){if(!this._show&&this.change.status!==we.ADD){const e=this.change instanceof Ae||this.change instanceof qe?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class fs extends cc{constructor(e,t,i,n,a){super(t,e,i),this.change=i;const l=t.head.sha,g=i.status===we.RENAME?i.previousFileName:i.fileName,x=e.repository.rootUri.with({path:s.Uri.file(Ws(e.repository.rootUri,i.fileName)).path}),V=e.repository.rootUri.with({path:s.Uri.file(Ws(e.repository.rootUri,g)).path});this._filePath=n?i.status===we.DELETE?jn(x,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):x:Ma(x,t,i.baseCommit,l,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=n?jn(V,i.status===we.RENAME?i.previousFileName:i.fileName,void 0,i.status===we.ADD?"":a,!1,{base:!0},e.repository.rootUri):Ma(V,t,i.baseCommit,l,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===we.MODIFY||this.change.status===we.RENAME||this.change.status===we.ADD))return!0;this.change.status===we.DELETE||this.change.status===we.MODIFY?t=this.change.fileName:this.change.status===we.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class zs extends cc{constructor(e,t,i){super(i,e,t),this.change=t,ds(this,"fileChangeResourceUri"),ds(this,"childrenDisposables",[]);const n=i.head.sha,a=t.status===we.RENAME?t.previousFileName:t.fileName;this._filePath=Ma(s.Uri.file(Ws(e.repository.rootUri,t.fileName)),i,t.baseCommit,n,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=Ma(s.Uri.file(Ws(e.repository.rootUri,a)),i,t.baseCommit,n,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}var _0=Object.defineProperty,k0=(r,e,t)=>e in r?_0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,er=(r,e,t)=>k0(r,typeof e!="symbol"?e+"":e,t);const Yf=100,Jf=class pr extends Qr{constructor(e,t,i,n,a,l){super(i,n,a,!0),this.credentialStore=e,er(this,"isDraft"),er(this,"localBranchName"),er(this,"mergeBase"),er(this,"mergeQueueEntry"),er(this,"conflicts"),er(this,"suggestedReviewers"),er(this,"hasChangesSinceLastReview"),er(this,"_showChangesSinceReview"),er(this,"_hasPendingReview",!1),er(this,"_onDidChangePendingReviewState",new s.EventEmitter),er(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),er(this,"_reviewThreadsCache",[]),er(this,"_reviewThreadsCacheInitialized",!1),er(this,"_onDidChangeReviewThreads",new s.EventEmitter),er(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),er(this,"_fileChangeViewedState",{}),er(this,"_viewedFiles",new Set),er(this,"_unviewedFiles",new Set),er(this,"_onDidChangeFileViewedState",new s.EventEmitter),er(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),er(this,"_onDidChangeChangesSinceReview",new s.EventEmitter),er(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),er(this,"_hasComments"),er(this,"_comments"),er(this,"_onDidChangeComments",new s.EventEmitter),er(this,"onDidChangeComments",this._onDidChangeComments.event),er(this,"_isActive"),er(this,"_telemetry"),er(this,"isRemoteHeadDeleted"),er(this,"head"),er(this,"isRemoteBaseDeleted"),er(this,"base"),er(this,"_fileChanges",new Map),er(this,"markFilesInProgressRefCount",new Map),this._telemetry=t,this.isActive=!!l,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChangeComments.fire()}get fileChangeViewedState(){return this._fileChangeViewedState}updateState(e){e.toLowerCase()==="open"?this.state=Hi.Open:e.toLowerCase()==="merged"||this.item.merged?this.state=Hi.Merged:this.state=Hi.Closed}update(e){var t;super.update(e),this.isDraft=e.isDraft,this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new Kf(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new Kf(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments)}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const i=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,i).then(n=>{n&&n===i&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}async approve(e,t){var i,n,a,l,g,x;let V,Y,ae;return this.isActive?(Y=(i=e.state.HEAD)==null?void 0:i.commit,V=(a=(n=await this.githubRepository.getPullRequest(this.number))==null?void 0:n.head)==null?void 0:a.sha,ae=s.l10n.t("The remote head of the PR branch has changed. Please pull the latest changes from the remote branch before approving.")):(Y=(l=this.head)==null?void 0:l.sha,V=(x=(g=await this.githubRepository.getPullRequest(this.number))==null?void 0:g.head)==null?void 0:x.sha,ae=s.l10n.t("The remote head of the PR branch has changed. Please refresh the pull request before approving.")),!V||V!==Y?Promise.reject(ae):(await this.getPendingReviewId()?this.submitReview(ir.Approve,t):this.createReview(ir.Approve,t)).then(_e=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChangeComments.fire(),_e))}async requestChanges(e){return(await this.getPendingReviewId()?this.submitReview(ir.RequestChanges,e):this.createReview(ir.RequestChanges,e)).then(i=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChangeComments.fire(),i))}async close(){const{octokit:e,remote:t}=await this.githubRepository.ensure(),i=await e.call(e.api.pulls.update,{owner:t.owner,repo:t.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Nl(i.data,this.githubRepository)}async createReview(e,t){const{octokit:i,remote:n}=await this.githubRepository.ensure(),{data:a}=await i.call(i.api.pulls.createReview,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,event:e,body:t});return zg(a,this.githubRepository)}async submitReview(e,t){let i=await this.getPendingReviewId();const{mutate:n,schema:a}=await this.githubRepository.ensure();if(!i&&e===ir.Comment&&(i=await this.startReview()),i){const{data:l}=await n({mutation:a.SubmitReview,variables:{id:i,event:e||ir.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const g=t0(l.submitPullRequestReview.pullRequestReview,this.githubRepository),x=this._reviewThreadsCache.find(V=>V.comments.length?V.comments[0].pullRequestReviewId===g.id:void 0);return x&&(x.comments=g.comments,x.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[x],removed:[]})),g}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),n=e==="null"?null:e;try{await t({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:n}}})}catch(a){y.error(a,pr.ID)}}async addAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),i=await this.githubRepository.getAuthenticatedUser();try{const{data:n}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return n.node.reviews.nodes.length>0?n.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e,t;y.debug("Fetch viewers latest review commit",Qr.ID);const{query:i,remote:n,schema:a}=await this.githubRepository.ensure();try{const{data:l}=await i({query:a.LatestReviewCommit,variables:{owner:n.owner,name:n.repositoryName,number:this.number}});return l.repository===null&&y.error("Unexpected null repository while getting last review commit",pr.ID),(e=l.repository)!=null&&e.pullRequest.viewerLatestReview?{sha:(t=l.repository)==null?void 0:t.pullRequest.viewerLatestReview.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId(),{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:n}=await t({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:l}=n.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:l,deletedReviewComments:a.nodes.map(g=>Gs(g,!1,this.githubRepository))}}async startReview(e){var t;const{mutate:i,schema:n}=await this.githubRepository.ensure(),{data:a}=await i({mutation:n.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,this._onDidChangeComments.fire(),a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,i,n,a,l){if(!this.validatePullRequestModel("Creating comment failed"))return;const g=await this.getPendingReviewId(),{mutate:x,schema:V}=await this.githubRepository.ensure(),{data:Y}=await x({mutation:V.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:g,startLine:i===n?void 0:i,line:n===void 0?0:n,side:a,subjectType:i===void 0||n===void 0?de.FILE:de.LINE}}},{mutation:V.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!Y)throw new Error("Creating review thread failed.");if(!Y.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");l||(this.hasPendingReview=!0,await this.updateDraftModeContext());const ae=Y.addPullRequestReviewThread.thread,le=Ml(ae,this.githubRepository);return this._reviewThreadsCache.push(le),this._onDidChangeReviewThreads.fire({added:[le],changed:[],removed:[]}),le}async createCommentReply(e,t,i,n){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let l=await this.getPendingReviewId();l||(l=await this.startReview(n));const{mutate:g,schema:x}=await this.githubRepository.ensure(),{data:V}=await g({mutation:x.AddComment,variables:{input:{pullRequestReviewId:l,body:e,inReplyTo:t,commitOID:n||((a=this.head)==null?void 0:a.sha)}}});if(!V)throw new Error("Creating comment reply failed.");const{comment:Y}=V.addPullRequestReviewComment,ae=Gs(Y,!1,this.githubRepository);i&&(ae.isDraft=!1);const le=this._reviewThreadsCache.find(_e=>_e.comments.some(Ee=>Ee.graphNodeId===t));return le&&(le.comments.push(ae),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),ae}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(e,t){const{mutate:i,schema:n}=await this.githubRepository.ensure();let a=this._reviewThreadsCache.find(x=>x.comments.some(V=>V.graphNodeId===e.graphNodeId));if(!a)return this.editIssueComment(e,t);const{data:l}=await i({mutation:n.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!l)throw new Error("Editing review comment failed.");const g=Gs(l.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,this.githubRepository);if(a){const x=a.comments.findIndex(V=>V.graphNodeId===e.graphNodeId);a.comments.splice(x,1,g),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}return g}async deleteReviewComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure(),n=Number(e),a=this._reviewThreadsCache.findIndex(l=>l.comments.some(g=>g.id===n));if(a===-1)this.deleteIssueComment(e);else if(await t.call(t.api.pulls.deleteReviewComment,{owner:i.owner,repo:i.repositoryName,comment_id:n}),a>-1){const l=this._reviewThreadsCache[a],g=l.comments.findIndex(x=>x.id===n);l.comments.splice(g,1),l.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[l]})):this._onDidChangeReviewThreads.fire({added:[],changed:[l],removed:[]})}}catch(t){throw new Error(pe(t))}}async getFileContent(e,t,i){var n;y.debug("Fetch file content - enter",Rn.ID);const{query:a,remote:l,schema:g}=await this.githubRepository.ensure(),{data:x}=await a({query:g.GetFileContent,variables:{owner:e,name:l.repositoryName,expression:`${t}:${i}`}});if((n=x.repository)!=null&&n.object.text)return y.debug("Fetch file content - end",Rn.ID),x.repository.object.text}async compareBaseBranchForMerge(e,t,i,n){var a,l,g;const{octokit:x,remote:V}=await this.githubRepository.ensure(),Y=await x.call(x.api.repos.compareCommits,{repo:V.repositoryName,owner:e,base:`${e}:${t}`,head:`${i}:${n}`});return(g=(l=(a=Y==null?void 0:Y.data)==null?void 0:a.files)==null?void 0:l.filter(ae=>ae!==void 0))!=null?g:[]}async getUpdateBranchFiles(e,t,i){if(this.item.mergeable===$e.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:n}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,e),l=(await n.call(n.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:e})).data.commit.tree.sha,g=await n.call(n.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:l,recursive:"true"});return(await Promise.all(a.map(async V=>{var Y,ae,le,_e;if(!V)return;const Ee=g.data.tree.find(ot=>ot.path===V.filename),Be=(Y=Ee==null?void 0:Ee.mode)!=null?Y:"100644",Re=(await n.call(n.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(ot=>ot.path===V.filename),Ce=(ae=Re==null?void 0:Re.mode)!=null?ae:"100644";if(V.status==="removed")return{path:V.filename,sha:null,mode:(le=Re==null?void 0:Re.mode)!=null?le:"100644"};const Ie={path:V.filename,mode:Be},He=i.resolvedConflicts.get(V.filename);if((He==null?void 0:He.resolvedContents)!==void 0){if(V.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${V.filename}: ${V.status}`);if(Be!==Ce)throw new Error(`Conflict resolution not supported for file with different modes ${V.filename}: ${Be} -> ${Ce}`);if(V.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return Ie.content=He.resolvedContents,Ie}if((!V.previous_filename||!this._fileChanges.has(V.previous_filename))&&!this._fileChanges.has(V.filename))return Ie.sha=V.sha,Ie;const{data:Ke}=await n.call(n.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(_e=V==null?void 0:V.previous_filename)!=null?_e:V.filename,ref:i.prHeadBranchName});if(V.status==="modified"&&V.patch&&Ke.content){const ot=Ur.Buffer.from(Ke.content,"base64"),ft=new TextDecoder().decode(ot);Ie.content=Mr(ft,V.patch)}else throw y.error(`File ${V.filename} has status ${V.status} and can't be merged.`,Rn.ID),new Error(`File ${V.filename} has status ${V.status} and can't be merged,`);return Ie}))).filter(V=>V!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:i}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(this.item.mergeable===$e.Conflict&&(!e.resolvedConflicts||e.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,Rn.ID);try{const{octokit:t}=await this.githubRepository.ensure(),i=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,n=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:i})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,n,e),l=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:n,tree:a})).data.sha;let g;e.prBaseOwner===e.prHeadOwner?g=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:g=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const x=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:g,tree:l,parents:[i,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:x})}catch(t){return y.error(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} failed: ${t}`,Rn.ID),!1}return y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - done`,Rn.ID),!0}async getReviewRequests(){y.debug("Get Review Requests - enter",pr.ID);const e=this.githubRepository,{remote:t,query:i,schema:n}=await e.ensure(),{data:a}=await i({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(e.remote.authProviderId)?n.GetReviewRequestsAdditionalScopes:n.GetReviewRequests,variables:{number:this.number,owner:t.owner,name:t.repositoryName}});if(a.repository===null)return y.error("Unexpected null repository while getting review requests",pr.ID),[];const l=Qg(a,t);return y.debug("Get Review Requests - done",pr.ID),l}async requestReview(e,t){const{mutate:i,schema:n}=await this.githubRepository.ensure();await i({mutation:n.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:t,userIds:e.filter(a=>a&&!a.startsWith("BOT"))}}})}async deleteReviewRequest(e,t){const{octokit:i,remote:n}=await this.githubRepository.ensure();await i.call(i.api.pulls.removeRequestedReviewers,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,reviewers:e,team_reviewers:t})}async deleteAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}diffThreads(e,t){const i=[],n=[],a=[];t.forEach(l=>{const g=e.find(x=>x.id===l.id);g?rt()(l,g)||n.push(l):i.push(l)}),e.forEach(l=>{t.find(g=>g.id===l.id)||a.push(l)}),this._onDidChangeReviewThreads.fire({added:i,changed:n,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const{remote:e}=await this.githubRepository.ensure(),t=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(t),this.comments=t.map(i=>i.comments.nodes.map(n=>Gs(n,i.isResolved,this.githubRepository),e)).reduce((i,n)=>i.concat(n),[]).sort((i,n)=>i.createdAt>n.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){const t=e.map(n=>Ml(n,this.githubRepository)),i=this._reviewThreadsCache;return this._reviewThreadsCache=t,this.diffThreads(i,t),t}async getRawReviewComments(){const{remote:e,query:t,schema:i}=await this.githubRepository.ensure();let n=null,a=!1;const l=[];try{do{const{data:g}=await t({query:i.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:n}},!1,{query:i.LegacyPullRequestComments});l.push(...g.repository.pullRequest.reviewThreads.nodes),a=g.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,n=g.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&l.length<1e3);return l}catch(g){return y.error(`Failed to get pull request review comments: ${g}`,pr.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{y.debug(`Fetch commits of PR #${this.number} - enter`,pr.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),i=await ac(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return y.debug(`Fetch commits of PR #${this.number} - done`,pr.ID),i}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${pe(e)}`),[]}}async getCommitChangedFiles(e){var t;try{y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,pr.ID);const{octokit:i,remote:n}=await this.githubRepository.ensure(),a=await i.call(i.api.repos.getCommit,{owner:n.owner,repo:n.repositoryName,ref:e.sha});return y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,pr.ID),(t=a.data.files)!=null?t:[]}catch(i){return s.window.showErrorMessage(`Fetching commit file changes failed: ${pe(i)}`),[]}}async getTimelineEvents(){var e;y.debug(`Fetch timeline events of PR #${this.number} - enter`,pr.ID);const{query:t,remote:i,schema:n}=await this.githubRepository.ensure();try{const[{data:a},l,g,x]=await Promise.all([t({query:n.TimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}}),this.getViewerLatestReviewCommit(),this.githubRepository.getAuthenticatedUser(),this.getReviewThreads()]);a.repository===null&&y.error("Unexpected null repository when fetching timeline",pr.ID);const V=(e=a.repository)==null?void 0:e.pullRequest.timelineItems.nodes,Y=V?nc(V,this.githubRepository):[];return this.addReviewTimelineEventComments(Y,x),o0(Y,l==null?void 0:l.sha,g,this.head),y.debug(`Fetch timeline events of PR #${this.number} - done`,pr.ID),Y}catch(a){return y.error(`Failed to get pull request timeline events: ${a}`,pr.ID),console.log(a),[]}}addReviewTimelineEventComments(e,t){const i=e.filter(Y=>Y.event===ur.Reviewed),n=t.reduce((Y,ae)=>Y.concat(ae.comments),[]),a=i.reduce((Y,ae)=>(Y[ae.id]=ae,ae.comments=[],Y),{}),l=n.reduce((Y,ae)=>(Y[ae.id]=ae,Y),{}),g=[];let x=n.length;for(;x-- >0;){const Y=n[x];if(!Y.inReplyToId){g.unshift(Y);continue}const ae=l[Y.inReplyToId];ae.childComments=ae.childComments||[],ae.childComments=[Y,...Y.childComments||[],...ae.childComments]}g.forEach(Y=>{const ae=a[Y.pullRequestReviewId];ae&&(ae.comments=ae.comments.concat(Y).concat(Y.childComments||[]))}),t.forEach(Y=>{if(!Y.prReviewDatabaseId||!a[Y.prReviewDatabaseId])return;const ae=a[Y.prReviewDatabaseId];ae.reviewThread={threadId:Y.id,canResolve:Y.viewerCanResolve,canUnresolve:Y.viewerCanUnresolve,isResolved:Y.isResolved}});const V=i.filter(Y=>{var ae;return((ae=Y.state)==null?void 0:ae.toLowerCase())==="pending"})[0];V&&(V.comments=n.filter(Y=>Y.isDraft))}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t){const i=await pr.getChangeModels(e,t),n=[];for(const a of i)n.push([a.filePath,a.parentFilePath,a.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),n)}static async openDiffFromComment(e,t,i){const a=(await t.getFileChangesInfo()).find(x=>x.fileName===i.path||x.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");const l=i.path.split("/"),g=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,l[l.length-1],g)}static async openFirstDiff(e,t){const i=await t.getFileChangesInfo();if(!i.length)return;const n=i[0];this.openDiff(e,t,n,n.fileName)}static async openDiff(e,t,i,n,a){let l,g;if(t.equals(e.activePullRequest)){const x=s.Uri.file(U.resolve(e.repository.rootUri.fsPath,i.fileName));l=i.status===we.DELETE?jn(x,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):x;const V=t.mergeBase||t.base.sha;g=jn(x,i.status===we.RENAME?i.previousFileName:i.fileName,void 0,i.status===we.ADD?"":V,!1,{base:!0},e.repository.rootUri)}else{const x=t.head.sha,V=i.status===we.RENAME?i.previousFileName:i.fileName;l=Ma(s.Uri.file(Ws(e.repository.rootUri,i.fileName)),t,i.baseCommit,x,i.fileName,!1,i.status,i.previousFileName),g=Ma(s.Uri.file(Ws(e.repository.rootUri,V)),t,i.baseCommit,x,i.fileName,!0,i.status,i.previousFileName)}s.commands.executeCommand("vscode.diff",g,l,`${n} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,i=await Dr(e,t);return i.forEach(n=>{this._fileChanges.set(n.fileName,n)}),i}static async getChangeModels(e,t){var i;const n=((i=e.activePullRequest)==null?void 0:i.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),l=[];for(const g of a){let x;g instanceof qe?x=new zs(e,g,t):x=new fs(e,t,g,n,t.mergeBase),l.push(x)}return l}async getRawFileChangesInfo(){var e;y.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,pr.ID);const t=this.githubRepository,{octokit:i,remote:n}=await t.ensure();if(!this.base){const ae=await i.call(i.api.pulls.get,{owner:n.owner,repo:n.repositoryName,pull_number:this.number});this.update(Nl(ae.data,t))}let a=this.base.sha;const l=await this.getViewerLatestReviewCommit(),g=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=l!==void 0&&((e=this.head)==null?void 0:e.sha)!==l.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&l!=null&&(a=l.sha),this.item.merged){const ae=await ac(i.api.pulls.listFiles,{repo:n.repositoryName,owner:n.owner,pull_number:this.number});return this.mergeBase=this.base.sha,ae}const{data:x}=await i.call(i.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${this.base.repositoryCloneUrl.owner}:${a}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.sha}`});this.mergeBase=x.merge_base_commit.sha;const V=100;let Y=[];return x.files&&x.files.length>=V?(y.debug(`More than ${V} files changed, fetching all file changes of PR #${this.number}`,pr.ID),Y=await ac(i.api.pulls.listFiles,{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:n.repositoryName})):Y=x.files?x.files:[],g!==void 0&&g!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),y.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${Y.length} `,pr.ID),Y}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,i,n,a,l;try{y.debug(`Fetch pull request mergeability ${this.number} - enter`,pr.ID);const{query:g,remote:x,schema:V}=await this.githubRepository.ensure(),{data:Y}=((e=await this.credentialStore.getCurrentUser(this.remote.authProviderId))==null?void 0:e.login)==="alexr00"?await g({query:V.PullRequestMergeabilityMergeRequirements,variables:{owner:x.owner,name:x.repositoryName,number:this.number},context:{headers:{"GraphQL-Features":"pull_request_merge_requirements_api"}}}):await g({query:V.PullRequestMergeability,variables:{owner:x.owner,name:x.repositoryName,number:this.number}});Y.repository===null&&y.error("Unexpected null repository while getting mergeability",pr.ID),y.debug(`Fetch pull request mergeability ${this.number} - done`,pr.ID);const ae=rc((t=Y.repository)==null?void 0:t.pullRequest.mergeable,(i=Y.repository)==null?void 0:i.pullRequest.mergeStateStatus);return this.item.mergeable=ae,this.conflicts=(l=(a=(n=Y.repository)==null?void 0:n.pullRequest.mergeRequirements)==null?void 0:a.conditions.find(le=>le.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:l.conflicts,this.update(this.item),{mergeability:ae,conflicts:this.conflicts}}catch(g){return y.error(`Unable to fetch PR Mergeability: ${g}`,pr.ID),{mergeability:$e.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const n={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:rc(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=n.isDraft,this.item.mergeable=n.mergeable,this.item.allowAutoMerge=n.allowAutoMerge,n}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}updateCommentReactions(e,t){const i=this._reviewThreadsCache.find(n=>n.comments.some(a=>a.graphNodeId===e));if(i){const n=i.comments.find(a=>a.graphNodeId===e);n&&(n.reactions=xf(t),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}}async addCommentReaction(e,t){const i=Pl().reduce((x,V)=>(x[V.label]=V.title,x),{}),{mutate:n,schema:a}=await this.githubRepository.ensure(),{data:l}=await n({mutation:a.AddReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!l)throw new Error("Add comment reaction failed.");const g=l.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,g),l}async deleteCommentReaction(e,t){const i=Pl().reduce((x,V)=>(x[V.label]=V.title,x),{}),{mutate:n,schema:a}=await this.githubRepository.ensure(),{data:l}=await n({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!l)throw new Error("Delete comment reaction failed.");const g=l.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,g),l}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{y.debug("Resolve review thread - enter",pr.ID);const{mutate:i,schema:n}=await this.githubRepository.ensure();t&&t.viewerCanResolve&&(t.isResolved=!0,t.viewerCanResolve=!1,t.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:n.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:n.LegacyResolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Resolve review thread failed.");const l=this._reviewThreadsCache.findIndex(g=>g.id===e);if(l>-1){const g=Ml(a.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(l,1,g),this._onDidChangeReviewThreads.fire({added:[],changed:[g],removed:[]})}y.debug("Resolve review thread - done",pr.ID)}catch(i){y.error(`Resolve review thread failed: ${i}`,pr.ID),this.undoOptimisticResolveState(t)}}async unresolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{y.debug("Unresolve review thread - enter",pr.ID);const{mutate:i,schema:n}=await this.githubRepository.ensure();t&&t.viewerCanUnresolve&&(t.isResolved=!1,t.viewerCanUnresolve=!1,t.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:n.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:n.LegacyUnresolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Unresolve review thread failed.");const l=this._reviewThreadsCache.findIndex(g=>g.id===e);if(l>-1){const g=Ml(a.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(l,1,g),this._onDidChangeReviewThreads.fire({added:[],changed:[g],removed:[]})}y.debug("Unresolve review thread - done",pr.ID)}catch(i){y.error(`Unresolve review thread failed: ${i}`,pr.ID),this.undoOptimisticResolveState(t)}}async enableAutoMerge(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:n}=await t({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!n)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){y.debug(`Dequeue pull request ${this.number} - enter`,Rn.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),y.debug(`Dequeue pull request ${this.number} - done`,Rn.ID),this.mergeQueueEntry=void 0,!0}catch(i){return y.error(`Dequeueing pull request failed: ${i}`,Rn.ID),!1}}async enqueuePullRequest(){var e;y.debug(`Enqueue pull request ${this.number} - enter`,Rn.ID);const{mutate:t,schema:i}=await this.githubRepository.ensure();if(i.EnqueuePullRequest)try{const{data:n}=await t({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return y.debug(`Enqueue pull request ${this.number} - done`,Rn.ID),(e=Of(n==null?void 0:n.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(n){y.error(`Enqueuing pull request failed: ${n}`,Rn.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:i}=await this.githubRepository.ensure(),n=[];let a=null,l=!1;do{const{data:g}=await e({query:t.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:a}});g.repository.pullRequest.files.nodes.forEach(x=>{this._fileChangeViewedState[x.path]!==x.viewerViewedState&&n.push({fileName:x.path,viewed:x.viewerViewedState}),this.setFileViewedState(x.path,x.viewerViewedState,!1)}),l=g.repository.pullRequest.files.pageInfo.hasNextPage,a=g.repository.pullRequest.files.pageInfo.endCursor}while(l);n.length&&this._onDidChangeFileViewedState.fire({changed:n})}updateMarkFilesInProgressRefCount(e,t){const i=[];for(const n of e){let a=this.markFilesInProgressRefCount.get(n)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(n),i.push(n)):this.markFilesInProgressRefCount.set(n,a)}return i}async markFiles(e,t,i){const n=e.map(V=>ee(this.githubRepository.rootUri.path,V,"/")?V.substring(this.githubRepository.rootUri.path.length+1):V);this.updateMarkFilesInProgressRefCount(n,"increment");const{mutate:a}=await this.githubRepository.ensure(),l=this.graphNodeId,g=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let V=0;V<n.length;V+=Yf){const Y=n.slice(V,V+Yf),ae=ei()`mutation Batch${g}{
				${Y.map((le,_e)=>`alias${_e}: ${g}(
						input: {path: "${le}", pullRequestId: "${l}"}
					) { clientMutationId }
					`)}
			}`;await a({mutation:ae})}this.updateMarkFilesInProgressRefCount(n,"decrement").forEach(V=>this.setFileViewedState(V,i==="viewed"?zt.VIEWED:zt.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,i){const n=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===ii.VscodeVfs?n.path:n.fsPath;switch(t){case zt.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case zt.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case zt.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};er(Jf,"ID","PullRequestModel");let Yr=Jf;var S0=Object.defineProperty,R0=(r,e,t)=>e in r?S0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fc=(r,e,t)=>R0(r,typeof e!="symbol"?e+"":e,t);let ca;class Dl extends s.Disposable{constructor(e){super(()=>k(this.disposables)),this._storageUri=e,fc(this,"SUBPATH","temp"),fc(this,"disposables",[]),fc(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){k(this.disposables),k(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const i=this.disposables.shift();i==null||i.dispose()}this.disposables.push(e)}}async writeState(e,t,i,n){let a=this.path;const l=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;l&&(a=s.Uri.joinPath(a,l)),e&&(a=s.Uri.joinPath(a,e)),await s.workspace.fs.createDirectory(a);const g=s.Uri.joinPath(a,t);await s.workspace.fs.writeFile(g,i);const x={dispose:()=>{try{return s.workspace.fs.delete(g,{recursive:!0})}catch{}}};return this.addDisposable(x,n),g}async readState(e,t){let i=this.path;const n=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;n&&(i=s.Uri.joinPath(i,n)),i=s.Uri.joinPath(i,e);const a=s.Uri.joinPath(i,t);return s.workspace.fs.readFile(a)}static async init(e){if(e.globalStorageUri&&!ca){ca=new Dl(e.globalStorageUri);try{await s.workspace.fs.delete(ca.path,{recursive:!0})}catch(t){y.appendLine(`TemporaryState> Error in initialization: ${t.message}`)}try{await s.workspace.fs.createDirectory(ca.path)}catch(t){y.appendLine(`TemporaryState> Error in initialization: ${t.message}`)}return e.subscriptions.push(ca),ca}}static async write(e,t,i,n=!1){if(ca)return ca.writeState(e,t,i,n)}static async read(e,t){if(ca)return ca.readState(e,t)}}function ta(r){return JSON.parse(r)}function xr(r){if(r.query!=="")try{return JSON.parse(r.query)}catch{}}function Xf(r){if(r.query!=="")try{return JSON.parse(r.query)}catch{}}function Zf(r){if(r.query!=="")try{return JSON.parse(r.query)}catch{}}function Ga(r,e,t){return r.with({scheme:e,query:JSON.stringify(t)})}const E0=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],eh=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],th=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function hc(r,e){try{const{commit:t,baseCommit:i,headCommit:n,isBase:a,path:l}=JSON.parse(r.query),g=U.extname(l);if(!eh.includes(g))return;const x=r.scheme==="review"?t:a?i:n,V=U.join(e.rootUri.fsPath,l).replace(/\\/g,"/"),{object:Y}=await e.getObjectDetails(x,V),{mimetype:ae}=await e.detectObjectType(Y);if(ae==="text/plain")return;if(E0.indexOf(ae)>-1){const le=await e.buffer(x,V);return Dl.write(U.dirname(l),U.basename(l),le)}}catch{return}}var Va;(r=>{const e="userIcons";function t(Y){return`${yt(Y)}.jpg`}function i(Y){return s.Uri.joinPath(Y.globalStorageUri,e)}function n(Y,ae){return s.Uri.joinPath(i(Y),t(ae))}function a(Y){return s.Uri.joinPath(i(Y),"cache.log")}async function l(Y,ae,le){await s.workspace.fs.createDirectory(i(Y));const _e=n(Y,ae);return await s.workspace.fs.writeFile(_e,le),_e}async function g(Y,ae){try{const le=n(Y,ae);return s.workspace.fs.readFile(le)}catch{return}}function x(Y){return s.Uri.parse(`data:image/svg+xml;size:${Y.byteLength};base64,${Y.toString("base64")}`)}r.asImageDataURI=x;async function V(Y,ae,le,_e,Ee){let Be;const ue=a(Y);try{const He=await s.workspace.fs.readFile(ue);Be=JSON.parse(He.toString())}catch{Be=[]}const Re=Be.length,Ce=await Promise.all(ae.map(async He=>{const Ke=He.avatarUrl;if(Ke===void 0)return;let ot,ft=!1;try{const ar=await g(Y,He);if(!ar)throw new Error("Temporary state not initialized");ot=Ur.Buffer.from(ar)}catch{if(Ee)return;ft=!0;const lr=async()=>{const po=await(await Wr()(Ke.toString())).arrayBuffer();await l(Y,He,new Uint8Array(po)),ot=Ur.Buffer.from(po)};try{await lr()}catch{await lr()}}if(!ot)return;if(ft){const ar=t(He);Be.push(ar)}const Lt=`data:image/jpeg;size:${ot.byteLength};base64,${ot.toString("base64")}`,At=`<svg width="${_e}" height="${le}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${Lt}" width="${_e}" height="${le}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,Ui=Ur.Buffer.from(At);return x(Ui)})),Ie=Math.max(ae.length,200);if(Be.length>Re&&Re>0&&Be.length>Ie){const He=Be.splice(0,50);await Promise.all(He.map(async Ke=>{try{await s.workspace.fs.delete(s.Uri.joinPath(i(Y),Ke))}catch(ot){y.error(`Failed to delete avatar from cache: ${ot}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(ue,Ur.Buffer.from(JSON.stringify(Be))),Ce}r.avatarCirclesAsImageDataUris=V})(Va||(Va={}));function jn(r,e,t,i,n,a,l){const g={path:e||r.path,ref:t,commit:i,base:a.base,isOutdated:n,rootPath:l.path};let x=r.path;return a.replaceFileExtension&&(x=`${x}.git`),r.with({scheme:"review",path:x,query:JSON.stringify(g)})}function mc(r,e,t,i,n){const a={prNumber:e,fileName:t,status:i,previousFileName:n};return r.with({scheme:"filechange",query:JSON.stringify(a)})}function ih(r){if(r.query!=="")try{return JSON.parse(r.query)}catch{}}function Ma(r,e,t,i,n,a,l,g){const x={baseCommit:t,headCommit:i,isBase:a,fileName:n,prNumber:e.number,status:l,remoteName:e.githubRepository.remote.remoteName,previousFileName:g},V=r.path;return r.with({scheme:"pr",path:V,query:JSON.stringify(x)})}function rh(r){let e;return r instanceof Yr?e=`${r.remote.url}:${r.number}`:typeof r=="string"?e=r:e=`${r.remote}:${r.prNumber}`,e}function pc(r){const e=rh(r),t={prIdentifier:e};return s.Uri.parse(`PRNode:${e}`).with({scheme:"prnode",query:JSON.stringify(t)})}function vc(r){return s.Uri.from({scheme:"notification",path:r.key})}function T0(r){if(r.scheme==="notification")try{return{key:r.path}}catch{}}function C0(r){const e={origin:r.originUri.toString()};return r.repoUriParams&&(e.origin=N0(r.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function Fl(r){if(r.scheme==="newissue")try{const e=JSON.parse(r.query),t=s.Uri.parse(e.origin),i=nh(t);return{originUri:t,repoUriParams:i}}catch{}}function N0(r){const e={folderManagerRootUri:r.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${r.owner}/${r.repo}`,query:JSON.stringify(e)})}function nh(r){if(r.scheme!=="repo")return;const[e,t]=r.path.split("/");try{const i=JSON.parse(r.query),n=s.Uri.parse(i.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:n}}catch{}}var ii=(r=>(r.File="file",r.Review="review",r.Pr="pr",r.PRNode="prnode",r.FileChange="filechange",r.GithubPr="githubpr",r.GitPr="gitpr",r.VscodeVfs="vscode-vfs",r.Comment="comment",r.MergeOutput="merge-output",r.Notification="notification",r.NewIssue="newissue",r.Repo="repo",r.Git="git",r))(ii||{});function Ws(r,e){return r.scheme==="file"?U.resolve(r.fsPath,e):U.posix.resolve(r.path,e)}class M0 extends s.EventEmitter{handleUri(e){this.fire(e)}}const P0=new M0,Ks="GitHub.vscode-pull-request-github",gc="git",ah="ghpr",sh="initialize",oh="statechange",Qs="github:focusedReview";function Ol(r){return r.kind==="notification"}function Lo(r){return r===void 0||r===0?0:r-1}function dR(r,e){for(let t=0;t<r.length;t++){const i=r[t];for(let n=0;n<i.diffLines.length;n++)if(i.diffLines[n].positionInHunk===e)return i.diffLines[n]}}function Ll(r,e,t){const i=Pi(r);let n=i.next(),a=0;for(;!n.done;){const l=n.value;if(!(l.oldLineNumber>e))if(l.oldLineNumber+l.oldLength-1<e)a+=l.newLength-l.oldLength;else{if(t===l.newLength)return a+=l.newLength-l.oldLength,e+a;for(const g of l.diffLines){if(g.oldLineNumber>e)return e+a;g.type===Ot.Add?a++:g.type===Ot.Delete&&a--}return e+a}n=i.next()}return e+a}function Uo(r,e){const t=Pi(r);let i=t.next(),n=0;for(;!i.done;){const a=i.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)n+=a.oldLength-a.newLength;else{for(const l of a.diffLines)if(l.type===Ot.Add?n--:l.type===Ot.Delete&&n++,l.newLineNumber>e)return e+n;return e+n}i=t.next()}return e+n}function lh(r,e,t="GetCommentingRanges"){r.length===0&&y.debug("No commenting ranges: File contains no diffs.",t);const i=[];for(let n=0;n<r.length;n++){const a=r[n];let l,g;if(e){let x;for(let V=0;V<a.diffLines.length;V++){const Y=a.diffLines[V];Y.type===Ot.Delete?(l!==void 0||(l=Lo(Y.oldLineNumber)),x=Lo(Y.oldLineNumber)):l!==void 0&&x!==void 0&&(i.push(new s.Range(l,0,x,0)),l=void 0,x=void 0)}l!==void 0&&x!==void 0?(i.push(new s.Range(l,0,x,0)),l=void 0,x=void 0):i.length===0&&y.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(l=Lo(a.newLineNumber),g=Lo(a.newLength),i.push(new s.Range(l,0,l+g,0))):y.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return y.debug(`Found ${i.length} commenting ranges.`,t),i}var A0=Object.defineProperty,x0=(r,e,t)=>e in r?A0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ys=(r,e,t)=>x0(r,typeof e!="symbol"?e+"":e,t);class Jr extends v{constructor(e){super(),this.parent=e,Ys(this,"children"),Ys(this,"childrenDisposables",[]),Ys(this,"label"),Ys(this,"accessibilityInformation"),Ys(this,"id")}getParent(){if(this.parent instanceof Jr)return this.parent}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(i){y.error(i,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this.children&&this.children.length?this.children:this.getChildren()}async getChildren(e=!0){return this.children&&this.children.length&&e&&k(this.children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&k(this.childrenDisposables)}}class uh extends Jr{constructor(e,t){super(e),Ys(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var I0=Object.defineProperty,D0=(r,e,t)=>e in r?I0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zn=(r,e,t)=>D0(r,typeof e!="symbol"?e+"":e,t);function Ul(r,e={}){const t=s.window.activeTextEditor,i={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===r.path&&(i.selection=t.selection),{command:"vscode.open",arguments:[r,i],title:"Open File"}}async function bc(r,e,t,i,n){let a=await hc(e,r.repository)||e,l=await hc(t,r.repository)||t;(a.scheme==="data"||l.scheme==="data")&&(n===we.ADD&&(a=th),n===we.DELETE&&(l=th));const g=t.path.split("/");return{command:"vscode.diff",arguments:[a,l,`${g[g.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class hs extends Jr{constructor(e,t,i,n){var a;super(e),this.pullRequestManager=t,this.pullRequest=i,this.changeModel=n,zn(this,"iconPath"),zn(this,"fileChangeResourceUri"),zn(this,"contextValue"),zn(this,"command"),zn(this,"opts"),zn(this,"checkboxState");const l=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:zt.UNVIEWED;this.contextValue=`${ii.FileChange}:${we[this.changeModel.status]}:${l===zt.VIEWED?"viewed":"unviewed"}`,this.label=U.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=mc(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof Ae?this.changeModel.change.previousFileName:void 0),this.updateViewed(l),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(g=>{[...g.added,...g.removed].some(x=>x.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(g=>{const x=g.changed.find(V=>V.fileName===this.changeModel.fileName&&V.viewed!==this.changeModel.viewed);x&&(this.updateViewed(x.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"}}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}get description(){return s.workspace.getConfiguration(lt).get(dr)==="flat"?!0:""}updateViewed(e){var t,i;this.changeModel.updateViewed(e),this.contextValue=`${ii.FileChange}:${we[this.changeModel.status]}:${e===zt.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===zt.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(i=this.label)!=null?i:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?zt.VIEWED:zt.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const i=this.pullRequest.reviewThreadsCache,a=(ie(i,l=>l.path)[this.changeModel.fileName]||[]).filter(l=>!l.isOutdated);if(a.length){a.sort((x,V)=>x.endLine-V.endLine);const l=(e=a[0].startLine)!=null?e:a[0].originalStartLine,g=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(l,0,g,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Ul(this.changeModel.filePath)}async openDiff(e,t){var i;const n=await bc(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(n.command,...(i=n.arguments)!=null?i:[])}}class yc extends hs{get description(){let e=s.workspace.asRelativePath(U.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,i,n){super(e,t,i,n),this.fileChangeResourceUri=mc(s.Uri.parse(n.blobUrl),n.pullRequest.number,n.fileName,n.status,n.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class wc extends hs{constructor(e,t,i,n){super(t,e,i,n),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===we.ADD?this.command=Ul(this.changeModel.filePath):this.command=await bc(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class Js extends hs{constructor(e,t,i,n,a,l){super(e,t,i,n),this.isCurrent=a,this._comments=l,zn(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===we.DELETE||this.status===we.ADD){const _e=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===we.DELETE?[this.changeModel.parentFilePath,_e,`${this.fileName}`,{}]:[_e,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:i,rootPath:n}=ta(this.changeModel.filePath.query),a=`${i}^`,l={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:n},g=this.changeModel.filePath.with({query:JSON.stringify(l)});let x=this.changeModel.filePath;this.isCurrent&&(x=this.pullRequestManager.repository.rootUri.with({path:U.posix.join(l.rootPath,l.path)}));const V={},Y=this.pullRequest.reviewThreadsCache,le=(ie(Y,_e=>_e.path)[this.fileName]||[]).filter(_e=>_e.isOutdated).sort((_e,Ee)=>_e.endLine-Ee.endLine);return le.length&&(V.selection=new s.Range(le[0].originalStartLine,0,le[0].originalEndLine,0)),{command:"vscode.diff",arguments:[g,x,`${this.fileName} from ${(i||"").substr(0,8)}`,V],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(tr,this.pullRequestManager.repository.rootUri).get(Ir,!0)&&this.status!==we.ADD?this.command=await bc(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Bl extends Jr{constructor(e,t,i,n,a,l,g){super(e),this.fileName=t,this.previousFileName=i,this.status=n,this.baseBranch=a,this.headBranch=l,this.isLocal=g,zn(this,"description"),zn(this,"iconPath"),zn(this,"fileChangeResourceUri"),zn(this,"tooltip"),zn(this,"command");const x=g?ii.GitPr:ii.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:x,query:JSON.stringify({status:n,fileName:t})});let V=Ga(s.Uri.file(t),x,{fileName:t,branch:a}),Y=Ga(s.Uri.file(t),x,{fileName:t,branch:l});switch(n){case we.ADD:V=Ga(s.Uri.file(t),x,{fileName:t,branch:a,isEmpty:!0});break;case we.RENAME:V=Ga(s.Uri.file(i),x,{fileName:i,branch:a,isEmpty:!0});break;case we.DELETE:Y=Ga(s.Uri.file(t),x,{fileName:t,branch:l,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[V,Y,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function _c(r){return r.filter(e=>e instanceof Js)}var F0=Object.defineProperty,O0=(r,e,t)=>e in r?F0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,da=(r,e,t)=>O0(r,typeof e!="symbol"?e+"":e,t);const ch=class Sn extends vf{constructor(e,t,i,n,a,l){var g,x;super(t,l),this._reviewManager=e,this._repository=i,this._reviewModel=n,this._gitApi=a,da(this,"_commentHandlerId"),da(this,"_workspaceFileChangeCommentThreads",{}),da(this,"_reviewSchemeFileChangeCommentThreads",{}),da(this,"_obsoleteFileChangeCommentThreads",{}),da(this,"_visibleNormalTextEditors",[]),da(this,"_pendingCommentThreadAdds",[]),da(this,"_context"),da(this,"resourceHints",{schemes:[ii.Review]}),da(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`github-review-${(g=t.activePullRequest)==null?void 0:g.remote.owner}-${(x=t.activePullRequest)==null?void 0:x.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=tf(),Ut(this._commentHandlerId,this,i)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const i=t.comments[0].originalCommitId,n=s.Uri.file(U.join(`commit~${i.substr(0,8)}`,e)),a=jn(n,e,void 0,i,!0,{base:t.diffSide===Gt.LEFT},this._repository.rootUri),l=t.subjectType===de.FILE?void 0:Io(t.originalStartLine-1,t.originalEndLine-1);return Do(this._context,a,l,t,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,i){let n=i.startLine,a=i.endLine;const l=await this._repository.diffWithHEAD(t);l&&(n=Ll(l,n),a=Ll(l,a));let g;if(i.subjectType!==de.FILE){const x=n-1,V=a-1;(x<0||V<0)&&y.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${x}, ${V})`,Sn.ID),g=Io(x,V)}return Do(this._context,e,g,i,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,i){var n;if(!((n=this._folderRepoManager.activePullRequest)!=null&&n.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=jn(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),l=i.subjectType===de.FILE?void 0:Io(i.startLine-1,i.endLine-1);return Do(this._context,a,l,i,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const i in this._workspaceFileChangeCommentThreads)k(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)k(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)k(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const t=ie(e,i=>i.path);Object.keys(t).forEach(i=>{const n=t[i],a=n[0];if(a){const l=U.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),g=this._repository.rootUri.with({path:l});let x=[],V=[],Y=[];const ae=n.map(async le=>{le.isOutdated?Y.push(await this.createOutdatedCommentThread(i,le)):le.diffSide===Gt.RIGHT?x.push(await this.createWorkspaceCommentThread(g,i,le)):V.push(await this.createReviewCommentThread(g,i,le))});Promise.all(ae),this._workspaceFileChangeCommentThreads[i]=x,this._reviewSchemeFileChangeCommentThreads[i]=V,this._obsoleteFileChangeCommentThreads[i]=Y}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,n]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(n.status!==we.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);y.trace(`Prefetching commenting ranges for ${a.toString()}`,Sn.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const n in i)i[n].forEach(a=>{Mf(a,t),Hs(a)})})})),this._register(e.onDidChangeReviewThreads(t=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);t.added.forEach(async n=>{const{path:a}=n,l=this._pendingCommentThreadAdds.findIndex(async V=>{const Y=this._folderRepoManager.gitRelativeRootPath(V.uri.path);if(Y!==n.path)return!1;const ae=await this.getContentDiff(V.uri,Y);return(V.range?Uo(ae,V.range.end.line):0)+1===n.endLine});let g;if(l>-1)g=this._pendingCommentThreadAdds[l],g.gitHubThreadId=n.id,g.comments=n.comments.map(V=>new Or(this._context,V,g,i)),Cf(this._context,g,n,i),this._pendingCommentThreadAdds.splice(l,1);else{const V=U.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),Y=this._repository.rootUri.with({path:V});n.isOutdated?g=await this.createOutdatedCommentThread(a,n):n.diffSide===Gt.RIGHT?g=await this.createWorkspaceCommentThread(Y,a,n):g=await this.createReviewCommentThread(Y,a,n)}const x=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===Gt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;x[a]?x[a].push(g):x[a]=[g]}),t.changed.forEach(n=>{const a=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===Gt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,l=a[n.path]?a[n.path].findIndex(g=>g.gitHubThreadId===n.id):-1;if(l>-1){const g=a[n.path][l];Cl(this._context,g,n,i)}}),t.removed.forEach(n=>{const a=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===Gt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,l=a[n.path]?a[n.path].findIndex(g=>g.gitHubThreadId===n.id):-1;if(l>-1){const g=a[n.path][l];a[n.path].splice(l,1),g.dispose()}}),this.updateResourcesWithCommentingRanges()})),this._register(s.window.onDidChangeActiveTextEditor(t=>this.onDidChangeActiveTextEditor(t))))}onDidChangeActiveTextEditor(e){var t;if((t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0,(e==null?void 0:e.document.uri.scheme)!==ii.Comment)return;const i=()=>{e.document.getText().includes("```suggestion")?vt.setContext(qi.ACTIVE_COMMENT_HAS_SUGGESTION,!0):vt.setContext(qi.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(n=>{n.document.uri.toString()===e.document.uri.toString()&&i()}),i()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const i=this.githubReposForPullRequest(t);function n(x,V){if(V.size!==0)for(const Y of V.keys()){const ae=V.get(Y),le=x[Y];for(const _e of le){const Ee=ae.get(_e.gitHubThreadId);Cl(this._context,_e,Ee,i,e)}}}const a=new Map,l=new Map,g=new Map;for(const x of t.reviewThreadsCache){let V;x.isOutdated?V=a:x.diffSide===Gt.RIGHT?V=g:V=l,V.has(x.path)||V.set(x.path,new Map),V.get(x.path).set(x.id,x)}n(this._obsoleteFileChangeCommentThreads,a),n(this._reviewSchemeFileChangeCommentThreads,l),n(this._workspaceFileChangeCommentThreads,g)}visibleEditorsEqual(e,t){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),t=t.filter(i=>i.document.uri.scheme!=="comment"),e=w(e,i=>i.document.uri.toString()),t=w(t,i=>i.document.uri.toString()),e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.find(a=>a.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===ii.Review?!0:Hf(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let i=e.uri.query&&e.uri.query!==""?ta(e.uri.query):void 0;if(i){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return y.debug("Found matched file for commenting ranges.",Sn.ID),{ranges:lh(await a.changeModel.diffHunks(),i.base,Sn.ID),enableFileComments:!0}}const n=sc(this._gitApi,e.uri);if((n==null?void 0:n.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&y.debug("No commenting ranges: File is not in the current repository.",Sn.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){y.debug("No commenting ranges: Active PR has not been resolved.",Sn.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),l=_c(this._reviewModel.localFileChanges).find(x=>x.fileName===a),g=[];if(l){const x=await l.changeModel.diffHunks();if(l.status===we.RENAME&&x.length===0)return y.debug("No commenting ranges: File was renamed with no diffs.",Sn.ID),{ranges:[],enableFileComments:!0};const V=await this.getContentDiff(e.uri,l.fileName);for(let Y=0;Y<x.length;Y++){const ae=x[Y],le=Ll(V,ae.newLineNumber,e.lineCount),_e=Ll(V,ae.newLineNumber+ae.newLength-1,e.lineCount);le>0&&_e>0&&g.push(new s.Range(le-1,0,_e-1,0))}g.length===0&&y.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",Sn.ID)}else y.debug("No commenting ranges: File does not match any of the files in the review.",Sn.ID);return y.debug(`Providing ${g.length} commenting ranges for ${U.basename(e.uri.fsPath)}.`,Sn.ID),{ranges:g,enableFileComments:g.length>0}}else y.debug("No commenting ranges: File scheme differs from repository scheme.",Sn.ID)}async getContentDiff(e,t,i=!0){var n,a,l,g;const x=s.window.visibleTextEditors.find(V=>V.document.uri.toString()===e.toString());if(!((n=this._folderRepoManager.activePullRequest)!=null&&n.head))throw y.error("Failed to get content diff. Cannot get content diff without an active pull request head.",Sn.ID),new Error("Cannot get content diff without an active pull request head.");try{if(x&&x.document.isDirty&&s.workspace.getConfiguration("files",x.document.uri).get("autoSave")!=="afterDelay"){const V=x.document.getText(),ae=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,le=await this._repository.hashObject(V);return await this._repository.diffBlobs(ae,le)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(V){if(y.error(`Failed to get content diff. ${pe(V)}`,Sn.ID),(a=V.stderr)!=null&&a.includes("bad object")){if((l=this._repository.state.HEAD)!=null&&l.upstream&&i){const Y=s.workspace.getConfiguration(lt).get(Ci,"pull");if((Y==="pull"||Y==="pullAndMergeBase"||Y==="pullAndUpdateBase"||Y===!0)&&s.workspace.getConfiguration(lt).get(oi,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((g=this._repository.state.HEAD)!=null&&g.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),y.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,Sn.ID)}throw V}}findMatchedFileChangeForReviewDiffView(e,t){const i=ta(t.query),n=e.filter(a=>{const l=a.changeModel;if(l instanceof zs||l.fileName!==i.path&&!(l.change instanceof Ae&&l.change.previousFileName===i.path))return!1;if(l.filePath.scheme!=="review"&&l.sha===i.commit)return!0;const g=l.filePath.query?JSON.parse(l.filePath.query):void 0;if(g&&g.commit===i.commit)return!0;const x=l.parentFilePath.query?JSON.parse(l.parentFilePath.query):void 0;return!!(x&&x.commit===i.commit)});if(n&&n.length)return n[0]}getCommentSide(e){return e.uri.scheme===ii.Review&&ta(e.uri.query).base?Gt.LEFT:Gt.RIGHT}async startReview(e,t){var i;const n=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),n){const l=e.comments[0];if(l instanceof Or)await this._folderRepoManager.activePullRequest.createCommentReply(t,l.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const l=this._folderRepoManager.gitRelativeRootPath(e.uri.path),g=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let x,V;if(e.range){if(g===Gt.RIGHT){const Y=await this.getContentDiff(e.uri,l);x=Uo(Y,e.range.start.line),V=Uo(Y,e.range.end.line)}else x=e.range.start.line,V=e.range.end.line;x++,V++}await this._folderRepoManager.activePullRequest.createReviewThread(t,l,x,V,g)}}catch(l){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=l==null?void 0:l.message)!=null?i:l}),e.comments=e.comments.map(g=>(g instanceof Hn&&g.id===a&&(g.mode=s.CommentMode.Editing),g))}}async openReview(){await this._reviewManager.openDescription(),Zn.scrollToReview()}async optimisticallyAddComment(e,t,i){const n=await this._folderRepoManager.getCurrentUser(),a=new Hn(e,t,i,n);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Hs(e)}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(),n=new Hn(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Or&&a.commentId===t.commentId?n:a),n.id}async createOrReplyComment(e,t,i,n){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const l=e.comments.length,g=i?!1:n!==void 0?n:this._folderRepoManager.activePullRequest.hasPendingReview,x=await this.optimisticallyAddComment(e,t,g);try{if(l){const V=e.comments[0];if(V instanceof Or)await this._folderRepoManager.activePullRequest.createCommentReply(t,V.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const V=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const Y=this.getCommentSide(e);let ae,le;if(e.range){if(Y===Gt.RIGHT){const _e=await this.getContentDiff(e.uri,V);ae=Uo(_e,e.range.start.line),le=Uo(_e,e.range.end.line)}else ae=e.range.start.line,le=e.range.end.line;ae++,le++}await this._folderRepoManager.activePullRequest.createReviewThread(t,V,ae,le,Y,i)}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(V){(a=V.graphQLErrors)!=null&&a.length&&V.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Y=>{Y==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${V}`),e.comments=e.comments.map(Y=>(Y instanceof Hn&&Y.id===x&&(Y.mode=s.CommentMode.Editing),Y))}}async createSuggestionsFromChanges(e,t){const i=this._folderRepoManager.activePullRequest;if(!i)return;const n=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await i.createReviewThread(a,n,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,Gt.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,t){if(t instanceof Or){const i=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(n){s.window.showErrorMessage(pe(n)),e.comments=e.comments.map(a=>a instanceof Hn&&a.id===i?new Or(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof Or?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(n=>!(n instanceof Hn&&n.id===t.id)),e.comments.length===0?e.dispose():Hs(e);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error(pe(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){throw new Error(pe(i))}}async applySuggestion(e){const t=e.parent.range,i=e.suggestion;if(i===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const n=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!n)throw new Error("Cannot find the editor to apply the suggestion to.");await n.edit(a=>{a.replace(t.with(void 0,n.document.lineAt(t.end.line).range.end),i)})}dispose(){super.dispose(),Ki(this._commentHandlerId)}};da(ch,"ID","ReviewCommentController");let dh=ch;function fh(){const r={merged:!1,closed:!1},e=s.workspace.getConfiguration(lt).get(ri,r);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:r}class ql{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(lt).get(Tr)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new ql(e,t))}provideTerminalLinks(e,t){var i;const n=e.line.indexOf("https://github.com");if(n===-1)return[];const a=e.line.substring(n),l=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),g=a.match(l);if(g&&g.length===4){const x=g[1],V=g[2],Y=g[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(le=>le.remote.owner===x&&le.remote.repositoryName===V)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===Y)return[{startIndex:n,length:e.line.length-n,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=ql.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const i="Yes",n="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",i,"No, continue to github.com",n).then(a=>{switch(a){case i:{this.reviewManager.createPullRequest();break}case n:{s.workspace.getConfiguration(lt).update(Tr,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var L0=Object.defineProperty,U0=(r,e,t)=>e in r?L0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B0=(r,e,t)=>U0(r,typeof e!="symbol"?e+"":e,t);const hh="github-pr-remote",mh="github-pr-owner-number",q0="github-pr-base-branch",H0="vscode-merge-base",ph=/branch\.(.+)\.github-pr-owner-number/,$0=/branch\.(.+)\.remote/,vh=class cr{static async checkoutFromFork(e,t,i,n){const a=await cr.calculateUniqueBranchNameForPR(e,t);i||(y.appendLine(`Branch ${a} is from a fork. Create a remote first.`,cr.ID),n.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),i=await cr.createRemote(e,t.remote,t.head.repositoryCloneUrl));const l=`${t.head.ref}:${a}`;y.debug(`Fetch ${i}/${t.head.ref}:${a} - start`,cr.ID),n.report({message:s.l10n.t("Fetching branch {0}",l)}),await e.fetch(i,l),y.debug(`Fetch ${i}/${t.head.ref}:${a} - done`,cr.ID),n.report({message:s.l10n.t("Checking out {0}",l)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${i}/${t.head.ref}`),await cr.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,i,n){var a;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const l=cr.getHeadRemoteForPullRequest(t,i),g=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!l||g)return cr.checkoutFromFork(e,i,l&&l.remoteName,n);const x=i.head.ref,V=l.remoteName;let Y;try{if(Y=await e.getBranch(x),((a=e.state.HEAD)==null?void 0:a.name)===Y.name){y.appendLine(`Tried to checkout ${x}, but branch is already checked out.`,cr.ID);return}if(y.debug(`Checkout ${x}`,cr.ID),n.report({message:s.l10n.t("Checking out {0}",x)}),await e.checkout(x),!Y.upstream){const ae=`refs/remotes/${V}/${x}`;await e.setBranchUpstream(x,ae)}Y.behind!==void 0&&Y.behind>0&&Y.ahead===0&&(y.debug("Pull from upstream",cr.ID),n.report({message:s.l10n.t("Pulling {0}",x)}),await e.pull())}catch{y.appendLine(`Branch ${V}/${x} doesn't exist on local disk yet.`,cr.ID);const le=`refs/remotes/${V}/${x}`;y.appendLine(`Fetch tracked branch ${le}`,cr.ID),n.report({message:s.l10n.t("Fetching branch {0}",x)}),await e.fetch(V,x);const _e=await e.getBranch(le);n.report({message:s.l10n.t("Creating and checking out branch {0}",x)}),await e.createBranch(x,!0,_e.commit),await e.setBranchUpstream(x,le)}await cr.associateBranchWithPullRequest(e,i,x)}static async checkoutExistingPullRequestBranch(e,t,i){const n=cr.buildPullRequestMetadata(t),a=await e.getConfigs(),l=x=>a.filter(({key:V})=>x===V).map(({value:V})=>V)[0],g=a.map(x=>{const V=ph.exec(x.key);return{branch:V&&V.length?V[1]:null,value:x.value}}).filter(x=>x.branch&&x.value===n);if(g&&g.length){const x=g[0].branch;i.report({message:s.l10n.t("Checking out branch {0}",x)}),await e.checkout(x);const V=s.workspace.getConfiguration(lt).get(Ci,"pull");if(V==="pull"||V==="pullAndMergeBase"||V==="pullAndUpdateBase"||V===!0){const ae=l(`branch.${x}.remote`),le=l(`branch.${x}.merge`);i.report({message:s.l10n.t("Fetching branch {0}",x)}),await e.fetch(ae,le)}const Y=await e.getBranch(g[0].branch);return Y.upstream===void 0?!1:(Y.behind!==void 0&&Y.behind>0&&Y.ahead===0&&(y.debug("Pull from upstream",cr.ID),i.report({message:s.l10n.t("Pulling branch {0}",x)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let i=null;try{const n=cr.buildPullRequestMetadata(t),a=await e.getConfigs(),l=a.map(g=>{const x=ph.exec(g.key);return{branch:x&&x.length?x[1]:null,value:g.value}}).find(g=>!!g.branch&&g.value===n);if(l){i=l.branch;const g=`branch.${i}.remote`,x=a.filter(le=>le.key===g).map(le=>le.value);let V;x.length&&(V=x[0]);let Y=!1;if(V){const le=`remote.${V}.github-pr-remote`;a.filter(Ee=>Ee.key===le&&Ee.value).length&&(Y=!0)}let ae;return Y&&(ae=a.some(le=>!!($0.exec(le.key)&&le.key!==`branch.${i}.remote`&&le.value===V))),{branch:i,remote:V,createdForPullRequest:Y,remoteInUse:ae}}}catch(n){return i?{branch:i}:(y.error(`getBranchNRemoteForPullRequest failed ${n}`,cr.ID),null)}return null}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,i){return`${e}#${t}#${i}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,i,n,a]=t;return{owner:i,repositoryName:n,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${mh}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const i=this.getMetadataKeyForBranch(t),n=await e.getConfig(i);return cr.parsePullRequestMetadata(n)}catch{return}}static async createRemote(e,t,i){y.appendLine(`create remote for ${i}.`,cr.ID);const n=Na(e);for(const l of n)if(new wn(l.url).equals(i))return l.remoteName;const a=cr.getUniqueRemoteName(e,i.owner);return i.update({type:t.gitProtocol.type}),await e.addRemote(a,i.toString()),await e.setConfig(`remote.${a}.${hh}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{y.debug(`Check if remote '${t}' is created for pull request - start`,cr.ID);const i=await e.getConfig(`remote.${t}.${hh}`);return y.debug(`Check if remote '${t}' is created for pull request - end`,cr.ID),i==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const i=`pr/${t.author.login}/${t.number}`;let n=i,a=1;for(;;)try{await e.getBranch(n),n=`${i}-${a++}`}catch{break}return n}static getUniqueRemoteName(e,t){let i=t,n=1;const a=Na(e);for(;a.find(l=>l.remoteName===i);)i=`${t}${n++}`;return i}static getHeadRemoteForPullRequest(e,t){return e.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,i){try{t&&y.appendLine(`associate ${i} with Pull Request #${t.number}`,cr.ID);const n=`branch.${i}.${mh}`;t?await e.setConfig(n,cr.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(n)}catch{t&&y.error(`associate ${i} with Pull Request #${t.number} failed`,cr.ID)}}static async associateBaseBranchWithBranch(e,t,i){try{const n=`branch.${t}.${q0}`;if(i)y.appendLine(`associate ${t} with base branch ${i.owner}/${i.repo}#${i.branch}`,cr.ID),await e.setConfig(n,cr.buildBaseBranchMetadata(i.owner,i.repo,i.branch));else if(e.unsetConfig){await e.unsetConfig(n);const a=`branch.${t}.${H0}`;await e.unsetConfig(a)}}catch{y.error(`associate ${t} with base branch ${i==null?void 0:i.owner}/${i==null?void 0:i.repo}#${i==null?void 0:i.branch} failed`,cr.ID)}}};B0(vh,"ID","PullRequestGitHelper");let En=vh;const kc=new AbortController().signal,gh=new AbortController;gh.abort();const fR=gh.signal,hR=r=>{const e=new AbortController;if(!r)return e;if(r.aborted&&e.abort(),r!==kc){const t=new WeakRef(e);onAbort(r)(()=>{var i;return(i=t.deref())==null?void 0:i.abort()})}return e},G0=()=>{let r,e;const t=new Promise((i,n)=>{r=i,e=n});return{resolve:r,reject:e,promise:t}};class Sc extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const bh={dispose:()=>{}};var yh;(function(r){r.once=(e,t)=>{let i=!1,n;return n=e(a=>{t(a),n?n.dispose():i=!0}),i?(n.dispose(),bh):n},r.toPromise=(e,t)=>t?t.aborted?Promise.reject(new Sc):new Promise((i,n)=>{const a=V0(t)(()=>{l.dispose(),n(new Sc)}),l=r.once(e,g=>{a.dispose(),i(g)})}):new Promise(i=>r.once(e,i))})(yh||(yh={}));const V0=r=>{const e=new j0;if(r.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),r.removeEventListener("abort",t)};return r.addEventListener("abort",t),e.addListener};class Bo{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class mR extends Bo{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class j0 extends Bo{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),bh):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var wh=ni(65606);const z0=r=>{if("error"in r)throw r.error;return"success"in r?r.success:r.value},W0=()=>{if(typeof performance!="undefined"){const r=performance.now();return()=>performance.now()-r}else{const r=wh.hrtime.bigint();return()=>Number(wh.hrtime.bigint()-r)/1e6}};class Hl{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new Bo,this.failureEmitter=new Bo,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new Hl(this.errorFilter,this.resultFilter)}async invoke(e,...t){const i=this.successEmitter.size||this.failureEmitter.size?W0():null;try{const n=await e(...t);return this.resultFilter(n)?(i&&this.failureEmitter.emit({duration:i(),handled:!0,reason:{value:n}}),{value:n}):(i&&this.successEmitter.emit({duration:i()}),{success:n})}catch(n){const a=n,l=this.errorFilter(a);if(i&&this.failureEmitter.emit({duration:i(),handled:l,reason:{error:a}}),!l)throw a;return{error:a}}}}class K0 extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class Q0{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new Bo,this.executor=new Hl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=kc){if(t.aborted)throw new Sc;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:i,reject:n,promise:a}=G0();return this.queue.push({signal:t,fn:e,resolve:i,reject:n}),a}throw this.onRejectEmitter.emit(),new K0(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class Y0{constructor(){this.executor=new Hl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=kc){return z0(await this.executor.invoke(e,{signal:t}))}}const $l=(r,e)=>e?t=>t instanceof r&&e(t):t=>t instanceof r,J0=()=>!0,qo=()=>!1;class fa{constructor(e){this.options=e}orType(e,t){const i=$l(e,t);return new fa({...this.options,errorFilter:n=>this.options.errorFilter(n)||i(n)})}orWhen(e){return new fa({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new fa({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const i=$l(e,t);return new fa({...this.options,resultFilter:n=>this.options.resultFilter(n)||i(n)})}}const pR=new Y0,vR=new fa({errorFilter:J0,resultFilter:qo});function gR(r,e){return new fa({errorFilter:$l(r,e),resultFilter:qo})}function bR(r){return new fa({errorFilter:r,resultFilter:qo})}function yR(r,e){return new fa({errorFilter:qo,resultFilter:$l(r,e)})}function wR(r){return new fa({errorFilter:qo,resultFilter:r})}function _h(r,e=0){return new Q0(r,e)}function _R(r){return(e,t,i)=>{const n=i.value;if(typeof n!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof n}`);i.value=function(...a){const l=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return r.execute(g=>n.apply(this,[...a,g]),l)}}}function kR(r,e){return new TimeoutPolicy(r,typeof e=="string"?{strategy:e}:e)}function SR(...r){return{_altReturn:void 0,onFailure:r[0].onFailure,onSuccess:r[0].onSuccess,wrapped:r,execute(e,t){const i=(n,a)=>a===r.length?e(n):r[a].execute(l=>i({...n,...l},a+1),n.signal);return Promise.resolve(i({signal:t},0))}}}function RR(r,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(r.options.errorFilter,r.options.resultFilter))}function ER(r,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(r.options.errorFilter,r.options.resultFilter))}function TR(r,e){return new FallbackPolicy(new ExecuteWrapper(r.options.errorFilter,r.options.resultFilter),typeof e=="function"?e:()=>e)}const kh=void 0;var X0=ni(65606);let Sh=!1;const Rh=class{static async getApiHost(r){const e=X0.env.GITHUB_TEST_SERVER;if(e){if(Sh)return s.Uri.parse(e);const i=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},i)===i)return Sh=!0,s.Uri.parse(e)}const t=r instanceof s.Uri?r:s.Uri.parse(r.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(r,e){return(r instanceof s.Uri?r:s.Uri.parse(r.host)).authority==="github.com"?e:`/api/v3${e}`}};var Z0=Object.defineProperty,eb=(r,e,t)=>e in r?Z0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gl=(r,e,t)=>eb(r,typeof e!="symbol"?e+"":e,t);const Vl=class go{constructor(){Gl(this,"_knownServers",new Map([...Array.from(go._githubDotComServers.keys()).map(e=>[e,yr.GitHubDotCom]),...Array.from(go._gheServers.keys()).map(e=>[e,yr.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return yr.None;const i=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return yr.None;if(go.isGithubDotCom(i))return yr.GitHubDotCom;const n=Array.from(this._knownServers.keys()).find(V=>i.endsWith(V)),a=Vs();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!n||this._knownServers.get(n)===yr.None))return yr.Enterprise;if(n)return(t=this._knownServers.get(n))!=null?t:yr.None;const[l,g]=await go.getOptions(e,"HEAD","/rate_limit");let x=yr.None;try{const V=await Wr()(l.toString(),g),Y=[];V.headers.forEach((_e,Ee)=>{Y.push(Ee)}),y.debug(`All headers: ${Y.join(", ")}`,"GitHubServer");const ae=V.headers.get("x-github-request-id"),le=V.headers.get("x-github-enterprise-version");if(!ae&&!le){const[_e]=await go.getOptions(e,"HEAD","/status"),Be=await(await Wr()(_e.toString())).text();if(Be.startsWith("GitHub lives!"))x=yr.Enterprise;else{y.appendLine(`Received fallback response from the server: ${Be}`,"GitHubServer");const ue=JSON.parse(Be);ue.documentation_url&&ue.documentation_url.startsWith("https://docs.github.com/enterprise")&&(x=yr.Enterprise)}}else x=ae!=null?le?yr.Enterprise:yr.GitHubDotCom:yr.None;return x}catch(V){return y.warn(`No response from host ${e}: ${V.message}`,"GitHubServer"),x}finally{y.debug(`Host ${e} is associated with GitHub: ${x}`,"GitHubServer"),this._knownServers.set(i,x)}}static async getOptions(e,t="GET",i,n){const a={"user-agent":"GitHub VSCode Pull Requests"};n&&(a.authorization=`token ${n}`);const l=s.Uri.joinPath(await Rh.getApiHost(e),Rh.getApiPath(e,i)),g={hostname:l.authority,port:443,method:t,headers:a,agent:kh};return[l,g]}};Gl(Vl,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),Gl(Vl,"_gheServers",new Set().add("ghe.com")),Gl(Vl,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));let Eh=Vl;const Rc="github.pullRequest.pullNotification.show",Th="github.pullRequest.repos",Ec="github.pullRequest.previousCreateMethod";function CR(r){r.globalState.setKeysForSync([Rc])}var jl;(r=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}r.checkout=e})(jl||(jl={}));var tb=Object.defineProperty,ib=(r,e,t)=>e in r?tb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xs=(r,e,t)=>ib(r,typeof e!="symbol"?e+"":e,t);class Tc extends v{constructor(e,t,i,n){super(),this._repository=e,this._upstream=t,this._into=i,this.push=n,Xs(this,"startingConflictsCount"),Xs(this,"_lastReportedRemainingCount"),Xs(this,"_onConflictCountChanged",new s.EventEmitter),Xs(this,"onConflictCountChanged",this._onConflictCountChanged.event),Xs(this,"_finishedCommit",new s.EventEmitter),Xs(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(i=>{var n;const a=(n=this._repository.state.HEAD)==null?void 0:n.commit;e=this._register(this._repository.state.onDidChange(()=>{var l;((l=this._repository.state.HEAD)==null?void 0:l.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&i(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await vt.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>vt.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,i,n){const a=new Tc(e,t,i,n);if(a.remainingConflicts.length!==0)return a._register(new rb(a,e)),a.first(),a}finished(){return Me(this._finishedCommit.event)}}class rb extends v{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(i,n)=>{const a=l=>{i.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:l})};return a(0),new Promise(l=>{this._register(this._conflictModel.onConflictCountChanged(g=>{const x=g*(100/this._conflictModel.startingConflictsCount);a(x),this._conflictModel.remainingConflicts.length===0&&l(!0)})),this._register(n.onCancellationRequested(()=>{this._conflictModel.abort(),l(!1)}))})}).then(async i=>{if(i){const n=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let l;this._conflictModel.push?l=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):l=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const g=await s.window.showInformationMessage(l,n,a);g===n?await this._repository.commit(this._conflictModel.message):g===a&&await this._conflictModel.abort()}})}}var nb=Object.defineProperty,ab=(r,e,t)=>e in r?nb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cc=(r,e,t)=>ab(r,typeof e!="symbol"?e+"":e,t);class sb extends v{constructor(e){super(),this._conflictResolutionModel=e,Cc(this,"_treeView"),Cc(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Cc(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),vt.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),i=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(i.iconPath=new s.ThemeIcon("check"),i.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):i.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},i}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let i=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),i=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(n=>({conflict:n}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,i}}var ob=Object.defineProperty,lb=(r,e,t)=>e in r?ob(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zl=(r,e,t)=>lb(r,typeof e!="symbol"?e+"":e,t);async function ub(r,e,t,i){let n="";return i||(n=await r.repository.show(t,s.Uri.joinPath(r.repository.rootUri,e).fsPath)),new TextEncoder().encode(n)}class Ch{constructor(){zl(this,"_onDidChangeFile",new s.EventEmitter),zl(this,"onDidChangeFile",this._onDidChangeFile.event),zl(this,"changedFiles",new Map),zl(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var i;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(i=this.changedFiles.get(e.toString()))==null?void 0:i.file}writeFile(e,t,i){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,i){}}class Nh extends Ch{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>ge(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=Zf(e),i=await this.tryReadFile(e,t);if(i)return i;const n=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!n)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await n.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const i=new Map;for(const[n,a]of this.changedFiles)a.modified&&i.set(s.Uri.parse(n).path,a.file);return this._gitHubRepositories[0].commit(t,e,i)}}class cb extends Ch{constructor(e){super(),this.folderRepositoryManager=e}async readFile(e){const t=Zf(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const i=await ub(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:i,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const i=[];for(const[n,a]of this.changedFiles)if(a.modified){const l=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(n).path);await s.workspace.fs.writeFile(l,a.file),i.push(l.fsPath)}return await this.folderRepositoryManager.repository.add(i),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var db=Object.defineProperty,fb=(r,e,t)=>e in r?db(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ms=(r,e,t)=>fb(r,typeof e!="symbol"?e+"":e,t);const Mh=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class hb extends v{constructor(e){super(),this._conflictResolutionModel=e,ms(this,"_createTime",0),ms(this,"_modifiedTimes",new Map),ms(this,"_mergedFiles",new Map),ms(this,"_onDidChangeFile",this._register(new s.EventEmitter)),ms(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,i,n;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(n=(i=this._mergedFiles.get(e.path))==null?void 0:i.length)!=null?n:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,Ur.Buffer.from(Mh)),this._mergedFiles.get(e.path)}writeFile(e,t,i){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,i){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,Ur.Buffer.from(Mh));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class mb extends v{constructor(e,t,i){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=i,ms(this,"_mergeOutputProvider"),ms(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new hb(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),i=this._conflictResolutionModel.baseUri(e),n={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:i,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},l=this._conflictResolutionModel.mergeBaseUri(e),g=this._conflictResolutionModel.mergeOutputUri(e),x={base:l,input1:n,input2:a,output:g};await vt.executeCommand("_open.mergeEditor",x)}register(){this._register(s.workspace.registerFileSystemProvider(ii.GithubPr,new Nh(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new sb(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await vt.executeCommand("mergeEditor.acceptMerge")).successful){const n=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),n)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await vt.setContext(qi.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await vt.setContext(qi.RESOLVING_CONFLICTS,!1);const t=[];for(const i of s.window.tabGroups.all)for(const n of i.tabs)n.input instanceof s.TabInputTextMerge&&n.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(n);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Me(this._onExitConflictResolutionMode.event)}}var pb=Object.defineProperty,vb=(r,e,t)=>e in r?pb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ho=(r,e,t)=>vb(r,typeof e!="symbol"?e+"":e,t);class gb{constructor(e,t,i,n,a,l,g,x){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=i,this.latestPrBaseSha=n,this.prHeadOwner=a,this.prHeadBranchName=l,this.prBaseBranchName=g,this.prMergeBaseRef=x,Ho(this,"_startingConflicts",new Map),Ho(this,"_resolvedConflicts",new Map),Ho(this,"_onAddedResolution",new s.EventEmitter),Ho(this,"onAddedResolution",this._onAddedResolution.event),Ho(this,"mergeScheme",`${ii.MergeOutput}-${new Date().getTime()}`);for(const V of e)this._startingConflicts.set(V.prHeadFilePath,V)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ga(t,ii.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ga(t,ii.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return Ga(t,ii.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var bb=Object.defineProperty,yb=(r,e,t)=>e in r?bb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xi=(r,e,t)=>yb(r,typeof e!="symbol"?e+"":e,t);async function wb(r){var e;const t=r.head;if(!t)throw new Error("No head found for pull request");const i=await r.getLatestBaseCommitSha(),n=r.base.owner,a=t.owner,l=t.ref,g=(await r.githubRepository.ensure()).remote.repositoryName,x=[];if(r.item.mergeable===$e.Conflict){const V=await r.compareBaseBranchForMerge(a,l,n,i);if(r.item.mergeable===$e.Conflict&&V.length>=300)return;const Y=new Map;for(const le of r.fileChanges.values())le.previousFileName&&Y.set(le.previousFileName,le);const ae=new Set(r.conflicts);for(const le of V){const _e=(e=r.fileChanges.get(le.filename))!=null?e:Y.get(le.filename);if(_e&&(ae.size===0||ae.has(_e.fileName))){const Ee=_e.fileName;let Be=!1,ue=!1,Re=!1;le.status==="modified"&&(Be=!0),(le.previous_filename||_e.previousFileName)&&(ue=!0),x.push({prHeadFilePath:Ee,contentsConflict:Be,filePathConflict:ue,modeConflict:Re})}}}return new gb(x,g,n,i,a,l,r.base.ref,r.mergeBase)}class Ph extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class _b extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class kb extends Error{constructor(e,t,i){super(),this.branchName=e,this.upstreamRef=t,this.problem=i}get message(){const{upstreamRef:{remote:e,name:t},branchName:i,problem:n}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,i,n)}}const Ah="ReposManagerStateContext";var ha=(r=>(r.Initializing="Initializing",r.NeedsAuthentication="NeedsAuthentication",r.RepositoriesLoaded="RepositoriesLoaded",r))(ha||{}),Sb=(r=>(r[r.PullRequest=0]="PullRequest",r[r.IssueSearch=1]="IssueSearch",r))(Sb||{});const Rb="templateBody",xh=class lv extends v{constructor(e,t,i,n,a,l,g){super(),this._id=e,this.context=t,this._repository=i,this.telemetry=n,this._git=a,this._credentialStore=l,this.createPullRequestHelper=g,Xi(this,"_activePullRequest"),Xi(this,"_activeIssue"),Xi(this,"_githubRepositories"),Xi(this,"_allGitHubRemotes",[]),Xi(this,"_mentionableUsers"),Xi(this,"_fetchMentionableUsersPromise"),Xi(this,"_assignableUsers"),Xi(this,"_teamReviewers"),Xi(this,"_fetchAssignableUsersPromise"),Xi(this,"_fetchTeamReviewersPromise"),Xi(this,"_gitBlameCache",{}),Xi(this,"_githubManager"),Xi(this,"_repositoryPageInformation",new Map),Xi(this,"_addedUpstreamCount",0),Xi(this,"_onDidMergePullRequest",this._register(new s.EventEmitter)),Xi(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Xi(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Xi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Xi(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Xi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Xi(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Xi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Xi(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Xi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Xi(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Xi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Xi(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Xi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Xi(this,"_onDidDispose",this._register(new s.EventEmitter)),Xi(this,"onDidDispose",this._onDidDispose.event),Xi(this,"_sessionIgnoredRemoteNames",new Set),Xi(this,"_updatingRepositories"),Xi(this,"totalFetchedPages",new Map),Xi(this,"_updateMessageShown",!1),Xi(this,"_createGitHubRepositoryBulkhead",_h(1,300)),this._githubRepositories=[],this._githubManager=new Eh,this._register(s.workspace.onDidChangeConfiguration(async x=>{x.affectsConfiguration(`${lt}.${Di}`)&&await this.updateRepositories()})),this._register(l.onDidInitialize(()=>this.updateRepositories())),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(Th);if(t!=null&&t.repos){let i=!1;Object.keys(t.repos).forEach(n=>{var a;((a=t.repos[n].stateModifiedTime)!=null?a:0)<e&&(i=!0,delete t.repos[n])}),i&&this.context.globalState.update(Th,t)}}get id(){return`${lv.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=Na(this.repository).filter(l=>l.host),i=await Promise.all(t.map(l=>this._githubManager.isGitHub(l.gitProtocol.normalizeUri()))).catch(l=>(y.error(`Resolving GitHub remotes failed: ${l}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",pe(l))),[])),n=[];let a=0;for(const l of t)i[a]===yr.None&&n.push(l),a++;return n}async computeAllGitHubRemotes(){const t=Na(this.repository).filter(l=>l.host),i=await Promise.all(t.map(l=>this._githubManager.isGitHub(l.gitProtocol.normalizeUri()))).catch(l=>(y.error(`Resolving GitHub remotes failed: ${l}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",pe(l))),[])),n=[];let a=0;for(const l of t)i[a]!==yr.None&&n.push(cs.remoteAsGitHub(l,i[a])),a++;return n}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(lt).get(Di);if(!t)return y.error("Unable to read remotes setting",this.id),Promise.resolve([]);const i=t.filter(n=>!e.some(a=>a.remoteName===n));return i.length===t.length?y.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):y.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),y.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(n=>e.find(a=>a.remoteName===n)).filter(n=>!!n&&!this._sessionIgnoredRemoteNames.has(n.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t,i;if(e===this._activePullRequest)return;const n=(t=this._activePullRequest)==null?void 0:t.number;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(i=e.githubRepository.commentsHandler)==null||i.unregisterCommentController(e.number));const a=e==null?void 0:e.number;this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:n,new:a})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(vt.setContext(qi.VIEWED_FILES,Array.from(t.viewed)),vt.setContext(qi.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){vt.setContext(qi.VIEWED_FILES,[]),vt.setContext(qi.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),t()})});await this._credentialStore.login(Si.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),y.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`)):y.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,i=0;for(const a of e)a.githubServerType===yr.GitHubDotCom?t++:a.githubServerType===yr.Enterprise&&i++;let n=this._credentialStore.isAuthenticated(Si.github)||this._credentialStore.isAuthenticated(Si.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(Si.github)||i>0&&this._credentialStore.isAuthenticated(Si.githubEnterprise)||n&&(n=!1),s.commands.executeCommand("setContext","github:authenticated",n),n}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return y.appendLine("Cannot updates repositories as git is uninitialized"),!1;const t=await this.getActiveRemotes(),i=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0&&(await this.computeAllUnknownRemotes()).every(Y=>Eh.isNeverGitHub(s.Uri.parse(Y.normalizedHost).authority)))return this._onDidLoadRepositories.fire("RepositoriesLoaded"),!0;const n=[],a=[],l=[];this._githubRepositories.forEach(V=>l.push(V));const g=t.filter(V=>this._credentialStore.isAuthenticated(V.authProviderId));for(const V of g){const Y=await this.createGitHubRepository(V,this._credentialStore);a.push(Y.resolveRemote()),n.push(Y)}const x=async V=>{for(const Y of V){this._sessionIgnoredRemoteNames.add(Y.remote.remoteName),this.removeGitHubRepository(Y.remote);const ae=n.indexOf(Y);ae>-1&&n.splice(ae,1)}};return Promise.all(a).then(async V=>{const Y=[];for(let le=0;le<V.length;le++)V[le]||Y.push(n[le]);if(Y.length>0){const le=await this._credentialStore.showSamlMessageAndAuth(Y.map(Be=>Be.remote.owner)),_e=le.canceled?[]:await Promise.all(Y.map(Be=>Be.resolveRemote())),Ee=le.canceled?Y:_e.map((Be,ue)=>Be?void 0:Y[ue]).filter(Be=>!!Be);if(Ee.length>0){if(Ee.length===n.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),x(Ee)}}this._githubRepositories=n,l.filter(le=>this._githubRepositories.indexOf(le)<0).forEach(le=>le.dispose());const ae=l.length!==this._githubRepositories.length?this.gitHubRepositories.filter(le=>!l.some(_e=>_e.remote.equals(le.remote))):[];return ae.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&ae.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(ae.length>0),this.getAssignableUsers(ae.length>0),i&&t.length?this._onDidLoadRepositories.fire("RepositoriesLoaded"):i||this._onDidLoadRepositories.fire("NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:ae.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const i=await(await this.getOrigin()).getMetadata(),n=s.workspace.getConfiguration(lt);if(i.fork&&i.parent&&n.get(Bi,"add")==="add"){const a=new wn(i.parent.git_url);if(!this._githubRepositories.some(g=>ge(g.remote.owner,a.owner)===0&&ge(g.remote.repositoryName,a.repositoryName)===0)){const x=!this.repository.state.remotes.some(V=>V.name==="upstream")?"upstream":(e=i.parent.owner)==null?void 0:e.login;if(x){if(this.gitHubRepositories[0].remote.gitProtocol.type===wo.SSH?await this.repository.addRemote(x,i.parent.ssh_url):await this.repository.addRemote(x,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const Y=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),Y).then(ae=>{ae===Y&&n.update(Bi,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){y.appendLine(`Missing upstream check failed: ${t}`)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){y.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let i;try{i=await s.workspace.fs.stat(t)}catch{}if(!i){y.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const n={};if((await Promise.all(this._githubRepositories.map(async l=>{const g=`${l.remote.owner}/${l.remote.repositoryName}.json`,x=s.Uri.joinPath(t,g);let V,Y;try{V=await s.workspace.fs.readFile(x),Y=JSON.parse(V.toString())}catch(ae){ae instanceof Error&&ae.message.includes("Unexpected non-whitespace character after JSON")&&y.error(`Error parsing ${e} cache for ${l.remote.remoteName}.`,this.id)}if(V&&V.toString())return n[l.remote.remoteName]=Y!=null?Y:[],!0}))).every(l=>l))return y.appendLine(`Using globalState ${e} for ${Object.keys(n).length}.`,this.id),n;y.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const i=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async n=>{const a=`${n.remote.owner}/${n.remote.repositoryName}.json`,l=s.Uri.joinPath(i,a);await s.workspace.fs.writeFile(l,new TextEncoder().encode(JSON.stringify(t[n.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const i=this._githubRepositories.map(async n=>{const a=await n.getMentionableUsers();e[n.remote.remoteName]=a});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return y.appendLine("Using in-memory cached mentionable users."),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return y.appendLine("Using in-memory cached assignable users."),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},n=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const l=this._githubRepositories.map(async g=>{const x=await g.getAssignableUsers();i[g.remote.remoteName]=x.sort(qf),n.push(...x)});Promise.all(l).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),a(i),this._onDidChangeAssignableUsers.fire(n)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===Bs.Force&&delete this._teamReviewers,this._teamReviewers)return y.appendLine("Using in-memory cached team reviewers."),this._teamReviewers;const t=e===Bs.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async n=>{var a;const l=new Map;for(const g of this._githubRepositories){if(!l.has(g.remote.owner))try{const V=await g.getOrgTeams(e);l.set(g.remote.owner,V)}catch{break}const x=(a=l.get(g.remote.owner))!=null?a:[];i[g.remote.remoteName]=x.filter(V=>V.repositoryNames.includes(g.remote.repositoryName)).sort(e0)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),n(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var i;const n=new Map;for(const a of this._githubRepositories){if(!n.has(a.remote.owner))try{const l=await a.getOrgProjects();n.set(a.remote.owner,l)}catch{break}e[a.remote.remoteName]=(i=n.get(a.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const i=!!(await e.getMetadata()).organization,[n,a]=await Promise.all([e.getProjects(),i?this.getOrgProjects(t):void 0]);return[...n!=null?n:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),i=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(y.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",pe(a))),[])),n=t.map((a,l)=>cs.remoteAsGitHub(a,i[l]));return this.checkForAuthMatch(n)?n:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(l=>l.name!==void 0).map(l=>l.name),i=[],n=100;for(let l=0;l<t.length;l+=n){const g=t.slice(l,l+n);i.push(g)}const a=[];for(const l of i)a.push(...await Promise.all(l.map(async g=>{const x=await En.getMatchingPullRequestMetadataForBranch(this.repository,g);if(x){const{owner:V,prNumber:Y}=x,ae=e.find(le=>le.remote.owner.toLocaleLowerCase()===V.toLocaleLowerCase());if(ae){const le=await ae.getPullRequest(Y);if(le)return le.localBranchName=g,le}}})));return a.filter(l=>l!==void 0)}async getLabels(e,t){const i=e?e.githubRepository:this._githubRepositories.find(V=>V.remote.owner===(t==null?void 0:t.owner)&&V.remote.repositoryName===(t==null?void 0:t.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:n,octokit:a}=await i.ensure();let l=!1,g=1,x=[];do{const V=await a.call(a.api.issues.listLabelsForRepo,{owner:n.owner,repo:n.repositoryName,per_page:100,page:g});x=x.concat(V.data.map(Y=>{var ae;return{name:Y.name,color:Y.color,description:(ae=Y.description)!=null?ae:void 0}})),x=x.sort((Y,ae)=>Y.name.localeCompare(ae.name)),l=!!V.headers.link&&V.headers.link.indexOf('rel="next"')>-1,g+=1}while(l);return x}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let i;try{i=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!i)return;await En.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:g,value:x})=>/^branch.*\.remote$/.test(g)&&x===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,i=0,n=Yi.All,a){const l=i===0?this._githubRepositories.filter(_e=>this.repository.state.remotes.find(Ee=>Ee.name===_e.remote.remoteName)):this._githubRepositories;if(!l.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const g=()=>this.totalFetchedPages.get(t)||0,x=_e=>this.totalFetchedPages.set(t,_e);for(const _e of l){const Ee=_e.remote.url.toString()+t;this._repositoryPageInformation.get(Ee)||this._repositoryPageInformation.set(Ee,{pullRequestPage:0,hasMorePages:null})}let V=0;const Y={hasMorePages:!1,items:[],totalCount:0},ae=_e=>{V++,_e&&(Y.items=Y.items.concat(_e.items),Y.hasMorePages=_e.hasMorePages,Y.totalCount=_e.totalCount)},le=this._githubRepositories.filter(_e=>{const Ee=this._repositoryPageInformation.get(_e.remote.url.toString()+t);return Ee&&(e.fetchNextPage===!1||Ee.hasMorePages!==!1)});for(let _e=0;_e<le.length;_e++){const Ee=le[_e],Be=Ee.remote.url.toString()+t;let ue=this._repositoryPageInformation.get(Be);ue||(y.warn(`No page information for ${Be}`),ue={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Be,ue));const Re=ue,Ce=async Ie=>{const He=a?await js(a,void 0,{base:await Ee.getDefaultBranch(),owner:Ee.remote.owner,repo:Ee.remote.repositoryName}):void 0;switch(i){case 0:return n===Yi.All?Ee.getAllPullRequests(Ie):this.getPullRequestsForCategory(Ee,He||"",Ie);case 1:return Ee.getIssues(Re.pullRequestPage,He)}};if(e.fetchNextPage?(Re.pullRequestPage++,ae(await Ce(Re.pullRequestPage)),x(g()+1)):(Re.pullRequestPage===0&&(Re.pullRequestPage=1),(await Promise.all(Array.from({length:Re.pullRequestPage}).map((He,Ke)=>Ce(Ke+1)))).forEach(He=>ae(He))),Re.hasMorePages=Y.hasMorePages,Y.items.length&&(e.fetchNextPage||e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&V>=g()))return g()===0&&x(V),{items:Y.items,hasMorePages:Re.hasMorePages,hasUnsearchedRepositories:_e<le.length-1,totalCount:Y.totalCount}}return{items:Y.items,hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:Y.totalCount}}async getPullRequestsForCategory(e,t,i){let n;try{y.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:a,query:l,schema:g}=await e.ensure(),x=await e.getAuthenticatedUser();n=await e.getMetadata();const{data:V,headers:Y}=await a.call(a.api.search.issuesAndPullRequests,{q:l0(x,t),per_page:_f,page:i||1}),ae=V.items.map(async Be=>{const ue=new wn(Be.repository_url),Re=await this.createGitHubRepositoryFromOwnerName(ue.owner,ue.repositoryName),{data:Ce}=await l({query:g.PullRequest,variables:{owner:Re.remote.owner,name:Re.remote.repositoryName,number:Be.number}});return{data:Ce,repo:Re}}),le=!!Y.link&&Y.link.indexOf('rel="next"')>-1,Ee=(await Promise.all(ae)).map(Be=>Be!=null&&Be.data.repository?Be.repo.createOrUpdatePullRequestModel(Fo(Be.data.repository.pullRequest,Be.repo)):(y.appendLine("Pull request doesn't appear to exist.",this.id),null)).filter(Be=>Be!==null);return y.debug(`Fetch pull request category ${t} - done`,this.id),{items:Ee,hasMorePages:le,totalCount:V.total_count}}catch(a){if(y.error(`Fetching pull request with query failed: ${a}`,this.id),a.code===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${n==null?void 0:n.full_name} is valid.`);else throw a}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(n=>n.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},i){const n=e.toString()+(i||"");return this.fetchPagedData(t,n,0,e,i)}async createMilestone(e,t){try{const{data:i}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,pe(i)));return}}async getRepoForIssue(e){const t=new xl(e.repositoryName,e.repositoryUrl,new wn(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e){if(this.gitHubRepositories.length!==0)try{const t=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${e}`,1,Yi.All,e),i={items:[],hasMorePages:t.hasMorePages,hasUnsearchedRepositories:t.hasUnsearchedRepositories,totalCount:t.totalCount};for(const n of t.items){const a=await this.getRepoForIssue(n);i.items.push(new Qr(a,a.remote,n))}return i}catch(t){return y.error(`Error fetching issues with query ${e}: ${t instanceof Error?t.message:t}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let t=0;for(const i of e)i!==void 0&&(t=Math.max(t,i));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md";return s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null)}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){y.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getPullRequestTemplateWithCache(e){const t=`${Rb}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(e).then(l=>(l?this.context.workspaceState.update(t,l):this.context.workspaceState.update(t,null),l)),n=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(n){if(a===null)return;if(a)return a}return i}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const i=await t.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(n=>n.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(e){var t,i;if(!e&&!this.repository.state.HEAD)throw new _b(this.repository);const n=await this.getOrigin(e),a=await n.getMetadata(),l=(t=s.workspace.getConfiguration(lt).inspect(Di))==null?void 0:t.defaultValue,g=s.workspace.getConfiguration(lt).get(Di),x=!g||(l==null?void 0:l.every((Y,ae)=>g[ae]===Y)),V=a.fork&&a.parent&&x?a.parent:await(this.findRepo(eo("upstream"))||n).getMetadata();return{owner:V.owner.login,repo:V.name,base:(i=jf())!=null?i:V.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(eo(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){y.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:i}=await t.getBranch(e),n="",a=0;do{if(i){let l=await t.getCommit(i);if(l.parents.length<=1){n=l.message;break}else i=l.parents[0]}a++}while(n===""&&i&&a<5);return y.debug(`Git tip message for branch ${e} - done`,this.id),n}async getOrigin(e){if(!this._githubRepositories.length)throw new Ph(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(eo(t.remote));if(!a){const l=(await this.getAllGitHubRemotes()).find(g=>g.remoteName===t.remote);if(l)return this.createAndAddGitHubRepository(l,this._credentialStore);throw y.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new kb(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[i,...n]=this._githubRepositories;return n.length&&(this.findRepo(eo("origin"))||this.findRepo(Eb))||i}findRepo(e){return this._githubRepositories.filter(e)[0]}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const i=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!i)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let n;try{n=await i.createPullRequest(e);const a=e.head.indexOf(":"),l=e.head.slice(a+1);return await En.associateBranchWithPullRequest(this._repository,n,l),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),n}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const l=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},l)===l?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const l=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},l)===l?(await this._repository.add(this._repository.state.indexChanges.map(x=>x.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(y.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),n)return n;throw new Error(pe(a))}}async createIssue(e){try{const t=this._githubRepositories.find(l=>l.remote.owner===e.owner&&l.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:i}=await t.octokit.call(t.octokit.api.issues.create,e),n=jg(i,t),a=new Qr(t,t.remote,n);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){y.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",pe(t)))}}async assignIssue(e,t){try{const i=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!i)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await i.ensure();const n={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await i.octokit.call(i.octokit.api.issues.addAssignees,n),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){y.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",pe(i)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async mergePullRequest(e,t,i,n,a){var l,g,x;y.debug(`Merging PR: ${e.number} method: ${n} for user: "${a}" - enter`,this.id);const{mutate:V,schema:Y}=await e.githubRepository.ensure(),ae=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,le=this.repository.state.HEAD&&this.repository.state.HEAD.commit,_e=e.head&&e.head.sha,Ee=this.repository.state.workingTreeChanges.length>0;let Be=(l=e.head)==null?void 0:l.sha;if(ae===_e){if(Be=le,le!==_e){const{ahead:Re}=this.repository.state.HEAD,Ce=s.l10n.t(`You have {0} unpushed commits on this PR branch.

Would you like to proceed anyway?`,Re!=null?Re:"unknown"),Ie=s.l10n.t(`You have 1 unpushed commit on this PR branch.

Would you like to proceed anyway?`);if(Re&&await s.window.showWarningMessage(Re>1?Ce:Ie,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(Ee&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const ue={pullRequestId:e.graphNodeId,commitHeadline:t,commitBody:i,expectedHeadOid:Be,authorEmail:a,mergeMethod:(x=n==null?void 0:n.toUpperCase())!=null?x:(g=s.workspace.getConfiguration(lt).get(mi,"merge"))==null?void 0:g.toUpperCase()};return V({mutation:Y.MergePullRequest,variables:{input:ue}}).then(Re=>{var Ce,Ie;return y.debug(`Merging PR: ${e.number}} - done`,this.id),this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),{merged:!0,message:"",timeline:nc((Ie=(Ce=Re.data)==null?void 0:Ce.mergePullRequest.pullRequest.timelineItems.nodes)!=null?Ie:[],e.githubRepository)}}).catch(Re=>{this.telemetry.sendTelemetryErrorEvent("pr.merge.failure");const Ce=Re.graphQLErrors;if(Ce!=null&&Ce.length&&Ce.find(Ie=>{var He;return Ie.type===Sf.Unprocessable&&((He=Ie.message)==null?void 0:He.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw Re})}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const l=a.key,g=/^branch\.(.*)\.(.*)$/.exec(l);if(g&&g.length===3){const x=g[1];t.has(x)||t.set(x,{});const V=t.get(x);if(g[2]==="remote"&&(V.remote=a.value),g[2]==="github-pr-owner-number"){const Y=En.parsePullRequestMetadata(a.value);V.metadata=Y}t.set(x,V)}}),y.debug(`Found ${t.size} possible branches to delete`,this.id),y.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const i=[];t.forEach((a,l)=>{var g,x;if(a.metadata){const V=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(V?V.owner===a.metadata.owner&&V.repositoryName===a.metadata.repositoryName&&((g=this.activePullRequest)==null?void 0:g.number)===a.metadata.prNumber:!1)?(y.debug(`Skipping ${a.metadata.prNumber}, active PR is #${(x=this.activePullRequest)==null?void 0:x.number}`,this.id),y.trace(`Skipping active branch ${l}`,this.id)):i.push({label:`${l}`,description:`${a.metadata.repositoryName}/${a.metadata.owner} #${a.metadata.prNumber}`,picked:!1,metadata:a.metadata})}});const n=await Promise.all(i.map(async a=>{var l;const g=a.metadata,x=this._githubRepositories.find(le=>le.remote.owner.toLowerCase()===g.owner.toLowerCase()&&le.remote.repositoryName.toLowerCase()===g.repositoryName.toLowerCase());if(!x)return a;const{remote:V,query:Y,schema:ae}=await x.ensure();try{const{data:le}=await Y({query:ae.PullRequestState,variables:{owner:V.owner,name:V.repositoryName,number:g.prNumber}});a.legacy=((l=le.repository)==null?void 0:l.pullRequest.state)!=="OPEN"}catch{}return a}));return n.forEach(a=>{a.legacy?a.picked=!0:a.description=s.l10n.t("{0} is still Open",a.description)}),n}gitRelativeRootPath(e){return U.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var i;const n=await this.getPullRequestDefaults();if(e===n.base){y.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){y.debug("Not cleaning up user's branch.",this.id);return}const l=(i=(await this.repository.getBranch(e)).upstream)==null?void 0:i.remote;try{y.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!l)return;const g=await this.getDeleatableRemotes(void 0);g.has(l)&&g.get(l).createdForPullRequest&&(y.debug(`Cleaning up remote ${l}`,this.id),this.repository.removeRemote(l))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),i=new Map;return t.forEach(n=>{const a=n.key;let l=/^branch\.(.*)\.(.*)$/.exec(a);if(l&&l.length===3){const g=l[1];if(l[2]==="remote"){const x=n.value;i.has(x)||i.set(x,{branches:new Set}),e!=null&&e.has(g)||i.get(x).branches.add(g)}}if(l=/^remote\.(.*)\.(.*)$/.exec(a),l&&l.length===3){const g=l[1];i.has(g)||i.set(g,{branches:new Set});const x=i.get(g);l[2]==="github-pr-remote"&&(x.createdForPullRequest=n.value==="true"),l[2]==="url"&&(x.url=n.value)}}),i}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),i=[];return t.forEach((n,a)=>{if(n.branches.size===0){let l=n.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");n.url&&(l=l?`${l} ${n.url}`:n.url),i.push({label:a,description:l,picked:n.createdForPullRequest,remote:a})}}),i}async deleteBranches(e,t,i,n,a,l){const g=()=>{a++,i.report({message:s.l10n.t("Deleted {0} of {1} branches",a,n)})},x=async V=>{await En.associateBaseBranchWithBranch(this.repository,V,void 0),await En.associateBranchWithPullRequest(this.repository,void 0,V)};for(const V of e)await x(V.label);await Ye(e,5,async V=>{try{await this.repository.deleteBranch(V.label,!0),await En.getMatchingPullRequestMetadataForBranch(this.repository,V.label)&&console.log(`Branch ${V.label} was not deleted`),g()}catch(Y){if(typeof Y.stderr=="string"&&Y.stderr.includes("not found"))t.add(V.label),g();else if(typeof Y.stderr=="string"&&Y.stderr.includes("unable to access")&&l)l.push(V);else throw Y}}),l&&l.length&&await this.deleteBranches(l,t,i,n,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const i=await this.getBranchDeletionItems(),n=await this.getPullRequestDefaults();t.items=i,t.selectedItems=i.filter(l=>l.picked&&!(l.label===n.base&&l.metadata.owner===n.owner&&l.metadata.repositoryName===n.repo)),t.busy=!1,i.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const l=t.selectedItems,g=new Set;l.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async V=>{try{await this.deleteBranches(l,g,V,l.length,0,[])}catch(Y){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",Y.message,Y.stderr))}}),a=!1;const x=await this.getRemoteDeletionItems(g);x&&x.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=x,t.selectedItems=x.filter(V=>V.picked)):t.hide()}else{const l=t.selectedItems;l.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",l.length)},async()=>{await Ye(l,5,async g=>{await this.repository.removeRemote(g.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,i,n){const a=this._githubRepositories.find(g=>g.remote.owner===e.remote.owner&&g.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,i,n)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,i){var n;return await((n=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===i))==null?void 0:n.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;y.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:i,remote:n}=await t.ensure();if(!e.base){const{data:a}=await i.call(i.api.pulls.get,{owner:n.owner,repo:n.repositoryName,pull_number:e.number});e.update(Nl(a,t))}if(!e.mergeBase){const{data:a}=await i.call(i.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",pe(t)))}y.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let i=this._githubRepositories.find(n=>n.remote.owner.toLowerCase()===e.toLowerCase()&&n.remote.repositoryName.toLowerCase()===t.toLowerCase());return i||(y.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(e,t)),i}async resolveIssueOrPullRequest(e,t,i){let n=await this.resolveIssue(e,t,i,!0);return n||(n=await this.resolvePullRequest(e,t,i)),n}async resolvePullRequest(e,t,i){const n=await this.resolveItem(e,t);if(y.appendLine(`Found GitHub repo for pr #${i}: ${n?"yes":"no"}`,this.id),n){const a=await n.getPullRequest(i);return y.appendLine(`Found GitHub pr repo for pr #${i}: ${a?"yes":"no"}`,this.id),a}}async resolveIssue(e,t,i,n=!1){const a=await this.resolveItem(e,t);if(a)return a.getIssue(i,n)}async resolveUser(e,t,i){var n;y.debug(`Fetch user ${i}`,this.id);const a=await this.createGitHubRepositoryFromOwnerName(e,t),{query:l,schema:g}=await a.ensure();try{const{data:x}=await l({query:g.GetUser,variables:{login:i}});return i0(x,a)}catch(x){(n=x.message)!=null&&n.startsWith("GraphQL error: Could not resolve to a User with the login of")||y.warn(x.message)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await En.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,i,n){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,n):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,i,n)}catch(a){return y.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,i){var n,a;if(!t)return null;let l=this.gitHubRepositories.find(V=>V.remote.url.toLowerCase()===t.toLowerCase()),g;if(!l&&this.gitHubRepositories.length>0){g=new wn(t);const V=Il(g.repositoryName,t,g);V&&(l=await this.createGitHubRepository(V,this.credentialStore,!0,!0))}const x=await this.doGetMatchingPullRequestMetadataFromGitHub(l,i);if(x&&e.upstream===void 0&&g&&l&&e.name){const V=await En.createRemote(this.repository,l==null?void 0:l.remote,g),Y=`refs/remotes/${V}/${(n=x.model.head)==null?void 0:n.name}`;await this.repository.fetch({remote:V,ref:(a=x.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,Y)}return x}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){if(!e)return null;const i=this.gitHubRepositories.find(n=>n.remote.remoteName===e);return this.doGetMatchingPullRequestMetadataFromGitHub(i,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const i=await(e==null?void 0:e.getMetadata());if(!(i!=null&&i.owner))return null;const n=this.gitHubRepositories.filter(a=>{var l,g,x;return i.fork?a.remote.owner===((g=(l=i.parent)==null?void 0:l.owner)==null?void 0:g.login)&&a.remote.repositoryName===i.parent.name:a.remote.owner===((x=i.owner)==null?void 0:x.login)&&a.remote.repositoryName===i.name});for(const a of n){const l=await a.getPullRequestForBranch(t,i.owner.login);if(l)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:l.number,model:l}}return null}async checkoutExistingPullRequestBranch(e,t){return await En.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await En.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await En.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var i;if(await this.isHeadUpToDateWithBase(e))return!0;const n=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||n){const g=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>wb(e));if(g===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:n?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let x=!0;if(e.item.mergeable===$e.Conflict){const V=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),Y=new mb(this.telemetry,g,V);x=await Y.enterConflictResolutionAndWaitForExit(),Y.dispose()}return x?e.updateBranch(g):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(i=b0(this.repository,e.base))==null?void 0:i.name;if(!a)return!1;const l=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async g=>{g.report({message:s.l10n.t("Fetching branch {0}",l)}),await this.repository.fetch({ref:e.base.ref,remote:a}),g.report({message:s.l10n.t("Merging branch {0} into {1}",l,this.repository.state.HEAD.name)});try{await this.repository.merge(l)}catch(x){if(x.gitErrorCode!==ct.Conflict)throw x}}),e.item.mergeable===$e.Conflict){const g=await Tc.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(g==null?void 0:g.finished()),g==null||g.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(l=>l.remote.owner===e.remote.owner&&l.remote.repositoryName===e.remote.repositoryName),i=`${e.head.owner}:${e.head.ref}`,n=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(n,i));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const i=await e.getPullRequest(t);if(i)return i;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e){var t,i,n,a;let l;try{if(l=await this.repository.getBranch(e),((t=this.repository.state.HEAD)==null?void 0:t.name)===l.name){const V=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),V).then(Y=>{if(Y===V)return jl.checkout()});return}s.workspace.getConfiguration(tr).get(Dn,!1)&&l.upstream&&await this.repository.fetch({remote:l.upstream.remote,ref:`${l.upstream.name}:${l.name}`}),l.upstream&&e===l.upstream.name?await this.repository.checkout(e):await jl.checkout();const x=[];for(const V of s.window.tabGroups.all)for(const Y of V.tabs){let ae;Y.input instanceof s.TabInputText?ae=Y.input.uri:Y.input instanceof s.TabInputTextDiff?ae=Y.input.original:Y.input instanceof s.TabInputWebview&&(ae=Y.input.viewType),(ae instanceof s.Uri&&ae.scheme===ii.Review||typeof ae=="string"&&ae.endsWith(Ju))&&x.push(s.window.tabGroups.close(Y))}await Promise.all(x)}catch(g){if(g.gitErrorCode&&g.gitErrorCode===ct.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}y.error(`Exiting failed: ${g}. Target branch ${e} used to find branch ${(i=l==null?void 0:l.name)!=null?i:"unknown"} with upstream ${(a=(n=l==null?void 0:l.upstream)==null?void 0:n.name)!=null?a:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${g}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Rc,!1)&&(this.context.globalState.update(Rc,!1),await s.workspace.getConfiguration(lt).update(oi,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(lt).get(oi,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,i){if(!this._updateMessageShown||i){this._updateMessageShown=!0;const n=s.l10n.t("Pull"),a=s.l10n.t("Always Pull"),l=s.l10n.t("Never Show Again"),g=[n];i||g.push(a,l),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...g)===n?(await this.pullBranch(t),this._updateMessageShown=!1):l?await s.workspace.getConfiguration(lt).update(oi,"never",s.ConfigurationTarget.Global):a&&(await s.workspace.getConfiguration(lt).update(oi,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var i,n;if(((i=this.activePullRequest)==null?void 0:i.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const l=a.upstream?a.upstream.remote:null,g=a.upstream?a.upstream.name:a.name;if(l){try{t&&s.workspace.getConfiguration(lt).get(Cr,!0)&&await this._repository.fetch(l,g)}catch(V){V.stderr&&(V.stderr.startsWith("fatal: couldn't find remote ref")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",V.stderr))),y.error(`Error when fetching: ${(n=V.stderr)!=null?n:V}`,this.id)}const x=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(x){case"always":{const V=s.workspace.getConfiguration(tr).get(Fn,!1);return V?this.promptPullBrach(e,a,V):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,i){const n=this._id+this._githubRepositories.length*.1,a=new Rn(n,cs.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,i);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===e.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||i.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,i,n=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:n?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,i)})}async createGitHubRepositoryFromOwnerName(e,t){var i,n;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const g=Na(this.repository).find(V=>V.owner===e&&V.repositoryName===t),x=(i=g==null?void 0:g.url)!=null?i:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new xl((n=g==null?void 0:g.remoteName)!=null?n:t,x,new wn(x)),this._credentialStore)}async findUpstreamForItem(e){let t,i;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const l=await a.getRepositoryForkDetails();if(l&&l.isFork&&l.parent.owner.login===e.remote.owner&&l.parent.name===e.remote.repositoryName){const g=await a.getViewerPermission();if(g===$n.Admin||g===$n.Maintain||g===$n.Write){i=a.remote;break}}}let n=!1;if(t&&!i){const a=await e.githubRepository.getViewerPermission();(a===$n.Read||a===$n.Triage||a===$n.Unknown)&&(n=!0)}return{needsFork:n,upstream:t,remote:i}}async forkWithProgress(e,t,i,n){e.report({message:s.l10n.t("Forking {0}...",i)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const l=n.state.remotes.length>1?"origin":n.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const g=this.gitHubRepositories.length;return await n.renameRemote(l,"upstream"),await n.addRemote(l,a),await new Promise(x=>{if(this.gitHubRepositories.length===g){const V=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>g&&(V.dispose(),x())})}else x()}),e.report({increment:50}),l}async doFork(e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async n=>{try{return this.forkWithProgress(n,e,t,i)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,i=s.l10n.t("Fork"),n=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},i,n)){case i:return this.doFork(e,t,this.repository);case n:return!1;default:return}}async publishBranch(e,t){const i=await this.createGitHubRepository(e,this.credentialStore),n=await i.getViewerPermission();let a;if(n===$n.Read||n===$n.Triage||n===$n.Unknown){const l=await this.tryOfferToFork(i);if(!l)return;a=(await this.getGitHubRemotes()).find(g=>g.remoteName===l)}else a=(await this.getGitHubRemotes()).find(l=>l.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(l){if(l.gitErrorCode===ct.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(l.gitErrorCode===ct.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw l}}getTitleAndDescriptionProvider(e){return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Xi(xh,"ID","FolderRepositoryManager");let Zs=xh;function NR(r){switch(r){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const Eb=r=>{const{currentUser:e=null}=r.octokit;return e&&r.remote.owner===e.login},eo=r=>({remote:{remoteName:e}})=>e===r,Tb=async r=>{const e=await r;if(!e)return;const t=e.indexOf(`
`);return{title:t===-1?e:e.substr(0,t),body:t===-1?"":e.slice(t+1).trim()}};var Cb=Object.defineProperty,Nb=(r,e,t)=>e in r?Cb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ih=(r,e,t)=>Nb(r,typeof e!="symbol"?e+"":e,t);class Mb{constructor(){Ih(this,"_onDidChangeFile",new s.EventEmitter),Ih(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,i){}delete(e,t){}rename(e,t,i){}}class Dh extends Mb{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){y.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const i=new Promise(l=>{t=this.gitAPI.onDidOpenRepository(()=>{y.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,l()})});let n;const a=new Promise(l=>{n=setTimeout(()=>{y.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),l()},e)});await Promise.race([i,a]),n&&clearTimeout(n),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}}var Pb=Object.defineProperty,Ab=(r,e,t)=>e in r?Pb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xb=(r,e,t)=>Ab(r,typeof e!="symbol"?e+"":e,t);class Ib extends Dh{constructor(e,t,i){super(t,i),this.reposManagers=e,xb(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,i,n){const a=t.equals(i.activePullRequest);return e.map(l=>l instanceof qe?new zs(i,l,t):new fs(i,t,l,a,n))}waitForGitHubRepos(e,t){return new Promise(i=>{const n=setTimeout(()=>{a.dispose(),i()},t),a=e.onDidLoadRepositories(l=>{l===ha.RepositoriesLoaded&&(clearTimeout(n),a.dispose(),i())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const i=this.reposManagers.getManagerForFile(e);if(!i)return;let n=i.findRepo(V=>V.remote.remoteName===t.remoteName);if(n||(await this.waitForGitHubRepos(i,1e4),n=i.findRepo(V=>V.remote.remoteName===t.remoteName)),!n)return;const a=await i.resolvePullRequest(n.remote.owner,n.remote.repositoryName,t.prNumber);if(!a)return;const l=await a.getFileChangesInfo(),g=a.mergeBase;if(!g)return;const x=this.resolveChanges(l,a,i,g);this.registerTextDocumentContentProvider(a.number,async V=>{const Y=xr(V);if(!Y)return"";const ae=x.find(le=>le.fileName===Y.fileName);return ae?Pc(i,a,Y,ae):(y.error(`Cannot find content for document ${V.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const i=this._prFileChangeContentProviders[t];if(i){const n=await i(e);return typeof n=="string"?new TextEncoder().encode(n):n}}async readFile(e){var t;const i=xr(e);if(!i||i.prNumber===void 0)return new TextEncoder().encode("");const n=await this.readFileWithProvider(e,i.prNumber);return n||(await this.tryRegisterNewProvider(e,i),(t=await this.readFileWithProvider(e,i.prNumber))!=null?t:new TextEncoder().encode(""))}}let Nc;function Mc(r){return!Nc&&r&&(Nc=new Ib(r.reposManager,r.gitAPI,r.credentialStore)),Nc}async function Pc(r,e,t,i){if(t.isBase&&i.status===we.ADD||!t.isBase&&i.status===we.DELETE)return"";const n=await i.diffHunks();let a=!1;if(i instanceof fs&&(a=await i.isPartial()),i instanceof zs||i instanceof fs&&a)try{return t.isBase?e.githubRepository.getFile(i.previousFileName||i.fileName,t.baseCommit):e.githubRepository.getFile(i.fileName,t.headCommit)}catch(l){return y.error(`Fetching file content failed: ${l}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(g=>{g==="Open on GitHub"&&i.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(i.blobUrl))}),""}if(i instanceof fs)if(i.status===we.ADD||i.status===we.DELETE)if(t.isBase){const g=[];for(let x=0;x<n.length;x++)for(let V=0;V<n[x].diffLines.length;V++){const Y=n[x].diffLines[V];Y.type===Ot.Add||(Y.type===Ot.Delete?g.push(Y.text):Y.type===Ot.Control||g.push(Y.text))}return g.join(`
`)}else{const g=[];for(let x=0;x<n.length;x++)for(let V=0;V<n[x].diffLines.length;V++){const Y=n[x].diffLines[V];Y.type===Ot.Add?g.push(Y.text):Y.type===Ot.Delete||Y.type===Ot.Control||g.push(Y.text)}return g.join(`
`)}else{const g=i.status===we.RENAME?i.previousFileName:i.fileName,x=s.Uri.joinPath(r.repository.rootUri,g),V=await r.repository.show(t.baseCommit,x.fsPath);return t.isBase?V:Mr(V,i.patch)}return""}var Db=Object.defineProperty,Fb=(r,e,t)=>e in r?Db(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fh=(r,e,t)=>Fb(r,typeof e!="symbol"?e+"":e,t);class Ob{constructor(){Fh(this,"_progress",Promise.resolve()),Fh(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var Lb=Object.defineProperty,Ub=(r,e,t)=>e in r?Lb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wl=(r,e,t)=>Ub(r,typeof e!="symbol"?e+"":e,t);class Bb{constructor(){Wl(this,"_localFileChanges"),Wl(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),Wl(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Wl(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var qb=Object.defineProperty,Hb=(r,e,t)=>e in r?qb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zr=(r,e,t)=>Hb(r,typeof e!="symbol"?e+"":e,t);const Oh=class uv extends v{constructor(e,t,i,n,a,l,g,x,V,Y,ae){super(),this._id=e,this._context=t,this._repository=i,this._folderRepoManager=n,this._telemetry=a,this.changesInPrDataProvider=l,this._pullRequestsTree=g,this._showPullRequest=x,this._activePrViewCoordinator=V,this._createPullRequestHelper=Y,this._gitApi=ae,zr(this,"_localToDispose",[]),zr(this,"_reviewModel",new Bb),zr(this,"_lastCommitSha"),zr(this,"_validateStatusInProgress"),zr(this,"_reviewCommentController"),zr(this,"_quickDiffProvider"),zr(this,"_inMemGitHubContentProvider"),zr(this,"_statusBarItem"),zr(this,"_prNumber"),zr(this,"_isShowingLastReviewChanges",!1),zr(this,"_previousRepositoryState"),zr(this,"_switchingToReviewMode"),zr(this,"_changesSinceLastReviewProgress",new Ob),zr(this,"justSwitchedToReviewMode",!1),zr(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._previousRepositoryState={HEAD:i.state.HEAD,remotes:Na(this._repository)},this._register(b(()=>k(this._localToDispose))),this.registerListeners(),ae.state==="initialized"&&this.updateState(!0),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!t&&!i)return;let n;!t||!i?n=!1:n=t.upstream?i.upstream&&t.upstream.name===i.upstream.name&&t.upstream.remote===i.upstream.remote:!i.upstream;const a=n&&t.ahead===i.ahead&&t.behind===i.behind&&t.commit===i.commit&&t.name===i.name&&t.remote===i.remote&&t.type===i.type,l=Na(this._repository),g=this._previousRepositoryState.remotes.length===l.length&&this._previousRepositoryState.remotes.every(x=>l.some(V=>x.equals(V)));(!a||!g)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:l},this.updateState(!0)),t&&i&&this.updateBaseBranchMetadata(t,i)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${lt}.${bt}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(ql.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var i;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let n=this._folderRepoManager.gitHubRepositories.find(a=>{var l;return a.remote.remoteName===((l=e.upstream)==null?void 0:l.remote)});if(n){const a=await n.getMetadata();return a.fork&&e.name===a.default_branch&&(n=(i=this._folderRepoManager.gitHubRepositories.find(l=>{var g,x,V;return l.remote.owner===((x=(g=a.parent)==null?void 0:g.owner)==null?void 0:x.login)&&l.remote.repositoryName===((V=a.parent)==null?void 0:V.name)}))!=null?i:n),En.associateBaseBranchWithBranch(this.repository,t.name,{owner:n.remote.owner,repo:n.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(lt).get(li)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const i=this.reviewModel.localFileChanges.find(n=>n.changeModel.filePath.toString()===t.toString());if(i)return i.changeModel.parentFilePath}},e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}pollForStatusChange(){setTimeout(async()=>{!this._validateStatusInProgress&&this._folderRepoManager.activePullRequest&&await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}get id(){return`${uv.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(y.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(y.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let i;const n=new Promise(l=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,y.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),l()},12e4)}),a=new Promise(l=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),l()})})});return Promise.race([a,n])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const n="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(n,0),l=new Date().getTime();if(l-a<1e3*60*60*24)return!1;const{base:g}=await this._folderRepoManager.getPullRequestDefaults(e);if(g!==e)return!1;await this._context.workspaceState.update(n,l);const x=s.l10n.t("Ignore Pull Request"),V=s.l10n.t("Don't Show Again"),Y=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),x,V);if(Y===x){y.appendLine(`Branch ${e} will now be ignored in ${bt}.`,this.id);const ae=s.workspace.getConfiguration(lt),le=ae.get(bt,[]);return le.push(e),await ae.update(bt,le),!0}else if(Y===V)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return{remoteName:e.upstream.remote,branchName:e.upstream.name,url:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),i=await this.repository.getConfig(`branch.${e.name}.merge`);let n;return i&&(n=i.substring(11)),{url:t,branchName:n,remoteName:void 0}}catch{return y.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{url:void 0,branchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){const{url:t,branchName:i,remoteName:n}=await this.getUpstreamUrlAndName(this._repository.state.HEAD),a=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(e,n,t,i);if(a)return y.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${a.owner}/${a.repositoryName} PR: ${a.prNumber}`),await En.associateBranchWithPullRequest(this._repository,a.model,e.name),a}async resolvePullRequest(e){try{this._prNumber=e.prNumber;const{owner:t,repositoryName:i}=e;y.appendLine("Resolving pull request",this.id);let n=await this._folderRepoManager.resolvePullRequest(t,i,e.prNumber);if(!n||!n.isResolved()||!await n.githubRepository.hasBranch(n.base.name)){await this.clear(!0),this._prNumber=void 0,y.appendLine("This PR is no longer valid",this.id);return}return n}catch(t){y.appendLine(`Pull request cannot be resolved: ${t.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var i,n,a,l;y.appendLine("Validating state...",this.id);const g=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const x=this._repository.state.HEAD,V=s.workspace.getConfiguration(lt).get(bt),Y=(n=x.remote)!=null?n:(i=x.upstream)==null?void 0:i.remote;if(V!=null&&V.find(Ie=>Ie===x.name)&&(Y==="origin"||!((l=await((a=this._folderRepoManager.gitHubRepositories.find(Ie=>Ie.remote.remoteName===Y))==null?void 0:a.getMetadata()))!=null&&l.fork))){y.appendLine(`Branch ${x.name} is ignored in ${bt}.`,this.id),await this.clear(!0);return}let ae=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(ae||(y.appendLine(`No matching pull request metadata found locally for current branch ${x.name}`,this.id),ae=await this.checkGitHubForPrBranch(x)),!ae){y.appendLine(`No matching pull request metadata found on GitHub for current branch ${x.name}`,this.id),await this.clear(!0);return}if(y.appendLine(`Found matching pull request metadata for current branch ${x.name}. Repo: ${ae.owner}/${ae.repositoryName} PR: ${ae.prNumber}`,this.id),!(x.upstream?x.upstream.remote:null)){y.appendLine(`Current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`,this.id),await this.clear(!0);return}y.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${ae.prNumber}`,this.id);const _e=this._prNumber;let Ee=await this.resolvePullRequest(ae);if(!Ee){y.appendLine(`Unable to resolve PR #${ae.prNumber}`,this.id);return}if(y.appendLine(`Resolved PR #${ae.prNumber}, state is ${Ee.state}`,this.id),Ee.state!==Hi.Open){const Ie=await this.checkGitHubForPrBranch(x);if(Ie&&(Ie==null?void 0:Ie.prNumber)!==Ee.number){const He=await this.resolvePullRequest(Ie);He&&(Ee=He)}}const Be=x.commit!==g&&x.ahead===0&&x.behind===0;if(_e===Ee.number&&!Be&&this._isShowingLastReviewChanges===Ee.showChangesSinceReview)return;this._isShowingLastReviewChanges=Ee.showChangesSinceReview,_e!==Ee.number&&this.clear(!1);const ue=fh();if(Ee.isClosed&&!ue.closed){y.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(Ee.isMerged&&!ue.merged){y.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(lt).get(dt,!1)||this.offerIgnoreBranch(x.name);const Ce=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=Ee,this._lastCommitSha=Ee.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(Ee,!0)),y.appendLine("Fetching pull request data",this.id),e||j(this._reviewModel.onDidChangeLocalFileChanges)(()=>{Ee&&this._upgradePullRequestEditors(Ee)}),this.initializePullRequestData(Ee),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,Ee,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),y.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(Ee,this._folderRepoManager,this,Ce),this._localToDispose.push(Ee.onDidChangeChangesSinceReview(async Ie=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),this._changesSinceLastReviewProgress.endProgress()})),y.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",Ee.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[Ee]},y.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(Ee,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,i){const n=this._context.workspaceState.get(Qs);if(y.appendLine(`Using focus mode = ${n}.`,this.id),y.appendLine(`State validation silent = ${i}.`,this.id),y.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&n)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&n){const a=this._showPullRequest.onChangedShowValue(l=>{y.appendLine(`PR show value changed = ${l}.`,this.id),l&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(i=>{if(i.input instanceof s.TabInputTextDiff&&i.input.original.scheme===ii.Review)for(const n of this._reviewModel.localFileChanges){const a=ta(i.input.original.query);if(n.fileName===a.path){e=!0,s.window.tabGroups.close(i).then(l=>n.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const i of this._reviewModel.localFileChanges)if(i.status===we.MODIFY)if(eh.includes(U.extname(i.fileName)))e.push(i);else{e.unshift(i);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(e,t){if(s.workspace.getConfiguration(Oa).get(_a)!=="never"&&e.hasComments&&vt.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const n=s.workspace.getConfiguration(lt).get(Mt);if(n==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{a.dispose(),this.openDiff()})}else{if(n==="overview")return this.openDescription();if(n==="multiDiff")return Yr.openChanges(this._folderRepoManager,e)}}}async _upgradePullRequestEditors(e){const t=new Set;await Promise.all(s.window.tabGroups.all.map(n=>n.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===ii.Pr&&a.input.modified.scheme===ii.Pr){const l=xr(a.input.original),g=xr(a.input.modified);if((l==null?void 0:l.prNumber)===e.number&&(g==null?void 0:g.prNumber)===e.number)return t.add([l,g]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const i=[];if(t.size){for(const n of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const l=a[1];if(n.fileName===l.fileName){i.push(n.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(i)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const n=[];for(const a of t){const l=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),g=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;n.push({suggestionContent:l,originalLineLength:g-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(n.map(async a=>{var l;try{await((l=this._reviewCommentController)==null?void 0:l.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,i=e.oldLength,n=0;for(;n<e.diffLines.length;n++){const g=e.diffLines[n];if(g.type!==Ot.Control)if(g.type===Ot.Context)t++,i--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Ot.Context;a--)i--;let l=e.diffLines.slice(n,a+1);l.every(g=>g.type===Ot.Add)&&(n>1?(n--,t--,i++):a<e.diffLines.length-1?(a++,i++):(n=1,a=e.diffLines.length-1),l=e.diffLines.slice(n,a+1)),e.diffLines=l,e.oldLength=i,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Ot.Add||t.type==Ot.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(V=>V.toString());let i=!1,n=0;const a=[],l=async(V,Y)=>{var ae;try{await((ae=this._reviewCommentController)==null?void 0:ae.createSuggestionsFromChanges(V.uri,this.convertDiffHunkToSuggestion(Y))),a.push(V.uri)}catch{i=!0}},g=async V=>{if(!(!t.includes(V.uri.toString())||V.status!==pt.MODIFIED))return ci(await this._folderRepoManager.repository.diffWithHEAD(V.uri.fsPath)).map(Y=>Er(Y)).flat()},x=async(V,Y)=>{const ae=await g(V);if(ae)if(n+=ae.length,Y)await Promise.allSettled(ae.map(async le=>l(V,le)));else for(const le of ae)await l(V,le)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let V=0;for(;a.length===0&&V<this._folderRepoManager.repository.state.workingTreeChanges.length;V++){const ae=this._folderRepoManager.repository.state.workingTreeChanges[V];await x(ae,!1)}const Y=[];for(;V<this._folderRepoManager.repository.state.workingTreeChanges.length;V++){const ae=this._folderRepoManager.repository.state.workingTreeChanges[V];Y.push(x(ae,!0))}await Promise.all(Y)}),i)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,n),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const V=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},V).then(Y=>{if(Y===V)return Promise.all(a.map(ae=>this._folderRepoManager.repository.checkout(ae.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!a||!a.isResolved()){y.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const i=[],n=e.mergeBase||e.base.sha,a=e.head.sha;for(let l=0;l<t.length;l++){const g=t[l],x=U.join(this._repository.rootUri.path,g.fileName).replace(/\\/g,"/"),V=this._repository.rootUri.with({path:x}),Y=g.status===we.DELETE?jn(V,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):V,ae=jn(V,g.status===we.RENAME?g.previousFileName:g.fileName,void 0,g.status===we.ADD?"":n,!1,{base:!0},this._repository.rootUri),le=new dc(this._folderRepoManager,e,g,Y,ae,a,t.length<20),_e=new Js(this.changesInPrDataProvider,this._folderRepoManager,e,le);i.push(_e)}return i}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=e.comments.filter(l=>!l.position),n=ie(i,l=>l.originalCommitId),a=[];for(const l in n){const g=n[l],x=ie(g,V=>V.path);for(const V in x){const Y=x[V],ae=s.Uri.file(U.join(`commit~${l.substr(0,8)}`,V)),le=new dc(this._folderRepoManager,e,{status:we.MODIFY,fileName:V,blobUrl:void 0},jn(ae,V,void 0,Y[0].originalCommitId,!0,{base:!1},this._repository.rootUri),jn(ae,V,void 0,Y[0].originalCommitId,!0,{base:!0},this._repository.rootUri),l),_e=new Js(this.changesInPrDataProvider,this._folderRepoManager,e,le,!1,Y);a.push(_e)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){y.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const n=await i.getFileChangesInfo(),a=i.mergeBase;if(!a)return;const l=n.map(g=>g instanceof qe?new zs(this._folderRepoManager,g,i):new fs(this._folderRepoManager,i,g,!0,a));this._inMemGitHubContentProvider=(t=Mc())==null?void 0:t.registerTextDocumentContentProvider(i.number,async g=>{const x=xr(g);if(!x)return"";const V=l.find(Y=>Y.fileName===x.fileName);return V?Pc(this._folderRepoManager,i,x,V):(y.error(`Cannot find content for document ${g.toString()}`,"PR"),"")})}catch(i){y.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;(i=this._folderRepoManager.activePullRequest)!=null&&i.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new dh(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,i;y.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const n=s.workspace.getConfiguration(lt).get(Ci,"pull");(n==="pullAndMergeBase"||n==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,n==="pullAndUpdateBase")}catch(n){y.error(`Checkout failed #${JSON.stringify(n)}`,this.id),this.switchingToReviewMode=!1,n.message==="User aborted"||(n.gitErrorCode&&(n.gitErrorCode===ct.LocalChangesOverwritten||n.gitErrorCode===ct.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=n.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&n.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(pe(n))),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),y.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async createPullRequest(e){const t=async i=>{if(!i)return;const n=s.workspace.getConfiguration(lt).get(qt,"openOverview");if(n==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await jo(this._telemetry,i,a,this._folderRepoManager,!0)}else if(n.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);a&&(n==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a),n==="checkoutDefaultBranchAndShow"?(await vt.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a),await this._pullRequestsTree.expandPullRequest(i)):n==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a),s.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await jo(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(lt).get(Mt)?(s.commands.executeCommand("setContext",Qs,!0),await this._context.workspaceState.update(Qs,!0)):(s.commands.executeCommand("setContext",Qs,!1),this._context.workspaceState.update(Qs,!1))}async clear(e){var t,i;if(e){const n=this._folderRepoManager.activePullRequest;n&&this._activePrViewCoordinator.removePullRequest(n),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),k(this._localToDispose),n==null||n.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:i,base:n}=ta(e.query);let a=_c(this._reviewModel.localFileChanges).filter(l=>l.fileName===t).filter(l=>l.sha===i||`${l.sha}^`===i);if(a.length){const l=a[0],g=i===l.sha?Ot.Delete:Ot.Add;return(await l.changeModel.diffHunks()).map(V=>V.diffLines.filter(Y=>Y.type!==g).map(Y=>Y.text)).reduce((V,Y)=>V.concat(...Y),[]).join(`
`)}if(a=_c(this._reviewModel.obsoleteFileChanges).filter(l=>l.fileName===t).filter(l=>l.sha===i||`${l.sha}^`===i),a.length){const l=a[0],g=i===l.sha?Ot.Delete:Ot.Add,x=[],V=ie(l.comments,Y=>String(Y.originalPosition));for(const Y in V){if(!V[Y][0].diffHunks)continue;const ae=V[Y][0].diffHunks.map(le=>le.diffLines.filter(_e=>_e.type!==g).map(_e=>_e.text)).reduce((le,_e)=>le.concat(..._e),[]);x.push(...ae)}return x.join(`
`)}else if(n&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,i)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,i){return e.find(n=>n._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!i||n._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(e,t){return e.find(i=>i._folderRepoManager===t)}};zr(Oh,"ID","Review");let xn=Oh;class $b{constructor(){zr(this,"_shouldShow",!1),zr(this,"_onChangedShowValue",new s.EventEmitter),zr(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var Gb=Object.defineProperty,Vb=(r,e,t)=>e in r?Gb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kl=(r,e,t)=>Vb(r,typeof e!="symbol"?e+"":e,t);class ma extends Jr{constructor(e,t,i,n,a,l){super(e),this.pullRequestModel=i,this.repository=n,this.folderRepositoryManager=a,this.isLocal=l,Kl(this,"command"),Kl(this,"contextValue"),Kl(this,"tooltip"),Kl(this,"iconPath"),this.label=t,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.iconPath=new s.ThemeIcon("git-pull-request"),this.tooltip=s.l10n.t("Description of pull request #{0}",i.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",i.number),role:"button"}}async getTreeItem(){return this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this.folderRepositoryManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this.folderRepositoryManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}var jb=Object.defineProperty,zb=(r,e,t)=>e in r?jb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ql=(r,e,t)=>zb(r,typeof e!="symbol"?e+"":e,t);class Pa extends Jr{constructor(e,t){super(e),Ql(this,"collapsibleState"),Ql(this,"children",[]),Ql(this,"pathToChild",new Map),Ql(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(t=>{t instanceof Pa&&t.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Pa&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children,this.children.forEach(t=>{t.parent=this}))}sort(){if(this.children.length<=1)return;const e=[],t=[];this.children.forEach(i=>{i instanceof Pa?(i.sort(),e.push(i)):t.push(i)}),e.sort((i,n)=>i.label<n.label?-1:1),t.sort((i,n)=>i.label<n.label?-1:1),this.children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this.children.push(t);return}const i=e[0],n=e.slice(1);let a=this.pathToChild.get(i);a||(a=new Pa(this,i),this.pathToChild.set(i,a),this.children.push(a)),a.addPathRecc(n,t)}allChildrenViewed(){for(const e of this.children)if(e instanceof Pa){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var Wb=Object.defineProperty,Kb=(r,e,t)=>e in r?Wb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$o=(r,e,t)=>Kb(r,typeof e!="symbol"?e+"":e,t);const Lh=class Eu extends Jr{constructor(e,t,i,n,a){super(e),this._folderReposManager=t,this.pullRequestModel=i,this._isLocal=n,this._notificationProvider=a,$o(this,"_fileChanges"),$o(this,"_commentController"),$o(this,"_inMemPRContentProvider"),$o(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this.pullRequestModel.onDidInvalidate(()=>this.refresh(this))),this._register(this._folderReposManager.onDidChangeActivePullRequest(l=>{(l.new===this.pullRequestModel.number||l.old===this.pullRequestModel.number)&&this.refresh(this)}))}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),y.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Eu.ID);try{const t=new ma(this,s.l10n.t("Description"),this.pullRequestModel,this.repository,this._folderReposManager,this._isLocal);if(!this.pullRequestModel.isResolved())return[t];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(a=>a()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=Mc())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const i=[t];if(s.workspace.getConfiguration(lt).get(dr)==="tree"){const a=new Pa(this,"");this._fileChanges.forEach(l=>a.addFile(l)),a.finalize(),a.label===""?i.push(...a.children):i.push(a)}else i.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this.children=i,this.pullRequestModel.initializeReviewThreadCache(),i}catch(t){return y.error(`Error getting children ${t}: ${t.message}`,Eu.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${lt}.${Ti}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(i=>{i.tabs.map(n=>{if(n.input instanceof s.TabInputTextDiff&&n.input.original.scheme===ii.Pr&&n.input.modified.scheme===ii.Pr&&this._fileChanges)for(const a of this._fileChanges){const l=xr(n.input.original),g=xr(n.input.modified),x=xr(a.changeModel.filePath);if((l==null?void 0:l.prNumber)===e.number&&(g==null?void 0:g.prNumber)===e.number&&a.fileName===g.fileName&&(x==null?void 0:x.headCommit)!==g.headCommit){t=!0,s.window.tabGroups.close(n).then(V=>a.openDiff(this._folderReposManager,{preview:n.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof wc&&t.comments.forEach(i=>i.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?e.map(n=>{if(n instanceof qe){const g=new zs(this._folderReposManager,n,this.pullRequestModel);return new yc(this,this._folderReposManager,this.pullRequestModel,g)}const a=new fs(this._folderReposManager,this.pullRequestModel,n,t,i);return new wc(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async getTreeItem(){var e,t;const i=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:n,number:a,author:l,isDraft:g,html_url:x}=this.pullRequestModel,V=this.pullRequestModel.title.length>50?`${this.pullRequestModel.title.substring(0,50)}...`:this.pullRequestModel.title,{login:Y}=l,ae=this._notificationProvider.hasNotification(this.pullRequestModel),le=a.toString();let _e=i?"\u2713 ":"",Ee=i?"Current Branch * ":"";s.workspace.getConfiguration(lt).get(Ti,!1)&&(_e+=`#${le}: `,Ee+=`#${le}: `);const Be=`${_e}${g?"[DRAFT] ":""}${V}`,ue=`${Ee}${n} by @${Y}`,Re=`by @${Y}`;return{label:Be,id:`${this.parent instanceof Jr?(e=this.parent.id)!=null?e:this.parent.label:""}${x}${this._isLocal?this.pullRequestModel.localBranchName:""}`,tooltip:ue,description:Re,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(i?":active":":nonactive")+(ae?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:(t=(await Va.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?t:new s.ThemeIcon("github"),accessibilityInformation:{label:`${g?"Draft ":""}Pull request number ${le}: ${n} by ${Y}`},resourceUri:pc(this.pullRequestModel)}}async provideCommentingRanges(e,t){if(e.uri.scheme===ii.Pr){const i=xr(e.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const n=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName);return!n||n instanceof yc?void 0:{ranges:lh(await n.changeModel.diffHunks(),i.isBase,Eu.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const i=xr(e);if(!i)return"";const n=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName))==null?void 0:t.changeModel;return n?Pc(this._folderReposManager,this.pullRequestModel,i,n):(y.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};$o(Lh,"ID","PRNode");let Wn=Lh;var Qb=Object.defineProperty,Yb=(r,e,t)=>e in r?Qb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Go=(r,e,t)=>Yb(r,typeof e!="symbol"?e+"":e,t);class Jb extends Jr{constructor(e,t,i,n,a){var l;super(e),this.pullRequestManager=t,this.pullRequest=i,this.commit=n,this.isCurrent=a,Go(this,"sha"),Go(this,"collapsibleState"),Go(this,"iconPath"),Go(this,"contextValue"),Go(this,"description"),this.label=n.commit.message,this.sha=n.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(l=n.commit.author)!=null&&l.date?J(n.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url};this.iconPath=(await Va.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new uh(this,"No changed files")];const i=t.map(l=>{const g=l.filename,x=s.Uri.parse(U.posix.join(`commit~${this.commit.sha.substr(0,8)}`,g)),V=new dc(this.pullRequestManager,this.pullRequest,{status:Oi(l.status),fileName:g,blobUrl:void 0},jn(x,g,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),jn(x,g,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),Y=new Js(this,this.pullRequestManager,this.pullRequest,V,this.isCurrent);return Y.useViewChangesCommand(),Y});let n=[];if(s.workspace.getConfiguration(lt).get(dr)==="tree"){const l=new Pa(this,"");i.forEach(g=>l.addFile(g)),l.finalize(),l.label===""?n.push(...l.children):n.push(l)}else n=i;return this.children=n,n}}var Xb=Object.defineProperty,Zb=(r,e,t)=>e in r?Xb(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ac=(r,e,t)=>Zb(r,typeof e!="symbol"?e+"":e,t);class ey extends Jr{constructor(e,t,i){super(e),Ac(this,"collapsibleState"),Ac(this,"_folderRepoManager"),Ac(this,"_pr"),this.label=s.l10n.t("Commits"),this._pr=i,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Commits node",D),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChangeComments(()=>{y.appendLine("Comments have changed, refreshing Commits node",D),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{y.appendLine("Getting children for Commits node",D);const e=await this._pr.getCommits();return this.children=e.map((t,i)=>{var n;return new Jb(this,this._folderRepoManager,this._pr,t,i===e.length-1&&((n=this._folderRepoManager.repository.state.HEAD)==null?void 0:n.commit)===t.sha)}),y.appendLine("Got all children for Commits node",D),this.children}catch{return[]}}}var ty=Object.defineProperty,iy=(r,e,t)=>e in r?ty(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xc=(r,e,t)=>iy(r,typeof e!="symbol"?e+"":e,t);class ry extends Jr{constructor(e,t,i){super(e),this._reviewModel=t,xc(this,"label",s.l10n.t("Files")),xc(this,"collapsibleState"),xc(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{y.appendLine("Local files have changed, refreshing Files node",D),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Files node",D),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeComments(()=>{y.appendLine("Comments have changed, refreshing Files node",D),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),y.appendLine("Getting children for Files node",D),!this._reviewModel.hasLocalFileChanges)return new Promise(n=>{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{n([]),a.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new uh(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(lt).get(dr),i=new Pa(this,"");if(this._reviewModel.localFileChanges.forEach(n=>i.addFile(n)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i],t==="tree")e=this.directories;else{const n=[...this._reviewModel.localFileChanges];n.sort((a,l)=>ge(a.fileChangeResourceUri.toString(),l.fileChangeResourceUri.toString())),e=n}return y.appendLine("Got all children for Files node",D),this.children=e,e}}var ny=Object.defineProperty,ay=(r,e,t)=>e in r?ny(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yl=(r,e,t)=>ay(r,typeof e!="symbol"?e+"":e,t);class Jl extends ma{constructor(e,t,i,n,a){super(e,t.title,t,i.repository,i,!0),this.parent=e,this._pullRequestManager=i,this._reviewModel=n,this._progress=a,Yl(this,"_filesCategoryNode"),Yl(this,"_commitsCategoryNode"),Yl(this,"description"),Yl(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(l=>{var g;if(s.workspace.getConfiguration(un).get(oa)){const x=(g=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:g.input;if(x instanceof s.TabInputTextDiff&&x.original.scheme===ii.Review&&x.modified.scheme!==ii.Review&&x.original.path.startsWith("/commit"))return;const V=l==null?void 0:l.document.uri.toString();this.revealActiveEditorInTree(V)}})),this._register(this.parent.view.onDidChangeVisibility(l=>{var g;const x=(g=s.window.activeTextEditor)==null?void 0:g.document.uri.toString();this.revealActiveEditorInTree(x)})),this._register(this.pullRequestModel.onDidInvalidate(()=>{this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(i=>i.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(y.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,D),this._filesCategoryNode=new ry(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new ey(this.parent,this._pullRequestManager,this.pullRequestModel)),this.children=[this._filesCategoryNode,this._commitsCategoryNode],this.children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await Va.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(i=>i instanceof Jl&&i.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}}const Xl=new s.EventEmitter,Uh=Xl.event;function Vo(r,e){if(e)return e instanceof Wn?e.pullRequestModel:e;if(!r.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return r.activePullRequest}async function jo(r,e,t,i,n,a=!0,l){const g=Vo(i,e);n&&(t==null||t.reveal(t,{select:!0,focus:!0})),g instanceof Yr?await Zn.createOrShow(r,i.context.extensionUri,i,g,void 0,a):await pf.createOrShow(r,i.context.extensionUri,i,g),l!=null&&l.hasNotification(g)&&l.markPrNotificationsAsRead(g),r.sendTelemetryEvent("pr.openDescription")}async function ia(r,e,t){var i;if(r.length===1)return r[0];const n=r.map(a=>({label:e(a),itemValue:a}));return(i=await s.window.showQuickPick(n,t))==null?void 0:i.itemValue}async function pa(r,e){r instanceof Wn||r instanceof ma?s.commands.executeCommand("vscode.open",s.Uri.parse(r.pullRequestModel.html_url)):Ol(r)?s.commands.executeCommand("vscode.open",s.Uri.parse(r.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(r.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function sy(){const r=s.window.tabGroups,e=r.all.map(t=>t.tabs).flat();for(const t of e){const i=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(i&&i===ii.Pr||i===ii.Review)&&await r.close(t)}}function oy(r,e,t,i,n){const a="RegisterCommands";r.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async ue=>{if(ue)pa(ue,i);else{const Re=e.folderManagers.map(Ce=>Ce.activePullRequest).filter(Ce=>!!Ce);if(Re.length>=1){const Ce=await ia(Re,Ie=>Ie.html_url);Ce&&pa(Ce,i)}}})),r.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async ue=>{ue&&pa(ue,i)})),r.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const ue=e.folderManagers.filter(He=>He.activePullRequest).map(He=>({activePr:He.activePullRequest,folderManager:He})),Re=ue.length>=1?await ia(ue,He=>He.activePr.html_url):ue[0];if(!Re)return;const{folderManager:Ce}=Re,Ie=xn.getReviewManagerForFolderManager(t.reviewManagers,Ce);Ie&&Ie.reviewModel.localFileChanges.forEach(He=>He.openDiff(Ce,{preview:!1}))})),r.subscriptions.push(s.commands.registerCommand("review.suggestDiff",async ue=>{const Re="githubPullRequest.suggestDiffMessage";if(!r.globalState.get(Re,!1)){await r.globalState.update(Re,!0);const Ie=s.l10n.t("Open documentation");if(await s.window.showInformationMessage(s.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},Ie)===Ie)return s.env.openExternal(s.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const Ie=await ia(e.folderManagers,ar=>U.basename(ar.repository.rootUri.fsPath));if(!Ie||!Ie.activePullRequest)return;const{indexChanges:He,workingTreeChanges:Ke}=Ie.repository.state;if(!He.length)if(Ke.length){const ar=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},ar)===ar)await s.commands.executeCommand("git.stageAll");else return}else{s.window.showInformationMessage(s.l10n.t("There are no changes to suggest."));return}const ot=await Ie.repository.diff(!0);let ft=s.l10n.t(`Suggested edit:
`);ue&&ue.inputBox&&ue.inputBox.value&&(ft=`${ue.inputBox.value}
`,ue.inputBox.value="");const Lt=`${ft}\`\`\`diff
${ot}
\`\`\``;await Ie.activePullRequest.createIssueComment(Lt),await s.commands.executeCommand("git.unstageAll");const At=U.join(Ie.repository.rootUri.fsPath,".git",`${Ie.activePullRequest.number}.diff`),Ui=new TextEncoder,Wi=s.Uri.file(At);await s.workspace.fs.writeFile(Wi,Ui.encode(ot)),await Ie.repository.apply(At,!0),await s.workspace.fs.delete(Wi)}catch(Ie){const He=`${Ie}${Ie.stderr?`
${Ie.stderr}`:""}`;y.error(`Applying patch failed: ${He}`,a),s.window.showErrorMessage(s.l10n.t("Applying patch failed: {0}",pe(Ie)))}})),r.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async ue=>{if(!(ue instanceof yc&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",ue.changeModel.fileName),s.l10n.t("Open")))&&ue.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(ue.changeModel.blobUrl))})),r.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",ue=>{s.env.clipboard.writeText(ue.sha)})),r.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async ue=>{const Re=e.getManagerForIssueModel(ue.pullRequest);if(Re){const Ce=await hc(ue.changeModel.parentFilePath,Re.repository);s.commands.executeCommand("vscode.open",Ce||ue.changeModel.parentFilePath)}})),r.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",ue=>{let Re;const Ce=s.window.tabGroups.activeTabGroup.activeTab;ue?Re=ue.changeModel.filePath:(Ce==null?void 0:Ce.input)instanceof s.TabInputTextDiff&&(Re=Ce.input.modified),Re&&s.commands.executeCommand("vscode.open",Re,Ce==null?void 0:Ce.group.viewColumn)}));async function l(ue){var Re;if(ue&&!(ue instanceof s.Uri)){const Ce=e.getManagerForIssueModel(ue.pullRequest);return Ce?ue.openDiff(Ce):void 0}else if(ue||s.window.activeTextEditor){const Ce=ue instanceof s.Uri?s.window.visibleTextEditors.find(At=>At.document.uri.toString()===ue.toString()):s.window.activeTextEditor,Ie=Ce.visibleRanges,He=e.getManagerForFile(Ce.document.uri);if(!(He!=null&&He.activePullRequest))return;const Ke=xn.getReviewManagerForFolderManager(t.reviewManagers,He);if(!Ke)return;const ot=Ke.reviewModel.localFileChanges.find(At=>At.resourceUri.with({query:""}).toString()===Ce.document.uri.toString());await(ot==null?void 0:ot.openDiff(He));const ft=(Re=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:Re.input,Lt=ft instanceof s.TabInputTextDiff&&ft.modified.toString()===Ce.document.uri.toString()?s.window.activeTextEditor:void 0;Lt&&Lt.revealRange(Ie[0])}}r.subscriptions.push(s.commands.registerCommand("pr.openDiffView",ue=>l(ue))),r.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",ue=>l(ue))),r.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async ue=>{var Re;const Ce=e.getManagerForIssueModel(ue.pullRequestModel);if(!Ce)return;const Ie=Vo(Ce,ue),He="Delete Unmerged Branch";let Ke=null;try{await Ce.deleteLocalPullRequest(Ie)}catch(ot){if(ot.gitErrorCode===ct.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(Re=Ie.localBranchName)!=null?Re:"unknown branch"),He)!==He)return;try{await Ce.deleteLocalPullRequest(Ie,!0)}catch(Lt){Ke=Lt}}else Ke=ot}Ke?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${Ke}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),s.commands.executeCommand("pr.refreshList"))}));function g(ue){if(ue){const Re=s.Uri.file(ue).toString();for(const Ce of t.reviewManagers)if(Ce.repository.rootUri.toString()===Re)return Ce}return ia(t.reviewManagers,Re=>U.basename(Re.repository.rootUri.fsPath),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function x(ue){return!!(ue!=null&&ue.rootUri)}r.subscriptions.push(s.commands.registerCommand("pr.create",async ue=>{var Re,Ce;x(ue)?(Re=await g(ue.rootUri.fsPath))==null||Re.createPullRequest():(Ce=await g(ue==null?void 0:ue.repoPath))==null||Ce.createPullRequest(ue==null?void 0:ue.compareBranch)})),r.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async ue=>{var Re;if(x(ue)){const Ce=await g(ue.rootUri.fsPath),Ie=e.getManagerForFile(ue.rootUri);let He=!0;if(Ie!=null&&Ie.activePullRequest){const Ke=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},Ke)!==Ke)return;He=!1}Ce&&((Re=ue.state.HEAD)!=null&&Re.upstream&&await ue.push(),He&&Ce.createPullRequest())}})),r.subscriptions.push(s.commands.registerCommand("pr.pick",async ue=>{if(ue===void 0)return y.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Re,Ce;ue instanceof Wn||ue instanceof ma?(Re=ue.pullRequestModel,Ce=ue.repository):Re=ue;const Ie=ue instanceof Yr;return i.sendTelemetryEvent("pr.checkout",{fromDescription:Ie.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",Re.number)},async()=>{var He;await((He=xn.getReviewManagerForRepository(t.reviewManagers,Re.githubRepository,Ce))==null?void 0:He.switch(Re))})})),r.subscriptions.push(s.commands.registerCommand("pr.openChanges",async ue=>{if(ue===void 0)return y.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Re;ue instanceof Wn||ue instanceof ma?Re=ue.pullRequestModel:Re=ue;const Ce=e.getManagerForIssueModel(Re);if(Ce)return Yr.openChanges(Ce,Re)}));let V=!1;r.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var ue,Re;const Ce=(ue=s.window.activeTextEditor)==null?void 0:ue.document.uri;if((Ce==null?void 0:Ce.scheme)!==ii.Pr)return;const Ie=xr(Ce);if(Ie===void 0)return;let He;const Ke=e.folderManagers.find(ft=>(He=ft.gitHubRepositories.find(Lt=>Lt.remote.remoteName===Ie.remoteName),!!He));if(!Ke||!He)return;const ot=await s.window.withProgress({location:s.ProgressLocation.Window},()=>Ke.fetchById(He,Number(Ie.prNumber)));if(ot&&!V){V=!0;try{await((Re=xn.getReviewManagerForFolderManager(t.reviewManagers,Ke))==null?void 0:Re.switch(ot))}catch(ft){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",ft instanceof Error?ft.message:"unknown"))}V=!1}})),r.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async ue=>{if(ue===void 0)return y.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let Re;return ue instanceof Wn||ue instanceof ma?Re=ue.pullRequestModel:Re=ue,s.env.openExternal(s.Uri.parse(uc(Re)))})),r.subscriptions.push(s.commands.registerCommand("pr.exit",async ue=>{let Re;if(ue instanceof Wn||ue instanceof ma?Re=ue.pullRequestModel:ue===void 0?Re=await ia(e.folderManagers.map(Ie=>Ie.activePullRequest).filter(Ie=>!!Ie),Ie=>`${Ie.number}: ${Ie.title}`,{placeHolder:s.l10n.t("Choose the pull request to exit")}):Re=ue,!Re)return;const Ce=ue instanceof Yr;return i.sendTelemetryEvent("pr.exit",{fromDescription:Ce.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var Ie;const He=await Re.githubRepository.getDefaultBranch(),Ke=e.getManagerForIssueModel(Re);if(Ke){const ot=(Ie=Ke.repository.state.HEAD)==null?void 0:Ie.name;await Ke.checkoutDefaultBranch(He),ot&&await Ke.cleanupAfterPullRequest(ot,Re)}})})),r.subscriptions.push(s.commands.registerCommand("pr.merge",async ue=>{const Re=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!Re)return;const Ce=Vo(Re,ue);if(Ce.base&&Ce.head&&!Ce.base.repositoryCloneUrl.equals(Ce.head.repositoryCloneUrl)&&Al())return pa(Ce,i);const Ke=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},Ke).then(async ot=>{let ft;if(ot===Ke)try{return ft=await Re.mergePullRequest(Ce),ft}catch(Lt){return s.window.showErrorMessage(`Unable to merge pull request. ${pe(Lt)}`),ft}})})),r.subscriptions.push(s.commands.registerCommand("pr.readyForReview",async ue=>{const Re=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!Re)return;const Ce=Vo(Re,ue),Ie=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},Ie).then(async He=>{let Ke;if(He===Ie)try{return Ke=(await Ce.setReadyForReview()).isDraft,s.commands.executeCommand("pr.refreshList"),Ke}catch(ot){return s.window.showErrorMessage(`Unable to mark pull request as ready to review. ${pe(ot)}`),Ke}})})),r.subscriptions.push(s.commands.registerCommand("pr.close",async(ue,Re)=>{let Ce;if(ue)Ce=ue instanceof Yr?ue:ue.pullRequestModel;else{const Ke=e.folderManagers.map(ot=>ot.activePullRequest).filter(ot=>!!ot);Ce=await ia(Ke,ot=>`${ot.number}: ${ot.title}`,{placeHolder:s.l10n.t("Pull request to close")})}if(!Ce)return;const Ie=Ce,He=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging."),{modal:!0},He,s.l10n.t("No")).then(async Ke=>{if(Ke===He)try{let ot;Re&&(ot=await Ie.createIssueComment(Re));const ft=await Ie.close();return s.commands.executeCommand("pr.refreshList"),Xl.fire(ft),ot}catch(ot){s.window.showErrorMessage(`Unable to close pull request. ${pe(ot)}`),Xl.fire()}Xl.fire()})})),r.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",ue=>{ue instanceof Wn&&n.notificationProvider.markPrNotificationsAsRead(ue.pullRequestModel).then(()=>n.refresh(ue))})),r.subscriptions.push(s.commands.registerCommand("pr.openDescription",async ue=>{let Re;if(ue)Re=ue instanceof ma?ue.pullRequestModel:ue;else{const He=e.folderManagers.map(Ke=>Ke.activePullRequest).filter(Ke=>!!Ke);He.length>=1&&(Re=await ia(He,Ke=>Ke.title))}if(!Re){y.appendLine("No pull request found.");return}const Ce=e.getManagerForIssueModel(Re);if(!Ce)return;let Ie;if(ue instanceof ma)Ie=ue;else{const He=xn.getReviewManagerForFolderManager(t.reviewManagers,Ce);if(!He)return;Ie=He.changesInPrDataProvider.getDescriptionNode(Ce)}await jo(i,Re,Ie,Ce,!(ue instanceof ma),!(ue instanceof Jl),n.notificationProvider)})),r.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{Zn.currentPanel&&Zn.refresh()})),r.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{Zn.currentPanel&&Zn.scrollToReview()})),r.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async ue=>{const Re=e.getManagerForIssueModel(ue.pullRequestModel);if(!Re)return;const Ce=ue.pullRequestModel,Ie=Vo(Re,Ce);ue.reveal(ue,{select:!0,focus:!0}),Zn.createOrShow(i,r.extensionUri,Re,Ie,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),r.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async ue=>{ue.pullRequestModel.showChangesSinceReview=!0})),r.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async ue=>{ue.pullRequestModel.showChangesSinceReview=!1})),r.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),r.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),r.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),r.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const ue of e.folderManagers)await ue.deleteLocalBranchesNRemotes()})),r.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),r.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ks} remotes`))),r.subscriptions.push(s.commands.registerCommand("pr.startReview",async ue=>{i.sendTelemetryEvent("pr.startReview");const Re=Pt(ue.thread);Re&&Re.startReview(ue.thread,ue.text)})),r.subscriptions.push(s.commands.registerCommand("pr.openReview",async ue=>{i.sendTelemetryEvent("pr.openReview");const Re=Pt(ue);Re&&await Re.openReview(ue)}));function Y(ue){let Re,Ce="";return ue instanceof Or?Re=ue.parent:pi.is(ue)||ec.is(ue==null?void 0:ue.thread)?Re=ue.thread:Re=ue,{thread:Re,text:Ce}}const ae=async(ue,Re,Ce)=>{if(Re?i.sendTelemetryEvent("pr.resolveReviewThread"):i.sendTelemetryEvent("pr.unresolveReviewThread"),!ue){const ot=Qt();if(!ot){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}ue=ot.commentController.activeCommentThread}const{thread:Ie,text:He}=Y(ue),Ke=Pt(Ie);Ke&&(Re?await Ke.resolveReviewThread(Ie,He):(await Ke.unresolveReviewThread(Ie,He),Ce&&Ie.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};r.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async ue=>ae(ue,!0))),r.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",ue=>ae(ue,!1,!1))),r.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",ue=>ae(ue,!1,!0)));const le=ue=>{const{path:Re,rootPath:Ce}=ta(ue.query),Ie=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(Ce),Re).with({scheme:Ie.uri.scheme,authority:Ie.uri.authority})};r.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async ue=>{i.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const Re={};Re.selection=ue.range;const Ce=U.basename(ue.uri.fsPath),{commit:Ie}=ta(ue.uri.query);s.commands.executeCommand("vscode.diff",ue.uri,le(ue.uri),`${Ce} from ${(Ie||"").substr(0,8)} diffed with HEAD`,Re)})),r.subscriptions.push(s.commands.registerCommand("pr.createComment",async ue=>{i.sendTelemetryEvent("pr.createComment");const Re=Pt(ue.thread);Re&&Re.createOrReplyComment(ue.thread,ue.text,!1)})),r.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async ue=>{i.sendTelemetryEvent("pr.createSingleComment");const Re=Pt(ue.thread);Re&&Re.createOrReplyComment(ue.thread,ue.text,!0)})),r.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async ue=>{var Re,Ce;let Ie;if(ue===void 0?Ie=(Re=Qt())==null?void 0:Re.commentController.activeCommentThread:Ie=ue instanceof Or?ue.parent:ue==null?void 0:ue.thread,!(Ie!=null&&Ie.range))return;const He=Ie,Ke=((Ce=s.window.activeTextEditor)==null?void 0:Ce.document.uri.scheme)===ii.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(At=>At.document.uri.scheme===ii.Comment&&At.document.uri.query==="");if(!Ke){y.error("No comment editor visible for making a suggestion.",a),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const ot=s.window.visibleTextEditors.find(At=>At.document.uri.toString()===He.uri.toString()),ft=ot==null?void 0:ot.document.getText(new s.Range(He.range.start.line,0,He.range.end.line,ot.document.lineAt(He.range.end.line).text.length)),Lt=Ke.document.lineAt(Ke.selection.end.line).range.end;return Ke.edit(At=>{At.insert(Lt,`
\`\`\`suggestion
${ft}
\`\`\``)})})),r.subscriptions.push(s.commands.registerCommand("pr.editComment",async ue=>{i.sendTelemetryEvent("pr.editComment"),ue.startEdit()})),r.subscriptions.push(s.commands.registerCommand("pr.editQuery",ue=>(i.sendTelemetryEvent("pr.editQuery"),ue.editQuery()))),r.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async ue=>{i.sendTelemetryEvent("pr.cancelEditComment"),ue.cancelEdit()})),r.subscriptions.push(s.commands.registerCommand("pr.saveComment",async ue=>{i.sendTelemetryEvent("pr.saveComment");const Re=Pt(ue.parent);Re&&await Re.editComment(ue.parent,ue)})),r.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async ue=>{i.sendTelemetryEvent("pr.deleteComment");const Re=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},Re)===Re){const Ie=Pt(ue.parent);Ie&&await Ie.deleteComment(ue.parent,ue)}})),r.subscriptions.push(s.commands.registerCommand("review.openFile",ue=>{var Re;const Ce=ue instanceof Js?ue.openFileCommand():Ul(ue);s.commands.executeCommand(Ce.command,...(Re=Ce.arguments)!=null?Re:[])})),r.subscriptions.push(s.commands.registerCommand("review.openLocalFile",ue=>{var Re,Ce;const Ie=ue!=null?ue:(Re=s.window.activeTextEditor)==null?void 0:Re.document.uri;if(!Ie)return;const He=le(Ie),Ke=s.window.visibleTextEditors.find(ft=>ft.document.uri.toString()===Ie.toString()),ot=Ul(He,Ke?{selection:Ke.selection}:void 0);s.commands.executeCommand(ot.command,...(Ce=ot.arguments)!=null?Ce:[])})),r.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(ue,...Re)=>{let Ce;if("resourceStates"in ue?Ce=ue.resourceStates.map(Ke=>Ke.resourceUri):(Ce=[ue.resourceUri],Re&&Ce.push(...Re.map(Ke=>Ke.resourceUri))),Ce.length===0)return;const Ie=e.getManagerForFile(Ce[0]);if(!Ie||!Ie.activePullRequest)return;const He=xn.getReviewManagerForFolderManager(t.reviewManagers,Ie);return He==null?void 0:He.createSuggestionsFromChanges(Ce)})),r.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async ue=>{const Re=s.window.tabGroups.activeTabGroup.activeTab,Ce=Re==null?void 0:Re.input;if(!(Ce instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(Ce.original.scheme!==ii.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const Ie=s.window.visibleTextEditors.find(Lt=>Lt.document.uri.toString()===Ce.modified.toString());if(!Ie)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const He=e.getManagerForFile(Ce.modified);if(!He||!He.activePullRequest)return;const Ke=Ie.selection,ot=ue.filter(Lt=>!!Ke.intersection(new s.Selection(Lt.modifiedStartLineNumber-1,0,Lt.modifiedEndLineNumber-1,100)));if(ot.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const ft=xn.getReviewManagerForFolderManager(t.reviewManagers,He);return ft==null?void 0:ft.createSuggestionFromChange(Ie.document,ot)})),r.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",ue=>{t.reviewManagers.forEach(Re=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Re.updateComments(),Zn.refresh(),Re.changesInPrDataProvider.refresh()})})})),r.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",ue=>{s.workspace.getConfiguration(lt).update(dr,"tree",!0)})),r.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",ue=>{s.workspace.getConfiguration(lt).update(dr,"flat",!0)})),r.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",ue=>{var Re;const Ce=e.getManagerForIssueModel(ue.pullRequestModel);Ce&&ue.pullRequestModel.equals(Ce==null?void 0:Ce.activePullRequest)&&((Re=xn.getReviewManagerForFolderManager(t.reviewManagers,Ce))==null||Re.updateComments()),Zn.refresh(),n.refresh(ue)}));const _e=(ue,Re)=>{var Ce;if(Re.scheme===ii.Pr){const Ie=xr(Re);if(Ie)for(const He of(Ce=ue==null?void 0:ue.gitHubRepositories)!=null?Ce:[]){const Ke=Number(Ie.prNumber);if(He.pullRequestModels.has(Ke))return He.pullRequestModels.get(Ke)}}else return ue==null?void 0:ue.activePullRequest};r.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async ue=>{var Re;try{if(ue===void 0&&(ue=(Re=s.window.activeTextEditor)==null?void 0:Re.document.uri),ue instanceof hs)await ue.markFileAsViewed(!1);else if(ue){const Ce=s.window.tabGroups.activeTabGroup.activeTab;if(Ce){let Ke;Ce.input instanceof s.TabInputTextDiff?Ke=Ce.input.modified:Ce.input instanceof s.TabInputText&&(Ke=Ce.input.uri),Ke&&ue.toString()===Ke.toString()&&s.window.tabGroups.close(Ce)}const Ie=e.getManagerForFile(ue),He=_e(Ie,ue);await(He==null?void 0:He.markFiles([ue.path],!0,"viewed")),Ie==null||Ie.setFileViewedContext()}}catch(Ce){s.window.showErrorMessage(`Marked file as viewed failed: ${Ce}`)}})),r.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async ue=>{var Re;try{if(ue===void 0&&(ue=(Re=s.window.activeTextEditor)==null?void 0:Re.document.uri),ue instanceof hs)ue.unmarkFileAsViewed(!1);else if(ue){const Ce=e.getManagerForFile(ue),Ie=_e(Ce,ue);await(Ie==null?void 0:Ie.markFiles([ue.path],!0,"unviewed")),Ce==null||Ce.setFileViewedContext()}}catch(Ce){s.window.showErrorMessage(`Marked file as not viewed failed: ${Ce}`)}})),r.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async ue=>{var Re;await((Re=ue.activePullRequest)==null?void 0:Re.unmarkAllFilesAsViewed()),ue.setFileViewedContext()})}catch(ue){s.window.showErrorMessage(`Marked file as not viewed failed: ${ue}`)}})),r.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),r.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",ue=>{if(ue instanceof Or)return s.env.clipboard.writeText(ue.rawComment.htmlUrl)})),r.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async()=>{const ue=e.folderManagers.map(Ce=>Ce.activePullRequest).filter(Ce=>!!Ce),Re=await ia(ue,Ce=>`${Ce.number}: ${Ce.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(Re)return s.env.clipboard.writeText(uc(Re))})),r.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var ue;const Re=[];for(const ot of e.folderManagers){const ft=await ot.getActiveGitHubRemotes(await ot.getGitHubRemotes()),Lt=ot.gitHubRepositories.filter(At=>ft.find(Ui=>Ui.remoteName===At.remote.remoteName));Re.push(...Lt.map(At=>({manager:ot,repo:At})))}const Ce=await ia(Re,ot=>`${ot.repo.remote.owner}/${ot.repo.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!Ce)return;const Ie=/^#?(\d*)$/,He=await s.window.showInputBox({ignoreFocusOut:!0,prompt:s.l10n.t("Enter the pull request number"),validateInput:ot=>{const ft=ot.match(Ie);if(!ft||ft.length!==2||Number.isNaN(Number(ft[1])))return s.l10n.t("Value must be a number")}});if(He===void 0||He==="#")return;const Ke=await Ce.manager.fetchById(Ce.repo,Number(He.match(Ie)[1]));if(Ke)return(ue=xn.getReviewManagerForFolderManager(t.reviewManagers,Ce.manager))==null?void 0:ue.switch(Ke)}));function Ee(){const ue=[];return e.folderManagers.forEach(Re=>{ue.push(...Re.gitHubRepositories)}),ia(ue,Re=>`${Re.remote.owner}/${Re.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}r.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const ue=await Ee();ue&&s.env.openExternal(c0(ue))})),r.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const ue=await Ee();ue&&s.env.openExternal(d0(ue))})),r.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async ue=>{i.sendTelemetryEvent("pr.applySuggestion");const Re=Pt(ue.parent);Re instanceof dh&&Re.applySuggestion(ue)})),r.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async ue=>{i.sendTelemetryEvent("pr.applySuggestionWithCopilot");const Re=ue.parent;Re.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const Ce=ue.body instanceof s.MarkdownString?ue.body.value:ue.body;await s.commands.executeCommand("vscode.editorChat.start",{initialRange:Re.range,message:Ce,autoSend:!0})})),r.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),r.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{vt.executeCommand("workbench.action.toggleCommenting")})),r.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{vt.executeCommand("workbench.action.toggleCommenting")})),r.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async ue=>{const Re=ue.fileName;let Ce=Ma(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!0,ue.status),Ie=Ma(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Ce,Ie,`${Re} (Pull Request Compare Base with Head)`)})),r.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async ue=>{const Re=ue.fileName;let Ce=Ma(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Ce,ue.resourceUri,`${Re} (Pull Request Compare Head with Local)`)}));async function Be(ue,Re){const Ce=s.window.tabGroups.activeTabGroup.activeTab,Ie=Ce==null?void 0:Ce.input;if(!(Ie instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const He=s.window.visibleTextEditors.find(Wi=>Wi.document.uri.toString()===Ie.modified.toString());if(!He)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Ke=He.document.uri;if(Ie.original.scheme!==ii.Review&&Ie.original.scheme!==ii.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const ot=He.selection.active,ft=Re?ue:ue.reverse();for(const Wi of ft){const ar=Wi.modifiedEndLineNumber>Wi.modifiedStartLineNumber?Wi.modifiedEndLineNumber:Wi.modifiedStartLineNumber+1,lr=new s.Range(Wi.modifiedStartLineNumber?Wi.modifiedStartLineNumber-1:Wi.modifiedStartLineNumber,0,ar,0);if(Re&&ot.line+1<Wi.modifiedStartLineNumber){He.revealRange(lr),He.selection=new s.Selection(lr.start,lr.start);return}else if(!Re&&ot.line+1>Wi.modifiedStartLineNumber){He.revealRange(lr),He.selection=new s.Selection(lr.start,lr.start);return}}if(Ie.original.scheme===ii.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const Lt=e.getManagerForFile(Ke);if(!Lt)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const At=xn.getReviewManagerForFolderManager(t.reviewManagers,Lt);if(!At)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!At.reviewModel.hasLocalFileChanges||At.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Wi=0;Wi<At.reviewModel.localFileChanges.length;Wi++){const ar=Re?Wi:At.reviewModel.localFileChanges.length-1-Wi;if(At.reviewModel.localFileChanges[ar].changeModel.filePath.toString()===Ke.toString()){const Fa=Re?ar+1:ar-1;if(At.reviewModel.localFileChanges.length>Fa){if(await At.reviewModel.localFileChanges[Fa].openDiff(Lt),!Re){const po=s.window.visibleTextEditors.find(Ru=>Ru.document.uri.toString()===At.reviewModel.localFileChanges[Fa].changeModel.filePath.toString());if(po){const Ru=await At.reviewModel.localFileChanges[Fa].changeModel.diffHunks(),bs=Ru[Ru.length-1],Zp=bs.newLineNumber+bs.newLength,ZS=Zp>bs.newLineNumber?Zp:bs.newLineNumber+1,Ed=new s.Range(bs.newLineNumber?bs.newLineNumber-1:bs.newLineNumber,0,ZS,0);po.revealRange(Ed),po.selection=new s.Selection(Ed.start,Ed.start)}}return}}}const Ui=Re?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),Ui).then(Wi=>{if(Wi===Ui)return At.reviewModel.localFileChanges[Re?0:At.reviewModel.localFileChanges.length-1].openDiff(Lt)})}r.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async ue=>{Be(ue,!0)})),r.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async ue=>{Be(ue,!1)})),r.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const ue of e.folderManagers)for(const Re of ue.gitHubRepositories)for(const Ce of Re.pullRequestModels)Ce[1].isResolved()&&Ce[1].reviewThreadsCacheReady&&Ce[1].initializeReviewThreadCache()})),r.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",sy)),r.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const ue=e.folderManagers.map(Ce=>Ce.activePullRequest).filter(Ce=>!!Ce),Re=await ia(ue,Ce=>`${Ce.number}: ${Ce.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(Re)return s.env.clipboard.writeText(Re.html_url)}))}let zo;const ly={};function uy(r){zo=r.globalState}const Bh=(r,e)=>{if(!zo)throw new Error("Persistent store not initialized.");return zo.get(r+":"+e,ly)},qh=(r,e,t)=>{if(!zo)throw new Error("Persistent store not initialized.");return zo.update(r+":"+e,t)};var to=ni(41566),cy=Object.defineProperty,dy=(r,e,t)=>e in r?cy(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ic=(r,e,t)=>dy(r,typeof e!="symbol"?e+"":e,t);class fy extends v{constructor(e){super(),this.baseReporter=e,Ic(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,i){var n;(n=this.baseReporter)==null||n.sendTelemetryEvent(e,{...this.sharedProperties,...t},i)}sendTelemetryErrorEvent(e,t,i){var n;(n=this.baseReporter)==null||n.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const i={};for(const[n,a]of t)i[n]=a;this.sendTelemetryEvent(e,i)}}function hy(){switch(s.env.uriScheme){case"vscode":return to.Z7.Public;case"vscode-insiders":return to.Z7.Insiders;case"vscode-exploration":return to.Z7.Internal;case"code-oss":return to.Z7.Team;default:return to.Z7.Public}}class my{constructor(){Ic(this,"initializePromise",Promise.resolve()),Ic(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function py(r,e){const t=r.extension.id,i=r.extension.packageJSON.name,n=r.extension.packageJSON.version,a=hy();return i==="vscode-pull-request-github"?(0,to.M$)(t,n,a,e,r.globalState):new my}var Wo=ni(65606);function Zl(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Wo=="object"&&"version"in Wo?`Node.js/${Wo.version.substr(1)} (${Wo.platform}; ${Wo.arch})`:"<environment undetectable>"}var vy=ni(80811);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Hh(r){return Object.prototype.toString.call(r)==="[object Object]"}function $h(r){var e,t;return Hh(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(Hh(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function gy(r){return r?Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{}):{}}function Gh(r,e){const t=Object.assign({},r);return Object.keys(e).forEach(i=>{$h(e[i])?i in r?t[i]=Gh(r[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}function Vh(r){for(const e in r)r[e]===void 0&&delete r[e];return r}function Dc(r,e,t){if(typeof e=="string"){let[n,a]=e.split(" ");t=Object.assign(a?{method:n,url:a}:{url:n},t)}else t=Object.assign({},e);t.headers=gy(t.headers),Vh(t),Vh(t.headers);const i=Gh(r||{},t);return r&&r.mediaType.previews.length&&(i.mediaType.previews=r.mediaType.previews.filter(n=>!i.mediaType.previews.includes(n)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(n=>n.replace(/-preview/,"")),i}function by(r,e){const t=/\?/.test(r)?"&":"?",i=Object.keys(e);return i.length===0?r:r+t+i.map(n=>n==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(e[n])}`).join("&")}const yy=/\{[^}]+\}/g;function wy(r){return r.replace(/^\W+|\W+$/g,"").split(/,/)}function _y(r){const e=r.match(yy);return e?e.map(wy).reduce((t,i)=>t.concat(i),[]):[]}function jh(r,e){return Object.keys(r).filter(t=>!e.includes(t)).reduce((t,i)=>(t[i]=r[i],t),{})}function zh(r){return r.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function io(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ko(r,e,t){return e=r==="+"||r==="#"?zh(e):io(e),t?io(t)+"="+e:e}function ro(r){return r!=null}function Fc(r){return r===";"||r==="&"||r==="?"}function ky(r,e,t,i){var n=r[t],a=[];if(ro(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),i&&i!=="*"&&(n=n.substring(0,parseInt(i,10))),a.push(Ko(e,n,Fc(e)?t:""));else if(i==="*")Array.isArray(n)?n.filter(ro).forEach(function(l){a.push(Ko(e,l,Fc(e)?t:""))}):Object.keys(n).forEach(function(l){ro(n[l])&&a.push(Ko(e,n[l],l))});else{const l=[];Array.isArray(n)?n.filter(ro).forEach(function(g){l.push(Ko(e,g))}):Object.keys(n).forEach(function(g){ro(n[g])&&(l.push(io(g)),l.push(Ko(e,n[g].toString())))}),Fc(e)?a.push(io(t)+"="+l.join(",")):l.length!==0&&a.push(l.join(","))}else e===";"?ro(n)&&a.push(io(t)):n===""&&(e==="&"||e==="?")?a.push(io(t)+"="):n===""&&a.push("");return a}function Sy(r){return{expand:Ry.bind(null,r)}}function Ry(r,e){var t=["+","#",".","/",";","?","&"];return r.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,n,a){if(n){let g="";const x=[];if(t.indexOf(n.charAt(0))!==-1&&(g=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(V){var Y=/([^:\*]*)(?::(\d+)|(\*))?/.exec(V);x.push(ky(e,g,Y[1],Y[2]||Y[3]))}),g&&g!=="+"){var l=",";return g==="?"?l="&":g!=="#"&&(l=g),(x.length!==0?g:"")+x.join(l)}else return x.join(",")}else return zh(a)})}function Wh(r){let e=r.method.toUpperCase(),t=(r.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},r.headers),n,a=jh(r,["method","baseUrl","url","headers","request","mediaType"]);const l=_y(t);t=Sy(t).expand(a),/^http/.test(t)||(t=r.baseUrl+t);const g=Object.keys(r).filter(Y=>l.includes(Y)).concat("baseUrl"),x=jh(a,g);if(!/application\/octet-stream/i.test(i.accept)&&(r.mediaType.format&&(i.accept=i.accept.split(/,/).map(Y=>Y.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${r.mediaType.format}`)).join(",")),r.mediaType.previews.length)){const Y=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=Y.concat(r.mediaType.previews).map(ae=>{const le=r.mediaType.format?`.${r.mediaType.format}`:"+json";return`application/vnd.github.${ae}-preview${le}`}).join(",")}return["GET","HEAD"].includes(e)?t=by(t,x):"data"in x?n=x.data:Object.keys(x).length?n=x:i["content-length"]=0,!i["content-type"]&&typeof n!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof n=="undefined"&&(n=""),Object.assign({method:e,url:t,headers:i},typeof n!="undefined"?{body:n}:null,r.request?{request:r.request}:null)}function Ey(r,e,t){return Wh(Dc(r,e,t))}function Kh(r,e){const t=Dc(r,e),i=Ey.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:Kh.bind(null,t),merge:Dc.bind(null,t),parse:Wh})}const Ty={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":`octokit-endpoint.js/6.0.11 ${Zl()}`},mediaType:{format:"",previews:[]}},Cy=Kh(null,Ty);class Ny extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var My=ni(83519),Py=ni.n(My);const Ay=Py()(r=>console.warn(r));class Qo extends Error{constructor(e,t,i){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t,Object.defineProperty(this,"code",{get(){return Ay(new Ny("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),this.headers=i.headers||{};const n=Object.assign({},i.request);i.request.headers.authorization&&(n.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n}}const xy="5.4.14";function Iy(r){return r.arrayBuffer()}function Qh(r){($h(r.body)||Array.isArray(r.body))&&(r.body=JSON.stringify(r.body));let e={},t,i;return(r.request&&r.request.fetch||Wr())(r.url,Object.assign({method:r.method,body:r.body,headers:r.headers,redirect:r.redirect},r.request)).then(a=>{i=a.url,t=a.status;for(const g of a.headers)e[g[0]]=g[1];if(t===204||t===205)return;if(r.method==="HEAD"){if(t<400)return;throw new Qo(a.statusText,t,{headers:e,request:r})}if(t===304)throw new Qo("Not modified",t,{headers:e,request:r});if(t>=400)return a.text().then(g=>{const x=new Qo(g,t,{headers:e,request:r});try{let V=JSON.parse(x.message);Object.assign(x,V);let Y=V.errors;x.message=x.message+": "+Y.map(JSON.stringify).join(", ")}catch{}throw x});const l=a.headers.get("content-type");return/application\/json/.test(l)?a.json():!l||/^text\/|charset=utf-8$/.test(l)?a.text():Iy(a)}).then(a=>({status:t,url:i,headers:e,data:a})).catch(a=>{throw a instanceof Qo?a:new Qo(a.message,500,{headers:e,request:r})})}function Oc(r,e){const t=r.defaults(e);return Object.assign(function(n,a){const l=t.merge(n,a);if(!l.request||!l.request.hook)return Qh(t.parse(l));const g=(x,V)=>Qh(t.parse(t.merge(x,V)));return Object.assign(g,{endpoint:t,defaults:Oc.bind(null,t)}),l.request.hook(g,l)},{endpoint:t,defaults:Oc.bind(null,t)})}const eu=Oc(Cy,{headers:{"user-agent":`octokit-request.js/${xy} ${Zl()}`}}),Dy="4.6.1";class Fy extends Error{constructor(e,t){const i=t.data.errors[0].message;super(i),Object.assign(this,t.data),Object.assign(this,{headers:t.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const Oy=["method","baseUrl","url","headers","request","query","mediaType"],Ly=["query","method","url"],Yh=/\/api\/v3\/?$/;function Uy(r,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const l in t)if(Ly.includes(l))return Promise.reject(new Error(`[@octokit/graphql] "${l}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},t):e,n=Object.keys(i).reduce((l,g)=>Oy.includes(g)?(l[g]=i[g],l):(l.variables||(l.variables={}),l.variables[g]=i[g],l),{}),a=i.baseUrl||r.endpoint.DEFAULTS.baseUrl;return Yh.test(a)&&(n.url=a.replace(Yh,"/api/graphql")),r(n).then(l=>{if(l.data.errors){const g={};for(const x of Object.keys(l.headers))g[x]=l.headers[x];throw new Fy(n,{headers:g,data:l.data})}return l.data.data})}function Lc(r,e){const t=r.defaults(e);return Object.assign((n,a)=>Uy(t,n,a),{defaults:Lc.bind(null,t),endpoint:eu.endpoint})}const AR=Lc(eu,{headers:{"user-agent":`octokit-graphql.js/${Dy} ${Zl()}`},method:"POST",url:"/graphql"});function By(r){return Lc(r,{method:"POST",url:"/graphql"})}async function qy(r){const e=r.split(/\./).length===3?"app":/^v\d+\./.test(r)?"installation":"oauth";return{type:"token",token:r,tokenType:e}}function Hy(r){return r.split(/\./).length===3?`bearer ${r}`:`token ${r}`}async function $y(r,e,t,i){const n=e.endpoint.merge(t,i);return n.headers.authorization=Hy(r),e(n)}const Gy=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(qy.bind(null,e),{hook:$y.bind(null,e)})},Jh="3.3.1";class Uc{constructor(e={}){const t=new vy.Collection,i={baseUrl:eu.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Jh} ${Zl()}`].filter(Boolean).join(" "),e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=eu.defaults(i),this.graphql=By(this.request).defaults(i),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...l}=e,g=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:l},e.auth));t.wrap("request",g.hook),this.auth=g}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=Gy(e.auth);t.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,e))})}static defaults(e){return class extends this{constructor(...i){const n=i[0]||{};if(typeof e=="function"){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var t;const i=this.plugins;return t=class extends this{},t.plugins=i.concat(e.filter(a=>!i.includes(a))),t}}Uc.VERSION=Jh,Uc.plugins=[];const Vy="1.0.3";function Xh(r){r.hook.wrap("request",(e,t)=>{r.log.debug("request",t);const i=Date.now(),n=r.request.endpoint.parse(t),a=n.url.replace(t.baseUrl,"");return e(t).then(l=>(r.log.info(`${n.method} ${a} - ${l.status} in ${Date.now()-i}ms`),l)).catch(l=>{throw r.log.info(`${n.method} ${a} - ${l.status} in ${Date.now()-i}ms`),l})})}Xh.VERSION=Vy;const jy="2.13.2";function zy(r){if(!("total_count"in r.data&&!("url"in r.data)))return r;const t=r.data.incomplete_results,i=r.data.repository_selection,n=r.data.total_count;delete r.data.incomplete_results,delete r.data.repository_selection,delete r.data.total_count;const a=Object.keys(r.data)[0],l=r.data[a];return r.data=l,typeof t!="undefined"&&(r.data.incomplete_results=t),typeof i!="undefined"&&(r.data.repository_selection=i),r.data.total_count=n,r}function Bc(r,e,t){const i=typeof e=="function"?e.endpoint(t):r.request.endpoint(e,t),n=typeof e=="function"?e:r.request,a=i.method,l=i.headers;let g=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!g)return{done:!0};const x=await n({method:a,url:g,headers:l}),V=zy(x);return g=((V.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:V}}})}}function Zh(r,e,t,i){return typeof t=="function"&&(i=t,t=void 0),em(r,[],Bc(r,e,t)[Symbol.asyncIterator](),i)}function em(r,e,t,i){return t.next().then(n=>{if(n.done)return e;let a=!1;function l(){a=!0}return e=e.concat(i?i(n.value,l):n.value.data),a?e:em(r,e,t,i)})}const xR=Object.assign(Zh,{iterator:Bc}),Wy=null;function IR(r){return typeof r=="string"?Wy.includes(r):!1}function tm(r){return{paginate:Object.assign(Zh.bind(null,r),{iterator:Bc.bind(null,r)})}}tm.VERSION=jy;const Ky={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Qy="4.12.2";function Yy(r,e){const t={};for(const[i,n]of Object.entries(e))for(const[a,l]of Object.entries(n)){const[g,x,V]=l,[Y,ae]=g.split(/ /),le=Object.assign({method:Y,url:ae},x);t[i]||(t[i]={});const _e=t[i];if(V){_e[a]=Jy(r,i,a,le,V);continue}_e[a]=r.request.defaults(le)}return t}function Jy(r,e,t,i,n){const a=r.request.defaults(i);function l(...g){let x=a.endpoint.merge(...g);if(n.mapToData)return x=Object.assign({},x,{data:x[n.mapToData],[n.mapToData]:void 0}),a(x);if(n.renamed){const[V,Y]=n.renamed;r.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${V}.${Y}()`)}if(n.deprecated&&r.log.warn(n.deprecated),n.renamedParameters){const V=a.endpoint.merge(...g);for(const[Y,ae]of Object.entries(n.renamedParameters))Y in V&&(r.log.warn(`"${Y}" parameter is deprecated for "octokit.${e}.${t}()". Use "${ae}" instead`),ae in V||(V[ae]=V[Y]),delete V[Y]);return a(V)}return a(...g)}return Object.assign(l,a)}function im(r){return Yy(r,Ky)}im.VERSION=Qy;const Xy=Uc.plugin(Xh,im,tm).defaults({userAgent:"octokit-rest.js/18.2.1"});function Zy(r){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:tu(r)},t={kind:"Document",definitions:[e]};return t}function ew(r,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:tu(r)},i={kind:"Document",definitions:[t]};return i}function tu(r){if(typeof r=="number"||typeof r=="boolean"||typeof r=="string"||typeof r=="undefined"||r===null)return null;if(Array.isArray(r))return tu(r[0]);var e=[];Object.keys(r).forEach(function(i){var n=tu(r[i]),a={kind:"Field",name:{kind:"Name",value:i},selectionSet:n||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var tw={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},iw=function(){function r(){}return r.prototype.transformDocument=function(e){return e},r.prototype.transformForLink=function(e){return e},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:Is(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},r.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},r.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Is(e.fragment,e.fragmentName)})},r.prototype.writeData=function(e){var t=e.id,i=e.data;if(typeof t!="undefined"){var n=null;try{n=this.read({rootId:t,optimistic:!1,query:tw})}catch{}var a=n&&n.__typename||"__ClientData",l=Object.assign({__typename:a},i);this.writeFragment({id:t,fragment:ew(l,a),data:l})}else this.writeQuery({query:Zy(i),data:i})},r}(),rm;rm||(rm={});var tn=null,nm={},rw=1,nw=function(){return function(){function r(){this.id=["slot",rw++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return r.prototype.hasValue=function(){for(var e=tn;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===nm)break;return e!==tn&&(tn.slots[this.id]=t),!0}return tn&&(tn.slots[this.id]=nm),!1},r.prototype.getValue=function(){if(this.hasValue())return tn.slots[this.id]},r.prototype.withValue=function(e,t,i,n){var a,l=(a={__proto__:null},a[this.id]=e,a),g=tn;tn={parent:g,slots:l};try{return t.apply(n,i)}finally{tn=g}},r.bind=function(e){var t=tn;return function(){var i=tn;try{return tn=t,e.apply(this,arguments)}finally{tn=i}}},r.noContext=function(e,t,i){if(tn){var n=tn;try{return tn=null,e.apply(i,t)}finally{tn=n}}else return e.apply(i,t)},r}()},qc="@wry/context:Slot",Hc=Array,$c=Hc[qc]||function(){var r=nw();try{Object.defineProperty(Hc,qc,{value:Hc[qc]=r,enumerable:!1,writable:!1,configurable:!1})}finally{return r}}(),Gc=$c.bind,aw=$c.noContext;function FR(r,e){return setTimeout(Gc(r),e)}function OR(r){return function(){var e=r.apply(this,arguments),t=Gc(e.next),i=Gc(e.throw);return new Promise(function(n,a){function l(V,Y){try{var ae=V.call(e,Y)}catch(_e){return a(_e)}var le=ae.done?n:g;sw(ae.value)?ae.value.then(le,ae.done?a:x):le(ae.value)}var g=function(V){return l(t,V)},x=function(V){return l(i,V)};g()})}}function sw(r){return r&&typeof r.then=="function"}var am=null;function LR(r){if(am.indexOf(r)<0){var e=function(t,i){var n=t[i];t[i]=function(){return aw(n,arguments,this)}};e(r,"yield"),e(r.prototype,"run"),e(r.prototype,"throwInto"),am.push(r)}return r}function ow(){}var lw=function(){function r(e,t){e===void 0&&(e=1/0),t===void 0&&(t=ow),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return r.prototype.has=function(e){return this.map.has(e)},r.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},r.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,n=t.newer;n&&(n.older=i),i&&(i.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},r.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},r.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},r.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},r}(),iu=new $c,uw=[],Vc=[],cw=100;function no(r,e){if(!r)throw new Error(e||"assertion failure")}function dw(r,e){var t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function sm(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function fw(r){return r.slice(0)}var hw=function(){function r(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++r.count}return r.prototype.recompute=function(){if(no(!this.recomputing,"already recomputing"),!(!mw(this)&&jc(this)))return ao(this)?pw(this):sm(this.value)},r.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,om(this),zc(this))},r.prototype.dispose=function(){var e=this;fm(this).forEach(jc),zc(this),this.parents.forEach(function(t){t.setDirty(),hm(t,e)})},r.count=0,r}();function mw(r){var e=iu.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),ao(r)?um(e,r):cm(e,r),e}function pw(r){var e=fm(r);return iu.withValue(r,vw,[r]),bw(r)&&gw(r),e.forEach(jc),sm(r.value)}function vw(r){r.recomputing=!0,r.value.length=0;try{r.value[0]=r.fn.apply(null,r.args)}catch(e){r.value[1]=e}r.recomputing=!1}function ao(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function gw(r){r.dirty=!1,!ao(r)&&lm(r)}function om(r){r.parents.forEach(function(e){return um(e,r)})}function lm(r){r.parents.forEach(function(e){return cm(e,r)})}function um(r,e){if(no(r.childValues.has(e)),no(ao(e)),!r.dirtyChildren)r.dirtyChildren=Vc.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),om(r)}function cm(r,e){no(r.childValues.has(e)),no(!ao(e));var t=r.childValues.get(e);t.length===0?r.childValues.set(e,fw(e.value)):dw(t,e.value)||r.setDirty(),dm(r,e),!ao(r)&&lm(r)}function dm(r,e){var t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(Vc.length<cw&&Vc.push(t),r.dirtyChildren=null))}function jc(r){return r.parents.size===0&&typeof r.reportOrphan=="function"&&r.reportOrphan()===!0}function fm(r){var e=uw;return r.childValues.size>0&&(e=[],r.childValues.forEach(function(t,i){hm(r,i),e.push(i)})),no(r.dirtyChildren===null),e}function hm(r,e){e.parents.delete(r),r.childValues.delete(e),dm(r,e)}function bw(r){if(typeof r.subscribe=="function")try{zc(r),r.unsubscribe=r.subscribe.apply(null,r.args)}catch{return r.setDirty(),!1}return!0}function zc(r){var e=r.unsubscribe;typeof e=="function"&&(r.unsubscribe=void 0,e())}var Wc=function(){function r(e){this.weakness=e}return r.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},r.prototype.lookupArray=function(e){var t=this;return e.forEach(function(i){return t=t.getChildTrie(i)}),t.data||(t.data=Object.create(null))},r.prototype.getChildTrie=function(e){var t=this.weakness&&yw(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=t.get(e);return i||t.set(e,i=new r(this.weakness)),i},r}();function yw(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}var ww=new Wc(typeof WeakMap=="function");function _w(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ww.lookupArray(r)}var Kc=new Set;function Yo(r,e){e===void 0&&(e=Object.create(null));var t=new lw(e.max||Math.pow(2,16),function(l){return l.dispose()}),i=!!e.disposable,n=e.makeCacheKey||_w;function a(){if(!(i&&!iu.hasValue())){var l=n.apply(null,arguments);if(l===void 0)return r.apply(null,arguments);var g=Array.prototype.slice.call(arguments),x=t.get(l);x?x.args=g:(x=new hw(r,g),t.set(l,x),x.subscribe=e.subscribe,i&&(x.reportOrphan=function(){return t.delete(l)}));var V=x.recompute();return t.set(l,x),Kc.add(t),iu.hasValue()||(Kc.forEach(function(Y){return Y.clean()}),Kc.clear()),i?void 0:V}}return a.dirty=function(){var l=n.apply(null,arguments),g=l!==void 0&&t.get(l);g&&g.setDirty()},a}var mm=!1;function pm(){var r=!mm;return ju()||(mm=!0),r}var kw=function(){function r(){}return r.prototype.ensureReady=function(){return Promise.resolve()},r.prototype.canBypassInit=function(){return!0},r.prototype.match=function(e,t,i){var n=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!n)return a;var l=n.__typename,g=l===void 0?a&&"Query":l;return g&&g===t?!0:(pm(),"heuristic")},r}(),UR=function(){function r(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return r.prototype.match=function(e,t,i){Ji(this.isReady,1);var n=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!n)return a;var l=n.__typename,g=l===void 0?a&&"Query":l;if(Ji(g,2),g===t)return!0;var x=this.possibleTypesMap[t];return!!(g&&x&&x.indexOf(g)>-1)},r.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(t[i.name]=i.possibleTypes.map(function(n){return n.name}))}),t},r}(),vm=Object.prototype.hasOwnProperty,so=function(){function r(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Yo(function(i){return t.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return r.prototype.toObject=function(){return this.data},r.prototype.get=function(e){return this.depend(e),this.data[e]},r.prototype.set=function(e,t){var i=this.data[e];t!==i&&(this.data[e]=t,this.depend.dirty(e))},r.prototype.delete=function(e){vm.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},r.prototype.clear=function(){this.replace(null)},r.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(i){t.set(i,e[i])}),Object.keys(this.data).forEach(function(i){vm.call(e,i)||t.delete(i)})):Object.keys(this.data).forEach(function(i){t.delete(i)})},r}();function gm(r){return new so(r)}var Sw=function(){function r(e){var t=this,i=e===void 0?{}:e,n=i.cacheKeyRoot,a=n===void 0?new Wc($u):n,l=i.freezeResults,g=l===void 0?!1:l,x=this,V=x.executeStoreQuery,Y=x.executeSelectionSet,ae=x.executeSubSelectedArray;this.freezeResults=g,this.executeStoreQuery=Yo(function(le){return V.call(t,le)},{makeCacheKey:function(le){var _e=le.query,Ee=le.rootValue,Be=le.contextValue,ue=le.variableValues,Re=le.fragmentMatcher;if(Be.store instanceof so)return a.lookup(Be.store,_e,Re,JSON.stringify(ue),Ee.id)}}),this.executeSelectionSet=Yo(function(le){return Y.call(t,le)},{makeCacheKey:function(le){var _e=le.selectionSet,Ee=le.rootValue,Be=le.execContext;if(Be.contextValue.store instanceof so)return a.lookup(Be.contextValue.store,_e,Be.fragmentMatcher,JSON.stringify(Be.variableValues),Ee.id)}}),this.executeSubSelectedArray=Yo(function(le){return ae.call(t,le)},{makeCacheKey:function(le){var _e=le.field,Ee=le.array,Be=le.execContext;if(Be.contextValue.store instanceof so)return a.lookup(Be.contextValue.store,_e,Ee,JSON.stringify(Be.variableValues))}})}return r.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(xt(xt({},e),{returnPartialData:!1})).result},r.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,n=e.variables,a=e.previousResult,l=e.returnPartialData,g=l===void 0?!0:l,x=e.rootId,V=x===void 0?"ROOT_QUERY":x,Y=e.fragmentMatcherFunction,ae=e.config,le=gl(i);n=ts({},Fs(le),n);var _e={store:t,dataIdFromObject:ae&&ae.dataIdFromObject,cacheRedirects:ae&&ae.cacheRedirects||{}},Ee=this.executeStoreQuery({query:i,rootValue:{type:"id",id:V,generated:!0,typename:"Query"},contextValue:_e,variableValues:n,fragmentMatcher:Y}),Be=Ee.missing&&Ee.missing.length>0;return Be&&!g&&Ee.missing.forEach(function(ue){if(!ue.tolerable)throw new qr(8)}),a&&qn(a,Ee.result)&&(Ee.result=a),{result:Ee.result,complete:!Be}},r.prototype.executeStoreQuery=function(e){var t=e.query,i=e.rootValue,n=e.contextValue,a=e.variableValues,l=e.fragmentMatcher,g=l===void 0?Rw:l,x=Eo(t),V=rs(t),Y=Ds(V),ae={query:t,fragmentMap:Y,contextValue:n,variableValues:a,fragmentMatcher:g};return this.executeSelectionSet({selectionSet:x.selectionSet,rootValue:i,execContext:ae})},r.prototype.executeSelectionSet=function(e){var t=this,i=e.selectionSet,n=e.rootValue,a=e.execContext,l=a.fragmentMap,g=a.contextValue,x=a.variableValues,V={result:null},Y=[],ae=g.store.get(n.id),le=ae&&ae.__typename||n.id==="ROOT_QUERY"&&"Query"||void 0;function _e(Ee){var Be;return Ee.missing&&(V.missing=V.missing||[],(Be=V.missing).push.apply(Be,Ee.missing)),Ee.result}return i.selections.forEach(function(Ee){var Be;if(As(Ee,x))if(Fi(Ee)){var ue=_e(t.executeField(ae,le,Ee,a));typeof ue!="undefined"&&Y.push((Be={},Be[Ri(Ee)]=ue,Be))}else{var Re=void 0;if(Vi(Ee))Re=Ee;else if(Re=l[Ee.name.value],!Re)throw new qr(9);var Ce=Re.typeCondition&&Re.typeCondition.name.value,Ie=!Ce||a.fragmentMatcher(n,Ce,g);if(Ie){var He=t.executeSelectionSet({selectionSet:Re.selectionSet,rootValue:n,execContext:a});Ie==="heuristic"&&He.missing&&(He=xt(xt({},He),{missing:He.missing.map(function(Ke){return xt(xt({},Ke),{tolerable:!0})})})),Y.push(_e(He))}}}),V.result=Wu(Y),this.freezeResults,V},r.prototype.executeField=function(e,t,i,n){var a=n.variableValues,l=n.contextValue,g=i.name.value,x=Li(i,a),V={resultKey:Ri(i),directives:Ou(i,a)},Y=Ew(e,t,g,x,l,V);return Array.isArray(Y.result)?this.combineExecResults(Y,this.executeSubSelectedArray({field:i,array:Y.result,execContext:n})):i.selectionSet?Y.result==null?Y:this.combineExecResults(Y,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:Y.result,execContext:n})):(bm(i,Y.result),this.freezeResults,Y)},r.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;return e.forEach(function(n){n.missing&&(i=i||[],i.push.apply(i,n.missing))}),{result:e.pop().result,missing:i}},r.prototype.executeSubSelectedArray=function(e){var t=this,i=e.field,n=e.array,a=e.execContext,l;function g(x){return x.missing&&(l=l||[],l.push.apply(l,x.missing)),x.result}return n=n.map(function(x){return x===null?null:Array.isArray(x)?g(t.executeSubSelectedArray({field:i,array:x,execContext:a})):i.selectionSet?g(t.executeSelectionSet({selectionSet:i.selectionSet,rootValue:x,execContext:a})):(bm(i,x),x)}),this.freezeResults,{result:n,missing:l}},r}();function bm(r,e){if(!r.selectionSet&&st(e))throw new qr(10)}function Rw(){return!0}function BR(r){invariant(isIdValue(r),11)}function Ew(r,e,t,i,n,a){var l=a.resultKey,g=a.directives,x=t;(i||g)&&(x=Ni(x,i,g));var V=void 0;if(r&&(V=r[x],typeof V=="undefined"&&n.cacheRedirects&&typeof e=="string")){var Y=n.cacheRedirects[e];if(Y){var ae=Y[t];ae&&(V=ae(r,i,{getCacheKey:function(le){var _e=n.dataIdFromObject(le);return _e&&wr({id:_e,typename:le.__typename})}}))}}return typeof V=="undefined"?{result:V,missing:[{object:r,fieldName:x,tolerable:!1}]}:(An(V)&&(V=V.json),{result:V})}var ru=function(){function r(e){e===void 0&&(e=Object.create(null)),this.data=e}return r.prototype.toObject=function(){return this.data},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){this.data[e]=t},r.prototype.delete=function(e){this.data[e]=void 0},r.prototype.clear=function(){this.data=Object.create(null)},r.prototype.replace=function(e){this.data=e||Object.create(null)},r}();function qR(r){return new ru(r)}var Tw=function(r){Ln(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function Cw(r,e){var t=new Tw(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+r.message,t.stack=r.stack,t}var Nw=function(){function r(){}return r.prototype.writeQueryToStore=function(e){var t=e.query,i=e.result,n=e.store,a=n===void 0?gm():n,l=e.variables,g=e.dataIdFromObject,x=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:t,store:a,variables:l,dataIdFromObject:g,fragmentMatcherFunction:x})},r.prototype.writeResultToStore=function(e){var t=e.dataId,i=e.result,n=e.document,a=e.store,l=a===void 0?gm():a,g=e.variables,x=e.dataIdFromObject,V=e.fragmentMatcherFunction,Y=ua(n);try{return this.writeSelectionSetToStore({result:i,dataId:t,selectionSet:Y.selectionSet,context:{store:l,processedData:{},variables:ts({},Fs(Y),g),dataIdFromObject:x,fragmentMap:Ds(rs(n)),fragmentMatcherFunction:V}})}catch(ae){throw Cw(ae,n)}},r.prototype.writeSelectionSetToStore=function(e){var t=this,i=e.result,n=e.dataId,a=e.selectionSet,l=e.context,g=l.variables,x=l.store,V=l.fragmentMap;return a.selections.forEach(function(Y){var ae;if(As(Y,g))if(Fi(Y)){var le=Ri(Y),_e=i[le];if(typeof _e!="undefined")t.writeFieldToStore({dataId:n,value:_e,field:Y,context:l});else{var Ee=!1,Be=!1;Y.directives&&Y.directives.length&&(Ee=Y.directives.some(function(ot){return ot.name&&ot.name.value==="defer"}),Be=Y.directives.some(function(ot){return ot.name&&ot.name.value==="client"})),!Ee&&!Be&&l.fragmentMatcherFunction}}else{var ue=void 0;Vi(Y)?ue=Y:(ue=(V||{})[Y.name.value],Ji(ue,3));var Re=!0;if(l.fragmentMatcherFunction&&ue.typeCondition){var Ce=n||"self",Ie=wr({id:Ce,typename:void 0}),He={store:new ru((ae={},ae[Ce]=i,ae)),cacheRedirects:{}},Ke=l.fragmentMatcherFunction(Ie,ue.typeCondition.name.value,He);Hd(),Re=!!Ke}Re&&t.writeSelectionSetToStore({result:i,selectionSet:ue.selectionSet,dataId:n,context:l})}}),x},r.prototype.writeFieldToStore=function(e){var t,i=e.field,n=e.value,a=e.dataId,l=e.context,g=l.variables,x=l.dataIdFromObject,V=l.store,Y,ae,le=Zt(i,g);if(!i.selectionSet||n===null)Y=n!=null&&typeof n=="object"?{type:"json",json:n}:n;else if(Array.isArray(n)){var _e=a+"."+le;Y=this.processArrayValue(n,_e,i.selectionSet,l)}else{var Ee=a+"."+le,Be=!0;if(Qc(Ee)||(Ee="$"+Ee),x){var ue=x(n);Ji(!ue||!Qc(ue),4),(ue||typeof ue=="number"&&ue===0)&&(Ee=ue,Be=!1)}wm(Ee,i,l.processedData)||this.writeSelectionSetToStore({dataId:Ee,result:n,selectionSet:i.selectionSet,context:l});var Re=n.__typename;Y=wr({id:Ee,typename:Re},Be),ae=V.get(a);var Ce=ae&&ae[le];if(Ce!==Y&&st(Ce)){var Ie=Ce.typename!==void 0,He=Re!==void 0,Ke=Ie&&He&&Ce.typename!==Re;Ji(!Be||Ce.generated||Ke,5),Ji(!Ie||He,6),Ce.generated&&(Ke?Be||V.delete(Ce.id):ym(Ce.id,Y.id,V))}}ae=V.get(a),(!ae||!qn(Y,ae[le]))&&V.set(a,xt(xt({},ae),(t={},t[le]=Y,t)))},r.prototype.processArrayValue=function(e,t,i,n){var a=this;return e.map(function(l,g){if(l===null)return null;var x=t+"."+g;if(Array.isArray(l))return a.processArrayValue(l,x,i,n);var V=!0;if(n.dataIdFromObject){var Y=n.dataIdFromObject(l);Y&&(x=Y,V=!1)}return wm(x,i,n.processedData)||a.writeSelectionSetToStore({dataId:x,result:l,selectionSet:i,context:n}),wr({id:x,typename:l.__typename},V)})},r}();function Qc(r){return r[0]==="$"}function ym(r,e,t){if(r===e)return!1;var i=t.get(r),n=t.get(e),a=!1;Object.keys(i).forEach(function(g){var x=i[g],V=n[g];st(x)&&Qc(x.id)&&st(V)&&!qn(x,V)&&ym(x.id,V.id,t)&&(a=!0)}),t.delete(r);var l=xt(xt({},i),n);return qn(l,n)?a:(t.set(e,l),!0)}function wm(r,e,t){if(!t)return!1;if(t[r]){if(t[r].indexOf(e)>=0)return!0;t[r].push(e)}else t[r]=[e];return!1}var Mw={fragmentMatcher:new kw,dataIdFromObject:Pw,addTypename:!0,resultCaching:!0,freezeResults:!1};function Pw(r){if(r.__typename){if(r.id!==void 0)return r.__typename+":"+r.id;if(r._id!==void 0)return r.__typename+":"+r._id}return null}var Aw=Object.prototype.hasOwnProperty,_m=function(r){Ln(e,r);function e(t,i,n){var a=r.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=i,a.transaction=n,a}return e.prototype.toObject=function(){return xt(xt({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return Aw.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(ru),xw=function(r){Ln(e,r);function e(t){t===void 0&&(t={});var i=r.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new Wc($u),i.silenceBroadcast=!1,i.config=xt(xt({},Mw),t),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new so:new ru,i.optimisticData=i.data,i.storeWriter=new Nw,i.storeReader=new Sw({cacheKeyRoot:i.cacheKeyRoot,freezeResults:t.freezeResults});var n=i,a=n.maybeBroadcastWatch;return i.maybeBroadcastWatch=Yo(function(l){return a.call(i,l)},{makeCacheKey:function(l){if(!l.optimistic&&!l.previousResult&&n.data instanceof so)return n.cacheKeyRoot.lookup(l.query,JSON.stringify(l.variables))}}),i}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,n=i&&i.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:n,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var i=this.config.fragmentMatcher,n=i&&i.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},e.prototype.diff=function(t){var i=this.config.fragmentMatcher,n=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:n,config:this.config})},e.prototype.watch=function(t){var i=this;return this.watches.add(t),function(){i.watches.delete(t)}},e.prototype.evict=function(t){throw new qr(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var i=[],n=0,a=this.optimisticData;a instanceof _m;)a.optimisticId===t?++n:i.push(a),a=a.parent;if(n>0){for(this.optimisticData=a;i.length>0;){var l=i.pop();this.performTransaction(l.transaction,l.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,i){var n=this,a=n.data,l=n.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new _m(i,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=l,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,i){return this.performTransaction(t,i)},e.prototype.transformDocument=function(t){if(this.addTypename){var i=this.typenameDocumentCache.get(t);return i||(i=Hr(t),this.typenameDocumentCache.set(t,i),this.typenameDocumentCache.set(i,i)),i}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(i){return t.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(iw);function Iw(r){return new Xn(function(e,t){var i=ll(e,[]);return new _n(function(n){var a;return Promise.resolve(i).then(function(l){return r(l,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}})})}var Dw=ni(70585),Fw={includeQuery:!0,includeExtensions:!1},Ow={accept:"*/*","content-type":"application/json"},Lw={method:"POST"},Uw={http:Fw,headers:Ow,options:Lw},km=function(r,e,t){var i=new Error(t);throw i.name="ServerError",i.response=r,i.statusCode=r.status,i.result=e,i},Bw=function(r){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(n){var i=n;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,Promise.reject(i)}}).then(function(t){return e.status>=300&&km(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&km(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map(function(i){return i.operationName}):r.operationName)+"'."),t})}},qw=function(r){if(!r&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new qr(1)}},Hw=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var r=new AbortController,e=r.signal;return{controller:r,signal:e}},$w=function(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var n=xt({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(ae){n=xt({},n,ae.options,{headers:xt({},n.headers,ae.headers)}),ae.credentials&&(n.credentials=ae.credentials),a=xt({},a,ae.http)});var l=r.operationName,g=r.extensions,x=r.variables,V=r.query,Y={operationName:l,variables:x};return a.includeExtensions&&(Y.extensions=g),a.includeQuery&&(Y.query=(0,Dw.y)(V)),{options:n,body:Y}},Yc=function(r,e){var t;try{t=JSON.stringify(r)}catch(n){var i=new qr(2);throw i.parseError=n,i}return t},Gw=function(r,e){var t=r.getContext(),i=t.uri;return i||(typeof e=="function"?e(r):e||"/graphql")},Sm=function(r){r===void 0&&(r={});var e=r.uri,t=e===void 0?"/graphql":e,i=r.fetch,n=r.includeExtensions,a=r.useGETForQueries,l=ll(r,["uri","fetch","includeExtensions","useGETForQueries"]);qw(i),i||(i=fetch);var g={http:{includeExtensions:n},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new Xn(function(x){var V=Gw(x,t),Y=x.getContext(),ae={};if(Y.clientAwareness){var le=Y.clientAwareness,_e=le.name,Ee=le.version;_e&&(ae["apollographql-client-name"]=_e),Ee&&(ae["apollographql-client-version"]=Ee)}var Be=xt({},ae,Y.headers),ue={http:Y.http,options:Y.fetchOptions,credentials:Y.credentials,headers:Be},Re=$w(x,Uw,g,ue),Ce=Re.options,Ie=Re.body,He;if(!Ce.signal){var Ke=Hw(),ot=Ke.controller,ft=Ke.signal;He=ot,He&&(Ce.signal=ft)}var Lt=function(ar){return ar.kind==="OperationDefinition"&&ar.operation==="mutation"};if(a&&!x.query.definitions.some(Lt)&&(Ce.method="GET"),Ce.method==="GET"){var At=Vw(V,Ie),Ui=At.newURI,Wi=At.parseError;if(Wi)return Wd(Wi);V=Ui}else try{Ce.body=Yc(Ie,"Payload")}catch(ar){return Wd(ar)}return new _n(function(ar){return i(V,Ce).then(function(lr){return x.setContext({response:lr}),lr}).then(Bw(x)).then(function(lr){return ar.next(lr),ar.complete(),lr}).catch(function(lr){lr.name!=="AbortError"&&(lr.result&&lr.result.errors&&lr.result.data&&ar.next(lr.result),ar.error(lr))}),function(){He&&He.abort()}})})};function Vw(r,e){var t=[],i=function(ae,le){t.push(ae+"="+encodeURIComponent(le))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var n=void 0;try{n=Yc(e.variables,"Variables map")}catch(ae){return{parseError:ae}}i("variables",n)}if(e.extensions){var a=void 0;try{a=Yc(e.extensions,"Extensions map")}catch(ae){return{parseError:ae}}i("extensions",a)}var l="",g=r,x=r.indexOf("#");x!==-1&&(l=r.substr(x),g=r.substr(0,x));var V=g.indexOf("?")===-1?"?":"&",Y=g+V+t.join("&")+l;return{newURI:Y}}var HR=function(r){Ln(e,r);function e(t){return r.call(this,Sm(t).request)||this}return e}(Xn),jw=Object.defineProperty,zw=(r,e,t)=>e in r?jw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jc=(r,e,t)=>zw(r,typeof e!="symbol"?e+"":e,t);const Rm=class Qa{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,Jc(this,"bulkhead",_h(140)),Jc(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(y.error("API call count has exceeded 140 concurrent calls.",Qa.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?y.appendLine(i,Qa.ID):y.debug(i,Qa.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,i=!1){var n,a,l,g;let x;try{const ae=await t;x=(n=ae==null?void 0:ae.data)==null?void 0:n.rateLimit}catch{return}const V=e==null?void 0:e.startsWith("/search/");((a=x==null?void 0:x.limit)!=null?a:5e3)<5e3&&(V?((l=x==null?void 0:x.limit)!=null?l:30)<30&&y.appendLine(`Unexpectedly low SEARCH rate limit: ${x==null?void 0:x.limit}`,Qa.ID):y.appendLine(`Unexpectedly low rate limit: ${x==null?void 0:x.limit}`,Qa.ID));const Y=`${i?"REST":"GraphQL"} Rate limit remaining: ${x==null?void 0:x.remaining}, cost: ${x==null?void 0:x.cost}, ${e}`;((g=x==null?void 0:x.remaining)!=null?g:1e3)<1e3&&!V?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),y.warn(Y,Qa.ID)):y.debug(Y,Qa.ID)}async logRestRateLimit(e,t){let i;try{i=await t}catch{return}const n={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:n}}),!0)}};Jc(Rm,"ID","RateLimit");let Ww=Rm;class Kw{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const i=(t=e.query.definitions[0].name)==null?void 0:t.value,n=this._rateLogger.logAndLimit(i,()=>this._graphql.query(e));if(n===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,n),n}mutate(e){const t=e.context,i=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(i===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,i),i}}class Qw{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var i,n;const a=(n=(i=e.endpoint)==null?void 0:i.DEFAULTS)==null?void 0:n.url,l=this._rateLogger.logAndLimit(a,()=>e(...t));if(l===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,l),l}}var Yw=Object.defineProperty,Jw=(r,e,t)=>e in r?Yw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rn=(r,e,t)=>Jw(r,typeof e!="symbol"?e+"":e,t);const Em=s.l10n.t("Try again?"),Xw=s.l10n.t("Cancel"),Tm=s.l10n.t("Sign In"),Zw=s.l10n.t("Don't Show Again"),Cm=s.l10n.t("prompt for sign in"),Nm="login",e_=["read:user","user:email","repo"],va=["read:user","user:email","repo","workflow"],ja=["read:user","user:email","repo","workflow","project","read:org"],Mm="githubPullRequest.lastUsedScopes",Pm="githubPullRequest.lastUsedScopesEnterprise",Am=class Tu extends v{constructor(e,t){super(),this._telemetry=e,this.context=t,rn(this,"_githubAPI"),rn(this,"_sessionId"),rn(this,"_githubEnterpriseAPI"),rn(this,"_enterpriseSessionId"),rn(this,"_isInitialized",!1),rn(this,"_onDidInitialize",new s.EventEmitter),rn(this,"onDidInitialize",this._onDidInitialize.event),rn(this,"_scopes",va),rn(this,"_scopesEnterprise",va),rn(this,"_isSamling",!1),rn(this,"_onDidChangeSessions",new s.EventEmitter),rn(this,"onDidChangeSessions",this._onDidChangeSessions.event),rn(this,"_onDidGetSession",new s.EventEmitter),rn(this,"onDidGetSession",this._onDidGetSession.event),rn(this,"_onDidUpgradeSession",new s.EventEmitter),rn(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(i=>this.handlOnDidChangeSessions(i)))}async handlOnDidChangeSessions(e){var t;const i=e.provider.id===Si.github&&this._githubAPI?Si.github:e.provider.id===Si.githubEnterprise&&this._githubEnterpriseAPI?Si.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!i)return;if(i){if(((t=(await this.getSession(i,{silent:!0},i===Si.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;i===Si.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const n=[];this.isAuthenticated(Si.github)||n.push(this.initialize(Si.github)),!this.isAuthenticated(Si.githubEnterprise)&&ea()&&n.push(this.initialize(Si.githubEnterprise)),await Promise.all(n),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(i=>e.includes(i))}setScopesFromState(){this._scopes=this.context.globalState.get(Mm,va),this._scopesEnterprise=this.context.globalState.get(Pm,va)}async saveScopesInState(){await this.context.globalState.update(Mm,this._scopes),await this.context.globalState.update(Pm,this._scopesEnterprise)}async initialize(e,t={},i=kn(e)?this._scopesEnterprise:this._scopes,n){if(y.debug(`Initializing GitHub${nu(e)} authentication provider.`,"Authentication"),kn(e)&&!ea())return y.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,l=!1,g=va;const x=this._scopes,V=this._scopesEnterprise,Y={canceled:!1};try{kn(e)?this._scopesEnterprise=i:this._scopes=i;const ae=await this.getSession(e,t,i,!!n);g=ae.scopes,a=ae.session,l=ae.isNew}catch(ae){this._scopes=x,this._scopesEnterprise=V;const le=ae.message==="User did not consent to login.";if(le&&(Y.canceled=!0),!(t.forceNewSession&&le))throw ae}if(a){kn(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let ae;try{ae=await this.createHub(a.accessToken,e)}catch(le){if(le.message==="Bad credentials"&&!t.forceNewSession)return t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,i,n)}return kn(e)?(this._githubEnterpriseAPI=ae,this._scopesEnterprise=g):(this._githubAPI=ae,this._scopes=g),await this.saveScopesInState(),(!this._isInitialized||l&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),l&&this._telemetry.sendTelemetryEvent("auth.session"),Y}else return y.debug(`No GitHub${nu(e)} token found.`,Tu.ID),Y}async doCreate(e,t=!1){const i=await this.initialize(Si.github,e,t?ja:void 0,t);let n;return ea()&&(n=await this.initialize(Si.githubEnterprise,e,t?ja:void 0,t)),{canceled:i.canceled||!!(n&&n.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(Si.github)||this.isAuthenticated(Si.githubEnterprise)}isAuthenticated(e){return kn(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return kn(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,ja):!!this._githubAPI&&this.allScopesIncluded(this._scopes,ja)}getHub(e){return kn(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return kn(e)?!this.allScopesIncluded(this._scopesEnterprise,va):!this.allScopesIncluded(this._scopes,va)}areScopesExtra(e){return kn(e)?this.allScopesIncluded(this._scopesEnterprise,ja):this.allScopesIncluded(this._scopes,ja)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},ja,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,i;return kn(e)?(i=this._githubEnterpriseAPI)!=null?i:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(Bh(Cm,Nm)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",nu(e)),Tm,Zw)===Tm)return await this.login(e);qh(Cm,Nm,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",nu(e));let i=!0,n;const a={createIfNone:!0};let l=!1;for(;i;){try{await this.initialize(e,a)}catch(g){y.error(`Login error: ${t}: ${g}`,Tu.ID),g instanceof Error&&g.stack&&y.error(g.stack,Tu.ID),g.message==="Cancelled"&&(l=!0)}n=this.getHub(e),n||l?i=!1:(i=await s.window.showErrorMessage(t,Em,Xw)===Em,i&&(a.forceNewSession=!0,a.createIfNone=void 0))}return n?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),n}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e){var t,i,n,a;return((i=await((t=this._githubAPI)==null?void 0:t.currentUser))==null?void 0:i.login)===e||((a=await((n=this._githubEnterpriseAPI)==null?void 0:n.currentUser))==null?void 0:a.login)==e}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise(i=>{e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(n=>{i(n)})});e.currentUser=new Promise(i=>{t.then(n=>{i($s(n.data))})}),e.isEmu=new Promise(i=>{t.then(n=>{var a;i(((a=n.data.plan)==null?void 0:a.name)==="emu_user")})})}async getSession(e,t,i,n){const a=t.forceNewSession||n?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const l=await s.authentication.getSession(e,n?i:va,t);return{session:l,isNew:!!l,scopes:n?i:va}}async findExistingScopes(e){const t=[ja,va,e_];for(const i of t){const n=await s.authentication.getSession(e,i,{silent:!0});if(n)return{session:n,scopes:i}}}async createHub(e,t){let i="https://api.github.com",n;kn(t)&&(n=Vs()),n&&n.authority.endsWith("ghe.com")?i=`${n.scheme}://api.${n.authority}`:n&&(i=`${n.scheme}://${n.authority}/api/v3`);let a;s.env.uiKind===s.UIKind.Web&&(a=(Y,ae)=>{if(ae.headers!==void 0){const{"user-agent":le,..._e}=ae.headers;le&&(ae.headers=_e)}return Wr()(Y,ae)});const l=new Xy({request:{agent:kh,fetch:a},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:i});n&&(i=`${n.scheme}://${n.authority}/api`);const g=new Wv({link:i_(i,e||""),cache:new xw,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),x=new Ww(this._telemetry,kn(t)),V={octokit:new Qw(l,x),graphql:new Kw(g,x)};return this.setCurrentUser(V),V}};rn(Am,"ID","Authentication");let t_=Am;const i_=(r,e)=>Iw((t,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(Sm({uri:`${r}/graphql`,fetch:Wr()}));function nu(r){return kn(r)?" Enterprise":""}var r_=Object.defineProperty,n_=(r,e,t)=>e in r?r_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ga=(r,e,t)=>n_(r,typeof e!="symbol"?e+"":e,t);class xm extends v{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,ga(this,"_folderManagers",[]),ga(this,"_subs"),ga(this,"_onDidChangeState",new s.EventEmitter),ga(this,"onDidChangeState",this._onDidChangeState.event),ga(this,"_onDidChangeFolderRepositories",new s.EventEmitter),ga(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),ga(this,"_onDidLoadAnyRepositories",new s.EventEmitter),ga(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),ga(this,"_state",ha.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",Ah,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;vt.setContext(qi.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(i=>{this.state=i,this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(n=>ee(n.uri.fsPath,e.repository.rootUri.fsPath)||ee(e.repository.rootUri.fsPath,n.uri.fsPath));if(i>-1){const n=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...n),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const i=this._folderManagers[t];k(this._subs.get(i)),this._subs.delete(i),this._folderManagers.splice(t),i.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=this._folderManagers.slice().sort((i,n)=>n.repository.rootUri.path.length-i.repository.rootUri.path.length);for(const i of t){const n=i.repository.rootUri.path,a=e.path.substring(n.length>1?n.length+1:n.length);if(ge(s.Uri.joinPath(i.repository.rootUri,a).path,e.path)===0)return i}}getManagerForRepository(e,t){const i=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const n of this._folderManagers)if(n.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(i))return n}get state(){return this._state}set state(e){const t=e!==this._state;this._state=e,t&&(s.commands.executeCommand("setContext",Ah,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=ha.Initializing}async authenticate(e){var t,i;if(e===!1)return!!this._credentialStore.login(Si.github);const{dotComRemotes:n,enterpriseRemotes:a,unknownRemotes:l}=await zf(this.folderManagers),g=s.l10n.t("Yes");if(e){const ae=(i=(t=Vs())==null?void 0:t.toString())!=null?i:a.length?a[0].normalizedHost:l.length?l[0].normalizedHost:void 0;if(a.length===0&&l.length===0&&y.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${n.length} .com)`),ae)if(await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",ae),{modal:!0},g,s.l10n.t("No, manually set {0}","github-enterprise.uri"))===g)await oc(ae);else return!1;else{const le=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0});if(le)await oc(le);else return!1}}else if(!ea()&&n.length===0&&a.length>0){const ae=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},g,s.l10n.t("No, use GitHub.com"));if(ae===g)await oc(a[0].normalizedHost);else if(ae===void 0)return!1}let x;const V=a.length>0||l.length>0;(ea()||n.length===0)&&V&&(x=await this._credentialStore.login(Si.githubEnterprise));let Y;return!x&&(!ea()||a.length===0)&&(Y=await this._credentialStore.login(Si.github)),!!Y||!!x}dispose(){this._subs.forEach(e=>k(e))}}ga(xm,"ID","RepositoriesManager");function $R(r){switch(r){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var a_=Object.defineProperty,s_=(r,e,t)=>e in r?a_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Aa=(r,e,t)=>s_(r,typeof e!="symbol"?e+"":e,t);class Xc extends v{constructor(e){super(),Aa(this,"_onDidOpenRepository",new s.EventEmitter),Aa(this,"onDidOpenRepository",this._onDidOpenRepository.event),Aa(this,"_onDidCloseRepository",new s.EventEmitter),Aa(this,"onDidCloseRepository",this._onDidCloseRepository.event),Aa(this,"_onDidChangeState",new s.EventEmitter),Aa(this,"onDidChangeState",this._onDidChangeState.event),Aa(this,"_onDidPublish",new s.EventEmitter),Aa(this,"onDidPublish",this._onDidPublish.event),Aa(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(i){throw vt.setContext("gitNotInstalled",!0),i}this._register(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._register(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._register(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new Xc(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var o_=Object.defineProperty,l_=(r,e,t)=>e in r?o_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nn=(r,e,t)=>l_(r,typeof e!="symbol"?e+"":e,t);class u_ extends v{constructor(e){super(),this._liveShareAPI=e,nn(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),nn(this,"onDidOpenRepository",this._onDidOpenRepository.event),nn(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),nn(this,"onDidCloseRepository",this._onDidCloseRepository.event),nn(this,"_openRepositories",[]),nn(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(ah)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new f_(e,this._sharedServiceProxy),n=new c_,a=new Proxy(i,n);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class c_{constructor(){}get(e,t){return t in e?e[t]:function(...i){return e.proxy.request(gc,[t,e.workspaceFolder.uri.toString(),...i])}}}class d_{constructor(e){nn(this,"HEAD"),nn(this,"remotes"),nn(this,"submodules",[]),nn(this,"rebaseCommit"),nn(this,"mergeChanges",[]),nn(this,"indexChanges",[]),nn(this,"workingTreeChanges",[]),nn(this,"_onDidChange",new s.EventEmitter),nn(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class f_{constructor(e,t){this.workspaceFolder=e,this.proxy=t,nn(this,"rootUri"),nn(this,"state")}async initialize(){const e=await this.proxy.request(gc,[sh,this.workspaceFolder.uri.toString()]);this.state=new d_(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(oh,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var h_=Object.defineProperty,m_=(r,e,t)=>e in r?h_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p_=(r,e,t)=>m_(r,typeof e!="symbol"?e+"":e,t);class v_ extends v{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,p_(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(ah)||void 0,this._sharedService&&this._sharedService.onRequest(gc,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],i=e[1],n=s.Uri.parse(i),a=this._liveShareAPI.convertSharedUriToLocal(n),l=this._api.getGitProvider(a);if(!l)return;const g=l.repositories.filter(x=>x.rootUri.toString()===a.toString())[0];if(g){const x=e.slice(2);if(t===sh)return this._register(g.state.onDidChange(V=>{this._sharedService.notify(oh,{HEAD:g.state.HEAD,remotes:g.state.remotes,refs:g.state.refs})})),{HEAD:g.state.HEAD,remotes:g.state.remotes,refs:g.state.refs,rootUri:n.toString()};if(t==="show"){const V=x[1],Y=n.with({path:V}),ae=this._liveShareAPI.convertSharedUriToLocal(Y);return x[1]=ae.fsPath,g[t](...x)}if(g[t])return g[t](...x)}else return null}}var g_=Object.defineProperty,b_=(r,e,t)=>e in r?g_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,au=(r,e,t)=>b_(r,typeof e!="symbol"?e+"":e,t);async function y_(){const r=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!r)return null;const e=r.isActive?r.exports:await r.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class w_ extends v{constructor(e){super(),this._api=e,au(this,"_liveShareAPI"),au(this,"_host"),au(this,"_guest"),au(this,"_localDisposables",[]),this._register({dispose:()=>k(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await y_()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(k(this._localDisposables),e.role===1){this._host=new v_(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new u_(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function __(r){return new w_(r)}async function k_(r,e){const t=await Xc.createProvider();if(t)return e.registerGitProvider(t),t}var S_=Object.defineProperty,R_=(r,e,t)=>e in r?S_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Im=(r,e,t)=>R_(r,typeof e!="symbol"?e+"":e,t);class E_{constructor(e){this.pullRequestManager=e,Im(this,"onNotifiedEmitter",new s.EventEmitter),Im(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,t,i){let n=null;switch(e){case"initialize":n={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const l of this.pullRequestManager.folderManagers){const g=l.getAllAssignableUsers();if(g)for(const x of g)a.has(x.login)||a.set(x.login,x)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return n}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(i=>i.login===t)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const i=t.hub.currentUser?await t.hub.currentUser:void 0;if(i)return i.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var T_=Object.defineProperty,C_=(r,e,t)=>e in r?T_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N_=(r,e,t)=>C_(r,typeof e!="symbol"?e+"":e,t);class M_ extends v{constructor(){super(),N_(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let i=0;const n=setInterval(async()=>{t.isActive?(clearInterval(n),this.register(await t.exports)):(i++,i>60&&clearInterval(n))},1e3)}}}function Dm(){return s.workspace.getConfiguration(lt).get(vn,!1)?vt.QUICK_CHAT_OPEN:vt.OPEN_CHAT}var P_=Object.defineProperty,A_=(r,e,t)=>e in r?P_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oo=(r,e,t)=>A_(r,typeof e!="symbol"?e+"":e,t);class Fm extends v{constructor(e,t,i,n,a){super(),this.issueModel=e,this.manager=t,this.stateManager=i,this.shouldPromptForBranch=a,oo(this,"_branchName"),oo(this,"user"),oo(this,"repo"),oo(this,"_repoDefaults"),oo(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),oo(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(n!=null?n:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const n=this.stateManager.gitAPI.repositories[i];for(let a=0;a<n.state.remotes.length;a++){const l=n.state.remotes[a];if(l.name===(e==null?void 0:e.remoteName)&&((t=l.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=n;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(ai).get(zi)&&!((t=this.issueModel.assignees)!=null&&t.find(n=>n.login===i))&&(this.manager.gitHubRepositories.find(n=>n.remote.owner===this.issueModel.remote.owner&&n.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===ct.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(ai).get(gr))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,i=e.match(t);if(i&&i.length>0&&i[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(i=>{i===t&&s.commands.executeCommand("workbench.action.openSettings",`${ai}.${gr}`)})}async offerNewBranch(e,t,i){var n,a,l,g;const x=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(n=e.upstream)==null?void 0:n.remote,(a=e.upstream)==null?void 0:a.name);if(x&&x.model.state!==Hi.Open){const V=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(l=e.name)!=null?l:"unknown branch"),Y=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(g=e.name)!=null?g:"unknown branch"),ae=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(x.model.state===Hi.Merged?V:Y,{modal:!0},ae)===ae){const _e=(i==null?void 0:i.length)===4?Number(i[3])+1:1;return`${t}_${_e}`}}return t}async createIssueBranch(e){var t;const i=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(ai).get(Sr);if(i==="off")return!0;const n=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:n.branch;const a=await js(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),l=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+a+")(_)?(\\d*)"));if(i==="on"){const x=await this.getBranch(this._branchName);x?e||(this._branchName=await this.offerNewBranch(x,a,l)):l||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const g=this.validateBranchName(this._branchName);return g?(this.showBranchNameError(g),!1):(n.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,n),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(ai).get(nr);if(typeof e=="string")return js(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var x_=ni(11138),I_=ni(69749),D_=ni.n(I_);function Om(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let lo=Om();function F_(r){lo=r}const O_=/[&<>"']/,L_=/[&<>"']/g,U_=/[<>"']|&(?!#?\w+;)/,B_=/[<>"']|&(?!#?\w+;)/g,q_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lm=r=>q_[r];function Xr(r,e){if(e){if(O_.test(r))return r.replace(L_,Lm)}else if(U_.test(r))return r.replace(B_,Lm);return r}const H_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Um(r){return r.replace(H_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const $_=/(^|[^\[])\^/g;function _r(r,e){r=r.source||r,e=e||"";const t={replace:(i,n)=>(n=n.source||n,n=n.replace($_,"$1"),r=r.replace(i,n),t),getRegex:()=>new RegExp(r,e)};return t}const G_=/[^\w:]/g,V_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Bm(r,e,t){if(r){let i;try{i=decodeURIComponent(Um(t)).replace(G_,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!V_.test(t)&&(t=K_(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const su={},j_=/^[^:]+:\/*[^/]*$/,z_=/^([^:]+:)[\s\S]*$/,W_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function K_(r,e){su[" "+r]||(j_.test(r)?su[" "+r]=r+"/":su[" "+r]=lu(r,"/",!0)),r=su[" "+r];const t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(z_,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(W_,"$1")+e:r+e}const ou={exec:function(){}};function ra(r){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r}function qm(r,e){const t=r.replace(/\|/g,(a,l,g)=>{let x=!1,V=l;for(;--V>=0&&g[V]==="\\";)x=!x;return x?"|":" |"}),i=t.split(/ \|/);let n=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function lu(r,e,t){const i=r.length;if(i===0)return"";let n=0;for(;n<i;){const a=r.charAt(i-n-1);if(a===e&&!t)n++;else if(a!==e&&t)n++;else break}return r.substr(0,i-n)}function Q_(r,e){if(r.indexOf(e[1])===-1)return-1;const t=r.length;let i=0,n=0;for(;n<t;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])i++;else if(r[n]===e[1]&&(i--,i<0))return n;return-1}function Hm(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function $m(r,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function Gm(r,e,t,i){const n=e.href,a=e.title?Xr(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){i.state.inLink=!0;const g={type:"link",raw:t,href:n,title:a,text:l,tokens:i.inlineTokens(l,[])};return i.state.inLink=!1,g}else return{type:"image",raw:t,href:n,title:a,text:Xr(l)}}function Y_(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(n=>{const a=n.match(/^\s+/);if(a===null)return n;const[l]=a;return l.length>=i.length?n.slice(i.length):n}).join(`
`)}class Zc{constructor(e){this.options=e||lo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:lu(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],n=Y_(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const a=lu(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,n,a,l,g,x,V,Y,ae,le,_e,Ee,Be=t[1].trim();const ue=Be.length>1,Re={type:"list",raw:"",ordered:ue,start:ue?+Be.slice(0,-1):"",loose:!1,items:[]};Be=ue?`\\d{1,9}\\${Be.slice(-1)}`:`\\${Be}`,this.options.pedantic&&(Be=ue?Be:"[*+-]");const Ce=new RegExp(`^( {0,3}${Be})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(Ee=!1,!(!(t=Ce.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),Y=t[2].split(`
`,1)[0],ae=e.split(`
`,1)[0],this.options.pedantic?(l=2,_e=Y.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,_e=Y.slice(l),l+=t[1].length),x=!1,!Y&&/^ *$/.test(ae)&&(i+=ae+`
`,e=e.substring(ae.length+1),Ee=!0),!Ee){const He=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(le=e.split(`
`,1)[0],Y=le,this.options.pedantic&&(Y=Y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!He.test(Y));){if(Y.search(/[^ ]/)>=l||!Y.trim())_e+=`
`+Y.slice(l);else if(!x)_e+=`
`+Y;else break;!x&&!Y.trim()&&(x=!0),i+=le+`
`,e=e.substring(le.length+1)}}Re.loose||(V?Re.loose=!0:/\n *\n *$/.test(i)&&(V=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(_e),n&&(a=n[0]!=="[ ] ",_e=_e.replace(/^\[[ xX]\] +/,""))),Re.items.push({type:"list_item",raw:i,task:!!n,checked:a,loose:!1,text:_e}),Re.raw+=i}Re.items[Re.items.length-1].raw=i.trimRight(),Re.items[Re.items.length-1].text=_e.trimRight(),Re.raw=Re.raw.trimRight();const Ie=Re.items.length;for(g=0;g<Ie;g++){this.lexer.state.top=!1,Re.items[g].tokens=this.lexer.blockTokens(Re.items[g].text,[]);const He=Re.items[g].tokens.filter(ot=>ot.type==="space"),Ke=He.every(ot=>{const ft=ot.raw.split("");let Lt=0;for(const At of ft)if(At===`
`&&(Lt+=1),Lt>1)return!0;return!1});!Re.loose&&He.length&&Ke&&(Re.loose=!0,Re.items[g].loose=!0)}return Re}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):Xr(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:qm(t[1]).map(n=>({text:n})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let n=i.align.length,a,l,g,x;for(a=0;a<n;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(n=i.rows.length,a=0;a<n;a++)i.rows[a]=qm(i.rows[a],i.header.length).map(V=>({text:V}));for(n=i.header.length,l=0;l<n;l++)i.header[l].tokens=[],this.lexer.inlineTokens(i.header[l].text,i.header[l].tokens);for(n=i.rows.length,l=0;l<n;l++)for(x=i.rows[l],g=0;g<x.length;g++)x[g].tokens=[],this.lexer.inlineTokens(x[g].text,x[g].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Xr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const l=lu(i.slice(0,-1),"\\");if((i.length-l.length)%2===0)return}else{const l=Q_(t[2],"()");if(l>-1){const x=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,x).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);l&&(n=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(i)?n=n.slice(1):n=n.slice(1,-1)),Gm(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let n=(i[2]||i[1]).replace(/\s+/g," ");if(n=t[n.toLowerCase()],!n||!n.href){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return Gm(i,n,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrong.lDelim.exec(e);if(!n||n[3]&&i.match(/[\p{L}\p{N}]/u))return;const a=n[1]||n[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){const l=n[0].length-1;let g,x,V=l,Y=0;const ae=n[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ae.lastIndex=0,t=t.slice(-1*e.length+l);(n=ae.exec(t))!=null;){if(g=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!g)continue;if(x=g.length,n[3]||n[4]){V+=x;continue}else if((n[5]||n[6])&&l%3&&!((l+x)%3)){Y+=x;continue}if(V-=x,V>0)continue;if(x=Math.min(x,x+V+Y),Math.min(l,x)%2){const _e=e.slice(1,l+n.index+x);return{type:"em",raw:e.slice(0,l+n.index+x+1),text:_e,tokens:this.lexer.inlineTokens(_e,[])}}const le=e.slice(2,l+n.index+x-1);return{type:"strong",raw:e.slice(0,l+n.index+x+1),text:le,tokens:this.lexer.inlineTokens(le,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const n=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return n&&a&&(i=i.substring(1,i.length-1)),i=Xr(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let n,a;return i[2]==="@"?(n=Xr(this.options.mangle?t(i[1]):i[1]),a="mailto:"+n):(n=Xr(i[1]),a=n),{type:"link",raw:i[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let n,a;if(i[2]==="@")n=Xr(this.options.mangle?t(i[0]):i[0]),a="mailto:"+n;else{let l;do l=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(l!==i[0]);n=Xr(i[0]),i[1]==="www."?a="http://"+n:a=n}return{type:"link",raw:i[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let n;return this.lexer.state.inRawBlock?n=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Xr(i[0]):i[0]:n=Xr(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:n}}}}const Ei={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ou,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ei._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ei._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ei.def=_r(Ei.def).replace("label",Ei._label).replace("title",Ei._title).getRegex(),Ei.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ei.listItemStart=_r(/^( *)(bull) */).replace("bull",Ei.bullet).getRegex(),Ei.list=_r(Ei.list).replace(/bull/g,Ei.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ei.def.source+")").getRegex(),Ei._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ei._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ei.html=_r(Ei.html,"i").replace("comment",Ei._comment).replace("tag",Ei._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ei.paragraph=_r(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.blockquote=_r(Ei.blockquote).replace("paragraph",Ei.paragraph).getRegex(),Ei.normal=ra({},Ei),Ei.gfm=ra({},Ei.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ei.gfm.table=_r(Ei.gfm.table).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.gfm.paragraph=_r(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ei.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.pedantic=ra({},Ei.normal,{html:_r(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ei._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ou,paragraph:_r(Ei.normal._paragraph).replace("hr",Ei.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ei.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const di={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ou,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ou,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};di._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",di.punctuation=_r(di.punctuation).replace(/punctuation/g,di._punctuation).getRegex(),di.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,di.escapedEmSt=/\\\*|\\_/g,di._comment=_r(Ei._comment).replace("(?:-->|$)","-->").getRegex(),di.emStrong.lDelim=_r(di.emStrong.lDelim).replace(/punct/g,di._punctuation).getRegex(),di.emStrong.rDelimAst=_r(di.emStrong.rDelimAst,"g").replace(/punct/g,di._punctuation).getRegex(),di.emStrong.rDelimUnd=_r(di.emStrong.rDelimUnd,"g").replace(/punct/g,di._punctuation).getRegex(),di._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,di._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,di._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,di.autolink=_r(di.autolink).replace("scheme",di._scheme).replace("email",di._email).getRegex(),di._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,di.tag=_r(di.tag).replace("comment",di._comment).replace("attribute",di._attribute).getRegex(),di._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,di._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,di._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,di.link=_r(di.link).replace("label",di._label).replace("href",di._href).replace("title",di._title).getRegex(),di.reflink=_r(di.reflink).replace("label",di._label).replace("ref",Ei._label).getRegex(),di.nolink=_r(di.nolink).replace("ref",Ei._label).getRegex(),di.reflinkSearch=_r(di.reflinkSearch,"g").replace("reflink",di.reflink).replace("nolink",di.nolink).getRegex(),di.normal=ra({},di),di.pedantic=ra({},di.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_r(/^!?\[(label)\]\((.*?)\)/).replace("label",di._label).getRegex(),reflink:_r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",di._label).getRegex()}),di.gfm=ra({},di.normal,{escape:_r(di.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),di.gfm.url=_r(di.gfm.url,"i").replace("email",di.gfm._extended_email).getRegex(),di.breaks=ra({},di.gfm,{br:_r(di.br).replace("{2,}","*").getRegex(),text:_r(di.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function J_(r){return r.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Vm(r){let e="",t,i;const n=r.length;for(t=0;t<n;t++)i=r.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class xa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||lo,this.options.tokenizer=this.options.tokenizer||new Zc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ei.normal,inline:di.normal};this.options.pedantic?(t.block=Ei.pedantic,t.inline=di.pedantic):this.options.gfm&&(t.block=Ei.gfm,this.options.breaks?t.inline=di.breaks:t.inline=di.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ei,inline:di}}static lex(e,t){return new xa(t).lex(e)}static lexInline(e,t){return new xa(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,n,a,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(g=>(i=g.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+i.raw,n.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let g=1/0;const x=e.slice(1);let V;this.options.extensions.startBlock.forEach(function(Y){V=Y.call({lexer:this},x),typeof V=="number"&&V>=0&&(g=Math.min(g,V))}),g<1/0&&g>=0&&(a=e.substring(0,g+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){n=t[t.length-1],l&&n.type==="paragraph"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i),l=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+i.raw,n.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(i);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,n,a,l=e,g,x,V;if(this.tokens.links){const Y=Object.keys(this.tokens.links);if(Y.length>0)for(;(g=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)Y.includes(g[0].slice(g[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,g.index)+"["+$m("a",g[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(g=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,g.index)+"["+$m("a",g[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(g=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,g.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(x||(V=""),x=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Y=>(i=Y.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),n=t[t.length-1],n&&i.type==="text"&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,l,V)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,Vm)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,Vm))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let Y=1/0;const ae=e.slice(1);let le;this.options.extensions.startInline.forEach(function(_e){le=_e.call({lexer:this},ae),typeof le=="number"&&le>=0&&(Y=Math.min(Y,le))}),Y<1/0&&Y>=0&&(a=e.substring(0,Y+1))}if(i=this.tokenizer.inlineText(a,J_)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(V=i.raw.slice(-1)),x=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=i.raw,n.text+=i.text):t.push(i);continue}if(e){const Y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw new Error(Y)}}return t}}class uu{constructor(e){this.options=e||lo}code(e,t,i){const n=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,n);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="'+this.options.langPrefix+Xr(n,!0)+'">'+(i?e:Xr(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Xr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const n=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+n+a+`>
`+e+"</"+n+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=Bm(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let n='<a href="'+Xr(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>",n}image(e,t,i){if(e=Bm(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">",n}text(e){return e}}class jm{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class zm{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do n++,i=e+"-"+n;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class Ia{constructor(e){this.options=e||lo,this.options.renderer=this.options.renderer||new uu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jm,this.slugger=new zm}static parse(e,t){return new Ia(t).parse(e)}static parseInline(e,t){return new Ia(t).parseInline(e)}parse(e,t=!0){let i="",n,a,l,g,x,V,Y,ae,le,_e,Ee,Be,ue,Re,Ce,Ie,He,Ke,ot;const ft=e.length;for(n=0;n<ft;n++){if(_e=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(ot=this.options.extensions.renderers[_e.type].call({parser:this},_e),ot!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_e.type))){i+=ot||"";continue}switch(_e.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(_e.tokens),_e.depth,Um(this.parseInline(_e.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(_e.text,_e.lang,_e.escaped);continue}case"table":{for(ae="",Y="",g=_e.header.length,a=0;a<g;a++)Y+=this.renderer.tablecell(this.parseInline(_e.header[a].tokens),{header:!0,align:_e.align[a]});for(ae+=this.renderer.tablerow(Y),le="",g=_e.rows.length,a=0;a<g;a++){for(V=_e.rows[a],Y="",x=V.length,l=0;l<x;l++)Y+=this.renderer.tablecell(this.parseInline(V[l].tokens),{header:!1,align:_e.align[l]});le+=this.renderer.tablerow(Y)}i+=this.renderer.table(ae,le);continue}case"blockquote":{le=this.parse(_e.tokens),i+=this.renderer.blockquote(le);continue}case"list":{for(Ee=_e.ordered,Be=_e.start,ue=_e.loose,g=_e.items.length,le="",a=0;a<g;a++)Ce=_e.items[a],Ie=Ce.checked,He=Ce.task,Re="",Ce.task&&(Ke=this.renderer.checkbox(Ie),ue?Ce.tokens.length>0&&Ce.tokens[0].type==="paragraph"?(Ce.tokens[0].text=Ke+" "+Ce.tokens[0].text,Ce.tokens[0].tokens&&Ce.tokens[0].tokens.length>0&&Ce.tokens[0].tokens[0].type==="text"&&(Ce.tokens[0].tokens[0].text=Ke+" "+Ce.tokens[0].tokens[0].text)):Ce.tokens.unshift({type:"text",text:Ke}):Re+=Ke),Re+=this.parse(Ce.tokens,ue),le+=this.renderer.listitem(Re,He,Ie);i+=this.renderer.list(le,Ee,Be);continue}case"html":{i+=this.renderer.html(_e.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(_e.tokens));continue}case"text":{for(le=_e.tokens?this.parseInline(_e.tokens):_e.text;n+1<ft&&e[n+1].type==="text";)_e=e[++n],le+=`
`+(_e.tokens?this.parseInline(_e.tokens):_e.text);i+=t?this.renderer.paragraph(le):le;continue}default:{const Lt='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Lt);return}else throw new Error(Lt)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",n,a,l;const g=e.length;for(n=0;n<g;n++){if(a=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(l=this.options.extensions.renderers[a.type].call({parser:this},a),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=l||"";continue}switch(a.type){case"escape":{i+=t.text(a.text);break}case"html":{i+=t.html(a.text);break}case"link":{i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{i+=t.image(a.href,a.title,a.text);break}case"strong":{i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(a.tokens,t));break}case"text":{i+=t.text(a.text);break}default:{const x='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(x);return}else throw new Error(x)}}}return i}}function Ai(r,e,t){if(typeof r=="undefined"||r===null)throw new Error("marked(): input parameter is undefined or null");if(typeof r!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=ra({},Ai.defaults,e||{}),Hm(e),t){const i=e.highlight;let n;try{n=xa.lex(r,e)}catch(g){return t(g)}const a=function(g){let x;if(!g)try{e.walkTokens&&Ai.walkTokens(n,e.walkTokens),x=Ia.parse(n,e)}catch(V){g=V}return e.highlight=i,g?t(g):t(null,x)};if(!i||i.length<3||(delete e.highlight,!n.length))return a();let l=0;Ai.walkTokens(n,function(g){g.type==="code"&&(l++,setTimeout(()=>{i(g.text,g.lang,function(x,V){if(x)return a(x);V!=null&&V!==g.text&&(g.text=V,g.escaped=!0),l--,l===0&&a()})},0))}),l===0&&a();return}try{const i=xa.lex(r,e);return e.walkTokens&&Ai.walkTokens(i,e.walkTokens),Ia.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xr(i.message+"",!0)+"</pre>";throw i}}Ai.options=Ai.setOptions=function(r){return ra(Ai.defaults,r),F_(Ai.defaults),Ai},Ai.getDefaults=Om,Ai.defaults=lo,Ai.use=function(...r){const e=ra({},...r),t=Ai.defaults.extensions||{renderers:{},childTokens:{}};let i;r.forEach(n=>{if(n.extensions&&(i=!0,n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const l=t.renderers?t.renderers[a.name]:null;l?t.renderers[a.name]=function(...g){let x=a.renderer.apply(this,g);return x===!1&&(x=l.apply(this,g)),x}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),n.renderer){const a=Ai.defaults.renderer||new uu;for(const l in n.renderer){const g=a[l];a[l]=(...x)=>{let V=n.renderer[l].apply(a,x);return V===!1&&(V=g.apply(a,x)),V}}e.renderer=a}if(n.tokenizer){const a=Ai.defaults.tokenizer||new Zc;for(const l in n.tokenizer){const g=a[l];a[l]=(...x)=>{let V=n.tokenizer[l].apply(a,x);return V===!1&&(V=g.apply(a,x)),V}}e.tokenizer=a}if(n.walkTokens){const a=Ai.defaults.walkTokens;e.walkTokens=function(l){n.walkTokens.call(this,l),a&&a.call(this,l)}}i&&(e.extensions=t),Ai.setOptions(e)})},Ai.walkTokens=function(r,e){for(const t of r)switch(e.call(Ai,t),t.type){case"table":{for(const i of t.header)Ai.walkTokens(i.tokens,e);for(const i of t.rows)for(const n of i)Ai.walkTokens(n.tokens,e);break}case"list":{Ai.walkTokens(t.items,e);break}default:Ai.defaults.extensions&&Ai.defaults.extensions.childTokens&&Ai.defaults.extensions.childTokens[t.type]?Ai.defaults.extensions.childTokens[t.type].forEach(function(i){Ai.walkTokens(t[i],e)}):t.tokens&&Ai.walkTokens(t.tokens,e)}},Ai.parseInline=function(r,e){if(typeof r=="undefined"||r===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof r!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");e=ra({},Ai.defaults,e||{}),Hm(e);try{const t=xa.lexInline(r,e);return e.walkTokens&&Ai.walkTokens(t,e.walkTokens),Ia.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xr(t.message+"",!0)+"</pre>";throw t}},Ai.Parser=Ia,Ai.parser=Ia.parse,Ai.Renderer=uu,Ai.TextRenderer=jm,Ai.Lexer=xa,Ai.lexer=xa.lex,Ai.Tokenizer=Zc,Ai.Slugger=zm,Ai.parse=Ai;const GR=Ai.options,VR=Ai.setOptions,jR=Ai.use,zR=Ai.walkTokens,WR=Ai.parseInline,ed=Ai,KR=Ia.parse,QR=xa.lex;var YR=ni(48318);const Wm=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Km(r){return r.match(Wm)}function X_(r){return!!Km(r.body)}async function Qm(r,e,t=!0){const i=r[2],n=r[3],a=r[5],l=Number(r[6])-1,g=r[8]?Number(r[8])-1:l;let x;for(const Y of e.folderManagers){const ae=await Y.getGitHubRemotes();for(const le of ae)if(i.toLowerCase()===le.owner.toLowerCase()&&n.toLowerCase()===le.repositoryName.toLowerCase()){x=Y;break}if(x)break}if(!x)return;const V=s.Uri.joinPath(x.repository.rootUri,a);try{await s.workspace.fs.stat(V)}catch{return}return{file:V,start:l,end:g}}async function Z_(r,e){const t=Km(r.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const i=await Qm(t,e,!1);if(!i)return s.env.openExternal(s.Uri.parse(t[0]));const n=await s.workspace.openTextDocument(i==null?void 0:i.file),a=n.lineAt(i.end<n.lineCount?i.end:n.lineCount-1),l=new s.Range(i.start,0,i.end,a.text.length);return s.window.showTextDocument(i.file,{selection:l})}var e1=Object.defineProperty,t1=(r,e,t)=>e in r?e1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ym=(r,e,t)=>t1(r,typeof e!="symbol"?e+"":e,t);const td=/\@([^\s]+)/,i1=150,ps="Permalink";async function Jm(r,e,t,i){var n;const a=(n=r.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:n.get(t);if(a)return a;{let l,g,x;const V=await e.getGitHubRemotes();for(const Y of V){if(i)l=i.owner?i.owner:Y.owner,g=i.name?i.name:Y.repositoryName,x=i.issueNumber;else{const ae=qs(t.match(us));ae&&(!ae.name||!ae.owner)&&(l=Y.owner,g=Y.repositoryName)}if(l&&g&&x!==void 0){let ae=await e.resolveIssue(l,g,x,!!i.commentNumber);if(ae||(ae=await e.resolvePullRequest(l,g,x)),ae){let le;return r.resolvedIssues.has(e.repository.rootUri.path)?le=r.resolvedIssues.get(e.repository.rootUri.path):r.resolvedIssues.set(e.repository.rootUri.path,le=new(D_())(50)),le.set(t,ae),ae}}}}}function r1(r,e){let t;return r.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(t=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}class Xm extends s.CompletionItem{constructor(){super(...arguments),Ym(this,"login"),Ym(this,"uri")}}function Zm(r,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=r1(e,r.owner+"/"+r.repo);return(e.location||i)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),i&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",i)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function ep(r,e,t){let i=r.search(e),n=0;for(;i>=0&&i<r.length;){let a;if(i===0||r.charAt(i-1)!=="&"){const g=r.substring(i).match(e);if(g){const x=await t(g);x&&(a=r.slice(0,i)+x,r=a+r.slice(i+g[0].length))}}n=a?a.length:i+1;const l=r.substring(n).search(e);i=l>0?n+l:l}return r}function tp(r,e){return ep(r,us,async t=>{const i=qs(t);if(i){const n=lc(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${n}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function n1(r,e){return ep(r,Wm,async t=>{const i=await Qm(t,e);if(i){y.trace("finding code links in issue","Issues");const n=await s.workspace.openTextDocument(i==null?void 0:i.file),a=n.lineAt(i.end<n.lineCount?i.end:n.lineCount-1),l=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:a.text.length}}}],g=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(l))}`);return`[${t[0]}](${g} "Open ${i.file.fsPath}")`}})}const cu=200;async function id(r,e,t,i){const n=new s.MarkdownString(void 0,!0);n.supportHtml=!0;const a=new Date(r.createdAt),l=`${r.remote.owner}/${r.remote.repositoryName}`;n.appendMarkdown(`[${l}](https://github.com/${l}) on ${a.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const g=ed(r.title,{renderer:new od}).trim();n.appendMarkdown(`${s1(r)} **${g}** [#${r.number}](${r.html_url})  
`);let x=ed(r.body,{renderer:new od});if(n.appendMarkdown(`  
`),x=x.length>cu?x.substr(0,cu)+"...":x,x=await tp(x,r),x=await n1(x,t),n.appendMarkdown(x+`  
`),n.appendMarkdown(`&nbsp;  
`),r.item.labels.length>0&&r.item.labels.forEach(V=>{n.appendMarkdown(`[${Wf(V)}](https://github.com/${l}/labels/${encodeURIComponent(V.name)}) `)}),r.item.comments&&i){for(const V of r.item.comments)if(V.databaseId===i){n.appendMarkdown(`  \r
\r
---\r
`),n.appendMarkdown(`&nbsp;  
`),n.appendMarkdown(`![Avatar](${V.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${V.author.login}** commented`),n.appendMarkdown(`&nbsp;  
`);let Y=ed(V.body.length>cu?V.body.substr(0,cu)+"...":V.body,{renderer:new od});Y=await tp(Y,r),n.appendMarkdown(Y)}}return n}function a1(r){switch(r.state){case Hi.Open:return r instanceof Yr?"$(git-pull-request)":"$(issues)";case Hi.Closed:return r instanceof Yr?"$(git-pull-request)":"$(issue-closed)";case Hi.Merged:return"$(git-merge)"}}function s1(r){if(r instanceof Yr)return a1(r);switch(r.state){case Hi.Open:return'<span style="color:#22863a;">$(issues)</span>';case Hi.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const ip="HEAD",o1=1,l1=2,u1=3,rp=4,du=new Map([["upstream",o1],["ups",l1],["origin",u1]]);async function c1(r,e,t){var i,n,a,l;const g=(i=e.state.HEAD)!=null&&i.upstream&&!du.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let x;const V=e.state.remotes.map(Ee=>({name:Ee.name,remote:Ee})).filter(Ee=>(Ee.name===g&&(x=Ee.remote),du.has(Ee.name))).sort((Ee,Be)=>{var ue,Re;const Ce=(ue=du.get(Ee.name))!=null?ue:rp,Ie=(Re=du.get(Be.name))!=null?Re:rp;return Ce-Ie});g&&V.push({name:g,remote:x});const Y=[ip];(n=e.state.HEAD)!=null&&n.name&&e.state.HEAD.name!==ip&&Y.unshift((a=e.state.HEAD)==null?void 0:a.name);let ae;try{ae=await((l=r.getManagerForFile(e.rootUri))==null?void 0:l.getPullRequestDefaults())}catch(Ee){if(!(Ee instanceof Ph))throw Ee}ae&&Y.push(ae.base);let le,_e;for(let Ee=0;Ee<Y.length&&!le;Ee++)for(let Be=0;Be<V.length&&!le;Be++)try{const ue=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${V[Be].name}/${Y[Ee]}`,count:1})).filter(Re=>Re.remote&&Re.name);ue&&ue.length>0&&(le=ue[0],_e=V[Be].remote)}catch{}return _e}function d1(r){return r instanceof s.Uri?{fileUri:r,lineNumber:void 0}:r!==void 0&&"lineNumber"in r&&"uri"in r?{fileUri:r.uri,lineNumber:r.lineNumber}:{fileUri:void 0,lineNumber:void 0}}function np(r,e){var t,i;y.debug("getting file and position",ps);let n,a;const{fileUri:l,lineNumber:g}=d1(r);if(l)n=l,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===n.fsPath&&!s.window.activeNotebookEditor&&(g!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(g-1,0)))?a=new s.Range(new s.Position(g-1,0),new s.Position(g-1,1)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)n=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)n=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((i=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:i.input)instanceof s.TabInputCustom)n=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)n=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return y.debug(`got file and position: ${n.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,ps),{uri:n,range:a}}function fu(r){var e;const t=(e=r.state.HEAD)==null?void 0:e.upstream;for(const i of r.state.remotes)if(!t||t.remote===i.name)return i}async function ap(r,e,t){const i=new Promise(a=>{a(fu(e))});let n=t?await Promise.race([c1(r,e,t),new Promise(a=>{setTimeout(()=>{a(i)},1500)})]):await i;if(!((!n||!n.fetchUrl)&&(n=await i,!n||!n.fetchUrl)))return n}function sp(r,e,t){const i=r.getManagerForFile(e.rootUri),n=i==null?void 0:i.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return n?`${n.remote.owner}/${n.remote.repositoryName}`:new wn(t.fetchUrl).nameWithOwner}async function rd(r,e,t,i,n,a){var l,g,x;const{uri:V,range:Y}=np(a,n);if(!V)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const ae=sc(e,V);if(!ae)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:V};let le;if(V.scheme===ii.Review&&(le=ta(V.query).commit),!le)try{const Ce=await ae.log({maxEntries:1,path:V.fsPath});if(Ce.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:V};(l=ae.state.HEAD)!=null&&l.commit&&Ce[0].hash!==((g=ae.state.HEAD)==null?void 0:g.commit)?le=ae.state.HEAD.commit:le=Ce[0].hash}catch{le=(x=ae.state.HEAD)==null?void 0:x.commit}y.debug(`commit hash: ${le}`,ps);const _e=await ap(r,ae,le);if(!_e||!_e.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:V};const Ee=_e;y.debug(`upstream: ${Ee.fetchUrl}`,ps);const Be=hu(V.path.substring(ae.rootUri.path.length)),Re={permalink:`${nd(_e).replace(/\/$/,"")}/${sp(r,ae,Ee)}/blob/${le}${i?`${Be}${t?ad(Y):""}`:""}`,error:void 0,originalFile:V};return y.debug(`permalink generated: ${Re.permalink}`,ps),Re}async function f1(r,e,t,i,n,a){return s.window.withProgress({location:s.ProgressLocation.Window},async l=>{l.report({message:s.l10n.t("Creating permalink...")});let g=0,x=a?a[g++]:void 0;const V=[];do V.push(rd(r,e,t,i,n,x)),x=a?a[g++]:void 0;while(x);return Promise.all(V)})}function nd(r,e="github.com"){var t;const i=Vs();let n=r.fetchUrl;if(i&&n){if(n.startsWith("https://")&&!n.startsWith("https://github.com/")){const a=new x_.URL(n).host;(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}if(n.startsWith("ssh://")&&(n=n.substr(6)),n.startsWith("git@")&&!n.startsWith("git@github.com")){const a=(t=n.split("@")[1])==null?void 0:t.split(":")[0];(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}}return`https://${e}`}function hu(r){return r.split("/").map(e=>encodeURIComponent(e)).join("/")}function ad(r){if(!r||r instanceof s.NotebookRange)return"";let e=`#L${r.start.line+1}`;return r.start.line!==r.end.line&&(e+=`-L${r.end.line+1}`),e}async function h1(r,e,t){var i;const{uri:n,range:a}=np(e);if(!n)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const l=r.getManagerForFile(n);if(!l)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let g=(i=l.repository.state.HEAD)==null?void 0:i.name;g||(g=(await(await l.getOrigin()).getMetadata()).default_branch);const x=fu(l.repository);if(!(x!=null&&x.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0};const V=n.path.substring(l.repository.rootUri.path.length),Y=nd(x).replace(/\/$/,""),ae=hu(`${g}${V}`);return{permalink:`${Y}/${new wn(x.fetchUrl).nameWithOwner}/blob/${ae}${t?ad(a):""}`,error:void 0,originalFile:n}}async function m1(r,e,t){let i=0,n=e?e[i++]:void 0;const a=[];do a.push(h1(r,n,t)),n=e?e[i++]:void 0;while(n);return Promise.all(a)}async function op(r,e,t){var i;const n=await((i=e.currentIssue(r.repository.rootUri))==null?void 0:i.getCommitMessage());if(n)return r.repository.commit(n,{all:t})}const lp=s.l10n.t("Commit Staged"),up=s.l10n.t("Commit All");async function p1(r,e,t){var i,n;if(r.repository.state.workingTreeChanges.length>0||r.repository.state.indexChanges.length>0){const a=[];switch(r.repository.state.indexChanges&&a.push(lp),r.repository.state.workingTreeChanges&&a.push(up),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case lp:{await op(r,t,!1);break}case up:{await op(r,t,!0);break}default:return!1}}if((i=r.repository.state.HEAD)!=null&&i.upstream)return await r.repository.push(),await e.createPullRequest(void 0),!0;{let a;return r.repository.state.remotes.length===1?a=r.repository.state.remotes[0].name:r.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(r.repository.state.remotes.map(l=>l.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await r.repository.push(a,(n=r.repository.state.HEAD)==null?void 0:n.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function sd(r,e){return!(r.languageId!=="markdown"&&r.languageId!=="plaintext"&&(await s.languages.getTokenInformationAtPosition(r,e)).type!==s.StandardTokenType.Comment)}async function cp(r,e){return r.lineAt(e.line).range.end.character>1e4?!1:sd(r,e)}function dp(r){const e=new URLSearchParams(r.query).get("rootUri");return e?s.Uri.parse(e):void 0}function v1(r){return r.replace(/([_~*])/g,"\\$1")}class od extends uu{code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,i,n){return e+" "}hr(){return""}list(e,t,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,i){return""}text(e){return e}link(e,t,i){return i+" "}}class fp extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class g1{constructor(e,t,i){this.stateManager=e,this.repositoriesManager=t,this.context=i}async provideCompletionItems(e,t,i,n){var a,l,g,x,V,Y,ae,le;let _e=e.getWordRangeAtPosition(t),Ee=_e?e.getText(_e):void 0;if(!_e||(Ee==null?void 0:Ee.charAt(0))!=="#"){const Lt=(a=_e==null?void 0:_e.start)!=null?a:t,At=new s.Range(Lt.translate(void 0,Lt.character?-1:0),t),Ui=e.getText(At);Ui.charAt(0)==="#"&&(_e=At,Ee=Ui)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&n.triggerKind===s.CompletionTriggerKind.Invoke&&!(Ee!=null&&Ee.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&n.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(n.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(ai).get(Rr,[]).find(Lt=>Lt===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await sd(e,t))return[];let Be=new s.Range(t,t);t.character-1>=0&&_e&&((Ee==null?void 0:Ee.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(Be=_e);let ue;if(Ee==="#"&&_e&&_e.start.character>=3){const Lt=new s.Range(_e.start.with(void 0,0),_e.start),Ui=e.getText(Lt).match(/([^\s]+)\/([^\s]+)/);Ui&&(ue={owner:Ui[1],repo:Ui[2]})}const Re=new Map,Ce=new Date;let Ie,He;if(e.languageId==="scminput")He=dp(e.uri);else if(e.uri.scheme==="comment"&&((l=s.workspace.workspaceFolders)!=null&&l.length))for(const Lt of s.window.visibleTextEditors){const At=s.workspace.workspaceFolders[0].uri.with({path:Lt.document.uri.path}),Ui=s.workspace.getWorkspaceFolder(At);if(Ui){He=Ui.uri;break}}else He=e.uri.scheme===ii.NewIssue&&(x=(g=Fl(e.uri))==null?void 0:g.originUri)!=null?x:e.uri;if(!He)return[];let Ke;try{Ke=this.repositoriesManager.getManagerForFile(He),Ie=await(Ke==null?void 0:Ke.getPullRequestDefaults())}catch{}const ot=this.stateManager.getIssueCollection((V=Ke==null?void 0:Ke.repository.rootUri)!=null?V:He);let ft=0;for(const Lt of ot){const At=await Lt[1];ft+=((Y=At.issues)!=null?Y:[]).length}for(const Lt of ot){const At=await Lt[1];if(((ae=At.issues)!=null?ae:[]).length===0)continue;let Ui=0;for(const Wi of(le=At.issues)!=null?le:[])ue&&(Wi.remote.owner!==ue.owner||Wi.remote.repositoryName!==ue.repo)||Re.set(Oo(Wi),await this.completionItemFromIssue(Ie,Wi,Ce,Be,e,Ui++,ft))}return[...Re.values()]}async completionItemFromIssue(e,t,i,n,a,l,g,x){var V;const Y=new fp(t);if(a.languageId==="markdown")Y.insertText=`[${Oo(t,e)}](${t.html_url})`;else{const ae=s.workspace.getConfiguration(ai).get(br);a.uri.path.match(/git\/scm\d\/input/)&&typeof ae=="string"?Y.insertText=await js(ae,t,e):Y.insertText=`${Oo(t,e)}`}return Y.documentation=t.body,Y.range=n,Y.detail=x?x.title:(V=t.milestone)==null?void 0:V.title,Y.sortText=`${l}`.padStart(`${g}`.length,"0"),Y.filterText=`${Y.detail} # ${t.number} ${t.title} ${Y.documentation}`,Y}async resolveCompletionItem(e,t){return e instanceof fp&&(e.documentation=await id(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var b1=Object.defineProperty,y1=(r,e,t)=>e in r?b1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jo=(r,e,t)=>y1(r,typeof e!="symbol"?e+"":e,t);const uo=s.l10n.t("Assignees:"),co=s.l10n.t("Labels:"),Xo=s.l10n.t("Milestone:"),fo=s.l10n.t("Projects:"),ld="newIssue.cache";class w1{constructor(e){this.cache=e,Jo(this,"content"),Jo(this,"createTime",0),Jo(this,"modifiedTime",0),Jo(this,"_onDidChangeFile",new s.EventEmitter),Jo(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const i=this.onDidChangeFile(n=>{n.length===0&&n[0].type===s.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var t,i;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(t=this.content)==null?void 0:t.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,i={create:!1,overwrite:!1}){const n=this.content;this.content=t,n===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,i){}}class _1{constructor(e){this.manager=e}async provideCompletionItems(e,t,i,n){var a,l;const g=e.lineAt(t.line).text;if(!g.startsWith(co)&&!g.startsWith(Xo)&&!g.startsWith(fo))return[];const x=(l=(a=Fl(e.uri))==null?void 0:a.repoUriParams)==null?void 0:l.repoRootUri;if(!x)return[];const V=this.manager.getManagerForFile(x);if(!V)return[];const Y=await V.getPullRequestDefaults();return g.startsWith(co)?this.provideLabelCompletionItems(V,Y):g.startsWith(Xo)?this.provideMilestoneCompletionItems(V):g.startsWith(fo)?this.provideProjectCompletionItems(V):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(n=>{const a=new s.CompletionItem(n.name,s.CompletionItemKind.Color);return a.documentation=`#${n.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,i;return((i=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?i:[]).map(a=>{const l=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return l.commitCharacters=[" ",","],l})}async provideProjectCompletionItems(e){var t;const i=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(i))!=null?t:[]).map(a=>{const l=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return l.commitCharacters=[" ",","],l})}}class k1{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(ld,e)}clear(){this.context.workspaceState.update(ld,void 0)}get(){const e=this.context.workspaceState.get(ld);if(e)return new TextDecoder().decode(e)}}async function S1(r){var e,t;let i;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==ii.NewIssue)return;const n=Fl(s.window.activeTextEditor.document.uri),a=n==null?void 0:n.originUri;if(!a)return;let l;if((e=n.repoUriParams)!=null&&e.repoRootUri?l=r.getManagerForFile(n.repoUriParams.repoRootUri):l=r.getManagerForFile(a),!l)return;const g=await l.getPullRequestDefaultRepo();i=s.window.activeTextEditor.document.getText();const x=i.indexOf(`\r
\r
`),V=i.indexOf(`

`);let Y;if(x<0&&V<0)return;x<0?Y=V:V<0?Y=x:Y=Math.min(x,V);const ae=i.substring(0,Y);if(!ae)return;let le;if(i=i.substring(Y+2).trim(),i.startsWith("<!--")){const Re=i.indexOf("-->");if(Re<0)return;i=i.substring(Re+3).trim()}if(i.startsWith(uo)){const Re=i.split(/\r\n|\n/,1);Re.length===1&&(le=Re[0].substring(uo.length).split(",").map(Ce=>(Ce=Ce.trim(),Ce.startsWith("@")&&(Ce=Ce.substring(1)),Ce)),i=i.substring(Re[0].length).trim())}let _e;if(i.startsWith(co)){const Re=i.split(/\r\n|\n/,1);Re.length===1&&(_e=Re[0].substring(co.length).split(",").map(Ce=>Ce.trim()).filter(Ce=>Ce),i=i.substring(Re[0].length).trim())}let Ee;if(i.startsWith(Xo)){const Re=i.split(/\r\n|\n/,1);if(Re.length===1){const Ce=Re[0].substring(Xo.length).trim();if(Ce){const Ie=await g.getMilestones();Ee=(t=Ie==null?void 0:Ie.find(He=>He.title===Ce))==null?void 0:t.number}i=i.substring(Re[0].length).trim()}}let Be;if(i.startsWith(fo)){const Re=i.split(/\r\n|\n/,1);if(Re.length===1){if(await g.canGetProjectsNow()){const Ce=await l.getAllProjects(g);Be=Re[0].substring(fo.length).split(",").map(Ie=>(Ie=Ie.trim(),Ce.find(He=>He.title===Ie))).filter(Ie=>!!Ie)}i=i.substring(Re[0].length).trim()}}const ue=i!=null?i:"";return{labels:_e,milestone:Ee,projects:Be,assignees:le,title:ae,body:ue,originUri:a}}class R1{constructor(e,t,i,n){this.manager=e,this.stateManager=t,this.context=i,this.telemetry=n}async provideHover(e,t,i){var n;if(!await cp(e,t))return;let a=e.getWordRangeAtPosition(t,us);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const g=e.getText(a).match(us),x=qs(g),V=(n=this.manager.getManagerForFile(e.uri))!=null?n:this.manager.folderManagers[0];if(!V)return;if(x&&g&&(x.owner||x.issueNumber<=this.stateManager.maxIssueNumber(V.repository.rootUri)))return this.createHover(V,g[0],x,a)}else return}async createHover(e,t,i,n){const a=await Jm(this.stateManager,e,t,i);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await id(a,this.context,this.manager,i.commentNumber),n)}}var E1=Object.defineProperty,T1=(r,e,t)=>e in r?E1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hp=(r,e,t)=>T1(r,typeof e!="symbol"?e+"":e,t);class Zo{constructor(e,t,i){this.repoRootUri=e,this.queryLabel=t,this.isFirst=i}}class mu{constructor(e,t,i,n,a,l,g){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=i,this.groupLevel=n,this.group=a,this.groupByOrder=l,this.issuesInGroup=g}}class C1{constructor(e,t,i){this.stateManager=e,this.manager=t,this.context=i,hp(this,"_onDidChangeTreeData",new s.EventEmitter),hp(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(U.basename(e.repository.rootUri.fsPath),cd(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,cd(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,cd(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}getIssueTreeItem(e){var t;const i=new s.TreeItem(`${e.number}: ${e.title}`,s.TreeItemCollapsibleState.None);return i.iconPath=e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed")),((t=this.stateManager.currentIssue(e.uri))==null?void 0:t.issue.number)===e.number?(i.label=`\u2713 ${i.label}`,i.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?i.contextValue="continueissue":i.contextValue="issue",X_(e)&&(i.contextValue="link"+i.contextValue),i}getTreeItem(e){return e instanceof Zs?this.getFolderRepoItem(e):e instanceof Zo?this.getQueryItem(e):e instanceof mu?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==ha.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof Qr&&(e.tooltip=await id(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===ha.NeedsAuthentication||!this.manager.folderManagers.length?[]:(vt.setContext(qi.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),i=Array.from(t.keys());return i.length===1?this.getQueryNodeChildren(new Zo(e.repository.rootUri,i[0],!0)):i.map((n,a)=>new Zo(e.repository.rootUri,n,a===0))}async getQueryNodeChildren(e){var t;const n=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return n?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,n.groupBy,0,(t=n.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,i,n,a,l){if(n.length<=a)return l;const g=n[a];if(g!=="milestone"&&g!=="repository"||n.findIndex(Y=>Y===g)!==a)return this.getIssueGroupsForGroupIndex(e,t,i,n,a+1,l);const x=ie(l,Y=>{var ae,le;return g==="repository"?`${Y.remote.owner}/${Y.remote.repositoryName}`:(le=(ae=Y.milestone)==null?void 0:ae.title)!=null?le:"No Milestone"}),V=[];for(const Y in x)V.push(new mu(e,t,i,a,Y,n,x[Y]));return V}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof Zs?this.getRepoChildren(e):e instanceof Zo?this.getQueryNodeChildren(e):e instanceof mu?this.getIssueGroupChildren(e):[]}}const ud="expandedIssuesState";function mp(r){let e;return r instanceof Zs?e=r.repository.rootUri.toString():r instanceof Zo?e=`${r.repoRootUri.toString()}/${r.queryLabel}`:r instanceof mu&&(e=`${r.repoRootUri.toString()}/${r.queryLabel}/${r.groupLevel}/${r.group}`),e}function pp(r,e,t){const i=mp(e);if(i){const n=new Set(r.workspaceState.get(ud,[]));t?n.add(i):n.delete(i),r.workspaceState.update(ud,Array.from(n.keys()))}}function cd(r,e,t=s.TreeItemCollapsibleState.Expanded){const i=mp(e);if(i){const n=r.workspaceState.get(ud);return n?new Set(n).has(i)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var N1=Object.defineProperty,M1=(r,e,t)=>e in r?N1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P1=(r,e,t)=>M1(r,typeof e!="symbol"?e+"":e,t);function A1(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}class x1{constructor(e){P1(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(ai).get(fr,[]);this.expression=e.length>0?new RegExp(e.map(t=>A1(t)).join("|")):void 0}async provideCodeActions(e,t,i,n){var a;if(this.expression===void 0||i.only&&i.only!==s.CodeActionKind.QuickFix)return[];const l=[];let g=t.start.line;do{const x=e.lineAt(g).text,V=x.substring(0,i1);if(!V.match(us)){const ae=V.match(this.expression),le=(a=ae==null?void 0:ae.index)!=null?a:-1;if(le>=0&&ae){const _e=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);_e.ranges=[new s.Range(g,le,g,le+ae[0].length)];const Ee=V.substring(le).search(/\s/),Be=le+(Ee>0?Ee:V.match(this.expression)[0].length);_e.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:g,line:x,insertIndex:Be,range:t}]},l.push(_e);break}}g++}while(t.end.line>=g);return l}}var I1=Object.defineProperty,D1=(r,e,t)=>e in r?I1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vp=(r,e,t)=>D1(r,typeof e!="symbol"?e+"":e,t);class F1 extends v{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new L1(e,t)),this._register(new gp(e,t)),this._register(new U1(e,t)),this._register(new B1(e,t)))}}const O1=[ii.File,ii.Review,ii.Pr,ii.VscodeVfs];class dd extends v{constructor(e,t,i,n,a,l="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=i,this.label=n,this.priority=a,this.origin=l,vp(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=O1.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(k(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const i=await this.getBlob(t,e.resourceUri),n=t.repository,a=await this.getUpstream(n,i);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const l=nd(a,this.origin).replace(/\/$/,""),g=hu(e.resourceUri.path.substring(n.rootUri.path.length)),x=q1(e);return s.Uri.parse([l,"/",sp(this.repositoryManager,n,{...a,fetchUrl:a.fetchUrl}),"/blob/",i,g,x].join(""))}}class L1 extends dd{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return yp(e)}async getUpstream(e){return fu(e)}}class gp extends dd{constructor(e,t,i="githubComPermalink",n=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,i,n,a)}shouldRegister(){return!0}async getBlob(e,t){var i,n,a;let l,g;if(t.scheme===ii.Review&&(g=ta(t.query).commit),!g){const x=e.repository;try{const V=await x.log({maxEntries:1,path:t.fsPath});if(V.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(i=x.state.HEAD)!=null&&i.commit&&V[0].hash!==((n=x.state.HEAD)==null?void 0:n.commit)&&(l=await x.getCommit(x.state.HEAD.commit)),l||(l=V[0]),g=l.hash}catch{g=(a=x.state.HEAD)==null?void 0:a.commit}}if(g)return g;throw new Error}async getUpstream(e,t){return ap(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const bp=class cv extends gp{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;y.trace("providing permalink markdown share",cv.ID);const i=await super.provideShare(e),n=await this.getMarkdownLinkText(e);if(i)return`[${(t=n==null?void 0:n.trim())!=null?t:""}](${i.toString()})`}async getMarkdownLinkText(e){const t=U.basename(e.resourceUri.path);if(e.selection){const i=await s.workspace.openTextDocument(e.resourceUri),n=e.selection.start===e.selection.end?e.selection:new s.Range(e.selection.start,new s.Position(e.selection.start.line+1,0)),a=i.getText(n);if(a)return a;const l=i.getWordRangeAtPosition(e.selection.start);if(l)return i.getText(l)}return t}};vp(bp,"ID","GitHubPermalinkAsMarkdownShareProvider");let U1=bp;class B1 extends dd{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return yp(e)}async getUpstream(e){return fu(e)}}function q1(r){return r.resourceUri.scheme==="vscode-notebook-cell"?"":ad(r.selection)}async function yp(r){var e;let t=(e=r.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await r.getOrigin()).getMetadata()).default_branch),hu(t)}var H1=Object.defineProperty,$1=(r,e,t)=>e in r?H1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,In=(r,e,t)=>$1(r,typeof e!="symbol"?e+"":e,t);const G1="currentIssue",fd="issues",pu=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class JR extends Qr{constructor(){super(...arguments),In(this,"uri")}}class V1{constructor(e,t,i){this.gitAPI=e,this.manager=t,this.context=i,In(this,"resolvedIssues",new Map),In(this,"_singleRepoStates",new Map),In(this,"_onRefreshCacheNeeded",new s.EventEmitter),In(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),In(this,"_onDidChangeIssueData",new s.EventEmitter),In(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),In(this,"_queries",[]),In(this,"_onDidChangeCurrentIssue",new s.EventEmitter),In(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),In(this,"initializePromise"),In(this,"statusBarItem"),In(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,t){let i=this._singleRepoStates.get(e.path);return i||(t||(t=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===ha.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===ha.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(i,n){var a;const l=i.getOrCreateSingleRepoState(n.rootUri),g=l.lastHead,x=l.lastBranch,V=n.state.HEAD?n.state.HEAD.commit:void 0;(n.state.HEAD?n.state.HEAD.commit:void 0)!==g&&await i.setIssueData(l.folderManager);const Y=(a=n.state.HEAD)==null?void 0:a.name;(g!==V||x!==Y)&&(!l.currentIssue||Y!==l.currentIssue.branchName)&&(Y?l.folderManager&&await i.setCurrentIssueFromBranch(l,Y,!0):await i.setCurrentIssue(l,void 0,!0)),l.lastHead=n.state.HEAD?n.state.HEAD.commit:void 0,l.lastBranch=n.state.HEAD?n.state.HEAD.name:void 0}function t(i,n){i.context.subscriptions.push(n.state.onDidChange(async()=>{e(i,n)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(i=>{e(this,i),t(this,i)})),this.gitAPI.repositories.forEach(i=>{t(this,i)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(ai,null).get(ut,pu),this._queries.length===0&&(this._queries=pu),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${ai}.${ut}`)?(this._queries=s.workspace.getConfiguration(ai,null).get(ut,pu),this._onRefreshCacheNeeded.fire()):t.affectsConfiguration(`${ai}.${bi}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const t of this.manager.folderManagers){this.context.subscriptions.push(t.onDidChangeRepositories(async a=>{if(a.added){const l=this.getOrCreateSingleRepoState(t.repository.rootUri);(l.issueCollection.size===0||(await Promise.all(l.issueCollection.values())).some(g=>g.issues===void 0))&&this.refresh(t)}}));const i=this.getOrCreateSingleRepoState(t.repository.rootUri,t);i.lastHead=t.repository.state.HEAD?t.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(t.repository.rootUri.path,i);const n=(e=t.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&n&&await this.setCurrentIssueFromBranch(i,n,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(fd),t=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const n in t.issues)t.issues[n].stateModifiedTime<i&&(t.branches&&t.branches[n]&&delete t.branches[n],delete t.issues[n])}async getUsers(e){var t;await this.initializePromise;const i=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),n=new Map;for(const a in i)i[a].forEach(l=>{n.set(l.login,l)});return n}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const t=this.getOrCreateSingleRepoState(e);return(!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,i;const n=this.getOrCreateSingleRepoState(e.repository.rootUri,e);n.issueCollection.clear();const a=Na(e.repository).filter(g=>g.isEnterprise),l=await this.getCurrentUser(a.length?Si.githubEnterprise:Si.github);for(let g of this._queries){let x;g.query===ki&&(g=pu[0]),x=this.setIssues(e,await js(g.query,void 0,void 0,l)).then(V=>{var Y;return{groupBy:(Y=g.groupBy)!=null?Y:[],issues:V}}),x&&n.issueCollection.set(g.label,x)}n.maxIssueNumber=await e.getMaxIssue(),n.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,n.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,t){return new Promise(async i=>{const n=await e.getIssues(t);this._onDidChangeIssueData.fire(),i(n==null?void 0:n.items.map(a=>{const l=a;return l.uri=e.repository.rootUri,l}))})}async setCurrentIssueFromBranch(e,t,i=!1){if(s.workspace.getConfiguration(ai).get(Sr)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const l=this.getSavedState();for(const g in l.branches)if(g===t){const x=await e.folderManager.resolveIssue(l.branches[g].owner,l.branches[g].repositoryName,l.branches[g].number);x&&await this.setCurrentIssue(e,new Fm(x,e.folderManager,this),!1,i);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,i;return(i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,t,i,n=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof Zs){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(i),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(G1,t==null?void 0:t.issue.number),(!t||await t.startWorking(n))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const i=this.statusBarItem;i.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(n=>Oo(n.issue,n.repoDefaults)).join(", ")),i.tooltip=e.map(n=>n.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(fd);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const i=this.getSavedState();return i.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(fd,JSON.stringify(i))}}var j1=Object.defineProperty,z1=(r,e,t)=>e in r?j1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,el=(r,e,t)=>z1(r,typeof e!="symbol"?e+"":e,t);const wp=class ys{constructor(e,t,i){this.stateManager=e,this.manager=t,el(this,"_gitBlameCache",{}),el(this,"cachedPrUsers",[]),el(this,"cachedPrTimelineEvents",[]),el(this,"cachedForPrNumber")}async provideCompletionItems(e,t,i,n){var a,l,g,x,V;let Y=e.getWordRangeAtPosition(t),ae=Y?e.getText(Y):void 0;if(!Y||(ae==null?void 0:ae.charAt(0))!=="@"){const Ce=(a=Y==null?void 0:Y.start)!=null?a:t,Ie=new s.Range(Ce.translate(void 0,Ce.character?-1:0),t),He=e.getText(Ie);He.charAt(0)==="@"&&(Y=Ie,ae=He)}if(e.languageId!=="scminput"&&e.uri.scheme!==ii.NewIssue&&t.character>0&&n.triggerKind===s.CompletionTriggerKind.Invoke&&(ae==null?void 0:ae.charAt(0))!=="@")return[];if(e.uri.scheme===ii.NewIssue&&n.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,uo.length)))!==uo)return[];if(n.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(ai).get(sr,[]).find(Ce=>Ce===e.languageId))return[];if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await sd(e,t))return[];let le=new s.Range(t,t);t.character-1>=0&&Y&&(ae==null?void 0:ae.charAt(0))==="@"&&(le=Y);let _e=e.uri;if(e.uri.scheme===ii.NewIssue){const Ce=Fl(e.uri);_e=(l=Ce==null?void 0:Ce.originUri)!=null?l:e.uri}else if(e.languageId==="scminput")_e=dp(e.uri);else if(e.uri.scheme===ii.Comment){const Ce=(g=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:g.input;_e=Ce instanceof s.TabInputText?Ce.uri:Ce instanceof s.TabInputTextDiff?Ce.modified:void 0}if(!_e)return[];const Ee=(V=(x=this.manager.getManagerForFile(_e))==null?void 0:x.repository.rootUri)!=null?V:_e;let Be=[];const ue=await this.stateManager.getUserMap(Ee);ue.forEach(Ce=>{const Ie=new Xm({label:Ce.login,description:Ce.name},s.CompletionItemKind.User);Ie.insertText=`@${Ce.login}`,Ie.login=Ce.login,Ie.uri=Ee,Ie.range=le,Ie.detail=Ce.name,Ie.filterText=`@ ${Ce.login} ${Ce.name}`,e.uri.scheme===ii.NewIssue&&(Ie.commitCharacters=[" ",","]),Be.push(Ie)});const Re=await this.getCommentSpecificSuggestions(ue,e,t);return Re&&(Be=Be.concat(Re)),Be}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!ee(t.repository.rootUri.fsPath,e.fsPath))return!1;const i=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===i)}async resolveCompletionItem(e,t){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const n=await i.getPullRequestDefaults(),a=await i.resolveUser(n.owner,n.repo,e.login);return a&&(e.documentation=Zm(n,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,i){try{const n=JSON.parse(t.uri.query);if(t.uri.scheme!==ii.Comment||ge(n.extensionId,Ks)!==0)return;const a=t.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const l=s.window.visibleTextEditors;if(!l.length)return;let g,x,V,Y;for(const He of l)if(g=this.manager.getManagerForFile(He.document.uri),g){if(g.activePullRequest){V=g.activePullRequest.number,Y=g.activePullRequest.remote.remoteName;break}else if(He.document.uri.scheme===ii.Pr){const Ke=xr(He.document.uri);V=Ke.prNumber,Y=Ke.remoteName;break}}if(!g)return;const ae=g;if(V&&V===this.cachedForPrNumber)return this.cachedPrUsers;let le=[];const _e={};let Ee={};const Be=new Promise(async He=>{if(V&&Y){if(y.debug("get Timeline Events and parse users",ys.ID),this.cachedForPrNumber===V)return this.cachedPrTimelineEvents;const Ke=ae.gitHubRepositories.find(ot=>ot.remote.remoteName===Y);if(Ke){const ot=await Ke.getPullRequest(V);this.cachedForPrNumber=V,this.cachedPrTimelineEvents=await ot.getTimelineEvents()}le=n0(this.cachedPrTimelineEvents),He()}He()}),ue=new Promise(async He=>{if(l.length)try{y.debug("git blame and parse users",ys.ID);const Ke=U.resolve(l[0].document.uri.fsPath);let ot;this._gitBlameCache[Ke]?ot=this._gitBlameCache[Ke]:(ot=await ae.repository.blame(Ke),this._gitBlameCache[Ke]=ot);const ft=ot.split(`
`);for(const Lt of ft){const At=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(Lt);if(At&&At.length===2){const Ui=At[1].trim();_e[Ui]=!0}}}catch(Ke){y.debug(Ke,ys.ID)}He()}),Re=new Promise(async He=>{y.debug("get mentionable users",ys.ID),Ee=await ae.getMentionableUsers(),He()});await Promise.all([Be,ue,Re]),this.cachedPrUsers=[];const Ce={};y.debug("prepare user suggestions",ys.ID),le.forEach(He=>{Ce[He.login]||(Ce[He.login]=He)});const Ie={};for(const He in Ee)for(const Ke of Ee[He])if(!Ce[Ke.login]&&!Ie[Ke.login]&&!e.get(Ke.login)){Ie[Ke.login]=!0;let ot=2;(_e[Ke.login]||Ke.name&&_e[Ke.name])&&(ot=1),Ce[Ke.login]&&(ot=0);const ft=new Xm({label:Ke.login,description:Ke.name},s.CompletionItemKind.User);ft.insertText=`@${Ke.login}`,ft.login=Ke.login,ft.uri=ae.repository.rootUri,ft.detail=Ke.name,ft.filterText=`@ ${Ke.login} ${Ke.name}`,ft.sortText=`${ot}_${Ke.login}`,(x==null?void 0:x.document.uri.scheme)===ii.NewIssue&&(ft.commitCharacters=[" ",","]),this.cachedPrUsers.push(ft)}return y.debug("done",ys.ID),this.cachedPrUsers}catch{return[]}}};el(wp,"ID","UserCompletionProvider");let W1=wp;class K1{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,i){if(!await cp(e,t))return;let n=e.getWordRangeAtPosition(t,td);if(n&&n.start.character>0){n=new s.Range(new s.Position(n.start.line,n.start.character),n.end);const l=e.getText(n).match(td);if(l){const g=l[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&af.indexOf(g)>=0||e.languageId==="php"&&sf.indexOf(g)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&ug.indexOf(g)>=0?void 0:this.createHover(e.uri,g,n)}}else return}async createHover(e,t,i){try{const n=this.manager.getManagerForFile(e);if(!n)return;const a=await n.getPullRequestDefaults(),l=await n.resolveUser(a.owner,a.repo,t);return l&&l.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(Zm(a,l),i)):void 0}catch{return}}}var Q1=Object.defineProperty,Y1=(r,e,t)=>e in r?Q1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tl=(r,e,t)=>Y1(r,typeof e!="symbol"?e+"":e,t);const _p="issues.creatingFromFile",kp=class dv extends v{constructor(e,t,i,n,a){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=i,this.context=n,this.telemetry=a,tl(this,"_stateManager"),tl(this,"_newIssueCache"),tl(this,"createIssueInfo"),tl(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new V1(e,this.manager,this.context),this._newIssueCache=new k1(n)}async initialize(){this._register(s.workspace.registerFileSystemProvider(ii.NewIssue,new w1(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:ii.NewIssue},new _1(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new C1(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(i=>pp(this.context,i.element,!1))),this._register(e.onDidExpandElement(i=>pp(this.context,i.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(i,n)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,n&&n.length>0?n:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(n&&n.length>0?n:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,n&&n.length>0?n:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(n&&n.length>0?n:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,n&&n.length>0?n:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,n&&n.length>0?n:[i],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,n&&n.length>0?n:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,n&&n.length>0?n:[i])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(i,n)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,n&&n.length>0?n:[i],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new F1(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",i=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(i)))),this._register(s.commands.registerCommand("issue.startWorking",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.continueWorking",i=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",i=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(i)),this)),this._register(s.commands.registerCommand("issue.stopWorking",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(i)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(i)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",i=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(i)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",_p,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",_p,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async i=>Z_(i,this.manager)));const t=Dm();this._register(s.commands.registerCommand("issue.chatSummarizeIssue",i=>{if(i instanceof Qr||i instanceof Wn)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),i instanceof Qr)vt.executeCommand(t,s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number));else{const n=i.pullRequestModel,a=n.githubRepository.remote;vt.executeCommand(t,s.l10n.t("@githubpr Summarize PR {0}/{1}#{2}",a.owner,a.repositoryName,n.number))}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",i=>{i instanceof Qr&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),vt.executeCommand(t,s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number)))})),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new R1(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new K1(this.manager,this.telemetry))),this._register(s.languages.registerCodeActionsProvider("*",new x1(this.context),{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}registerCompletionProviders(){const e=[{provider:g1,trigger:"#",disposable:void 0,configuration:`${gi}.${$i}`},{provider:W1,trigger:"@",disposable:void 0,configuration:`${xi}.${$i}`}];for(const t of e)s.workspace.getConfiguration(ai).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const i of e)if(t.affectsConfiguration(`${ai}.${i.configuration}`)){const n=s.workspace.getConfiguration(ai).get(i.configuration,!0);!n&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):n&&!i.disposable&&this._register(i.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,t,i;let n=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=n?this.manager.getManagerForFile(n):void 0;const l=s.workspace.getConfiguration(ai).get(Tn);if((!a||l)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),n=a==null?void 0:a.repository.rootUri),!a||!n)return;const g=await this.chooseTemplate(a);this._newIssueCache.clear();const x=(i=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:i.remote;let V=x?a.repository.state.remotes.find(ae=>ae.name===x):void 0;if(!V){const le=a.repository.state.remotes.filter(Ee=>Ee.fetchUrl||Ee.pushUrl).map(Ee=>({label:`${Ee.name}: ${Ee.fetchUrl||Ee.pushUrl}`,remote:Ee})),_e=await s.window.showQuickPick(le,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!_e)return;V=_e.remote}let Y={remote:V};g&&(Y={...Y,title:g.title,body:g.body}),this.makeNewIssueFile(n,Y)}async createIssueFromFile(){var e,t,i,n;const a=await S1(this.manager);if(!a||!s.window.activeTextEditor)return;const l=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(n=this.createIssueInfo)==null?void 0:n.insertIndex,a.originUri);this.createIssueInfo=void 0,l&&(await s.commands.executeCommand("workbench.action.closeActiveEditor"),this._newIssueCache.clear())}async editQuery(e){const t=s.workspace.getConfiguration(ai,null),i=t.inspect(ut);let n;if(i!=null&&i.workspaceValue)n="workbench.action.openWorkspaceSettingsFile";else{const l=t.get(ut);i!=null&&i.defaultValue&&JSON.stringify(i==null?void 0:i.defaultValue)===JSON.stringify(l)&&t.update(ut,i.defaultValue,s.ConfigurationTarget.Global),n="workbench.action.openSettingsJson"}await s.commands.executeCommand(n);const a=s.window.activeTextEditor;if(a){const g=a.document.getText().search(e.queryLabel);if(g>=0){const x=a.document.positionAt(g);a.revealRange(new s.Range(x,x)),a.selection=new s.Selection(x,x)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Qr)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,i){let n=e,a=t.githubRepository,l=t.remote;if(!n){if(n=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this isssue in.")),!n)return;a=await n.getOrigin(),l=a.remote}const g=await n.findUpstreamForItem({githubRepository:a,remote:l});g.needsFork&&await n.tryOfferToFork(a)===void 0||await this._stateManager.setCurrentIssue(n,new Fm(t,n,this._stateManager,g.remote,i),!0)}async startWorking(e){if(e instanceof Qr)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(us),i=qs(t),n=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(l=>l.remote.owner===(i==null?void 0:i.owner)&&l.remote.repositoryName===i.name));if(i&&n){const a=await Jm(this._stateManager,n,e.toString(),i);if(a)return this.doStartWorking(n,a)}}}async startWorkingBranchPrompt(e){e instanceof Qr&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!i)||e instanceof Qr&&((t=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),i=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let n;try{n=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),l=e.branchName&&n?[t,i,a]:[t,i,a];switch(await s.window.showQuickPick(l,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case i:{const x=xn.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(x)return p1(e.manager,x,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(n=>({label:s.l10n.t("#{0} from {1}",n.issue.number,`${n.issue.githubRepository.remote.owner}/${n.issue.githubRepository.remote.repositoryName}`),currentIssue:n})),i=await s.window.showQuickPick(t);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Qr)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Qr)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var i;if(t||e!=null&&e.document.isUntitled)return t;let n="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((i=a==null?void 0:a.repository)==null?void 0:i.state.workingTreeChanges.find(g=>g.uri.toString()===e.document.uri.toString()))&&(n=`\`\`\`
${e.line}
\`\`\`

`),a){const g=a.gitRelativeRootPath(e.document.uri.path);n+=s.l10n.t(`In file {0}
`,g)}}return n+=(await rd(this.manager,this.gitAPI,!0,!0,e)).permalink,n}async createTodoIssue(e,t){let i,n,a,l,g,x;if(!e&&s.window.activeTextEditor)i=s.window.activeTextEditor.document,x=i.getText(s.window.activeTextEditor.selection);else if(e)i=e.document,a=e.insertIndex,l=e.lineNumber,n=e.line.substring(a,e.line.length).trim(),x=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const V=x.match(td);V&&V.length===2&&(await this._stateManager.getUserMap(i.uri)).has(V[1])&&(g=[V[1]]);let Y;const ae=await this.createTodoIssueBody(e,t),le=s.window.createInputBox();le.value=n!=null?n:"",le.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),le.title=s.l10n.t("Create Issue"),le.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],le.onDidAccept(async()=>{Y=le.value,Y&&(le.busy=!0,await this.doCreateIssue(i,e,Y,ae,g,void 0,void 0,void 0,l,a),le.busy=!1),le.hide()}),le.onDidTriggerButton(async()=>{Y=le.value,le.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:l,insertIndex:a},this.makeNewIssueFile(i.uri,{title:Y,body:ae,assignees:g}),le.busy=!1,le.hide()}),le.show()}async makeNewIssueFile(e,t){var i,n,a;const l=this.manager.getManagerForFile(e);if(!l)return;const g=(i=l.findRepo(ft=>{var Lt;return ft.remote.remoteName===((Lt=t==null?void 0:t.remote)==null?void 0:Lt.name)}))==null?void 0:i.remote.gitProtocol,x=g!=null&&g.url.toString().endsWith(".git")?g==null?void 0:g.url.toString().slice(0,-4):g==null?void 0:g.url.toString(),V=g?{owner:g==null?void 0:g.owner,repo:g==null?void 0:g.repositoryName,repoRootUri:l.repository.rootUri}:void 0,Y=C0({originUri:e,repoUriParams:V});if(s.window.visibleTextEditors.filter(ft=>ft.document.uri.scheme===ii.NewIssue).length>0)return;await s.workspace.fs.delete(Y);const ae=`${uo} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(ft=>"@"+ft).join(", ")+" ":""}`,le=`${co} `,_e=`${Xo} `,Ee=`${fo} `,Be=this._newIssueCache.get(),ue=Be&&Be!==""?Be:`${(n=t==null?void 0:t.title)!=null?n:s.l10n.t("Issue Title")}

${g?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",g.nameWithOwner,x)} -->
`:""}
${ae}
${le}
${_e}
${Ee}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile(Y,this.stringToUint8Array(ue));const Re=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ce=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ie=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),He=s.window.onDidChangeActiveTextEditor(ft=>{if((ft==null?void 0:ft.document.uri.scheme)===ii.NewIssue){const Lt=g?4:2,At=Lt+0,Ui=Lt+1,Wi=Lt+3,ar=ft.document.lineAt(At);ar.text.startsWith(uo)&&ft.setDecorations(Re,[new s.Range(new s.Position(At,0),new s.Position(At,ar.text.length))]);const lr=ft.document.lineAt(Ui);lr.text.startsWith(co)&&ft.setDecorations(Ce,[new s.Range(new s.Position(Ui,0),new s.Position(Ui,lr.text.length))]);const Fa=ft.document.lineAt(Wi);Fa.text.startsWith(fo)&&ft.setDecorations(Ie,[new s.Range(new s.Position(Wi,0),new s.Position(Wi,Fa.text.length))])}}),Ke=await s.window.showTextDocument(Y),ot=s.workspace.onDidCloseTextDocument(ft=>{ft===Ke.document&&(He.dispose(),ot.dispose())})}async verifyLabels(e,t){var i;if(!t.labels)return!0;const n=(await e.getLabels(void 0,t)).map(g=>g.name),a=[],l=[];if((i=t.labels)==null||i.forEach(g=>{let x=typeof g=="string"?g:g.name;x&&(n.includes(x)?l.push(x):a.push(x))}),a.length>0){const g=s.l10n.t("Yes"),x=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},g,x)){case g:return!0;case x:return t.labels=l,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const n of this.manager.folderManagers)try{const a=await n.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:n})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const i=await s.window.showQuickPick(t,{placeHolder:e});return i==null?void 0:i.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0};const n=(await Promise.all(t.map(async l=>{try{const g=await s.workspace.fs.readFile(l),x=new TextDecoder("utf-8").decode(g);return this.getDataFromTemplate(x)}catch(g){y.warn(`Reading issue template failed: ${g}`);return}}))).filter(l=>!!l&&!!(l!=null&&l.name)).map(l=>({label:l.name,description:l.about,template:l}));n.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0}});const a=await s.window.showQuickPick(n,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,i,n,a,l,g,x;const V=(i=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:i.replace(/^["']|["']$/g,""),Y=(a=(n=e.match(/name:\s*(.*)/))==null?void 0:n[1])==null?void 0:a.replace(/^["']|["']$/g,""),ae=(g=(l=e.match(/about:\s*(.*)/))==null?void 0:l[1])==null?void 0:g.replace(/^["']|["']$/g,""),le=(x=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:x[2];return{title:V,name:Y,about:ae,body:le}}async doCreateIssue(e,t,i,n,a,l,g,x,V,Y,ae){let le,_e;if(ae&&ae.scheme===ii.Repo){const Ee=nh(ae);if(Ee&&(le={owner:Ee.owner,repo:Ee.repo,base:""},_e=this.manager.getManagerForFile(Ee.repoRootUri)),!_e)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),y.error(`Could not find the folder manager for the issue originUri: ${ae.toString()}`,dv.ID),!1}return _e||(e?_e=this.manager.getManagerForFile(e.uri):ae&&(_e=this.manager.getManagerForFile(ae))),_e||(_e=await this.chooseRepo(s.l10n.t("Choose where to create the issue."))),s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async Ee=>{if(!_e)return!1;Ee.report({message:s.l10n.t("Verifying that issue data is valid...")});try{le||(le=await _e.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const Be=n||t!=null&&t.document.isUntitled?n:(await rd(this.manager,this.gitAPI,!0,!0,t)).permalink,ue={owner:le.owner,repo:le.repo,title:i,body:Be,assignees:a,labels:l,milestone:g};if(!await this.verifyLabels(_e,ue))return!1;Ee.report({message:s.l10n.t("Creating issue in {0}...",`${ue.owner}/${ue.repo}`)});const Re=await _e.createIssue(ue);if(Re){if(x&&await Re.updateProjects(x),e!==void 0&&Y!==void 0&&V!==void 0){const Ce=new s.WorkspaceEdit,Ie=s.workspace.getConfiguration(ai).get(Gi,"number")==="number"?`#${Re.number}`:Re.html_url;Ce.insert(e.uri,new s.Position(V,Y),` ${Ie}`),await s.workspace.applyEdit(Ce)}else{const Ce=s.l10n.t("Copy Issue Link"),Ie=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the browser to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),Ce,Ie).then(async He=>{switch(He){case Ce:await s.env.clipboard.writeText(Re.html_url);break;case Ie:await s.env.openExternal(s.Uri.parse(Re.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,i,n){const a=await f1(e,this.gitAPI,t,i,void 0,n),l=a.find(g=>g.error);return l&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",l.error)),a}async getHeadLinkWithError(e,t){const i=await m1(this.manager,e,t);if(i.length>0){const n=i.find(a=>a.error);n&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",n.error))}return i}async getContextualizedLink(e,t){let i;try{i=await s.env.asExternalUri(e)}catch{return t}const n=i.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(i.authority)?i.authority:void 0;if(!n)return t;const a=s.Uri.parse(t),l=/^(github)\./.test(i.authority)?a.path:`/github${a.path}`;return a.with({authority:n,path:l}).toString()}async permalinkInfoToClipboardText(e,t=!1){const i=e.filter(n=>!!n.permalink);if(i.length!==0){const a=(await Promise.all(i.map(async l=>t&&l.originalFile?await this.getContextualizedLink(l.originalFile,l.permalink):l.permalink))).join(`
`);return y.debug(`Will write ${a} to the clipboard`,ps),a}}async copyPermalink(e,t,i=!0,n=!0,a=!1){const l=await this.getPermalinkWithError(e,i,n,t),g=await this.permalinkInfoToClipboardText(l,a);if(g)return s.env.clipboard.writeText(g)}async copyHeadLink(e,t=!0){const i=await this.getHeadLinkWithError(e,t),n=await this.permalinkInfoToClipboardText(i);if(n)return s.env.clipboard.writeText(n)}getMarkdownLinkText(){if(!s.window.activeTextEditor)return;let e=s.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new s.Range(e.start,new s.Position(e.start.line+1,0)));const t=s.window.activeTextEditor.document.getText(e);if(t)return t;if(e=s.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return s.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,t,i=!0){const a=(await this.getPermalinkWithError(e,i,!0,t)).filter(g=>!!g.permalink);if(a.length===1){const g=this.getMarkdownLinkText();if(g)return s.env.clipboard.writeText(`[${g.trim()}](${a[0].permalink})`)}const l=a.map(g=>{var x,V;return`[${(0,U.basename)((V=(x=g.originalFile)==null?void 0:x.fsPath)!=null?V:"")}](${g.permalink})`}).join(`
`);return y.debug(`writing ${l} to the clipboard`,ps),s.env.clipboard.writeText(l)}async openPermalink(e){const i=(await this.getPermalinkWithError(e,!0,!0)).filter(n=>!!n.permalink);if(i.length>0)return s.env.openExternal(s.Uri.parse(i[0].permalink))}};tl(kp,"ID","IssueFeatureRegistrar");let J1=kp;var vu=ni(60937);class X1 extends vu.PromptElement{render(){return vscpp(vscppf,null,vscpp(vu.AssistantMessage,null,"Instructions:",vscpp("br",null),"- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them.",vscpp("br",null),"- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:",vscpp("br",null),"- The fact that there are no comments.",vscpp("br",null),"- Any info that seems like template info."),vscpp(vu.UserMessage,null,this.props.userMessage))}}const Sp="TOOL_MARKDOWN_RESULT",Rp="TOOL_COMMAND_RESULT";class Ep{constructor(e){this.chatParticipantState=e}}async function vs(r){let e="";for await(const t of r)e+=t;return e}class il extends Ep{constructor(e,t,i){super(i),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new dn;let t,i,n;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,i=e.name,n=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!n&&this.repositoriesManager.folderManagers.length>0)if(n=this.repositoriesManager.folderManagers[0],t&&i)await n.createGitHubRepositoryFromOwnerName(t,i);else{const a=await n.getPullRequestDefaults();a?(t=a.owner,i=a.repo):(t=n.gitHubRepositories[0].remote.owner,i=n.gitHubRepositories[0].remote.repositoryName)}if(!n||!t||!i)throw new Error(`No repository found for ${t}/${i}. Make sure to have the repository open.`);return{owner:t,name:i,folderManager:n}}getGitHub(){let e;return this.credentialStore.isAuthenticated(Si.githubEnterprise)&&ea()?e=Si.githubEnterprise:this.credentialStore.isAuthenticated(Si.github)&&(e=Si.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var Z1=Object.defineProperty,ek=(r,e,t)=>e in r?Z1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tk=(r,e,t)=>ek(r,typeof e!="symbol"?e+"":e,t);class ik{constructor(){tk(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const i of t.content)if(i instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const i of t.content)if(i instanceof s.LanguageModelTextPart)return i}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class rk extends v{constructor(e,t){super(),this.state=t;const i=this._register(s.chat.createChatParticipant("githubpr",(n,a,l,g)=>this.handleParticipantRequest(n,a,l,g)));i.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,i,n){this.state.reset();const l=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],g=s.lm.tools.map(_e=>{var Ee;return{name:_e.name,description:_e.description,inputSchema:(Ee=_e.inputSchema)!=null?Ee:{}}}),{messages:x}=await(0,vu.renderPrompt)(X1,{userMessage:e.prompt},{modelMaxPromptTokens:l.maxInputTokens},l);this.state.addMessages(x);const V=[...e.toolReferences],Y={justification:"Answering user questions pertaining to GitHub."},ae=[],le=async()=>{const _e=V.shift();_e?(Y.toolMode=s.LanguageModelChatToolMode.Required,Y.tools=g.filter(ue=>ue.name===_e.name)):(Y.toolMode=void 0,Y.tools=g);const Ee=[],Be=await l.sendRequest(this.state.messages,Y,n);for await(const ue of Be.stream)if(ue instanceof s.LanguageModelTextPart)i.markdown(ue.value);else if(ue instanceof s.LanguageModelToolCallPart){const Re=s.lm.tools.find(He=>He.name===ue.name);if(!Re)throw new Error("Got invalid tool choice: "+ue.name);let Ce;try{Ce=ue.input}catch(He){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(ue.input)}". (${He.message})`)}const Ie={input:Ce,toolInvocationToken:e.toolInvocationToken};Ee.push({call:ue,result:s.lm.invokeTool(Re.name,Ie,n),tool:Re})}if(Ee.length){const ue=s.LanguageModelChatMessage.Assistant("");ue.content=Ee.map(Ce=>new s.LanguageModelToolCallPart(Ce.call.callId,Ce.tool.name,Ce.call.input)),this.state.addMessage(ue);let Re=!1;for(const Ce of Ee){let Ie=await Ce.result;const He=[];let Ke;for(let ft=0;ft<Ie.content.length;ft++){const Lt=Ie.content[ft];if(!(Lt instanceof s.LanguageModelTextPart)){Ke=new s.LanguageModelToolResultPart(Ce.call.callId,Ie.content);continue}if(Lt.value===Sp){const At=new s.MarkdownString(Ie.content[++ft].value);At.supportHtml=!0,i.markdown(At),Re=!0}else Lt.value===Rp?ae.push(JSON.parse(Ie.content[++ft].value)):Ke?He.push(Lt):Ke=new s.LanguageModelToolResultPart(Ce.call.callId,[Lt])}const ot=s.LanguageModelChatMessage.User("");if(ot.content=[Ke],this.state.addMessage(ot),He.length){const ft=s.LanguageModelChatMessage.User("");ft.content=He,this.state.addMessage(ft)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${Ee.map(Ce=>Ce.tool.name).join(", ")}. ${Re?"The user can see the result of the tool call.":""}`)),le()}};await le(),this.addButtons(i,ae)}addButtons(e,t){for(const i of t)e.button(i)}}var nk=Object.defineProperty,ak=(r,e,t)=>e in r?nk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tp=(r,e,t)=>ak(r,typeof e!="symbol"?e+"":e,t);const sk=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,hd=class Td extends Ep{constructor(e){super(e)}assistantPrompt(e){const t=Object.keys(e[0]);return`${sk}
${t.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const i=e.split(`
`),n=Object.keys(t[0]),a=[];for(let l of i)if(l=l.trim(),l!=="")if(n.includes(l))a.push(l);else{const g=l.split(" ");if(g.length>1){const x=g[g.length-1];n.includes(x)&&a.push(x)}}return a}async getImportantColumns(e,t,i){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],l={justification:"Answering user questions pertaining to GitHub."},g=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];g.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const x=await a.sendRequest(g,l,i),V=this.postProcess(await vs(x.text),t),Y=V.indexOf("url");return V.length===0?["number","title","state"]:(Y>=0&&V.splice(Y,1),V)}renderUser(e){return`[@${Ct(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(i=>{var n,a;switch(i){case"number":return`[${e[i]}](${e.url})`;case"labels":return(n=e[i])==null?void 0:n.map(x=>x!=null&&x.name&&x.color?Wf({name:x.name,color:x.color}):"").join(", ");case"assignees":return(a=e[i])==null?void 0:a.map(x=>this.renderUser(x)).join(", ");case"author":const l=e[i];return l?this.renderUser(l):"";case"createdAt":case"updatedAt":const g=e[i];return g?new Date(g).toLocaleDateString():"";case"milestone":return e[i];default:return e[i]}}).join(" | ")} |`}foundIssuesCount(e){var t,i;return e.totalIssues!==void 0?e.totalIssues:(i=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?i:0}async prepareInvocation(e){const i=this.foundIssuesCount(e.input),n=Math.min(10,i);return n===0?{invocationMessage:s.l10n.t("No issues found")}:n<i?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,n)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(e,t){const i=this.chatParticipantState.firstUserMessage,n=e.input.arrayOfIssues;if(!n||n.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);y.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${n[0].number}`,Td.ID);const a=await this.getImportantColumns(i,n,t),l=`| ${a.join(" | ")} |`;y.debug(`Columns ${l} issues`,Td.ID);const g=`| ${a.map(()=>"---").join(" | ")} |
`,x=new s.MarkdownString(l);return x.supportHtml=!0,x.appendMarkdown(`
`),x.appendMarkdown(g),x.appendMarkdown(n.slice(0,10).map(V=>this.issueToRow(V,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(Sp),new s.LanguageModelTextPart(x.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Tp(hd,"toolId","github-pull-request_renderIssues"),Tp(hd,"ID","DisplayIssuesTool");let Cp=hd;var ok=Object.defineProperty,lk=(r,e,t)=>e in r?ok(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uk=(r,e,t)=>lk(r,typeof e!="symbol"?e+"":e,t);class md extends il{async invoke(e,t){var i,n,a,l;const g=e.input.issueNumber;if(!g)throw new Error("No issue/PR number provided.");const{owner:x,name:V,folderManager:Y}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(n=e.input.repo)==null?void 0:n.name}),ae=await Y.resolveIssueOrPullRequest(x,V,g);if(!ae)throw new Error(`No issue or PR found for ${x}/${V}/${g}. Make sure the issue or PR exists.`);const le={owner:x,repo:V,title:ae.title,body:ae.body,comments:(l=(a=ae.item.comments)==null?void 0:a.map(_e=>({body:_e.body,author:_e.author.login})))!=null?l:[]};if(ae instanceof Yr&&ae.isResolved()){const _e=await ae.getFileChangesInfo(),Ee=[];for(const Be of _e)Be instanceof Ae&&Ee.push({fileName:Be.fileName,patch:Be.patch});le.fileChanges=Ee}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(le)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,i;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:n,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(i=e.input.repo)==null?void 0:i.name}),l=n&&a?`https://github.com/${n}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:l?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,l)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}uk(md,"toolId","github-pull-request_issue_fetch");var ck=Object.defineProperty,dk=(r,e,t)=>e in r?ck(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fk=(r,e,t)=>dk(r,typeof e!="symbol"?e+"":e,t);class pd extends il{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var i,n;const a=this.getGitHub();if(!a)return;const l=e.input.thread_id;if(l===void 0)return;const x=(await a.octokit.api.activity.getThread({thread_id:l})).data,V=x.subject.url.split("/").pop();if(V===void 0)return;const Y=x.updated_at,ae=(i=x.last_read_at)!=null?i:void 0,le=x.unread,_e=x.repository.owner.login,Ee=x.repository.name,{folderManager:Be}=await this.getRepoInfo({owner:_e,name:Ee}),ue=await Be.resolveIssueOrPullRequest(_e,Ee,Number(V));if(!ue)throw new Error(`No notification found with thread ID #${l}.`);const Re=ue instanceof Yr?"pr":"issue",Ce=Gf(_e,Ee,String(ue.number)),Ie=(n=ue.item.comments)!=null?n:[];let He;ae!==void 0&&Ie?He=Ie.filter(ot=>ot.createdAt>ae).map(ot=>({body:ot.body,author:ot.author.login})):He=Ie.map(ot=>({body:ot.body,author:ot.author.login}));const Ke={lastReadAt:ae,lastUpdatedAt:Y,unread:le,comments:He,threadId:l,notificationKey:Ce,title:ue.title,body:ue.body,owner:_e,repo:Ee,itemNumber:V,itemType:Re};if(ue instanceof Yr){const ot=await ue.getFileChangesInfo(),ft=[];for(const Lt of ot)Lt instanceof Ae&&ft.push({fileName:Lt.fileName,patch:Lt.patch});Ke.fileChanges=ft}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ke)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}fk(pd,"toolId","github-pull-request_notification_fetch");var hk=Object.defineProperty,mk=(r,e,t)=>e in r?hk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gu=(r,e,t)=>mk(r,typeof e!="symbol"?e+"":e,t),pk=(r=>(r.is="is",r.type="type",r.state="state",r.in="in",r.linked="linked",r.status="status",r.draft="draft",r.review="review",r.no="no",r))(pk||{});const Np={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},vd=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,gd=class fv extends il{async fullQueryAssistantPrompt(e){var t,i,n,a;const l=(a=(n=(t=e.activePullRequest)==null?void 0:t.remote)!=null?n:(i=e.activeIssue)==null?void 0:i.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${l.owner}/${l.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(Np)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,i=>i.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const i=l=>l==="AND"||l==="OR",n=e.split(vd).map(l=>l.trim());let a=[];for(let l of n){if(i(l)){if(a.length===0)continue;a.length>0&&i(a[a.length-1])?a[a.length-1]=l:a.push(l);continue}const g=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,x=l.match(g);let V=l;x&&(V=x[1]),t.find(Y=>Y.name===V)&&a.push(V)}return a.length>0&&i(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,i){return i=i.trim(),i.includes("issue")||i.match(vd)||i.toLowerCase()==="none"||e.includes(i)||t.includes(i)||t.some(n=>i.includes(n)||n.includes(i))||Object.keys(Np).find(n=>i.includes(n)||n.includes(i))?"":i}validateQuery(e,t,i){let n="";const a=e.split(vd);for(const g of a){if(g.startsWith("label:"))continue;const x=g.split(":");if(x.length===2){const Y=x[0].startsWith("-")?x[0].substring(1):x[0],ae=x[1];if(!Y.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart(Y,ae)||Y==="no"&&ae==="label"&&t.length>0)continue}n=`${n} ${g}`}const l=this.validateFreeForm(n,t,i);return n=`${n} ${t.map(g=>`label:${g}`).join(" ")} ${l}`,n.trim()}postProcess(e,t,i){const n=this.findQuery(e);if(!n)return;const a=this.validateQuery(n,i,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,i=/org:([^ ]+)/,n=e.match(t),a=e.match(i);let l=e.trim(),g,x;if(n){const V=n[1];if(V.includes("/")){const Y=V.split("/");g=Y[0],x=Y[1]}a&&V.includes("/")?l=e.replace(i,""):a&&(l=e.replace(t,`repo:${a[1]}/${V}`),g=a[1],x=V)}return{query:l,repo:g&&x?{owner:g,name:x}:void 0}}findQuery(e){if(e.includes("```")){const i=e.indexOf("```"),n=e.indexOf("```",i+3);return e.substring(i+3,n)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const i of t)if(i.includes(":"))return i}async generateLabelQuery(e,t,i,n,a,l){const g=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];g.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const x=await n.sendRequest(g,i,l);return vs(x.text)}async generateFreeFormQuery(e,t,i,n,a,l){const g=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];g.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,n)));const x=await i.sendRequest(g,t,l);return vs(x.text)}async generateQuery(e,t,i,n,a){const l=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];l.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(n)));const g=await i.sendRequest(l,t,a);return vs(g.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var i,n,a;const{owner:l,name:g,folderManager:x}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(n=e.input.repo)==null?void 0:n.name}),V=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,Y=await x.getLabels(void 0,{owner:l,repo:g}),le=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],_e={justification:"Answering user questions pertaining to GitHub."},[Ee,Be]=await Promise.all([this.generateQuery(x,_e,le,V,t),this.generateLabelQuery(x,Y,_e,le,V,t)]),ue=this.validateLabelsList(Be,Y),Re=await this.generateFreeFormQuery(x,_e,le,V,ue,t),Ce=this.postProcess(Ee,Re,ue);if(!Ce)throw new Error("Unable to form a query.");y.debug(`Query \`${Ce.query}\``,fv.ID);const Ie={query:Ce.query,repo:{owner:l,name:g}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ie)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};gu(gd,"toolId","github-pull-request_formSearchQuery"),gu(gd,"ID","ConvertToSearchSyntaxTool");let Mp=gd;const bd=class Cd extends il{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,i=new s.MarkdownString;return i.appendText(s.l10n.t('Searching for issues with "{0}".',t)),i.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",v1(this.toGitHubUrl(t)))),{invocationMessage:i}}async invoke(e,t){var i,n,a,l;const{folderManager:g}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(n=e.input.repo)==null?void 0:n.name}),x=e.input.query;y.debug(`Searching with query \`${x}\``,Cd.ID);const V=await g.getIssues(x);if(!V)throw new Error(`No issues found for ${x}. Make sure the query is valid.`);const ae={arrayOfIssues:V.items.slice(0,30).map(le=>{var _e,Ee;const Be=le.item;return{title:Be.title,url:Be.url,number:Be.number,labels:Be.labels.map(ue=>({name:ue.name,color:ue.color})),state:Be.state,assignees:(_e=Be.assignees)==null?void 0:_e.map(ue=>({login:ue.login,url:ue.url})),createdAt:Be.createdAt,updatedAt:Be.updatedAt,author:{login:Be.user.login,url:Be.user.url},milestone:(Ee=Be.milestone)==null?void 0:Ee.title,commentCount:Be.commentCount,reactionCount:Be.reactionCount}}),totalIssues:(a=V.totalCount)!=null?a:V.items.length};return y.debug(`Found ${ae.totalIssues} issues, first issue ${(l=ae.arrayOfIssues[0])==null?void 0:l.number}.`,Cd.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(ae)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${x} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};gu(bd,"toolId","github-pull-request_doSearch"),gu(bd,"ID","SearchTool");let Pp=bd;var vk=Object.defineProperty,gk=(r,e,t)=>e in r?vk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bk=(r,e,t)=>gk(r,typeof e!="symbol"?e+"":e,t);class yd extends il{constructor(e,t,i){super(e,t,i)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var i,n;const a=e.input.repo,l=a==null?void 0:a.owner,g=a==null?void 0:a.name,x=e.input.issueNumber;if(!a||!l||!g||!x)return;const{folderManager:V}=await this.getRepoInfo(a);if(!V)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const Y=await V.resolveIssue(l,g,x,!0);if(!Y)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const ae={title:Y.title,body:Y.body,comments:(n=(i=Y.item.comments)==null?void 0:i.map(Ie=>({body:Ie.body})))!=null?n:[]},le=[];le.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),le.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),le.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),le.push(s.LanguageModelChatMessage.User(`Issue Title: ${ae.title}`)),le.push(s.LanguageModelChatMessage.User(`Issue Body: ${ae.body}`)),ae.comments.forEach((Ie,He)=>{le.push(s.LanguageModelChatMessage.User(`Comment ${He}: ${Ie.body}`))});const Ee=(await s.lm.invokeTool("copilot_searchCodebase",{toolInvocationToken:void 0,input:{query:ae.title}},t)).content[0];if(Ee instanceof s.LanguageModelTextPart){le.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const Ie=s.LanguageModelChatMessage.User("");Ie.content=[Ee],le.push(Ie)}const Re=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(le,{},t);let Ce="";for await(const Ie of Re.text)Ce+=Ie;return new s.LanguageModelToolResult([new s.LanguageModelTextPart(Ce)])}}bk(yd,"toolId","github-pull-request_suggest-fix");var yk=Object.defineProperty,wk=(r,e,t)=>e in r?yk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_k=(r,e,t)=>wk(r,typeof e!="symbol"?e+"":e,t);class wd{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const i=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',i)}}async invoke(e,t){let i=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const n=e.input.fileChanges;if(n){i+=`
The following are the files changed:
`;for(const Y of n.values())i+=`
File : ${Y.fileName}
Patch: ${Y.patch}
`}const a=e.input.comments;if(a)for(const[Y,ae]of a.entries())i+=`
Comment ${Y} :
Author: ${ae.author}
Body: ${ae.body}
`;const g=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],x=e.input.repo,V=e.input.owner;if(g&&x&&V){const Y=[s.LanguageModelChatMessage.User(this.summarizeInstructions(x,V))];Y.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),Y.push(s.LanguageModelChatMessage.User(i));const ae=await g.sendRequest(Y,{}),le=await vs(ae.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(le)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(i)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and PRs.
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}_k(wd,"toolId","github-pull-request_issue_summarize");var kk=Object.defineProperty,Sk=(r,e,t)=>e in r?kk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rk=(r,e,t)=>Sk(r,typeof e!="symbol"?e+"":e,t);class _d{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const i=t.itemType==="issue"?"issues":"pull",n=`https://github.com/${t.owner}/${t.repo}/${i}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,n))}}async invoke(e,t){let i="";e.input.lastReadAt||(i+="This thread is viewed for the first time. Here is the main item information of the thread:"),i+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){i+=`
The following are the files changed:
`;for(const Ee of a.values())i+=`
File : ${Ee.fileName}
Patch: ${Ee.patch}
`}const l=e.input.comments;if(l&&l.length>0){i+=`
The following are the unread comments of the thread:
`;for(const[Ee,Be]of l.entries())i+=`
Comment ${Ee} :
Author: ${Be.author}
Body: ${Be.body}
`}const x=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],V=[],Y=e.input.threadId,ae=e.input.notificationKey;if(Y&&ae){const Ee={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:Y,notificationKey:ae}]};V.push(new s.LanguageModelTextPart(Rp)),V.push(new s.LanguageModelTextPart(JSON.stringify(Ee)))}const le=e.input.owner,_e=e.input.repo;if(x&&le&&_e){const Ee=[s.LanguageModelChatMessage.User(this.summarizeInstructions(le,_e))];Ee.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),Ee.push(s.LanguageModelChatMessage.User(i));const Be=await x.sendRequest(Ee,{}),ue=await vs(Be.text);V.push(new s.LanguageModelTextPart(ue))}else V.push(new s.LanguageModelTextPart(i));return V.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(V)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}Rk(_d,"toolId","github-pull-request_notification_summarize");function Ek(r,e,t,i){Tk(r,e,t,i),Ck(r),Nk(r,e,t,i),Mk(r,e,t,i)}function Tk(r,e,t,i){r.subscriptions.push(s.lm.registerTool(md.toolId,new md(e,t,i))),r.subscriptions.push(s.lm.registerTool(pd.toolId,new pd(e,t,i)))}function Ck(r){r.subscriptions.push(s.lm.registerTool(wd.toolId,new wd)),r.subscriptions.push(s.lm.registerTool(_d.toolId,new _d))}function Nk(r,e,t,i){r.subscriptions.push(s.lm.registerTool(yd.toolId,new yd(e,t,i)))}function Mk(r,e,t,i){r.subscriptions.push(s.lm.registerTool(Mp.toolId,new Mp(e,t,i))),r.subscriptions.push(s.lm.registerTool(Pp.toolId,new Pp(e,t,i))),r.subscriptions.push(s.lm.registerTool(Cp.toolId,new Cp(i)))}const Ap="prompts",xp="createPROnPublish";async function Pk(r){await Ak(),await xk(r)}async function Ak(){Bh(Ap,xp)===!1&&(await s.workspace.getConfiguration(lt).update(Jt,"never",s.ConfigurationTarget.Global),qh(Ap,xp,!0))}const bu="hasMigratedQueries";async function xk(r){const e=r.globalState.get(bu,!1),t=r.workspaceState.get(bu,!1);if(e&&t)return;const i=s.workspace.getConfiguration(lt),n=i.inspect(ut),a=l=>l.map(g=>({label:g.label,query:g.query.includes("repo:")?g.query:`repo:\${owner}/\${repository} ${g.query}`}));!e&&(n!=null&&n.globalValue)&&(await i.update(ut,a(n.globalValue),s.ConfigurationTarget.Global),r.globalState.update(bu,!0)),!t&&(n!=null&&n.workspaceValue)&&(await i.update(ut,a(n.workspaceValue),s.ConfigurationTarget.Workspace),r.workspaceState.update(bu,!0))}var Ik=Object.defineProperty,Dk=(r,e,t)=>e in r?Ik(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ba=(r,e,t)=>Dk(r,typeof e!="symbol"?e+"":e,t),yu=(r=>(r.Timestamp="Timestamp",r.Priority="Priority",r))(yu||{});class Fk extends v{constructor(e){super(),this._notificationProvider=e,ba(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),ba(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ba(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),ba(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),ba(this,"_pageCount",1),ba(this,"_hasNextPage",!1),ba(this,"_dateTime",new Date),ba(this,"_fetchNotifications",!1),ba(this,"_notifications",new Map),ba(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications)}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return Ol(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,i=new s.TreeItem(t,s.TreeItemCollapsibleState.None),n=e.notification,a=e.model;return n.subject.type===hi.Issue&&a instanceof Qr&&(i.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed"))),n.subject.type===hi.PullRequest&&a instanceof Yr&&(i.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged"))),i.description=`${n.owner}/${n.name}`,i.contextValue=n.subject.type,i.resourceUri=vc({key:e.notification.key}),i.command={command:"notification.chatSummarizeNotification",title:"Summarize Notification",arguments:[e]},i}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async getNotifications(){if(this._fetchNotifications){const t=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!t)return;const i=new Map;await Promise.all(t.notifications.map(async n=>{const a=await this._notificationProvider.getNotificationModel(n);a&&i.set(n.key,{notification:n,model:a,kind:"notification"})}));for(const[n,a]of i.entries())this._notifications.set(n,a);this._hasNextPage=t.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const t=Array.from(this._notifications.values()).filter(n=>n.priority===void 0),i=await this._notificationProvider.getNotificationsPriority(t);for(const{key:n,priority:a,priorityReasoning:l}of i){const g=this._notifications.get(n);g&&(g.priority=a,g.priorityReason=l,this._notifications.set(n,g))}}const e=Array.from(this._notifications.values());return this._onDidChangeNotifications.fire(e),{notifications:this._sortNotifications(e),hasNextPage:this._hasNextPage}}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._refresh(!1))}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,i)=>i.notification.updatedAd.getTime()-t.notification.updatedAd.getTime()):this._sortingMethod==="Priority"?e.sort((t,i)=>Number(i.priority)-Number(t.priority)):e}}var Ok=Object.defineProperty,Lk=(r,e,t)=>e in r?Ok(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ip=(r,e,t)=>Lk(r,typeof e!="symbol"?e+"":e,t);class Uk extends v{constructor(e){super(),this._notificationsManager=e,Ip(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),Ip(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const i=t.map(n=>vc({key:n.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(i)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${lt}.${ln}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(i=>vc({key:i.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(lt).get(ln,!1)}provideFileDecoration(e,t){var i,n;if(!this.settingValue()||this._notificationsManager.sortingMethod!==yu.Priority)return;const a=T0(e);if(!a)return;const l=this._notificationsManager.getNotification(a.key),g=(l==null?void 0:l.priority)==="100"?"99":(i=l==null?void 0:l.priority)!=null?i:"0";return{badge:g,tooltip:s.l10n.t("Priority score is {0}. {1}",g,(n=l==null?void 0:l.priorityReason)!=null?n:"")}}}var Bk=Object.defineProperty,qk=(r,e,t)=>e in r?Bk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hk=(r,e,t)=>qk(r,typeof e!="symbol"?e+"":e,t);class $k extends v{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,Hk(this,"_authProvider"),e.isAuthenticated(Si.githubEnterprise)&&ea()?this._authProvider=Si.githubEnterprise:e.isAuthenticated(Si.github)&&(this._authProvider=Si.github),this._register(e.onDidChangeSessions(i=>{e.isAuthenticated(Si.githubEnterprise)&&ea()&&(this._authProvider=Si.githubEnterprise),e.isAuthenticated(Si.github)&&(this._authProvider=Si.github)}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var i;const n=this._getGitHub();if(n===void 0||this._repositoriesManager.folderManagers.length===0)return;const a=s.workspace.getConfiguration(lt).get(Cn,50),{data:l,headers:g}=await n.octokit.call(n.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:a});return{notifications:l.map(V=>s0(V)).filter(V=>!!V),hasNextPage:((i=g.link)==null?void 0:i.includes('rel="next"'))===!0}}async getNotificationModel(e){var t;const i=e.subject.url;if(typeof i!="string")return;const n=i.split("/").pop();if(n===void 0)return;const a=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];return e.subject.type===hi.Issue?await a.resolveIssue(e.owner,e.name,parseInt(n),!0):await a.resolvePullRequest(e.owner,e.name,parseInt(n))}async getNotificationsPriority(e){const i=[];for(let l=0;l<e.length;l+=5)i.push(e.slice(l,l+5));const n=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(i.map(l=>this._prioritizeNotificationBatch(l,n[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const i=(await this._credentialStore.getCurrentUser(Si.github)).login,n=[s.LanguageModelChatMessage.User(Gk(i))];for(const[g,x]of e.entries()){const V=x.model;if(!V)continue;let Y=this._getBasePrompt(V,g);Y+=await this._getLabelsPrompt(V),Y+=await this._getCommentsPrompt(V),n.push(s.LanguageModelChatMessage.User(Y))}n.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(n,{}),l=await vs(a.text);return this._updateNotificationsWithPriorityFromLLM(e,l)}catch(i){return console.log(i),[]}}_getBasePrompt(e,t){var i;const n=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(n==null?void 0:n.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(i=e.item.reactionCount)!=null?i:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let i="";return t.length>0&&(i=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),i}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let i=`

The following is the data concerning the at most last 5 comments for the notification:`,n=1;const a=Math.max(0,t.length-5);for(let l=a;l<t.length;l++){const g=t.at(l);i+=`

Comment ${n} for notification:
\u2022 Body:
${g.body}
\u2022 Reaction Count: ${g.reactionCount}`,n+=1}return i}_updateNotificationsWithPriorityFromLLM(e,t){const i=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,n=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let l=0;l<e.length;l++){const g=i.exec(t);if(g){const x=n.exec(t);a.push({key:e[l].notification.key,priority:g[1],priorityReasoning:x?x[1].trim():void 0})}}return a}}function Gk(r){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${r}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${r}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}class Vk extends v{constructor(e,t,i){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=i;const n=new $k(e,this._repositoriesManager);this._register(n);const a=new Fk(n);this._register(a);const l=new Uk(a);this._register(s.window.registerFileDecorationProvider(l)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:a})),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(yu.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(yu.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),a.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),a.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",g=>{Ol(g)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(Dm(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",g.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",g=>{let x,V;if(Ol(g))x=g.notification.id,V=g.notification.key;else if("threadId"in g&&"notificationKey"in g&&typeof g.threadId=="number"&&typeof g.notificationKey=="string")x=g.threadId,V=g.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(g)}`);this._telemetry.sendTelemetryEvent("notification.markAsRead"),a.markAsRead({threadId:x,notificationKey:V})})),this._register(j(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{a.refresh()}))}}var jk=Object.defineProperty,zk=(r,e,t)=>e in r?jk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ho=(r,e,t)=>zk(r,typeof e!="symbol"?e+"":e,t);class Dp extends v{constructor(){super(),ho(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),ho(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,i){const n=i.path,a=s.Uri.joinPath(e.repository.rootUri,n),l=t.fileChanges.get(n);if(l){const g=mc(a,t.number,n,l.status,l.previousFileName);this._onDidChangeFileDecorations.fire(g),this._onDidChangeFileDecorations.fire(g.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(g.with({scheme:ii.Pr,authority:""}))}}}class Wk extends v{constructor(e){super(),this._repositoriesManager=e,ho(this,"_gitHubReposListeners",[]),ho(this,"_pullRequestListeners",[]),ho(this,"_pullRequestPropertyChangeListeners",[]),ho(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(i=>i.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const n=Array.from(t.pullRequestModels.values()).map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...n)})}_registerRepositoriesChangedListeners(){k(this._gitHubReposListeners),k(this._pullRequestListeners),k(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),k(this._gitHubReposListeners),k(this._pullRequestListeners),k(this._pullRequestPropertyChangeListeners),k(this._providers)}}class Kk extends Dp{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(i=>{[...i.added,...i.removed].forEach(n=>{this._handlePullRequestPropertyChange(e,t,n)})})}provideFileDecoration(e,t){if(e.scheme!==ii.Pr&&e.scheme!==ii.File&&e.scheme!==ii.Review&&e.scheme!==ii.FileChange)return;const i=ih(e),n=this._repositoriesManager.getManagerForFile(e);if(i&&n&&n.gitHubRepositories.find(l=>{const g=l.pullRequestModels.get(i.prNumber);if(g!=null&&g.reviewThreadsCache.find(x=>x.path===i.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}var Qk=Object.defineProperty,Yk=(r,e,t)=>e in r?Qk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Da=(r,e,t)=>Yk(r,typeof e!="symbol"?e+"":e,t);function Fp(r){switch(r){case pt.DELETED:return we.DELETE;case pt.ADDED_BY_US:case pt.INDEX_ADDED:return we.ADD;case pt.INDEX_RENAMED:return we.RENAME;case pt.MODIFIED:return we.MODIFY;default:return we.UNKNOWN}}class Jk extends Jr{constructor(e,t,i,n){super(e),this.model=t,this.commit=i,this.parentRef=n}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?J(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:i}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),n=i.files;return n?n.map(a=>new Bl(this,a.filename,a.previous_filename,Oi(a.status),this.parentRef,this.commit.sha,!1)):[]}}class Xk extends Jr{constructor(e,t,i,n){super(e),this.commit=t,this.folderRepoManager=i,this.parentRef=n}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?J(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const i=U.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),n=U.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Bl(this,i,n,Fp(t.status),this.parentRef,this.commit.hash,!0)})}}const Op=class hv extends v{constructor(e){super(),this.model=e,Da(this,"_view"),Da(this,"_children"),Da(this,"_onDidChangeTreeData",new s.EventEmitter),Da(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),i=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:i})}catch(e){return"name"in e&&e.name==="HttpError"&&e.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return y.error(`Comparing changes failed: ${t}`,hv.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===ii.GithubPr||t.input.modified.scheme===ii.GitPr)&&s.window.tabGroups.close(t)}))}};Da(Op,"ID","CompareChangesTreeProvider");let kd=Op;class Zk extends kd{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:i}=await this.getRawGitHubData();if(t&&i)return this.view.message=this.addReviewMessage(),t.map(n=>new Bl(this,n.filename,n.previous_filename,Oi(n.status),i,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const i=U.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),n=U.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Bl(this,i,n,Fp(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const i=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));i.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(i)}return this.getGitFileChildren(t)}}}class eS extends kd{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((i,n)=>new Jk(this,this.model,i,n===0?this.model.baseBranch:t[n-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((i,n)=>new Xk(this,i,this.folderRepoManager,n===0?this.model.baseBranch:t[n-1].hash)))}}class Lp extends v{constructor(e,t){super(),this.model=t,Da(this,"_filesView"),Da(this,"_filesDataProvider"),Da(this,"_commitsView"),Da(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new Zk(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new eS(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider(ii.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider(ii.GitPr,this.model.gitContentProvider)),this._register(b(()=>kd.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===ii.GithubPr||t.input.modified.scheme===ii.GitPr)&&s.window.tabGroups.close(t)}))}}var tS=Object.defineProperty,iS=(r,e,t)=>e in r?tS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mn=(r,e,t)=>iS(r,typeof e!="symbol"?e+"":e,t);const rS=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),Up=class Cu extends nf{constructor(e,t,i,n,a,l){super(i),this.telemetry=e,this.model=t,this._folderRepositoryManager=n,this._pullRequestDefaults=a,this._defaultCompareBranch=l,mn(this,"viewType","github:createPullRequestWebview"),mn(this,"_onDone",new s.EventEmitter),mn(this,"onDone",this._onDone.event),mn(this,"_firstLoad",!0),mn(this,"initializeWhenVisibleDisposable"),mn(this,"_alreadyInitializing"),mn(this,"milestone"),mn(this,"reviewers",[]),mn(this,"assignees",[]),mn(this,"projects",[]),mn(this,"labels",[])}resolveWebviewView(e,t,i){return super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(lt).inspect(Tt);if(!t)return[];const i=new Array;return t.workspaceValue&&i.push(...t.workspaceValue),t.globalValue&&i.push(...t.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(l=>i.includes(l.name))}async getMergeConfiguration(e,t,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(i)}async initializeParams(e=!1){var t,i;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var n;(n=this.initializeWhenVisibleDisposable)==null||n.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,i,n,a;const l=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[g,x,V]=await Promise.all([this.detectBaseMetadata(l),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(l)]),Y={owner:(e=g==null?void 0:g.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=g==null?void 0:g.repositoryName)!=null?t:this._pullRequestDefaults.repo},ae={owner:V.remote.owner,repositoryName:V.remote.repositoryName},le=(i=g==null?void 0:g.branch)!=null?i:this._pullRequestDefaults.base,[_e,Ee,Be,ue,Re]=await Promise.all([this.getTitleAndDescription(l,le),this.getMergeConfiguration(Y.owner,Y.repositoryName),V.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(le,Y.owner,Y.repositoryName),this.getPullRequestDefaultLabels(Y)]),Ce=s.workspace.getConfiguration(lt).get(Yt,"lastUsed"),Ie=this._folderRepositoryManager.context.workspaceState.get(Ec,void 0),He=Rl(Ee.mergeMethodsAvailability);let Ke=He,ot=!1,ft=!1;Ke=Ce==="lastUsed"&&(Ie!=null&&Ie.mergeMethod)?Ie==null?void 0:Ie.mergeMethod:He,Ce==="lastUsed"?(Ke=(n=Ie==null?void 0:Ie.mergeMethod)!=null?n:He,ot=!!(Ie!=null&&Ie.isDraft),ft=Ee.viewerCanAutoMerge&&!!(Ie!=null&&Ie.autoMerge)):Ce==="createDraft"?ot=!0:Ce==="createAutoMerge"&&(ft=Ee.viewerCanAutoMerge),vt.setContext(qi.CREATE_PR_PERMISSIONS,Be);const Lt=!!this.getTitleAndDescriptionProvider("Copilot")&&s.workspace.getConfiguration(lt).get(Dt)==="Copilot",At=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;At&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:At});const Ui=this._folderRepositoryManager.getAutoReviewer();return this.labels=Re,{canModifyBranches:!0,defaultBaseRemote:Y,defaultBaseBranch:le,defaultCompareRemote:ae,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:_e.title,defaultDescription:_e.description,defaultMergeMethod:Ke,baseHasMergeQueue:!!ue,remoteCount:x.length,allowAutoMerge:Ee.viewerCanAutoMerge,mergeMethodsAvailability:Ee.mergeMethodsAvailability,autoMergeDefault:ft,createError:"",labels:this.labels,isDraftDefault:ot,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:At,creating:!1,initializeWithGeneratedTitleAndDescription:Lt,preReviewState:Sl.None,preReviewer:Ui==null?void 0:Ui.title,reviewing:!1}}async doInitializeParams(){const e=await this.getCreateParams();return y.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,Cu.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const i=s.workspace.getConfiguration(lt).get(Oe);if(!i)return;const n=await js(i,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(n)try{await e.addAssignees([n])}catch{y.error(`Unable to assign pull request to user ${n}.`,Cu.ID)}}async enableAutoMerge(e,t,i){if(t&&i)return e.enableAutoMerge(i)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(i=>i.name))}async setAssignees(e,t){t.length?await e.addAssignees(t.map(i=>i.login)):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const i=[],n=[];for(const a of t)Ft(a)?n.push(a.id):i.push(a.id);await e.requestReview(i,n)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>ge(e.owner,this.model.baseOwner)===0&&ge(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>ge(e.remote.owner,this.model.baseOwner)===0&&ge(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===e.remoteName);return hf(this._folderRepositoryManager,t,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find(Y=>Y.remote.remoteName===t.remoteName),[n,a,l]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);e=await df(this._folderRepositoryManager,t.remoteName,!!(n!=null&&n.organization),l,a,this.reviewers.map(Y=>({reviewer:Y,state:"REQUESTED"})),[]),e.busy=!1;const g=Me(e.onDidAccept).then(()=>e.selectedItems.filter(Y=>Y.user)),x=Me(e.onDidHide),V=await Promise.race([g,x]);e.busy=!0,V&&(this.reviewers=V.map(Y=>Y.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){y.error(`Failed to add reviewers: ${pe(i)}`,Cu.ID),s.window.showErrorMessage(pe(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(n=>n.remote.owner===e.owner&&n.remote.repositoryName===e.repositoryName),i=await s.window.showQuickPick(cf(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,placeHolder:s.l10n.t("Add assignees")});if(i){const n=new Set,a=i.map(l=>l.user).filter(l=>l&&!n.has(l.login)?(n.add(l.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{ff(this._folderRepositoryManager,e,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(mf(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(e=i.newLabels,i.labelPicks)),{canPickMany:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const i=t.map(n=>e.find(a=>a.name===n.label));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const i=this.labels.length;this.labels=this.labels.filter(n=>n.name!==t.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,i,n){const a={isDraft:e,autoMerge:t,autoMergeMethod:n?"merge":i,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=Xu(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};mn(Up,"ID","CreatePullRequestViewProvider");let Bp=Up;function qp(r){return{owner:r.owner,repositoryName:r.repositoryName}}class an extends Bp{constructor(e,t,i,n,a){super(e,t,i,n,a,t.compareBranch),mn(this,"viewType","github:createPullRequestWebview"),mn(this,"lastGeneratedTitleAndDescription"),mn(this,"generatingCancellationToken"),mn(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async l=>{var g,x;let V,Y;if(l.baseOwner){const Ee=(g=this._folderRepositoryManager.findRepo(Be=>ge(Be.remote.owner,l.baseOwner)===0&&ge(Be.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:g.remote;V=Ee?qp(Ee):void 0,Y=this.model.baseBranch}l.baseBranch&&(Y=l.baseBranch);let ae,le;if(l.compareOwner){const Ee=(x=this._folderRepositoryManager.findRepo(Be=>ge(Be.remote.owner,l.compareOwner)===0&&ge(Be.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:x.remote;ae=Ee?qp(Ee):void 0,le=this.model.compareBranch}l.compareBranch&&(le=l.compareBranch);const _e={baseRemote:V,baseBranch:Y,compareRemote:ae,compareBranch:le};return this._postMessage({command:"pr.initialize",params:_e})}))}async setDefaultCompareBranch(e){var t,i;const n=e&&e.name!==this.model.compareBranch,a=(t=this._folderRepositoryManager.gitHubRepositories.find(g=>g.remote.owner===this.model.compareOwner))==null?void 0:t.remote.remoteName,l=e&&((i=e.upstream)==null?void 0:i.remote)!==a;(n||l)&&(this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(g=>{const x={defaultTitle:g.title,defaultDescription:g.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name};if(!l)return this._postMessage({command:"pr.initialize",params:x})}))}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var i;const n=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(eo(e.upstream.remote));if(a){const l=`${a.remote.owner}:${(i=e.name)!=null?i:""}`,g=`${this._pullRequestDefaults.owner}:${t}`,x=await n.compareCommits(g,l);return x==null?void 0:x.commits}}}async getTitleAndDescription(e,t){let i="",n="";const a=s.workspace.getConfiguration(lt).get(Dt);if(a==="none")return{title:i,description:n};const l=await this._folderRepositoryManager.getOrigin(e);let g=this._pullRequestDefaults.base===e.name;y.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,an.ID);try{const x=e.name,[V,Y,ae]=await Promise.all([this.getTotalGitHubCommits(e,t),x?Tb(Pe(this._folderRepositoryManager.getTipCommitMessage(x),5e3)):void 0,a==="template"?await this.getPullRequestTemplate():void 0]),le=V==null?void 0:V.filter(_e=>_e.parents.length<2);if(y.debug(`Total commits: ${le==null?void 0:le.length}`,an.ID),le===void 0?g=!1:le&&le.length>1&&(g=await l.getDefaultBranch()!==e.name),x&&!Y&&(y.appendLine("Timeout getting last commit message",an.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),g&&x?i=`${x.charAt(0).toUpperCase()}${x.slice(1)}`:x&&Y&&(i=Y.title),ae&&(Y!=null&&Y.body)?n=`${Y.body}

${ae}`:ae?n=ae:Y!=null&&Y.body&&this._pullRequestDefaults.base!==e.name&&(n=Y.body),!n){const _e=i.match($g),Ee=qs(_e);if(Ee!=null&&Ee.issueNumber&&!Ee.name&&!Ee.owner){n=`#${Ee.issueNumber}`;const ue=i.substr(0,i.indexOf(_e[0])).match(rS);ue&&(n=`${ue[0]} ${n}`)}}}catch(x){y.debug(`Error while getting total commits: ${x}`,an.ID)}return{title:i,description:n}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async detectBaseMetadata(e){var t;const i=this.model.compareOwner,n=this.model.repositoryName,a=s.workspace.getConfiguration(lt).get(ui);if(!e.name||a==="repositoryDefault")return;const l=this._folderRepositoryManager.findRepo(g=>ge(g.remote.owner,i)===0&&ge(g.remote.repositoryName,n)===0);if(!(a==="auto"&&((t=await(l==null?void 0:l.getMetadata()))!=null&&t.fork)))try{const g=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(g!=null&&g.name){const x=this._folderRepositoryManager.findRepo(V=>V.remote.remoteName===g.remote);if(x)return{branch:g.name,owner:x.remote.owner,repositoryName:x.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(i=>i.remote)).map(i=>({iconPath:new s.ThemeIcon("repo"),label:`${i.owner}/${i.repositoryName}`,remote:{owner:i.owner,repositoryName:i.repositoryName}}))}async branchPicks(e,t,i){let n;i?n=await e.listBranches(e.remote.owner,e.remote.repositoryName):n=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(l=>l.name);const a=n.map(l=>{const g=typeof l=="string"?l:l.name;return{iconPath:new s.ThemeIcon("git-branch"),label:g,remote:{owner:e.remote.owner,repositoryName:e.remote.repositoryName},branch:g}});return a.unshift({kind:s.QuickPickItemKind.Separator,label:`${e.remote.owner}/${e.remote.repositoryName}`}),a.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),a}async processRemoteAndBranchResult(e,t,i){const[n,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);vt.setContext(qi.CREATE_PR_PERMISSIONS,a);let l;if(i){const g=this.model.baseOwner!==t.remote.owner,x=g||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch;const V=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[Y,ae,le]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(V,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let _e=!1;if(Y.viewerCanAutoMerge){const Ee=s.workspace.getConfiguration(lt).get(Yt,"lastUsed"),Be=this._folderRepositoryManager.context.workspaceState.get(Ec,void 0);_e=Ee==="lastUsed"&&(Be==null?void 0:Be.autoMerge)||Ee==="createAutoMerge"}l={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:n,defaultMergeMethod:Rl(Y.mergeMethodsAvailability),allowAutoMerge:Y.viewerCanAutoMerge,baseHasMergeQueue:!!le,mergeMethodsAvailability:Y.mergeMethodsAvailability,autoMergeDefault:_e,defaultTitle:ae.title,defaultDescription:ae.description},g&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),x&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),l={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:n},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return l}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const i=s.window.createQuickPick();let n=this._folderRepositoryManager.findRepo(Ee=>{var Be;return((Be=e.args.currentRemote)==null?void 0:Be.owner)===Ee.remote.owner&&e.args.currentRemote.repositoryName===Ee.remote.repositoryName});const a=s.l10n.t("Change Repository..."),l=s.l10n.t("Choose a remote"),g=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),x=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");i.placeholder=n?g:l,i.show(),i.busy=!0,i.items=n?await this.branchPicks(n,a,t):await this.remotePicks(t);const V=e.args.currentBranch?i.items.find(Ee=>Ee.branch===e.args.currentBranch):void 0;i.activeItems=V?[V]:[],i.busy=!1;const Y=new Promise(Ee=>{i.onDidAccept(async()=>{if(i.selectedItems.length===0)return;const Be=i.selectedItems[0];if(Be.label===a)i.busy=!0,i.items=await this.remotePicks(t),i.busy=!1,i.placeholder=n?x:l;else if(Be.branch===void 0&&Be.remote){const ue=Be;i.busy=!0,n=this._folderRepositoryManager.findRepo(Re=>Re.remote.owner===ue.remote.owner&&Re.remote.repositoryName===ue.remote.repositoryName),i.items=await this.branchPicks(n,a,t),i.placeholder=g,i.busy=!1}else if(Be.branch&&Be.remote){const ue=Be;Ee({remote:ue.remote,branch:ue.branch})}})}),ae=new Promise(Ee=>i.onDidHide(()=>Ee())),le=await Promise.race([Y,ae]);if(!le||!n){i.hide(),i.dispose();return}i.busy=!0;const _e=await this.processRemoteAndBranchResult(n,le,t);return i.hide(),i.dispose(),this._replyMessage(e,_e)}async findIssueContext(e){var t,i;const n=[];for(const a of e){const l=qs(a.match(us));if(l){const g=(t=l.owner)!=null?t:this.model.baseOwner,x=(i=l.name)!=null?i:this.model.repositoryName;n.push(new Promise(V=>{this._folderRepositoryManager.resolveIssue(g,x,l.issueNumber).then(Y=>{V(Y?{content:`${Y.title}
${Y.body}`,reference:lc(l)}:void 0)}).catch(()=>V(void 0))}))}}if(n.length)return(await Promise.all(n)).filter(a=>!!a)}async getCommitsAndPatches(){let e,t;await this.model.getCompareHasUpstream()?[e,t]=await Promise.all([this.model.gitHubCommits().then(n=>n.map(a=>a.commit.message)),this.model.gitHubFiles().then(n=>n.map(a=>{if(!a.patch)return;const l=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,a.filename).toString(),g=a.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,a.previous_filename).toString():void 0;return{patch:a.patch,fileUri:l,previousFileUri:g}}))]):[e,t]=await Promise.all([this.model.gitCommits().then(n=>n.filter(a=>a.parents.length===1).map(a=>a.message)),Promise.all((await this.model.gitFiles()).map(async n=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,n.uri.fsPath),fileUri:n.uri.toString()})))]);const i=t.filter(n=>!!n);return{commitMessages:e,patches:i}}async getTitleAndDescriptionFromProvider(e,t){return an.withProgress(async()=>{try{const{commitMessages:i,patches:n}=await this.getCommitsAndPatches(),a=await this.findIssueContext(i),l=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),g=await(l==null?void 0:l.provider.provideTitleAndDescription({commitMessages:i,patches:n,issues:a},e));return l&&(this.lastGeneratedTitleAndDescription={...g,providerTitle:l.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:l==null?void 0:l.title})),g}catch(i){y.error(`Error while generating title and description: ${i}`,an.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(n=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>n(!0))})]);this.generatingCancellationToken=void 0;const i={title:void 0,description:void 0};return t!==!0&&(i.title=t==null?void 0:t.title,i.description=t==null?void 0:t.description),this._replyMessage(e,{title:i==null?void 0:i.title,description:i==null?void 0:i.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:i,patches:n}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:i,patches:n},e);return a&&a.succeeded&&a.files.length>0?Sl.ReviewedWithComments:Sl.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return an.withProgress(async()=>{await vt.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(i=>{var n;return(n=this.reviewingCancellationToken)==null?void 0:n.token.onCancellationRequested(()=>i())})]);return this.reviewingCancellationToken=void 0,await vt.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,i){let n;const a=this._folderRepositoryManager.repository.state.remotes.find(l=>{if(!l.pushUrl)return!1;const g=new cs(l.name,l.pushUrl,new wn(l.pushUrl),yr.GitHubDotCom);return g.owner.toLowerCase()===e.toLowerCase()&&g.repositoryName.toLowerCase()===t.toLowerCase()?(n=g,!0):!1});if(a&&n){y.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${i}`,an.ID);const l=await this._folderRepositoryManager.publishBranch(n,i);return l?{compareUpstream:l,repo:this._folderRepositoryManager.findRepo(eo(l.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var i,n;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((i=this.lastGeneratedTitleAndDescription.title)==null?void 0:i.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),l=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((n=this.lastGeneratedTitleAndDescription.description)==null?void 0:n.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:l.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),i=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(i===e){const n=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(n)return this.model.applyChanges(n)}else if(i!==t)return!1}return!0}async create(e){if(y.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,an.ID),!await this.checkForChanges()){y.debug("Not continuing past checking for file changes.",an.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Ec,t),an.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async i=>{vt.setContext(qi.CREATING,!0);let n=0;i.report({message:s.l10n.t("Checking for upstream branch"),increment:n});let a;try{const l=e.args.compareOwner,g=e.args.compareRepo,x=e.args.compareBranch,V=`${l}/${g}`;let ae=(await this._folderRepositoryManager.repository.getBranch(x)).upstream?this._folderRepositoryManager.findRepo(Ee=>Ee.remote.owner===l&&Ee.remote.repositoryName===g):void 0,le=ae==null?void 0:ae.remote;if(!le||le.owner!==l||le.repositoryName!==g){const Ee=s.l10n.t("Always Publish Branch"),Be=s.l10n.t("Publish Branch"),Re=s.workspace.getConfiguration(lt).get(Qe)==="always"?Be:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,l,g,x),{modal:!0},Be,Ee);if(Re===Ee&&await s.workspace.getConfiguration(lt).update(Qe,"always",s.ConfigurationTarget.Global),Re===Ee||Re===Be){i.report({message:s.l10n.t("Pushing branch"),increment:10}),n+=10;const Ce=await this.pushUpstream(l,g,x);Ce?(le=Ce.compareUpstream,ae=Ce.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",V))}}if(!le){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",l,g)),i.report({message:s.l10n.t("Pull request cancelled"),increment:100-n});return}if(!ae)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,le.remoteName));i.report({message:s.l10n.t("Creating pull request"),increment:70-n}),n+=70-n;const _e=`${ae.remote.owner}:${x}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:_e}),a?await this.postCreate(e,a):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(l){if(a)l.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",l.message));else{let g=l.message;g.startsWith("GraphQL error: ")&&(g=g.substring(15)),this._throwError(e,g)}}finally{vt.setContext(qi.CREATING,!1);let l;a?(this._onDone.fire(a),l=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),l=s.l10n.t("Unable to create pull request")),i.report({message:l,increment:100-n})}}))}async changeBranch(e,t){let i;if(t)this.model.baseBranch=e;else try{i=await this._folderRepositoryManager.repository.getBranch(e),await this.model.setCompareBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}return i=i!=null?i:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(i,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class wu extends Bp{constructor(e,t,i,n,a,l){var g,x;super(e,t,i,n,a,(x=(g=n.repository.state.HEAD)==null?void 0:g.name)!=null?x:l.base.name),this.pullRequest=l}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return jo(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;wu.withProgress(async()=>{vt.setContext(qi.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await jo(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(i){if(t)i.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",i.message));else{let n=i.message;n.startsWith("GraphQL error: ")&&(n=n.substring(15)),this._throwError(e,n)}}finally{vt.setContext(qi.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var nS=Object.defineProperty,aS=(r,e,t)=>e in r?nS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sn=(r,e,t)=>aS(r,typeof e!="symbol"?e+"":e,t);const Hp=class Nd extends v{constructor(e,t,i,n,a,l){super(),this.folderRepositoryManager=e,this.repositoryName=l,sn(this,"_baseOwner"),sn(this,"_baseBranch"),sn(this,"_compareOwner"),sn(this,"_compareBranch"),sn(this,"_constructed"),sn(this,"_onDidChange",new s.EventEmitter),sn(this,"onDidChange",this._onDidChange.event),sn(this,"_compareGitHubRepository"),sn(this,"_gitLog"),sn(this,"_gitFiles"),sn(this,"_compareHasUpstream",!1),sn(this,"_gitHubMergeBase"),sn(this,"_gitHubLog"),sn(this,"_gitHubFiles"),sn(this,"_gitHubcontentProvider"),sn(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=i,this._compareBranch=i,this._gitcontentProvider=new cb(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(g=>g.remote.owner===n&&g.remote.repositoryName===l),this._gitHubcontentProvider=new Nh(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(g=>this.setCompareBranch(a).then(g)),this.compareOwner=n,this._register(e.repository.state.onDidChange(()=>{var g;((g=e.repository.state.HEAD)==null?void 0:g.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const i=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(n=>{var a;return(a=n.fetchUrl)==null?void 0:a.toLowerCase().includes(i)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let i=!1;e&&(i=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(i=!0,e&&(this._compareBranch=e)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){const t=await this.folderRepositoryManager.repository.getBranch(e);return this._compareHasUpstream=!!t.upstream,this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return y.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,Nd.ID),i;y.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,Nd.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:i}=await this._compareGitHubRepository.ensure(),{data:n}=await t.call(t.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=n.commits,this._gitHubFiles=(e=n.files)!=null?e:[],this._gitHubMergeBase=n.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};sn(Hp,"ID","CreatePullRequestDataModel");let sS=Hp;var oS=Object.defineProperty,lS=(r,e,t)=>e in r?oS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rl=(r,e,t)=>lS(r,typeof e!="symbol"?e+"":e,t);class uS extends v{constructor(){super(),rl(this,"_currentDisposables",[]),rl(this,"_createPRViewProvider"),rl(this,"_treeView"),rl(this,"_postCreateCallback"),rl(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await vt.setContext(this._activeContext,e)}registerListeners(e,t){m(this._createPRViewProvider.onDone(async i=>{await an.withProgress(async()=>{var n;return(n=this._postCreateCallback)==null?void 0:n.call(this,i)}),this.dispose()}),this._currentDisposables),m(s.commands.registerCommand("pr.addAssigneesToNewPr",i=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addAssignees()}),this._currentDisposables),m(s.commands.registerCommand("pr.addReviewersToNewPr",i=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addReviewers()}),this._currentDisposables),m(s.commands.registerCommand("pr.addLabelsToNewPr",i=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addLabels()}),this._currentDisposables),m(s.commands.registerCommand("pr.addMilestoneToNewPr",i=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addMilestone()}),this._currentDisposables),m(s.commands.registerCommand("pr.addProjectsToNewPr",i=>{var n;return(n=this._createPRViewProvider)==null?void 0:n.addProjects()}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!0,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"merge")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"squash")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),m(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof an&&this._createPRViewProvider.review()}),this._currentDisposables),t&&m(e.state.onDidChange(i=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof an&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(i=>i.remote.owner===t.owner&&i.remote.repositoryName===t.repo))return t;{const i=await e.getOrigin(),n=await e.getMetadata(i.remote.remoteName);return{owner:n.owner.login,repo:n.name,base:n.default_branch}}}async revert(e,t,i,n,a){var l;const g=!this._createPRViewProvider||!(this._createPRViewProvider instanceof wu);if(g&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),g){(l=this._createPRViewProvider)==null||l.dispose();const x={baseOwner:n.remote.owner,repositoryName:n.remote.repositoryName};this._createPRViewProvider=m(new wu(e,x,t,i,{base:n.base.name,owner:n.remote.owner,repo:n.remote.repositoryName},n),this._currentDisposables),this.registerListeners(i.repository,!1),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,i,n,a){var l,g,x,V;const Y=!this._createPRViewProvider||!(this._createPRViewProvider instanceof an);Y&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const ae=((g=n?await i.repository.getBranch(n):void 0)!=null?g:(l=i.repository.state.HEAD)!=null&&l.name)?i.repository.state.HEAD:void 0;let le;if(Y){(x=this._createPRViewProvider)==null||x.dispose();const _e=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(ae)),Ee=await i.getOrigin(ae),Be=m(new sS(i,_e.owner,_e.base,Ee.remote.owner,(V=ae==null?void 0:ae.name)!=null?V:_e.base,Ee.remote.repositoryName),this._currentDisposables);le=this._createPRViewProvider=new an(e,Be,t,i,_e),this._treeView=m(new Lp(i,Be),this._currentDisposables),this.registerListeners(i.repository,!n),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else le=this._createPRViewProvider;le.show(ae)}reset(){this.setActiveContext(!1),k(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}class cS extends Dp{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(i=>{i.changed.forEach(n=>{this._handlePullRequestPropertyChange(e,t,{path:n.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const i=ih(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status),color:this.color(i.status),tooltip:this.tooltip(i)};const n=xr(e);if(n&&n.status!==void 0)return{propagate:!1,badge:this.letter(n.status),color:this.color(n.status),tooltip:this.tooltip(n)}}gitColors(e){switch(e){case we.MODIFY:return"gitDecoration.modifiedResourceForeground";case we.ADD:return"gitDecoration.addedResourceForeground";case we.DELETE:return"gitDecoration.deletedResourceForeground";case we.RENAME:return"gitDecoration.renamedResourceForeground";case we.UNKNOWN:return;case we.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case we.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case we.ADD:return"remoteHub.decorations.addedForegroundColor";case we.DELETE:return"remoteHub.decorations.deletedForegroundColor";case we.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case we.UNKNOWN:return;case we.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case we.MODIFY:return"M";case we.ADD:return"A";case we.DELETE:return"D";case we.RENAME:return"R";case we.UNKNOWN:return"U";case we.UNMERGED:return"C"}return""}tooltip(e){if(e.status===we.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${U.basename(e.fileName)}`}}var _u;(r=>{function e(t,i){const n=i.some(g=>t.items.some(x=>x[0]===g)),a=[],l=[];if(t.items.forEach(g=>{const x=g[0],V=g[1];x instanceof hs&&(V==s.TreeItemCheckboxState.Checked?a.push(x):l.push(x)),x.updateFromCheckboxChanged(V)}),n)for(const g of i)g instanceof hs&&!a.includes(g)&&!l.includes(g)&&(g.checkboxState.state===s.TreeItemCheckboxState.Unchecked?a.push(g):l.push(g));if(a.length>0){const g=a[0].pullRequest,x=a.map(V=>V.fileName);g.markFiles(x,!0,"viewed")}if(l.length>0){const g=l[0].pullRequest,x=l.map(V=>V.fileName);g.markFiles(x,!0,"unviewed")}}r.processCheckboxUpdates=e})(_u||(_u={}));var dS=Object.defineProperty,fS=(r,e,t)=>e in r?dS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nl=(r,e,t)=>fS(r,typeof e!="symbol"?e+"":e,t);class $p extends v{constructor(e,t){super(),this._git=e,this._reposManager=t,nl(this,"_onDidChangeTreeData",new s.EventEmitter),nl(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),nl(this,"_pullRequestManagerMap",new Map),nl(this,"_view"),nl(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${lt}.${dr}`)){this._onDidChangeTreeData.fire();const n=s.workspace.getConfiguration(lt).get(dr);await s.commands.executeCommand("setContext","fileListLayout:flat",n==="flat")}else i.affectsConfiguration(`${tr}.${Ir}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(i=>_u.processCheckboxUpdates(i,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,i,n,a){if(y.appendLine(`Adding PR #${t.number} to tree`,D),this._pullRequestManagerMap.has(e)){const g=this._pullRequestManagerMap.get(e);if(g&&g.pullRequestModel===t){y.appendLine(`PR #${t.number} already exists in tree`,D);return}else g==null||g.dispose()}const l=new Jl(this,t,e,i,a);this._pullRequestManagerMap.set(e,l),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),n&&this.reveal(l)}async setReviewModeContexts(){await vt.setContext(qi.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(i=>{const n=this._reposManager.getManagerForFile(i.rootUri);n&&!this._pullRequestManagerMap.has(n)?e.push(i.rootUri):n&&t.push(i.rootUri)}),await vt.setContext(qi.REPOS_NOT_IN_REVIEW_MODE,e),await vt.setContext(qi.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&y.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,D),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(i){y.error(i,D)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(i,n)=>{const a=i.fsPath.toLowerCase(),l=n.fsPath.toLowerCase();return ee(a,l)||ee(l,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((i,n)=>{if(i[0].repository.rootUri.toString()===n[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(g=>t(g.uri,i[0].repository.rootUri)),l=e.findIndex(g=>t(g.uri,n[0].repository.rootUri));return a===-1?1:l===-1?-1:a-l}).map(([i,n])=>n)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const i of t)this._children.push(i)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof Js&&await t.resolve(),t}}var hS=Object.defineProperty,mS=(r,e,t)=>e in r?hS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gp=(r,e,t)=>mS(r,typeof e!="symbol"?e+"":e,t);class pS extends v{constructor(e){super(),this._notificationProvider=e,Gp(this,"_onDidChangeFileDecorations",new s.EventEmitter),Gp(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._notificationProvider.onDidChangeNotifications(t=>this._onDidChangeFileDecorations.fire(t)))}provideFileDecoration(e,t){if(!e.query)return;const i=Xf(e);if(i&&this._notificationProvider.hasNotification(i.prIdentifier))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}}var vS=Object.defineProperty,gS=(r,e,t)=>e in r?vS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pn=(r,e,t)=>gS(r,typeof e!="symbol"?e+"":e,t);const Vp=60;class bS{constructor(e,t,i,n,a){pn(this,"identifier"),pn(this,"threadId"),pn(this,"repositoryName"),pn(this,"pullRequestNumber"),pn(this,"pullRequestModel"),this.identifier=e,this.threadId=t,this.repositoryName=i,this.pullRequestNumber=n,this.pullRequestModel=a}}const jp=class bo extends v{constructor(e,t,i){super(),pn(this,"_gitHubPrsTree"),pn(this,"_credentialStore"),pn(this,"_authProvider"),pn(this,"_notifications"),pn(this,"_reposManager"),pn(this,"_pollingDuration"),pn(this,"_lastModified"),pn(this,"_pollingHandler"),pn(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),pn(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=e,this._credentialStore=t,this._reposManager=i,this._notifications=new Map,this._lastModified="",this._pollingDuration=Vp,this._pollingHandler=null,this.registerAuthProvider(t);for(const n of this._reposManager.folderManagers)this._register(n.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this._register(e.onDidChangeTreeData(n=>{bo.isPRNotificationsOn()&&this.adaptPRNotifications(n)})),this._register(e.onDidChange(()=>{bo.isPRNotificationsOn()&&this.adaptPRNotifications()})),this._register(s.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(`${lt}.${jt}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return s.workspace.getConfiguration(lt).get(jt)==="pullRequests"}registerAuthProvider(e){e.isAuthenticated(Si.githubEnterprise)&&ea()?this._authProvider=Si.githubEnterprise:e.isAuthenticated(Si.github)&&(this._authProvider=Si.github),this._register(s.authentication.onDidChangeSessions(t=>{e.isAuthenticated(Si.githubEnterprise)&&ea()&&(this._authProvider=Si.githubEnterprise),e.isAuthenticated(Si.github)&&(this._authProvider=Si.github)}))}getPrIdentifier(e){if(e instanceof Yr)return`${e.remote.url}:${e.number}`;const t=e.subject.url.split("/"),i=t[t.length-1];return`${e.repository.html_url}.git:${i}`}hasNotification(e){const t=e instanceof Qr?this.getPrIdentifier(e):e,i=this._notifications.get(t);return i!==void 0&&i.length>0}updateViewBadge(){const e=this._gitHubPrsTree.view,t=s.l10n.t("1 notification"),i=s.l10n.t("{0} notifications",this._notifications.size);e.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?t:i,value:this._notifications.size}:void 0}adaptPRNotifications(e){if(this._pollingHandler===void 0&&this.startPolling(),e instanceof Wn){const t=this._notifications.get(this.getPrIdentifier(e.pullRequestModel));if(t){for(const i of t)if(i){i.pullRequestModel=e.pullRequestModel;return}}}this._gitHubPrsTree.cachedChildren().then(async t=>{let i=[];for(const n of t)if(n.id==="All Open")if(n.prs.length===0)for(const a of await n.cachedChildren())a instanceof Wn&&i.push(a.pullRequestModel);else i=n.prs;i.forEach(n=>{const a=this._notifications.get(this.getPrIdentifier(n));if(a)for(const l of a)l.pullRequestModel=n})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const e=bo.isPRNotificationsOn();e&&this._pollingHandler===null?this.startPolling():!e&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=Vp,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const e=[];for(const[t,i]of this._notifications.entries())i.length&&e.push(pc(t));return e}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const e=this.getGitHub();if(e===void 0)return;const{data:t,headers:i}=await e.octokit.call(e.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:t,headers:i}}async markNotificationThreadAsRead(e){const t=this.getGitHub();t&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:e})}async markPrNotificationsAsRead(e){const t=this.getPrIdentifier(e),i=this._notifications.get(t);if(i&&i.length){for(const a of i)await this.markNotificationThreadAsRead(a.threadId);const n=this.uriFromNotifications();this._onDidChangeNotifications.fire(n),this._notifications.delete(t),this.updateViewBadge()}}async pollForNewNotifications(){var e;const t=await this.getNotifications();if(t===void 0)return;const{data:i,headers:n}=t,a=Number(n["x-poll-interval"]);if(a!==this._pollingDuration&&(this._pollingDuration=a,this._pollingHandler&&bo.isPRNotificationsOn()&&(y.appendLine("Notifications: Clearing interval"),clearInterval(this._pollingHandler),y.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`),this.startPolling())),this._lastModified===n["last-modified"])return;this._lastModified=(e=n["last-modified"])!=null?e:"";const l=this.uriFromNotifications();this._notifications.clear();const g=new Map;this._reposManager.folderManagers.forEach(x=>{x.gitHubRepositories.forEach(V=>{g.set(V.remote.url,V)})}),await Promise.all(i.map(async x=>{var V;const Y=`${x.repository.html_url}.git`,ae=g.get(Y);if(ae&&x.subject.type==="PullRequest"){const le=x.subject.url.split("/"),_e=Number(le[le.length-1]),Ee=this.getPrIdentifier(x),{remote:Be,query:ue,schema:Re}=await ae.ensure(),{data:Ce}=await ue({query:Re.PullRequestState,variables:{owner:Be.owner,name:Be.repositoryName,number:_e}});if(Ce.repository===null&&y.error("Unexpected null repository when getting notifications",bo.ID),((V=Ce.repository)==null?void 0:V.pullRequest.state)==="OPEN"){const Ie=new bS(Ee,Number(x.id),x.repository.name,Number(_e)),He=this._notifications.get(Ee);He===void 0?this._notifications.set(Ee,[Ie]):He.push(Ie)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const x of this.uriFromNotifications())l.find(V=>V.fsPath===x.fsPath)===void 0&&l.push(x);this._onDidChangeNotifications.fire(l)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e.pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)})}};pn(jp,"ID","NotificationProvider");let yS=jp;var wS=Object.defineProperty,_S=(r,e,t)=>e in r?wS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ya=(r,e,t)=>_S(r,typeof e!="symbol"?e+"":e,t),mo=(r=>(r[r.Empty=0]="Empty",r[r.More=1]="More",r[r.TryOtherRemotes=2]="TryOtherRemotes",r[r.Login=3]="Login",r[r.LoginEnterprise=4]="LoginEnterprise",r[r.NoRemotes=5]="NoRemotes",r[r.NoMatchingRemotes=6]="NoMatchingRemotes",r[r.ConfigureRemotes=7]="ConfigureRemotes",r))(mo||{});class za extends Jr{constructor(e,t,i){switch(super(e),ya(this,"collapsibleState"),ya(this,"iconPath"),ya(this,"type"),ya(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}class ku extends Jr{constructor(e,t,i,n,a,l,g,x){var V;switch(super(e),this._folderRepoManager=t,this._telemetry=i,this.type=n,this._notificationProvider=a,this._prsTreeModel=l,this._categoryQuery=x,ya(this,"collapsibleState"),ya(this,"prs"),ya(this,"fetchNextPage",!1),ya(this,"repositoryPageInformation",new Map),ya(this,"contextValue"),ya(this,"_firstLoad"),this.prs=[],this.type){case Yi.All:this.label=s.l10n.t("All Open");break;case Yi.Query:this.label=g;break;case Yi.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof Jr?`${(V=e.id)!=null?V:e.label}/${this.label}`:this.label,this._prsTreeModel.expandedQueries.size===0&&this.type===Yi.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=this._prsTreeModel.expandedQueries.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query")}async addNewQuery(e,t,i){const n=s.window.createInputBox();n.title=s.l10n.t("Enter the title of the new query"),n.placeholder=s.l10n.t("Title"),n.step=1,n.totalSteps=2,n.show();let a;n.onDidAccept(async()=>{if(n.validationMessage="",n.step===1){if(!n.value){n.validationMessage=s.l10n.t("Title is required");return}a=n.value,n.value=i,n.title=s.l10n.t("Enter the GitHub search query"),n.step++}else{if(!n.value){n.validationMessage=s.l10n.t("Query is required");return}if(n.busy=!0,n.value&&a)if(t!=null&&t.workspaceValue)t.workspaceValue.push({label:a,query:n.value}),await e.update(ut,t.workspaceValue,s.ConfigurationTarget.Workspace);else{const l=e.get(ut);l==null||l.push({label:a,query:n.value}),await e.update(ut,l,s.ConfigurationTarget.Global)}n.dispose()}}),n.onDidHide(()=>n.dispose())}updateQuery(e,t){for(const i of e)if(i.label===t.label){i.query=t.query;return}}async openSettings(e,t){let i;if(t!=null&&t.workspaceValue)i="workbench.action.openWorkspaceSettingsFile";else{const a=e.get(ut);t!=null&&t.defaultValue&&JSON.stringify(t==null?void 0:t.defaultValue)===JSON.stringify(a)&&await e.update(ut,t.defaultValue,s.ConfigurationTarget.Global),i="workbench.action.openSettingsJson"}await s.commands.executeCommand(i);const n=s.window.activeTextEditor;if(n){const l=n.document.getText().search(this.label);if(l>=0){const g=n.document.positionAt(l);n.revealRange(new s.Range(g,g)),n.selection=new s.Selection(g,g)}}}async expandPullRequest(e,t=!0){if(!this.children&&t&&(await this.getChildren(),t=!1),this.children){for(const i of this.children)if(i instanceof Wn&&i.pullRequestModel.equals(e))return this.reveal(i,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async editQuery(){var e,t;const i=s.workspace.getConfiguration(lt),n=i.inspect(ut),a=s.window.createQuickPick();a.title=s.l10n.t('Edit Pull Request Query "{0}"',(e=this.label)!=null?e:""),a.value=(t=this._categoryQuery)!=null?t:"",a.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0}],a.activeItems=[],a.selectedItems=[],a.onDidAccept(async()=>{var l;if(a.busy=!0,a.selectedItems[0]===a.items[0]){const g=a.value;if(g!==this._categoryQuery&&this.label)if(n!=null&&n.workspaceValue)this.updateQuery(n.workspaceValue,{label:this.label,query:g}),await i.update(ut,n.workspaceValue,s.ConfigurationTarget.Workspace);else{const x=(l=i.get(ut))!=null?l:n.defaultValue;this.updateQuery(x,{label:this.label,query:g}),await i.update(ut,x,s.ConfigurationTarget.Global)}}else a.selectedItems[0]===a.items[1]?this.addNewQuery(i,n,a.value):a.selectedItems[0]===a.items[2]&&this.openSettings(i,n);a.dispose()}),a.onDidHide(()=>a.dispose()),a.show()}async getChildren(){await super.getChildren();const e=!this._firstLoad;return e&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):e?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,i=!1;const n=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===Yi.LocalPullRequest)try{this.prs=(await this._prsTreeModel.getLocalPullRequests(this._folderRepoManager)).items}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",pe(a))),i=a instanceof dn}else try{let a;switch(this.type){case Yi.All:a=await this._prsTreeModel.getAllPullRequests(this._folderRepoManager,n);break;case Yi.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this._folderRepoManager,n,this._categoryQuery);break}n?this.prs=this.prs.concat(a.items):this.prs=a.items,e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){const l=pe(a),g=[];l.includes("Bad credentials")&&g.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",pe(a)),...g).then(x=>{x&&x===g[0]&&this._folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),i=a instanceof dn}if(this.prs&&this.prs.length){const a=this.prs.map(l=>new Wn(this,this._folderRepoManager,l,this.type===Yi.LocalPullRequest,this._notificationProvider));return e?a.push(new za(this,1,this)):t&&a.push(new za(this,2,this)),this.children=a,a}else{const a=i?3:0,l=[new za(this,a)];return this.children=l,l}}getTreeItem(){return this}}var kS=Object.defineProperty,SS=(r,e,t)=>e in r?kS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,na=(r,e,t)=>SS(r,typeof e!="symbol"?e+"":e,t);const zp="expandedQueries";var Wa=(r=>(r[r.None=0]="None",r[r.ReviewRequired=1]="ReviewRequired",r[r.ChangesRequested=2]="ChangesRequested",r[r.CIFailed=4]="CIFailed",r[r.CIPending=8]="CIPending",r))(Wa||{});class RS extends v{constructor(e,t,i){super(),this._telemetry=e,this._reposManager=t,this._context=i,na(this,"_activePRDisposables",new Map),na(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),na(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),na(this,"_onDidChangeData",this._register(new s.EventEmitter)),na(this,"onDidChangeData",this._onDidChangeData.event),na(this,"_expandedQueries",new Set),na(this,"_hasLoaded",!1),na(this,"_onLoaded",this._register(new s.EventEmitter)),na(this,"onLoaded",this._onLoaded.event),na(this,"_queriedPullRequests",new Map),na(this,"_cachedPRs",new Map);const n=a=>{this._register(a.onDidChangeActivePullRequest(()=>{this.clearRepo(a),this._activePRDisposables.has(a)&&(k(this._activePRDisposables.get(a)),this._activePRDisposables.delete(a)),a.activePullRequest&&this._activePRDisposables.set(a,[a.activePullRequest.onDidChangeComments(()=>{this.clearRepo(a)})])}))};for(const a of this._reposManager.folderManagers)n(a);this._register(this._reposManager.onDidChangeFolderRepositories(a=>{a.added&&(n(a.added),this._onDidChangeData.fire(a.added))})),this._expandedQueries=new Set(this._context.workspaceState.get(zp,[]))}updateExpandedQueries(e,t){e instanceof ku&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(zp,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}clearCache(){this._cachedPRs.clear(),this._onDidChangeData.fire()}clearRepo(e){this._cachedPRs.delete(e),this._onDidChangeData.fire(e)}async _getChecks(e){let t=[];for(let n=0;n<e.length;n+=100){const a=n+100<e.length?n+100:e.length;t.push(...await Promise.all(e.slice(n,a).map(l=>l.getStatusChecks())))}const i=[];for(let n=0;n<e.length;n++){const a=e[n],[l,g]=t[n];let x=0;if(g&&(g.state===je.Failure?x|=1:g.state==je.Pending&&(x|=2)),!l||l.state===je.Unknown)continue;if(l.state!==je.Success){for(const ae of l.statuses)ae.state===je.Failure?x|=4:ae.state===je.Pending&&(x|=8);x===0&&(x|=8)}const V=rh(a),Y=this._queriedPullRequests.get(V);if(Y===void 0||Y.status!==x){const ae={pullRequest:a,status:x};i.push(V),this._queriedPullRequests.set(V,ae)}}this._onDidChangePrStatus.fire(i)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const i=this.getFolderCache(e);if(!t&&i.has(Yi.LocalPullRequest))return i.get(Yi.LocalPullRequest);const n=fh(),a=(await e.getLocalPullRequests()).filter(l=>l.isOpen||l.isClosed&&n.closed||l.isMerged&&n.merged);return i.set(Yi.LocalPullRequest,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async getPullRequestsForQuery(e,t,i){const n=this.getFolderCache(e);if(!t&&n.has(i))return n.get(i);const a=await e.getPullRequests(Yi.Query,{fetchNextPage:t},i);return n.set(i,a),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(a.items),this.hasLoaded=!0,a}async getAllPullRequests(e,t,i){const n=this.getFolderCache(e);if(!i&&n.has(Yi.All)&&!t)return n.get(Yi.All);const a=await e.getPullRequests(Yi.All,{fetchNextPage:t});return n.set(Yi.All,a),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(a.items),this.hasLoaded=!0,a}dispose(){super.dispose(),k(Array.from(this._activePRDisposables.values()).flat())}}var ES=Object.defineProperty,TS=(r,e,t)=>e in r?ES(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wp=(r,e,t)=>TS(r,typeof e!="symbol"?e+"":e,t);class CS extends v{constructor(e){super(),this._prsTreeModel=e,Wp(this,"_onDidChangeFileDecorations",new s.EventEmitter),Wp(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(t=>{this._onDidChangeFileDecorations.fire(t.map(i=>pc(i)))}))}provideFileDecoration(e,t){if(e.scheme!==ii.PRNode)return;const i=Xf(e);if(!i)return;const n=this._prsTreeModel.cachedPRStatus(i.prIdentifier);if(n)return this._getDecoration(n.status)}_getDecoration(e){if(e&Wa.CIFailed&&e&Wa.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(e&Wa.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(e&Wa.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(e&Wa.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(e&Wa.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(e===Wa.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}}var NS=Object.defineProperty,MS=(r,e,t)=>e in r?NS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Sd=(r,e,t)=>MS(r,typeof e!="symbol"?e+"":e,t);class gs extends Jr{constructor(e,t,i,n,a,l,g){super(e),this.folderManager=i,this.telemetry=n,this.notificationProvider=a,this.context=l,this._prsTreeModel=g,Sd(this,"children"),Sd(this,"collapsibleState"),Sd(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=U.basename(t.fsPath),this.id=i.repository.rootUri.toString()}async expandPullRequest(e){if(this.children){for(const t of this.children)if(t.type===Yi.All)return t.expandPullRequest(e)}return!1}static getQueries(e){return s.workspace.getConfiguration(lt,e.repository.rootUri).get(ut)||[]}getTreeItem(){return this}async getChildren(){return super.getChildren(),this.children=gs.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this.children}static getCategoryTreeNodes(e,t,i,n,a,l){const g=gs.getQueries(e).map(x=>new ku(i,e,t,Yi.Query,n,l,x.label,x.query));return[new ku(i,e,t,Yi.LocalPullRequest,n,l),...g,new ku(i,e,t,Yi.All,n,l)]}}var PS=Object.defineProperty,AS=(r,e,t)=>e in r?PS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ka=(r,e,t)=>AS(r,typeof e!="symbol"?e+"":e,t);class Kp extends v{constructor(e,t,i){super(),this._telemetry=e,this._context=t,this._reposManager=i,Ka(this,"_onDidChangeTreeData",new s.EventEmitter),Ka(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ka(this,"_onDidChange",new s.EventEmitter),Ka(this,"_children"),Ka(this,"_view"),Ka(this,"_initialized",!1),Ka(this,"notificationProvider"),Ka(this,"prsTreeModel"),this.prsTreeModel=this._register(new RS(this._telemetry,this._reposManager,t)),this._register(this.prsTreeModel.onDidChangeData(n=>n?this.refreshRepo(n):this.refresh())),this._register(new CS(this.prsTreeModel)),this._register(s.commands.registerCommand("pr.refreshList",n=>{this.refresh(void 0,!0)})),this._register(s.commands.registerCommand("pr.loadMore",n=>{n.fetchNextPage=!0,this._onDidChangeTreeData.fire(n)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ks} queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${Ks} remotes`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(`${lt}.${dr}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(n=>_u.processCheckboxUpdates(n,[]))),this._register(this._view.onDidExpandElement(n=>{this.prsTreeModel.updateExpandedQueries(n.element,!0)})),this._register(this._view.onDidCollapseElement(n=>{this.prsTreeModel.updateExpandedQueries(n.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof gs){if(await t.expandPullRequest(e))return}else if(t.type===Yi.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refresh()}));for(const i of e)this._register(i.onDidChangeLocalFileChanges(n=>{this.refresh()}));this.notificationProvider=this._register(new yS(this,t,this._reposManager)),this.initializeCategories(),this.refresh()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${lt}.${ut}`)&&this.refresh()}))}refresh(e,t){return t&&this.prsTreeModel.clearCache(),e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}refreshRepo(e){if(this._children.length===0)return this.refresh();if(this._children[0]instanceof gs){const i=this._children.find(n=>n.folderManager===e);if(i){this._onDidChangeTreeData.fire(i);return}}}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){return t instanceof wc&&await t.resolve(),t}async needsRemotes(){var e,t,i;if(((e=this._reposManager)==null?void 0:e.state)===ha.NeedsAuthentication)return[];const n=s.workspace.getConfiguration(lt).get(Di);let a;n?a=[new za(this,mo.NoMatchingRemotes),new za(this,mo.ConfigureRemotes)]:a=[new za(this,mo.NoRemotes)];const{enterpriseRemotes:l}=this._reposManager?await zf((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return l.length>0&&!((i=this._reposManager)!=null&&i.credentialStore.isAuthenticated(Si.githubEnterprise))&&a.push(new za(this,mo.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===ha.Initializing)return vt.setContext(qi.LOADING_PRS_TREE,!0),[];const i=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,l)=>i[l].length>0).length===0)return this.needsRemotes();const n=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(l=>l.dispose());let a;return n.length===1?a=gs.getCategoryTreeNodes(n[0],this._telemetry,this,this.notificationProvider,this._context,this.prsTreeModel):a=n.map(l=>new gs(this,l.repository.rootUri,l,this._telemetry,this.notificationProvider,this._context,this.prsTreeModel)),this._children=a,a}return n.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new za(this,mo.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var xS=Object.defineProperty,IS=(r,e,t)=>e in r?xS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qp=(r,e,t)=>IS(r,typeof e!="symbol"?e+"":e,t);const Yp=class al extends Dh{constructor(e,t,i){super(e,t),this.getReviewManagers=i,Qp(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const i of this.getReviewManagers()){const n=t(i);for(const a of n)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),sc(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:i,commit:n,rootPath:a}=ta(e.query);if(!i||!n)return new TextEncoder().encode("");const l=await this.getRepositoryForFile(s.Uri.file(a));if(!l)return s.window.showErrorMessage(`We couldn't find an open repository for ${n} locally.`),new TextEncoder().encode("");const g=U.join(l.rootUri.fsPath,i).replace(/\\/g,"/");let x;try{if(y.appendLine(`Getting change model (${l.rootUri}) content for commit ${n} and path ${g}`,al.ID),x=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),x||(y.appendLine(`Getting repository (${l.rootUri}) content for commit ${n} and path ${g}`,al.ID),x=await l.show(n,g)),!x)throw new Error}catch{if(y.appendLine("Using fallback content provider.",al.ID),x=await this._fallback(e),!x)try{await l.getCommit(n)}catch(Y){y.error(Y,al.ID),this.getOutdatedChangeModelForFile(e)||s.window.showErrorMessage(`We couldn't find commit ${n} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(x||"")}registerTextDocumentContentFallback(e){this._fallback=e}};Qp(Yp,"ID","GitContentFileSystemProvider");let DS=Yp;var FS=Object.defineProperty,OS=(r,e,t)=>e in r?FS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LS=(r,e,t)=>OS(r,typeof e!="symbol"?e+"":e,t);class Jp extends v{constructor(e,t,i,n,a,l,g,x){super(),this._context=e,this._reposManager=t,this._reviewManagers=i,this._prsTreeDataProvider=n,this._prFileChangesProvider=a,this._telemetry=l,this._credentialStore=g,this._gitApi=x;const V=new DS(x,g,()=>this._reviewManagers);V.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider(ii.Review,V,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new $p(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new Kp(this._telemetry,this._context,this._reposManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._credentialStore)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(ee(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(n=>n.uri.toString()===e.repository.rootUri.toString());if(i>-1){const n=this._reviewManagers.slice(i,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,i),this._reviewManagers.push(e),this._reviewManagers.push(...n);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const i=this._reviewManagers[t];this._reviewManagers.splice(t),i.dispose()}}}LS(Jp,"ID","Reviews");var US=Object.defineProperty,BS=(r,e,t)=>e in r?US(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Su=(r,e,t)=>BS(r,typeof e!="symbol"?e+"":e,t);class qS extends nf{constructor(e,t,i,n){super(e),this._folderRepositoryManager=t,this._reviewManager=i,this._item=n,Su(this,"viewType","github:activePullRequest"),Su(this,"_existingReviewers",[]),Su(this,"_prDisposables"),Su(this,"_updatePendingVisibility"),this._register(Uh(a=>{a&&this._item.update(a),this._postMessage({command:"update-state",state:this._item.state})})),this._register(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:Hi.Merged})})),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>pa(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>pa(this._item,this._item._telemetry)))}resolveWebviewView(e,t,i){super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=$e.Unknown,n=5;do i=(await this._item.getMergeability()).mergeability,n--,await new Promise(l=>setTimeout(l,1e3));while(n>0&&i===$e.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refresh(),this._replyMessage(e,a)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return pa(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var t;try{const i=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),n=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(i),n&&await this._folderRepositoryManager.cleanupAfterPullRequest(n,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let t;const i=[],n=[];for(const a of this._existingReviewers){let l,g;a&&Ft(a.reviewer)?(l=a.reviewer.id,g=n):a&&!Ft(a.reviewer)&&(l=a.reviewer.id,g=i),g&&l&&(a.state==="REQUESTED"||l===e.args)&&(g.push(l),l===e.args&&(t=a))}this._item.requestReview(i,n).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){const i=e.find(n=>yt(n.reviewer)===t.login);return i==null?void 0:i.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&k(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidInvalidate(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;return this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var i;this.updatePullRequest(e),(i=this._updatePendingVisibility)==null||i.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode()]).then(i=>{var n,a;const[l,g,x,V,Y,ae,le,_e,Ee]=i;if(!l)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=l,!this._view)return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const Be=e.equals(this._folderRepositoryManager.activePullRequest),ue=g.hasWritePermission,Re=g.mergeMethodsAvailability,Ce=ue||_e,Ie=Rl(Re);this._existingReviewers=$f(V!=null?V:[],x!=null?x:[],l.author);const Ke=!!(l.base&&l.head&&!l.base.repositoryCloneUrl.equals(l.head.repositoryCloneUrl)&&Al()),ot=this.getCurrentUserReviewState(this._existingReviewers,le),ft={number:l.number,title:l.title,url:l.html_url,createdAt:l.createdAt,body:l.body,bodyHTML:l.bodyHTML,labels:l.item.labels,author:{login:l.author.login,name:l.author.name,avatarUrl:l.userAvatar,url:l.author.url,email:l.author.email,id:l.author.id},state:l.state,isCurrentlyCheckedOut:Be,isRemoteBaseDeleted:l.isRemoteBaseDeleted,base:l.base.label,isRemoteHeadDeleted:l.isRemoteHeadDeleted,isLocalHeadDeleted:!Y,head:(a=(n=l.head)==null?void 0:n.label)!=null?a:"",canEdit:Ce,hasWritePermission:ue,mergeable:l.item.mergeable,isDraft:l.isDraft,status:null,reviewRequirement:null,canUpdateBranch:l.item.viewerCanUpdate,events:x,mergeMethodsAvailability:Re,defaultMergeMethod:Ie,repositoryDefaultBranch:ae,isIssue:!1,isAuthor:le.login===l.author.login,reviewers:this._existingReviewers,continueOnGitHub:Ke,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:l.githubRepository.remote.isEnterprise,hasReviewDraft:Ee,currentUserReviewState:ot};this._postMessage({command:"pr.initialize",pullrequest:ft})}).catch(i=>{s.window.showErrorMessage(pe(i))})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===yt(i.reviewer));t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const n={command:"pr.submitting-review",lastReviewType:t};this._postMessage(n);try{const a=await i(e.body);this.updateReviewers(a);const l={command:"pr.append-review",review:a,reviewers:this._existingReviewers};await this._postMessage(l)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",pe(a))),this._throwError(void 0,`${pe(a)}`),this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i),this._replyMessage(e,{review:i,reviewers:this._existingReviewers})}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",pe(i))),this._throwError(e,`${pe(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,os.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,os.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(ir.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,os.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await kl.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(s.l10n.t("Unable to set PR ready for review. {0}",pe(t))),this._throwError(e,{})})}async mergePullRequest(e){const{title:t,description:i,method:n}=e.args,a=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},a)!==a){this._replyMessage(e,{state:Hi.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,t,i,n).then(g=>{var x;s.commands.executeCommand("pr.refreshList"),g.merged||s.window.showErrorMessage(s.l10n.t("Merging PR failed: {0}",(x=g==null?void 0:g.message)!=null?x:"")),this._replyMessage(e,{state:g.merged?Hi.Merged:Hi.Open})}).catch(g=>{s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",pe(g))),this._throwError(e,{})})}_getHtmlForWebview(){const e=Xu(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var HS=Object.defineProperty,$S=(r,e,t)=>e in r?HS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rd=(r,e,t)=>$S(r,typeof e!="symbol"?e+"":e,t);class GS extends v{constructor(e){super(),this._context=e,Rd(this,"_webviewViewProvider"),Rd(this,"_pullRequestModel",new Map),Rd(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){k(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,i){this._webviewViewProvider=m(new qS(this._context.extensionUri,t,i,e),this._currentDisposables),m(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),m(s.commands.registerCommand("pr.refreshActivePullRequest",n=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,i,n){n&&this._pullRequestModel.delete(n),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:i}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:i}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,i)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const VS="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let on;async function jS(r,e,t,i,n,a,l,g,x){r.subscriptions.push(y),y.appendLine("Git repository found, initializing review manager and pr tree view."),r.subscriptions.push(t.onDidChangeSessions(async Ie=>{Ie.provider.id==="github"&&(await g.clearCredentialCache(),Be&&Be.reviewManagers.forEach(He=>He.updateState(!0)))})),r.subscriptions.push(e.onDidPublish(async Ie=>{if(!Ie.branch||s.workspace.getConfiguration(lt).get(Jt)!=="ask")return;const He=Be.reviewManagers.find(Ui=>Ui.repository.rootUri.toString()===Ie.repository.rootUri.toString());if(He!=null&&He.isCreatingPullRequest)return;const Ke=g.folderManagers.find(Ui=>Ui.repository.rootUri.toString()===Ie.repository.rootUri.toString());if(!Ke||Ke.gitHubRepositories.length===0||(await Ke.getPullRequestDefaults()).base===Ie.branch)return;const ft=s.l10n.t("Create Pull Request..."),Lt=s.l10n.t("Don't Show Again"),At=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",Ie.branch),ft,Lt);At===ft?He==null||He.createPullRequest(Ie.branch):At===Lt&&await s.workspace.getConfiguration(lt).update(Jt,"never",s.ConfigurationTarget.Global)})),r.subscriptions.push(s.window.registerUriHandler(P0));const V=s.workspace.workspaceFolders;V&&(i=i.sort((Ie,He)=>{let Ke=V.length,ot=V.length;for(let ft=0;ft<V.length&&(V[ft].uri.toString()===Ie.rootUri.toString()?Ke=ft:V[ft].uri.toString()===He.rootUri.toString()&&(ot=ft),!(Ke!==V.length&&ot!==V.length));ft++);return Ke-ot})),a.then(Ie=>{Ie&&Ie.registerContactServiceProvider("github-pr",new E_(g))});const Y=new $p(e,g);r.subscriptions.push(Y);const ae=new GS(r);r.subscriptions.push(ae);let le=0;const _e=g.folderManagers.map(Ie=>new xn(le++,r,Ie.repository,Ie,on,Y,n,l,ae,x,e)),Ee=new Wk(g);r.subscriptions.push(Ee),Ee.registerProviders([new cS,new Kk(g)]);const Be=new Jp(r,g,_e,n,Y,on,t,e);r.subscriptions.push(Be),e.onDidChangeState(()=>{y.appendLine(`Git initialization state changed: state=${e.state}`),Be.reviewManagers.forEach(Ie=>Ie.updateState(!0))}),e.onDidOpenRepository(Ie=>{function He(){if(g.folderManagers.find(At=>At.repository.rootUri.toString()===Ie.rootUri.toString())){y.appendLine(`Repo ${Ie.rootUri} has already been setup.`);return}const ft=new Zs(g.folderManagers.length,r,Ie,on,e,t,x);g.insertFolderManager(ft);const Lt=new xn(le++,r,ft.repository,ft,on,Y,n,l,ae,x,e);Be.addReviewManager(Lt)}He(),n.notificationProvider.refreshOrLaunchPolling();const Ke=Ie.state.onDidChange(()=>{y.appendLine(`Repo state for ${Ie.rootUri} changed.`),He(),Ke.dispose()})}),e.onDidCloseRepository(Ie=>{g.removeRepo(Ie),Be.removeReviewManager(Ie),n.notificationProvider.refreshOrLaunchPolling()}),n.initialize(Be.reviewManagers.map(Ie=>Ie.reviewModel),t),r.subscriptions.push(new pS(n.notificationProvider)),oy(r,g,Be,on,n);const ue=s.workspace.getConfiguration(lt).get(dr);await s.commands.executeCommand("setContext","fileListLayout:flat",ue==="flat");const Re=new J1(e,g,Be,r,on);if(r.subscriptions.push(Re),await Re.initialize(),s.workspace.getConfiguration(lt).get(Lr,!1)){const Ie=new Vk(t,g,on);r.subscriptions.push(Ie)}r.subscriptions.push(new M_),await s.commands.executeCommand("setContext","github:initialized",!0),QS(g,e),zS(r,t,g),Lp.closeTabs(),on.sendTelemetryEvent("startup")}function zS(r,e,t){const i=()=>{const a=new ik;r.subscriptions.push(new rk(r,a)),Ek(r,e,t,a)},n=()=>s.workspace.getConfiguration(lt).get(Nr,!1);if(n())i();else{const a=s.workspace.onDidChangeConfiguration(l=>{l.affectsConfiguration(`${lt}.${Nr}`)&&n()&&(a.dispose(),i())});r.subscriptions.push(a)}}async function WS(r){var e;if(y.appendLine(`Extension version: ${(e=s.extensions.getExtension(Ks))==null?void 0:e.packageJSON.version}`,"Activation"),Ks==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new $b;s.commands.registerCommand("github.api.preloadPullRequest",async n=>{await s.commands.executeCommand("setContext",Qs,!0),await vt.focusView("github:activePullRequest:welcome"),t.shouldShow=n}),await KS(r),Pn.initialize(r),y.debug("Creating API implementation.","Activation");const i=new Rt;return on=new fy(new c(VS)),r.subscriptions.push(on),await JS(r,i,t),i}async function KS(r){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(tr,null).get(Ir,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(tr,null).get(Zr,!0)]];for(const[t,i]of e)vt.setContext(t,i()),r.subscriptions.push(s.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(`${tr}.${t}`)&&vt.setContext(t,i())}))}async function Xp(r,e,t){const i=await k_(e,t);return i?(r.subscriptions.push(i),!0):!1}function QS(r,e){const t="GitPostCommitCommands";class i{getCommands(g){y.debug(`Looking for remote. Comparing ${g.state.remotes.length} local repo remotes with ${r.folderManagers.reduce((Y,ae)=>Y+ae.gitHubRepositories.length,0)} GitHub repositories.`,t);const x=Na(g),V=r.folderManagers.find(Y=>Y.findRepo(ae=>!!x.find(le=>le.equals(ae.remote))));return y.debug(`Found ${V?"a repo":"no repos"} when getting post commit commands.`,t),V?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function n(){return r.folderManagers.some(l=>l.gitHubRepositories.length>0)}function a(){return y.debug("Trying to register post commit commands.","GitPostCommitCommands"),n()?(y.debug("GitHub remote(s) found, registering post commit commands.",t),e.registerPostCommitCommandsProvider(new i),!0):!1}if(!a()){const l=r.onDidLoadAnyRepositories(()=>{a()&&l.dispose()})}}async function YS(r,e,t){if(y.debug("Registering built in git provider.","Activation"),!await Xp(r,t,e)){const i=s.extensions.onDidChange(async()=>{await Xp(r,t,e)&&i.dispose()});r.subscriptions.push(i)}}async function JS(r,e,t){y.debug("Initializing state.","Activation"),uy(r),await Pk(r),Dl.init(r),y.debug("Creating credential store.","Activation");const i=new t_(on,r);r.subscriptions.push(i);const n=await py(r,on);await n.initializePromise,await n.isCachedFlightEnabled("githubaa");const a=s.env.appHost==="desktop";await i.create(a?void 0:{silent:!0}),YS(r,e,i),y.debug("Registering live share git provider.","Activation");const l=__(e);r.subscriptions.push(l);const g=l.initialize();r.subscriptions.push(e),y.debug("Creating tree view.","Activation");const x=new xm(i,on);r.subscriptions.push(x);const V=new Kp(on,r,x);r.subscriptions.push(V),r.subscriptions.push(i.onDidGetSession(()=>V.refresh(void 0,!0))),y.appendLine("Looking for git repository");const Y=e.repositories;y.appendLine(`Found ${Y.length} repositories during activation`);const ae=new uS;r.subscriptions.push(ae);let le=0;const _e=Y.map(ue=>new Zs(le++,r,ue,on,e,i,ae));r.subscriptions.push(..._e);for(const ue of _e)x.insertFolderManager(ue);const Ee=Mc({reposManager:x,gitAPI:e,credentialStore:i}),Be=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));Be.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},r.subscriptions.push(s.workspace.registerFileSystemProvider(ii.Pr,Ee,{isReadonly:Be})),await jS(r,e,i,Y,V,g,t,x,ae)}async function XS(){on&&on.dispose()}})(),module.exports=Nu})();
